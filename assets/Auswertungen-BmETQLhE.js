import{j as e}from"./animation-1wuIdCBS.js";import{r as s}from"./vendor-router-BhMXg4Z-.js";import{a}from"./index-DUnH23_2.js";/* empty css                     */import{R as i,h as l,C as c,X as t,Y as r,T as n,a as d,g as h,P as m,c as o,d as j,B as x,b as u,f as p}from"./charts-CuVbSI8O.js";import"./vendor-react-DtuzQOD1.js";import"./query-Bs1dTGah.js";import"./icons-D7rg4pDH.js";function v(){var v,g;const[N,b]=s.useState(null),[k,y]=s.useState(null),[f,w]=s.useState(!0),[A,M]=s.useState(""),[z,K]=s.useState("breakeven"),[V,S]=s.useState(null),[D,E]=s.useState({fixkosten:{},variableKosten:{},durchschnittsbeitrag:85}),[B,P]=s.useState("monthly"),[F,_]=s.useState("monat"),[G,J]=s.useState(null),[C,W]=s.useState(null),[T,$]=s.useState(null),L=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"];s.useEffect(()=>{R(),q(),I(),U(),Z()},[B]);const R=async()=>{try{w(!0);const e=(await a.get("/auswertungen/complete")).data;if(!e.success)throw new Error(e.error||"Fehler beim Laden der Auswertungen");b(e.data)}catch(e){console.error("Fehler beim Laden der Auswertungen:",e),M("Fehler beim Laden der Auswertungen: "+e.message)}finally{w(!1)}},q=async()=>{try{const s=(await a.get("/auswertungen/kostenvorlagen")).data;if(s.success){y(s.data);try{const e=(await a.get("/auswertungen/break-even/latest")).data;e.success&&e.data?E({fixkosten:e.data.fixkosten,variableKosten:e.data.variableKosten,durchschnittsbeitrag:e.data.durchschnittsbeitrag}):E({fixkosten:Object.keys(s.data.fixkosten).reduce((e,s)=>({...e,[s]:0}),{}),variableKosten:Object.keys(s.data.variableKosten).reduce((e,s)=>({...e,[s]:0}),{}),durchschnittsbeitrag:s.data.durchschnittsbeitrag})}catch(e){console.error("Fehler beim Laden der letzten Berechnung:",e),E({fixkosten:Object.keys(s.data.fixkosten).reduce((e,s)=>({...e,[s]:0}),{}),variableKosten:Object.keys(s.data.variableKosten).reduce((e,s)=>({...e,[s]:0}),{}),durchschnittsbeitrag:s.data.durchschnittsbeitrag})}}}catch(s){console.error("Fehler beim Laden der Kostenvorlagen:",s)}},O=e=>new Intl.NumberFormat("de-DE").format(e||0),Q=e=>new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(e||0),I=async()=>{try{const e=(await a.get(`/auswertungen/member-analytics?period=${B}`)).data;e.success&&J(e.data)}catch(e){console.error("Fehler beim Laden der Mitgliederanalysen:",e),J({"zug√§nge":[],"k√ºndigungen":[],ruhepausen:[],wachstumPrognose:{aktuell:0,prognose3Monate:0,prognose6Monate:0,prognose12Monate:0,wachstumsrate:0}})}},U=async()=>{try{const e=(await a.get("/auswertungen/beitragsvergleich")).data;e.success&&W(e.data)}catch(e){console.error("Fehler beim Laden des Beitragsvergleichs:",e),W({niedrigeBeitraege:[],tarife:[],zusammenfassung:{gesamt:0,potential:0,niedrigsterTarif:0,durchschnittlicheErhoehung:0}})}},Z=async()=>{try{const e=await a.get("/stile/auswertungen/guertel-uebersicht");e.data.success&&$(e.data)}catch(e){console.error("Fehler beim Laden der G√ºrtel-Daten:",e),$({stile:[],summary:{total_stile:0,total_guertel:0,total_mitglieder:0}})}};return f?e.jsx("div",{className:"auswertungen-container",children:e.jsxs("div",{className:"loading-spinner",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Auswertungen werden generiert..."})]})}):A?e.jsx("div",{className:"auswertungen-container",children:e.jsxs("div",{className:"error-message",children:[e.jsx("h3",{children:"‚ùå Fehler"}),e.jsx("p",{children:A}),e.jsx("button",{onClick:R,className:"retry-button",children:"Erneut versuchen"})]})}):N?e.jsxs("div",{className:"auswertungen-container",children:[e.jsx("div",{className:"auswertungen-header",children:e.jsxs("div",{className:"header-content",children:[e.jsx("h1",{children:"üìä Dojo Auswertungen"}),e.jsxs("p",{children:["Generiert am ",new Date(N.generatedAt).toLocaleString("de-DE")]})]})}),e.jsx("div",{className:"tab-navigation",children:[{id:"breakeven",label:"Break-Even Analyse",icon:"üí°"},{id:"overview",label:"√úbersicht",icon:"üìä"},{id:"financial",label:"Finanzen",icon:"üí∞"},{id:"members",label:"Mitglieder",icon:"üë•"},{id:"belts",label:"G√ºrtel",icon:"ü•ã"},{id:"performance",label:"Performance",icon:"üìà"},{id:"forecasting",label:"Prognosen",icon:"üîÆ"}].map(s=>e.jsxs("button",{className:"tab-button "+(z===s.id?"active":""),onClick:()=>K(s.id),children:[e.jsx("span",{className:"tab-icon",children:s.icon}),e.jsx("span",{className:"tab-label",children:s.label})]},s.id))}),e.jsxs("div",{className:"tab-content",children:["breakeven"===z&&e.jsx("div",{className:"tab-panel",children:e.jsxs("div",{className:"break-even-container",children:[e.jsx("div",{className:"section-header-break-even",children:e.jsxs("div",{children:[e.jsx("h2",{children:"üßÆ Break-Even-Analyse"}),e.jsx("p",{children:"Ermitteln Sie den Break-Even-Punkt Ihres Dojos und planen Sie strategisch"})]})}),e.jsxs("form",{onSubmit:e=>{e.preventDefault(),(async()=>{try{const e=(await a.post("/auswertungen/break-even",D)).data;e.success&&S(e.data)}catch(e){console.error("Fehler bei Break-Even-Berechnung:",e)}})()},className:"break-even-form",children:[e.jsxs("div",{className:"break-even-input-grid",children:[e.jsxs("div",{className:"cost-card",children:[e.jsxs("div",{className:"cost-card-header",children:[e.jsx("h3",{children:"üí∞ Fixkosten"}),e.jsx("span",{className:"subtitle",children:"Monatliche Fixkosten"})]}),e.jsx("div",{className:"cost-inputs",children:k&&Object.entries(k.fixkosten).map(([s,a])=>e.jsxs("div",{className:"input-row",children:[e.jsx("label",{children:s.charAt(0).toUpperCase()+s.slice(1)}),e.jsxs("div",{className:"input-with-unit",children:[e.jsx("input",{type:"number",value:D.fixkosten[s]??a,onChange:e=>((e,s)=>{E(a=>({...a,fixkosten:{...a.fixkosten,[e]:Number(s)||0}}))})(s,e.target.value),placeholder:"0",min:"0"}),e.jsx("span",{className:"unit",children:"‚Ç¨"})]})]},s))})]}),e.jsxs("div",{className:"cost-card",children:[e.jsxs("div",{className:"cost-card-header",children:[e.jsx("h3",{children:"üìä Variable Kosten"}),e.jsx("span",{className:"subtitle",children:"Pro Mitglied/Monat"})]}),e.jsx("div",{className:"cost-inputs",children:k&&Object.entries(k.variableKosten).map(([s,a])=>e.jsxs("div",{className:"input-row",children:[e.jsx("label",{children:s.charAt(0).toUpperCase()+s.slice(1)}),e.jsxs("div",{className:"input-with-unit",children:[e.jsx("input",{type:"number",value:D.variableKosten[s]??a,onChange:e=>((e,s)=>{E(a=>({...a,variableKosten:{...a.variableKosten,[e]:Number(s)||0}}))})(s,e.target.value),placeholder:"0",min:"0"}),e.jsx("span",{className:"unit",children:"‚Ç¨"})]})]},s))})]}),e.jsxs("div",{className:"cost-card",children:[e.jsxs("div",{className:"cost-card-header",children:[e.jsx("h3",{children:"üíµ Beitrag"}),e.jsx("span",{className:"subtitle",children:"Durchschnittlicher Mitgliedsbeitrag"})]}),e.jsx("div",{className:"cost-inputs",children:e.jsxs("div",{className:"input-row",children:[e.jsx("label",{children:"Monatlicher Beitrag"}),e.jsxs("div",{className:"input-with-unit",children:[e.jsx("input",{type:"number",value:D.durchschnittsbeitrag,onChange:e=>E(s=>({...s,durchschnittsbeitrag:Number(e.target.value)||0})),placeholder:"0",min:"0"}),e.jsx("span",{className:"unit",children:"‚Ç¨"})]})]})})]})]}),e.jsx("div",{className:"form-actions-center",children:e.jsxs("button",{type:"submit",className:"btn-calculate",children:[e.jsx("span",{children:"üßÆ"}),"Break-Even berechnen"]})})]}),V&&e.jsxs("div",{className:"break-even-results",children:[e.jsx("div",{className:"results-header",children:e.jsx("h3",{children:"üìà Ergebnisse"})}),e.jsxs("div",{className:"kpi-results-grid",children:[e.jsxs("div",{className:"kpi-result-card primary",children:[e.jsx("div",{className:"kpi-icon-large",children:"üë•"}),e.jsx("div",{className:"kpi-value",children:V.breakEvenPunkt.mitglieder}),e.jsx("div",{className:"kpi-label",children:"Break-Even Mitglieder"})]}),e.jsxs("div",{className:"kpi-result-card success",children:[e.jsx("div",{className:"kpi-icon-large",children:"üí∞"}),e.jsx("div",{className:"kpi-value",children:Q(V.breakEvenPunkt.umsatz)}),e.jsx("div",{className:"kpi-label",children:"Ben√∂tigter Umsatz"})]}),e.jsxs("div",{className:"kpi-result-card warning",children:[e.jsx("div",{className:"kpi-icon-large",children:"üí≥"}),e.jsx("div",{className:"kpi-value",children:Q(V.breakEvenPunkt.kostenProMitglied)}),e.jsx("div",{className:"kpi-label",children:"Kosten pro Mitglied"})]})]}),e.jsxs("div",{className:"scenarios-section",children:[e.jsx("h4",{children:"üéØ Szenarien-Analyse"}),e.jsx("div",{className:"scenarios-grid-professional",children:V.szenarien.map((s,a)=>e.jsxs("div",{className:"scenario-card-pro "+(s.gewinn>=0?"profitable":"loss"),children:[e.jsxs("div",{className:"scenario-header",children:[e.jsx("h5",{children:s.name}),e.jsx("span",{className:"scenario-badge "+(s.gewinn>=0?"success":"danger"),children:s.gewinn>=0?"‚úì Profitabel":"‚ö† Verlust"})]}),e.jsxs("div",{className:"scenario-metrics",children:[e.jsxs("div",{className:"metric",children:[e.jsx("span",{className:"metric-label",children:"Mitglieder"}),e.jsx("span",{className:"metric-value",children:s.mitglieder})]}),e.jsxs("div",{className:"metric",children:[e.jsx("span",{className:"metric-label",children:"Umsatz"}),e.jsx("span",{className:"metric-value",children:Q(s.umsatz)})]}),e.jsxs("div",{className:"metric",children:[e.jsx("span",{className:"metric-label",children:"Gewinn/Verlust"}),e.jsx("span",{className:"metric-value "+(s.gewinn>=0?"positive":"negative"),children:Q(s.gewinn)})]})]})]},a))})]}),e.jsxs("div",{className:"recommendations-section",children:[e.jsx("h4",{children:"üí° Strategische Empfehlungen"}),e.jsx("div",{className:"recommendations-list",children:V.empfehlungen.map((s,a)=>e.jsxs("div",{className:`recommendation-item ${s.typ||"info"}`,children:[e.jsx("span",{className:"recommendation-icon",children:"success"===s.typ?"‚úì":"warning"===s.typ?"‚ö†":"‚Ñπ"}),e.jsxs("div",{className:"recommendation-content",children:[e.jsx("strong",{children:s.titel}),e.jsx("p",{children:s.beschreibung})]})]},a))})]})]})]})}),"overview"===z&&e.jsxs("div",{className:"tab-panel",children:[e.jsxs("div",{className:"kpi-compact-grid",children:[e.jsxs("div",{className:"kpi-compact",children:[e.jsx("div",{className:"kpi-compact-icon",children:"üë•"}),e.jsx("div",{className:"kpi-compact-value",children:O(N.summary.totalMembers)}),e.jsx("div",{className:"kpi-compact-label",children:"Mitglieder"}),e.jsxs("div",{className:"kpi-compact-sub",children:["+",N.mitgliederAnalyse.neueThisMonth," Monat"]})]}),e.jsxs("div",{className:"kpi-compact success",children:[e.jsx("div",{className:"kpi-compact-icon",children:"‚úì"}),e.jsx("div",{className:"kpi-compact-value",children:O(N.summary.activeMembers)}),e.jsx("div",{className:"kpi-compact-label",children:"Aktiv"}),e.jsxs("div",{className:"kpi-compact-sub",children:[Math.round(N.summary.activeMembers/N.summary.totalMembers*100),"% Quote"]})]}),e.jsxs("div",{className:"kpi-compact warning",children:[e.jsx("div",{className:"kpi-compact-icon",children:"‚è∏"}),e.jsx("div",{className:"kpi-compact-value",children:O(N.summary.inactiveMembers)}),e.jsx("div",{className:"kpi-compact-label",children:"Inaktiv"}),e.jsxs("div",{className:"kpi-compact-sub",children:[Math.round(N.summary.inactiveMembers/N.summary.totalMembers*100),"% Quote"]})]}),e.jsxs("div",{className:"kpi-compact info",children:[e.jsx("div",{className:"kpi-compact-icon",children:"üìà"}),e.jsxs("div",{className:"kpi-compact-value",children:[N.summary.growthRate,"%"]}),e.jsx("div",{className:"kpi-compact-label",children:"Wachstum"}),e.jsx("div",{className:"kpi-compact-sub",children:"Trend"})]}),e.jsxs("div",{className:"kpi-compact",children:[e.jsx("div",{className:"kpi-compact-icon",children:"üí∞"}),e.jsx("div",{className:"kpi-compact-value",children:Q(N.summary.monthlyRevenue)}),e.jsx("div",{className:"kpi-compact-label",children:"Monatlich"}),e.jsxs("div",{className:"kpi-compact-sub",children:[Q(N.summary.yearlyRevenue)," / Jahr"]})]}),e.jsxs("div",{className:"kpi-compact",children:[e.jsx("div",{className:"kpi-compact-icon",children:"üí≥"}),e.jsx("div",{className:"kpi-compact-value",children:Q(N.finanzielleAuswertung.durchschnittsBeitrag)}),e.jsx("div",{className:"kpi-compact-label",children:"√ò Beitrag"}),e.jsx("div",{className:"kpi-compact-sub",children:"Pro Mitglied"})]}),e.jsxs("div",{className:"kpi-compact info",children:[e.jsx("div",{className:"kpi-compact-icon",children:"üîÑ"}),e.jsxs("div",{className:"kpi-compact-value",children:[N.summary.retentionRate,"%"]}),e.jsx("div",{className:"kpi-compact-label",children:"Retention"}),e.jsx("div",{className:"kpi-compact-sub",children:">1 Jahr"})]}),e.jsxs("div",{className:"kpi-compact success",children:[e.jsx("div",{className:"kpi-compact-icon",children:"‚è±"}),e.jsx("div",{className:"kpi-compact-value",children:N.summary.averageMembershipDuration}),e.jsx("div",{className:"kpi-compact-label",children:"√ò Jahre"}),e.jsx("div",{className:"kpi-compact-sub",children:"Mitgliedschaft"})]})]}),(null==(v=N.wachstumsAnalyse)?void 0:v.vergleichVorjahr)&&(null==(g=N.wachstumsAnalyse)?void 0:g.prognose)&&e.jsxs("div",{className:"growth-trend-section",children:[e.jsxs("div",{className:"growth-header",children:[e.jsx("h3",{children:"üìà Wachstumstrend & Analyse"}),e.jsxs("div",{className:"growth-period-tabs",children:[e.jsx("button",{className:"period-tab "+("woche"===F?"active":""),onClick:()=>_("woche"),children:"Woche"}),e.jsx("button",{className:"period-tab "+("monat"===F?"active":""),onClick:()=>_("monat"),children:"Monat"}),e.jsx("button",{className:"period-tab "+("quartal"===F?"active":""),onClick:()=>_("quartal"),children:"Quartal"}),e.jsx("button",{className:"period-tab "+("jahr"===F?"active":""),onClick:()=>_("jahr"),children:"Jahr"})]})]}),e.jsxs("div",{className:"growth-stats-row",children:[e.jsxs("div",{className:"growth-stat-card",children:[e.jsx("div",{className:"stat-icon",children:"üéØ"}),e.jsxs("div",{className:"stat-content",children:[e.jsxs("div",{className:"stat-label",children:["Aktuelles Jahr ",N.wachstumsAnalyse.vergleichVorjahr.aktuellesJahr]}),e.jsxs("div",{className:"stat-value",children:[N.wachstumsAnalyse.vergleichVorjahr.neueAktuellesJahr," Neue"]})]})]}),e.jsxs("div",{className:"growth-stat-card",children:[e.jsx("div",{className:"stat-icon",children:"üìÖ"}),e.jsxs("div",{className:"stat-content",children:[e.jsxs("div",{className:"stat-label",children:["Vorjahr ",N.wachstumsAnalyse.vergleichVorjahr.vorjahr]}),e.jsxs("div",{className:"stat-value",children:[N.wachstumsAnalyse.vergleichVorjahr.neueVorjahr," Neue"]})]})]}),e.jsxs("div",{className:"growth-stat-card "+(N.wachstumsAnalyse.vergleichVorjahr.prozent>=0?"positive":"negative"),children:[e.jsx("div",{className:"stat-icon",children:N.wachstumsAnalyse.vergleichVorjahr.prozent>=0?"üìà":"üìâ"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("div",{className:"stat-label",children:"Vergleich Vorjahr"}),e.jsxs("div",{className:"stat-value",children:[N.wachstumsAnalyse.vergleichVorjahr.prozent>0?"+":"",N.wachstumsAnalyse.vergleichVorjahr.prozent,"%"]}),e.jsxs("div",{className:"stat-sub",children:[N.wachstumsAnalyse.vergleichVorjahr.differenz>0?"+":"",N.wachstumsAnalyse.vergleichVorjahr.differenz," Mitglieder"]})]})]}),e.jsxs("div",{className:"growth-stat-card info",children:[e.jsx("div",{className:"stat-icon",children:"üîÆ"}),e.jsxs("div",{className:"stat-content",children:[e.jsxs("div",{className:"stat-label",children:["Prognose ",N.wachstumsAnalyse.vergleichVorjahr.aktuellesJahr+1]}),e.jsxs("div",{className:"stat-value",children:[N.wachstumsAnalyse.prognose.naechstesJahr," Neue"]}),e.jsx("div",{className:"stat-sub",children:N.wachstumsAnalyse.prognose.basis})]})]})]}),e.jsx("div",{className:"growth-chart-container",children:e.jsx(i,{width:"100%",height:400,children:e.jsxs(l,{data:"woche"===F?N.wachstumsAnalyse.woche||[]:"monat"===F?N.wachstumsAnalyse.monat||[]:"quartal"===F?N.wachstumsAnalyse.quartal||[]:N.wachstumsAnalyse.jahr||[],children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorGrowth",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#ffd700",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#ffd700",stopOpacity:.1})]})}),e.jsx(c,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),e.jsx(t,{dataKey:"jahr"===F?"jahr":"quartal"===F?"quartal":"monat"===F?"monat":"periode",stroke:"rgba(255,255,255,0.6)",angle:"woche"===F||"monat"===F?-45:0,textAnchor:"woche"===F||"monat"===F?"end":"middle",height:"woche"===F||"monat"===F?80:60}),e.jsx(r,{stroke:"rgba(255,255,255,0.6)"}),e.jsx(n,{contentStyle:{background:"rgba(26, 26, 46, 0.95)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px"}}),e.jsx(d,{type:"monotone",dataKey:"neueMitglieder",stroke:"#ffd700",strokeWidth:3,fill:"url(#colorGrowth)",fillOpacity:1}),e.jsx(h,{type:"monotone",dataKey:"neueMitglieder",stroke:"#ff6b35",strokeWidth:2,dot:{fill:"#ffd700",r:5},activeDot:{r:8}})]})})})]}),e.jsxs("div",{className:"charts-grid-compact",children:[e.jsxs("div",{className:"chart-card-compact",children:[e.jsx("h4",{children:"üë∂ Altersverteilung"}),e.jsx(i,{width:"100%",height:200,children:e.jsxs(m,{children:[e.jsx(o,{data:N.mitgliederAnalyse.altersgruppen,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,value:s})=>`${s}`,outerRadius:60,fill:"#8884d8",dataKey:"value",children:N.mitgliederAnalyse.altersgruppen.map((s,a)=>e.jsx(j,{fill:L[a%L.length]},`cell-${a}`))}),e.jsx(n,{})]})})]}),e.jsxs("div",{className:"chart-card-compact",children:[e.jsx("h4",{children:"‚öß Geschlechterverteilung"}),e.jsx(i,{width:"100%",height:200,children:e.jsxs(x,{data:N.mitgliederAnalyse.geschlechterVerteilung,children:[e.jsx(c,{strokeDasharray:"3 3"}),e.jsx(t,{dataKey:"geschlecht"}),e.jsx(r,{}),e.jsx(n,{}),e.jsx(u,{dataKey:"anzahl",fill:"#8884d8",children:N.mitgliederAnalyse.geschlechterVerteilung.map((s,a)=>e.jsx(j,{fill:L[a%L.length]},`cell-${a}`))})]})})]}),e.jsxs("div",{className:"chart-card-compact",children:[e.jsx("h4",{children:"üìÖ Eintrittsjahre"}),e.jsx(i,{width:"100%",height:200,children:e.jsxs(x,{data:N.mitgliederAnalyse.eintrittsJahre,children:[e.jsx(c,{strokeDasharray:"3 3"}),e.jsx(t,{dataKey:"jahr"}),e.jsx(r,{}),e.jsx(n,{}),e.jsx(u,{dataKey:"anzahl",fill:"#82ca9d"})]})})]}),e.jsxs("div",{className:"chart-card-compact",children:[e.jsx("h4",{children:"ü•ã Stil-Verteilung (Kurse)"}),e.jsx(i,{width:"100%",height:200,children:e.jsxs(x,{data:N.stilAnalyse.verteilung.filter(e=>e.anzahl>0),children:[e.jsx(c,{strokeDasharray:"3 3"}),e.jsx(t,{dataKey:"name",angle:-45,textAnchor:"end",height:80}),e.jsx(r,{}),e.jsx(n,{}),e.jsx(u,{dataKey:"anzahl",fill:"#82ca9d"})]})})]}),e.jsxs("div",{className:"chart-card-compact",children:[e.jsx("h4",{children:"ü•á Top Gurte"}),e.jsx(i,{width:"100%",height:200,children:e.jsxs(x,{data:N.mitgliederAnalyse.graduierungsStats,layout:"vertical",children:[e.jsx(c,{strokeDasharray:"3 3"}),e.jsx(t,{type:"number"}),e.jsx(r,{dataKey:"gurtfarbe",type:"category",width:100}),e.jsx(n,{}),e.jsx(u,{dataKey:"anzahl",fill:"#ffc658",children:N.mitgliederAnalyse.graduierungsStats.map((s,a)=>e.jsx(j,{fill:L[a%L.length]},`cell-${a}`))})]})})]}),e.jsxs("div",{className:"chart-card-compact",children:[e.jsx("h4",{children:"üéÇ N√§chste Geburtstage"}),e.jsx("div",{className:"birthday-list",children:N.mitgliederAnalyse.naechsteGeburtstage.length>0?N.mitgliederAnalyse.naechsteGeburtstage.map((s,a)=>e.jsxs("div",{className:"birthday-item",children:[e.jsx("span",{className:"birthday-icon",children:"üéâ"}),e.jsxs("div",{className:"birthday-info",children:[e.jsx("strong",{children:s.name}),e.jsx("span",{className:"birthday-days",children:0===s.tageVerbleibend?"Heute!":`in ${s.tageVerbleibend} Tagen`})]})]},a)):e.jsx("p",{className:"no-data",children:"Keine Geburtstage in den n√§chsten 30 Tagen"})})]}),e.jsxs("div",{className:"chart-card-compact",children:[e.jsx("h4",{children:"üìä Anwesenheit/Wochentag"}),e.jsx(i,{width:"100%",height:200,children:e.jsxs(x,{data:N.anwesenheitsStatistik.wochentagsVerteilung,children:[e.jsx(c,{strokeDasharray:"3 3"}),e.jsx(t,{dataKey:"tag",angle:-45,textAnchor:"end",height:60}),e.jsx(r,{}),e.jsx(n,{}),e.jsx(u,{dataKey:"anzahl",fill:"#8884d8"})]})})]}),e.jsxs("div",{className:"chart-card-compact",children:[e.jsx("h4",{children:"‚è∞ Spitzenzeiten"}),e.jsx("div",{className:"peak-times-list",children:N.anwesenheitsStatistik.spitzenzeiten.map((s,a)=>e.jsxs("div",{className:"peak-time-item",children:[e.jsx("span",{className:"peak-time",children:s.zeit}),e.jsxs("div",{className:"peak-bar",children:[e.jsx("div",{className:"peak-bar-fill",style:{width:s.teilnehmer/35*100+"%"}}),e.jsx("span",{className:"peak-count",children:s.teilnehmer})]})]},a))})]})]})]}),"financial"===z&&e.jsxs("div",{className:"tab-panel",children:[e.jsxs("div",{className:"kpi-compact-grid",children:[e.jsxs("div",{className:"kpi-compact",children:[e.jsx("div",{className:"kpi-compact-icon",children:"üí∞"}),e.jsx("div",{className:"kpi-compact-value",children:Q(N.finanzielleAuswertung.monatlicheEinnahmen)}),e.jsx("div",{className:"kpi-compact-label",children:"Monatliche Einnahmen"}),e.jsxs("div",{className:"kpi-compact-sub",children:[Q(N.finanzielleAuswertung.jahreseinnahmen),"/Jahr"]})]}),e.jsxs("div",{className:"kpi-compact",children:[e.jsx("div",{className:"kpi-compact-icon",children:"üìä"}),e.jsx("div",{className:"kpi-compact-value",children:Q(N.finanzielleAuswertung.durchschnittsBeitrag)}),e.jsx("div",{className:"kpi-compact-label",children:"√ò Beitrag"}),e.jsx("div",{className:"kpi-compact-sub",children:"Pro Mitglied"})]}),e.jsxs("div",{className:"kpi-compact success",children:[e.jsx("div",{className:"kpi-compact-icon",children:"üìà"}),e.jsxs("div",{className:"kpi-compact-value",children:[N.finanzielleAuswertung.gewinnMarge,"%"]}),e.jsx("div",{className:"kpi-compact-label",children:"Gewinnmarge"}),e.jsxs("div",{className:"kpi-compact-sub",children:["Zahlungsausfall: ",N.finanzielleAuswertung.zahlungsausfall,"%"]})]}),N.finanzielleAuswertung.tarifVerteilung&&e.jsxs("div",{className:"kpi-compact info",children:[e.jsx("div",{className:"kpi-compact-icon",children:"üéØ"}),e.jsx("div",{className:"kpi-compact-value",children:N.finanzielleAuswertung.tarifVerteilung.length}),e.jsx("div",{className:"kpi-compact-label",children:"Aktive Tarife"}),e.jsx("div",{className:"kpi-compact-sub",children:"Mit Mitgliedern"})]})]}),N.finanzielleAuswertung.tarifVerteilung&&N.finanzielleAuswertung.tarifVerteilung.length>0&&e.jsxs("div",{className:"chart-card-compact",children:[e.jsx("h4",{children:"üìä Tarif-Verteilung"}),e.jsx(i,{width:"100%",height:250,children:e.jsxs(x,{data:N.finanzielleAuswertung.tarifVerteilung,layout:"horizontal",children:[e.jsx(c,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),e.jsx(t,{type:"number",stroke:"rgba(255,255,255,0.6)"}),e.jsx(r,{dataKey:"tarifname",type:"category",width:180,stroke:"rgba(255,255,255,0.6)"}),e.jsx(n,{contentStyle:{background:"rgba(26, 26, 46, 0.95)",border:"1px solid rgba(255, 215, 0, 0.3)"},labelStyle:{color:"#ffd700"}}),e.jsx(u,{dataKey:"anzahl",fill:"#ffd700",radius:[0,8,8,0]})]})})]}),(null==C?void 0:C.zusammenfassung)&&C.zusammenfassung.gesamt>0&&e.jsxs("div",{className:"chart-card-compact",children:[e.jsx("h4",{children:"üí° Beitragsoptimierung"}),e.jsxs("div",{className:"kpi-compact-grid",style:{marginBottom:"20px"},children:[e.jsxs("div",{className:"kpi-compact warning",children:[e.jsx("div",{className:"kpi-compact-icon",children:"üë•"}),e.jsx("div",{className:"kpi-compact-value",children:C.zusammenfassung.gesamt}),e.jsx("div",{className:"kpi-compact-label",children:"Optimierbar"})]}),e.jsxs("div",{className:"kpi-compact success",children:[e.jsx("div",{className:"kpi-compact-icon",children:"üí∞"}),e.jsx("div",{className:"kpi-compact-value",children:Q(C.zusammenfassung.potential/100)}),e.jsx("div",{className:"kpi-compact-label",children:"Monatl. Potential"})]}),e.jsxs("div",{className:"kpi-compact info",children:[e.jsx("div",{className:"kpi-compact-icon",children:"üìà"}),e.jsx("div",{className:"kpi-compact-value",children:Q(C.zusammenfassung.durchschnittlicheErhoehung/100)}),e.jsx("div",{className:"kpi-compact-label",children:"√ò Erh√∂hung"})]})]}),C.niedrigeBeitraege.length>0&&e.jsxs("div",{className:"compact-member-list",children:[e.jsxs("table",{className:"data-table-compact",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Aktuell"}),e.jsx("th",{children:"Potential"}),e.jsx("th",{children:"Eintritt"})]})}),e.jsx("tbody",{children:C.niedrigeBeitraege.slice(0,10).map((s,a)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"member-name-cell",children:[e.jsx("span",{children:s.name}),e.jsx("span",{className:"badge-small",children:s.alterskategorie})]})}),e.jsx("td",{className:"align-right",children:Q(s.aktuellerBeitrag/100)}),e.jsxs("td",{className:"align-right positive",children:["+",Q(s.potentialErhoehung/100)]}),e.jsx("td",{children:new Date(s.eintrittsdatum).toLocaleDateString("de-DE",{year:"numeric",month:"2-digit"})})]},a))})]}),C.niedrigeBeitraege.length>10&&e.jsxs("div",{className:"table-footer",children:["Zeige 10 von ",C.niedrigeBeitraege.length," Mitgliedern"]})]})]})]}),"members"===z&&e.jsxs("div",{className:"tab-panel",children:[e.jsxs("div",{className:"time-period-selector",children:[e.jsx("h3",{children:"üìä Zeitraum-Auswahl"}),e.jsx("div",{className:"period-buttons",children:[{id:"monthly",label:"Monatlich",icon:"üìÖ"},{id:"quarterly",label:"Viertelj√§hrlich",icon:"üìä"},{id:"biannually",label:"Halbj√§hrlich",icon:"üìà"},{id:"annually",label:"J√§hrlich",icon:"üéØ"}].map(s=>e.jsxs("button",{className:"period-button "+(B===s.id?"active":""),onClick:()=>P(s.id),children:[e.jsx("span",{className:"period-icon",children:s.icon}),e.jsx("span",{className:"period-label",children:s.label})]},s.id))})]}),e.jsxs("div",{className:"members-stats-compact",children:[e.jsxs("div",{className:"stat-item-compact",children:[e.jsx("div",{className:"stat-label",children:"Gesamtmitglieder"}),e.jsx("div",{className:"stat-value",children:O(N.mitgliederAnalyse.gesamt)})]}),e.jsxs("div",{className:"stat-item-compact",children:[e.jsx("div",{className:"stat-label",children:"Aktive Mitglieder"}),e.jsx("div",{className:"stat-value",children:O(N.mitgliederAnalyse.aktiv)})]}),e.jsxs("div",{className:"stat-item-compact",children:[e.jsxs("div",{className:"stat-label",children:["Neue ","monthly"===B?"diesen Monat":"quarterly"===B?"dieses Quartal":"biannually"===B?"dieses Halbjahr":"dieses Jahr"]}),e.jsx("div",{className:"stat-value",children:O(N.mitgliederAnalyse.neueThisMonth)})]}),e.jsxs("div",{className:"stat-item-compact",children:[e.jsx("div",{className:"stat-label",children:"Inaktive Mitglieder"}),e.jsx("div",{className:"stat-value",children:O(N.mitgliederAnalyse.inaktiv)})]})]}),G&&e.jsxs("div",{className:"member-analytics-grid",children:[e.jsxs("div",{className:"analytics-chart",children:[e.jsxs("h3",{children:["üìà ","monthly"===B?"Monatliche":"quarterly"===B?"Viertelj√§hrliche":"biannually"===B?"Halbj√§hrliche":"J√§hrliche"," Zug√§nge"]}),e.jsx(i,{width:"100%",height:250,children:G.zug√§nge.length>0?e.jsxs(p,{data:G.zug√§nge,children:[e.jsx(c,{strokeDasharray:"3 3"}),e.jsx(t,{dataKey:"periode"}),e.jsx(r,{}),e.jsx(n,{}),e.jsx(h,{type:"monotone",dataKey:"wert",stroke:"#4caf50",strokeWidth:3,dot:{fill:"#4caf50",strokeWidth:2,r:4}})]}):e.jsx("div",{className:"no-data-message",children:e.jsx("p",{children:"Keine Zugangsdaten verf√ºgbar"})})})]}),e.jsxs("div",{className:"analytics-chart",children:[e.jsx("h3",{children:"üìâ K√ºndigungen"}),e.jsx(i,{width:"100%",height:250,children:G.k√ºndigungen.length>0?e.jsxs(p,{data:G.k√ºndigungen,children:[e.jsx(c,{strokeDasharray:"3 3"}),e.jsx(t,{dataKey:"periode"}),e.jsx(r,{}),e.jsx(n,{}),e.jsx(h,{type:"monotone",dataKey:"wert",stroke:"#f44336",strokeWidth:3,dot:{fill:"#f44336",strokeWidth:2,r:4}})]}):e.jsx("div",{className:"no-data-message",children:e.jsx("p",{children:"Keine K√ºndigungsdaten verf√ºgbar"})})})]}),e.jsxs("div",{className:"analytics-chart",children:[e.jsx("h3",{children:"‚è∏Ô∏è Ruhepausen"}),e.jsx(i,{width:"100%",height:250,children:G.ruhepausen.length>0?e.jsxs(p,{data:G.ruhepausen,children:[e.jsx(c,{strokeDasharray:"3 3"}),e.jsx(t,{dataKey:"periode"}),e.jsx(r,{}),e.jsx(n,{}),e.jsx(h,{type:"monotone",dataKey:"wert",stroke:"#ff9800",strokeWidth:3,dot:{fill:"#ff9800",strokeWidth:2,r:4}})]}):e.jsx("div",{className:"no-data-message",children:e.jsx("p",{children:"Keine Ruhepausen-Daten verf√ºgbar"})})})]}),e.jsxs("div",{className:"analytics-chart",children:[e.jsx("h3",{children:"üîÆ Wachstumsprognose"}),e.jsxs("div",{className:"growth-forecast",children:[e.jsxs("div",{className:"forecast-current",children:[e.jsx("span",{className:"forecast-label",children:"Aktuell:"}),e.jsxs("span",{className:"forecast-value",children:[G.wachstumPrognose.aktuell," Mitglieder"]})]}),e.jsxs("div",{className:"forecast-item",children:[e.jsx("span",{className:"forecast-label",children:"3 Monate:"}),e.jsxs("span",{className:"forecast-value positive",children:["+",G.wachstumPrognose.prognose3Monate-G.wachstumPrognose.aktuell]})]}),e.jsxs("div",{className:"forecast-item",children:[e.jsx("span",{className:"forecast-label",children:"6 Monate:"}),e.jsxs("span",{className:"forecast-value positive",children:["+",G.wachstumPrognose.prognose6Monate-G.wachstumPrognose.aktuell]})]}),e.jsxs("div",{className:"forecast-item",children:[e.jsx("span",{className:"forecast-label",children:"12 Monate:"}),e.jsxs("span",{className:"forecast-value positive",children:["+",G.wachstumPrognose.prognose12Monate-G.wachstumPrognose.aktuell]})]}),e.jsxs("div",{className:"forecast-growth-rate",children:[e.jsx("span",{className:"growth-rate-label",children:"Wachstumsrate:"}),e.jsxs("span",{className:"growth-rate-value",children:[G.wachstumPrognose.wachstumsrate,"%"]})]})]})]})]}),e.jsxs("div",{className:"demographics-chart-compact",children:[e.jsx("h3",{children:"Demografische Verteilung"}),e.jsx(i,{width:"100%",height:250,children:e.jsxs(m,{children:[e.jsx(o,{data:N.mitgliederAnalyse.demographics,cx:"50%",cy:"50%",labelLine:!1,label:({geschlecht:e,prozent:s})=>`${e}: ${s}%`,outerRadius:60,fill:"#8884d8",dataKey:"anzahl",children:N.mitgliederAnalyse.demographics.map((s,a)=>e.jsx(j,{fill:L[a%L.length]},`cell-${a}`))}),e.jsx(n,{})]})})]})]}),"belts"===z&&T&&e.jsxs("div",{className:"tab-panel",children:[e.jsxs("div",{className:"belts-overview-header",children:[e.jsx("h2",{children:"ü•ã G√ºrtel-√úbersicht"}),e.jsxs("div",{className:"summary-stats",children:[e.jsxs("div",{className:"summary-stat",children:[e.jsx("span",{className:"stat-label",children:"Stile:"}),e.jsx("span",{className:"stat-value",children:T.summary.total_stile})]}),e.jsxs("div",{className:"summary-stat",children:[e.jsx("span",{className:"stat-label",children:"G√ºrtel:"}),e.jsx("span",{className:"stat-value",children:T.summary.total_guertel})]}),e.jsxs("div",{className:"summary-stat",children:[e.jsx("span",{className:"stat-label",children:"Mitglieder:"}),e.jsx("span",{className:"stat-value",children:T.summary.total_mitglieder})]})]})]}),T.stile.map(s=>e.jsxs("div",{className:"stil-section",children:[e.jsxs("div",{className:"stil-header",children:[e.jsx("h3",{children:s.stil_name}),e.jsxs("span",{className:"stil-stats",children:[s.guertel.length," G√ºrtel ‚Ä¢ ",s.guertel.reduce((e,s)=>e+s.mitglieder.length,0)," Mitglieder"]})]}),e.jsx("div",{className:"guertel-grid",children:s.guertel.map(s=>e.jsxs("div",{className:"guertel-card",children:[e.jsxs("div",{className:"guertel-header",children:[e.jsx("div",{className:"guertel-color-badge",style:{background:s.farbe_sekundaer?`linear-gradient(135deg, ${s.farbe_hex}, ${s.farbe_sekundaer})`:s.farbe_hex}}),e.jsxs("div",{className:"guertel-info",children:[e.jsx("h4",{children:s.gurt_name}),e.jsx("span",{className:"guertel-category",children:s.kategorie}),s.dan_grad&&e.jsxs("span",{className:"dan-badge",children:[s.dan_grad,". DAN"]})]}),e.jsxs("span",{className:"member-count",children:[s.mitglieder.length," Mitglieder"]})]}),s.mitglieder.length>0&&e.jsxs("div",{className:"members-list",children:[e.jsxs("div",{className:"members-header",children:[e.jsx("span",{children:"Name"}),e.jsx("span",{children:"Anwesenheit Jahr"}),e.jsx("span",{children:"Anwesenheit Monat"})]}),s.mitglieder.map(s=>e.jsxs("div",{className:"member-row",children:[e.jsxs("span",{className:"member-name",children:[s.vorname," ",s.nachname]}),e.jsxs("span",{className:"attendance-stat",children:[s.anwesenheit_jahr,"x"]}),e.jsxs("span",{className:"attendance-stat",children:[s.anwesenheit_monat,"x"]})]},s.mitglied_id))]}),0===s.mitglieder.length&&e.jsx("div",{className:"no-members",children:e.jsx("p",{children:"Keine Mitglieder"})})]},s.graduierung_id))})]},s.stil_id))]}),"performance"===z&&e.jsxs("div",{className:"tab-panel",children:[e.jsxs("div",{className:"performance-metrics",children:[e.jsxs("div",{className:"metric-card",children:[e.jsx("div",{className:"metric-header",children:e.jsx("h3",{children:"Anwesenheitsstatistik"})}),e.jsxs("div",{className:"metric-content",children:[e.jsxs("div",{className:"metric-value",children:[N.anwesenheitsStatistik.durchschnittlicheAnwesenheit,"%"]}),e.jsx("p",{children:"Durchschnittliche Anwesenheit"})]})]}),e.jsxs("div",{className:"metric-card",children:[e.jsx("div",{className:"metric-header",children:e.jsx("h3",{children:"Kurslast"})}),e.jsxs("div",{className:"metric-content",children:[e.jsx("div",{className:"metric-value",children:N.kursAnalyse.durchschnittlicheTeilnehmer}),e.jsx("p",{children:"Teilnehmer pro Kurs"})]})]})]}),e.jsxs("div",{className:"performance-charts",children:[e.jsxs("div",{className:"chart-card",children:[e.jsx("h3",{children:"Wochentag-Anwesenheit"}),e.jsx(i,{width:"100%",height:300,children:e.jsxs(x,{data:N.anwesenheitsStatistik.wochentagsVerteilung,children:[e.jsx(c,{strokeDasharray:"3 3"}),e.jsx(t,{dataKey:"tag"}),e.jsx(r,{}),e.jsx(n,{}),e.jsx(u,{dataKey:"prozent",fill:"#8884d8"})]})})]}),e.jsxs("div",{className:"chart-card",children:[e.jsx("h3",{children:"Spitzenzeiten"}),e.jsx("div",{className:"peak-times",children:N.anwesenheitsStatistik.spitzenzeiten.map((s,a)=>e.jsxs("div",{className:"time-slot",children:[e.jsx("span",{className:"time",children:s.zeit}),e.jsxs("span",{className:"attendance",children:[s.teilnehmer," Teilnehmer"]})]},a))})]})]})]}),"forecasting"===z&&e.jsx("div",{className:"tab-panel",children:e.jsxs("div",{className:"forecast-overview",children:[e.jsx("h3",{children:"Wachstumsprognose"}),e.jsxs("div",{className:"forecast-stats",children:[e.jsxs("div",{className:"forecast-item",children:[e.jsx("div",{className:"forecast-label",children:"N√§chster Monat"}),e.jsxs("div",{className:"forecast-value",children:["+",N.wachstumsAnalyse.prognose.naechsterMonat," Mitglieder"]})]}),e.jsxs("div",{className:"forecast-item",children:[e.jsx("div",{className:"forecast-label",children:"N√§chstes Quartal"}),e.jsxs("div",{className:"forecast-value",children:["+",N.wachstumsAnalyse.prognose.naechstesQuartal," Mitglieder"]})]}),e.jsxs("div",{className:"forecast-item",children:[e.jsx("div",{className:"forecast-label",children:"N√§chstes Jahr"}),e.jsxs("div",{className:"forecast-value",children:["+",N.wachstumsAnalyse.prognose.naechstesJahr," Mitglieder"]})]})]}),e.jsxs("div",{className:"recommendations",children:[e.jsx("h3",{children:"Empfehlungen"}),e.jsx("div",{className:"recommendations-list",children:N.recommendations.map((s,a)=>e.jsxs("div",{className:`recommendation-item ${s.typ}`,children:[e.jsx("span",{className:"recommendation-icon",children:"success"===s.typ?"‚úÖ":"warning"===s.typ?"‚ö†Ô∏è":"info"===s.typ?"‚ÑπÔ∏è":"üí°"}),e.jsxs("div",{className:"recommendation-content",children:[e.jsx("strong",{children:s.title}),e.jsx("p",{children:s.description})]})]},a))})]})]})})]})]}):e.jsx("div",{className:"auswertungen-container",children:e.jsxs("div",{className:"no-data",children:[e.jsx("h3",{children:"Keine Daten verf√ºgbar"}),e.jsx("p",{children:"Es konnten keine Auswertungsdaten geladen werden."})]})})}export{v as default};
