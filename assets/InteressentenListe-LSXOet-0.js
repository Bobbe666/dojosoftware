import{j as e}from"./animation-1wuIdCBS.js";import{r as t,u as r}from"./vendor-router-BhMXg4Z-.js";import{b as n,a as i}from"./index-DUnH23_2.js";import"./vendor-react-DtuzQOD1.js";import"./query-Bs1dTGah.js";import"./icons-D7rg4pDH.js";const s=()=>{const{getDojoFilterParam:s}=n(),[a,o]=t.useState([]),[l,d]=t.useState([]),[c,g]=t.useState(!0),[h,m]=t.useState(""),[b,u]=t.useState(""),[p,x]=t.useState(""),j=r();t.useEffect(()=>{v()},[]);const v=async()=>{try{g(!0);const e=s(),t=e?`/interessenten?${e}`:"/interessenten",r=await i.get(t);o(r.data),d(r.data),g(!1)}catch(e){console.error("Fehler beim Laden der Interessenten:",e),m("Fehler beim Laden der Daten"),g(!1)}};t.useEffect(()=>{let e=a;""!==b&&(e=e.filter(e=>`${e.vorname} ${e.nachname}`.toLowerCase().includes(b.toLowerCase()))),""!==p&&(e=e.filter(e=>e.status===p)),d(e)},[b,p,a]);const f=e=>({neu:"#3b82f6",kontaktiert:"#8b5cf6",probetraining_vereinbart:"#f59e0b",probetraining_absolviert:"#10b981",angebot_gesendet:"#06b6d4",interessiert:"#84cc16",nicht_interessiert:"#6b7280",konvertiert:"#22c55e"}[e]||"#6b7280");return c?e.jsx("div",{className:"dashboard-container",children:e.jsx("div",{className:"loading",children:"Lade Interessenten..."})}):h?e.jsx("div",{className:"dashboard-container",children:e.jsx("div",{className:"error",children:h})}):e.jsxs("div",{className:"dashboard-container",children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[e.jsx("h1",{style:{margin:0},children:"Interessenten"}),e.jsx("button",{className:"primary-button",onClick:()=>j("/dashboard/mitglieder"),children:"Zurück zu Mitgliedern"})]}),e.jsxs("div",{style:{marginBottom:"1.5rem",display:"flex",gap:"1rem",alignItems:"center",flexWrap:"wrap"},children:[e.jsx("input",{type:"text",placeholder:"Suchen nach Name...",value:b,onChange:e=>u(e.target.value),style:{flex:1,minWidth:"200px",padding:"0.75rem",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(31, 41, 55, 0.6)",color:"white"}}),e.jsxs("select",{value:p,onChange:e=>x(e.target.value),style:{padding:"0.75rem",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(31, 41, 55, 0.6)",color:"white",minWidth:"200px"},children:[e.jsx("option",{value:"",style:{background:"#1f2937",color:"white"},children:"Alle Status"}),e.jsx("option",{value:"neu",style:{background:"#1f2937",color:"white"},children:"Neu"}),e.jsx("option",{value:"kontaktiert",style:{background:"#1f2937",color:"white"},children:"Kontaktiert"}),e.jsx("option",{value:"probetraining_vereinbart",style:{background:"#1f2937",color:"white"},children:"Probetraining vereinbart"}),e.jsx("option",{value:"probetraining_absolviert",style:{background:"#1f2937",color:"white"},children:"Probetraining absolviert"}),e.jsx("option",{value:"angebot_gesendet",style:{background:"#1f2937",color:"white"},children:"Angebot gesendet"}),e.jsx("option",{value:"interessiert",style:{background:"#1f2937",color:"white"},children:"Interessiert"}),e.jsx("option",{value:"nicht_interessiert",style:{background:"#1f2937",color:"white"},children:"Nicht interessiert"}),e.jsx("option",{value:"konvertiert",style:{background:"#1f2937",color:"white"},children:"Konvertiert"})]}),e.jsxs("div",{style:{color:"rgba(255, 255, 255, 0.7)"},children:[l.length," von ",a.length," angezeigt"]})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1rem"},children:l.length>0?l.map(t=>{return e.jsxs("div",{className:"stat-card",style:{padding:"1rem",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s",borderLeft:`4px solid ${f(t.status)}`},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"0.5rem"},children:[e.jsxs("h3",{style:{fontSize:"1.1rem",fontWeight:"600",margin:0,color:"#ffd700"},children:[t.nachname,", ",t.vorname]}),e.jsx("span",{style:{fontSize:"0.7rem",padding:"0.25rem 0.5rem",borderRadius:"4px",background:f(t.status),color:"white",fontWeight:"500"},children:(r=t.status,{neu:"Neu",kontaktiert:"Kontaktiert",probetraining_vereinbart:"Probetraining vereinbart",probetraining_absolviert:"Probetraining absolviert",angebot_gesendet:"Angebot gesendet",interessiert:"Interessiert",nicht_interessiert:"Nicht interessiert",konvertiert:"Konvertiert"}[r]||r)})]}),e.jsxs("div",{style:{fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.7)",lineHeight:"1.6"},children:[t.email&&e.jsxs("p",{style:{margin:"0.2rem 0"},children:[e.jsx("strong",{children:"Email:"})," ",t.email]}),t.telefon&&e.jsxs("p",{style:{margin:"0.2rem 0"},children:[e.jsx("strong",{children:"Telefon:"})," ",t.telefon]}),t.erstkontakt_datum&&e.jsxs("p",{style:{margin:"0.2rem 0"},children:[e.jsx("strong",{children:"Erstkontakt:"})," ",new Date(t.erstkontakt_datum).toLocaleDateString("de-DE")]}),t.interessiert_an&&e.jsxs("p",{style:{margin:"0.2rem 0"},children:[e.jsx("strong",{children:"Interesse:"})," ",t.interessiert_an]}),t.prioritaet&&e.jsxs("p",{style:{margin:"0.2rem 0"},children:[e.jsx("strong",{children:"Priorität:"})," ",t.prioritaet]})]})]},t.id);var r}):e.jsxs("div",{className:"stat-card",style:{gridColumn:"1 / -1",padding:"2rem",textAlign:"center"},children:[e.jsx("h3",{children:"Keine Interessenten gefunden"}),e.jsx("p",{style:{color:"rgba(255, 255, 255, 0.6)"},children:"Es sind noch keine Interessenten im System erfasst."})]})})]})};export{s as default};
