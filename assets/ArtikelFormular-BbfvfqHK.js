import{a as e,j as r}from"./query-Caj74EYQ.js";import{f as n,c as a}from"./index-BuAcXaay.js";/* empty css                                   */import{u as s,f as t}from"./vendor-router-B2AaIOtG.js";import"./icons-eh0tbLFx.js";import"./charts-QHQg_ypW.js";const i=({mode:i})=>{const o=s(),{id:d}=t(),[l,c]=e.useState(!1),[g,p]=e.useState(null),[m,f]=e.useState([]),[x,h]=e.useState([]),[u,b]=e.useState(""),[y,v]=e.useState("basis"),[j,k]=e.useState("einzelkalkulation"),_=[{name:"Schwarz",hex:"#000000"},{name:"Wei√ü",hex:"#FFFFFF"},{name:"Rot",hex:"#DC2626"},{name:"Blau",hex:"#2563EB"},{name:"Gr√ºn",hex:"#16A34A"},{name:"Gelb",hex:"#EAB308"},{name:"Orange",hex:"#EA580C"},{name:"Lila",hex:"#9333EA"},{name:"Rosa",hex:"#EC4899"},{name:"Grau",hex:"#6B7280"}],[z,S]=e.useState({kategorie_id:"",artikelgruppe_id:"",name:"",beschreibung:"",ean_code:"",artikel_nummer:"",artikel_nummer_basis:"",artikel_nummer_auto:!0,listeneinkaufspreis_euro:"",lieferrabatt_prozent:"",lieferskonto_prozent:"",bezugskosten_euro:"",gemeinkosten_prozent:"",gewinnzuschlag_prozent:"",kundenskonto_prozent:"",kundenrabatt_prozent:"",einkaufspreis_euro:"",zusatzkosten_euro:"",marge_prozent:"",verkaufspreis_euro:"",mwst_prozent:19,lagerbestand:0,mindestbestand:0,lager_tracking:!0,farbe_hex:"#FFFFFF",aktiv:!0,sichtbar_kasse:!0,hat_varianten:!1,varianten_groessen:[],varianten_farben:[],varianten_material:[],varianten_custom:[],custom_groesse:"",custom_farbe_name:"",custom_farbe_hex:"#000000",custom_material:"",varianten_bestand:{},preis_euro:"",bruttopreis_euro:"",hat_preiskategorien:!1,listeneinkaufspreis_kids_euro:"",listeneinkaufspreis_erwachsene_euro:"",bezugskosten_kids_euro:"",bezugskosten_erwachsene_euro:"",preis_kids_euro:"",preis_erwachsene_euro:"",bruttopreis_kids_euro:"",bruttopreis_erwachsene_euro:"",groessen_kids:["100","110","120","130","140","150"],groessen_erwachsene:["160","170","180","190","200","XXS","XS","S","M","L","XL","XXL","3XL"]}),w=async(e,r={})=>{try{const s=await n(`${a.apiBaseUrl}/artikel${e}`,{headers:{"Content-Type":"application/json",...r.headers},...r});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(s){throw console.error("API Error:",s),s}},F=()=>{if(!u)return[];const e=x.find(e=>e.id==u);return(null==e?void 0:e.unterkategorien)||[]};e.useEffect(()=>{(async()=>{try{const e=await w("/kategorien");f(e.data||[])}catch(e){console.error("Fehler beim Laden der Kategorien:",e)}})(),(async()=>{try{const e=await n(`${a.apiBaseUrl}/artikelgruppen`),r=await e.json();r.success&&h(r.data||[])}catch(e){console.error("Fehler beim Laden der Artikelgruppen:",e)}})(),"edit"===i&&(async()=>{if("edit"===i&&d)try{c(!0);const e=await w(`/${d}`);e.success&&e.data&&(console.log("üîç ArtikelFormular - Geladene Kalkulation:",{listeneinkaufspreis_euro:e.data.listeneinkaufspreis_euro,lieferrabatt_prozent:e.data.lieferrabatt_prozent,gemeinkosten_prozent:e.data.gemeinkosten_prozent,gewinnzuschlag_prozent:e.data.gewinnzuschlag_prozent,verkaufspreis_euro:e.data.verkaufspreis_euro,bezugskosten_euro:e.data.bezugskosten_euro}),S(r=>({...r,...e.data})),e.data.hat_preiskategorien&&k("groessenabhaengig"))}catch(e){p("Fehler beim Laden des Artikels")}finally{c(!1)}})()},[i,d]),e.useEffect(()=>{var e;if("edit"===i&&z.artikelgruppe_id&&x.length>0)for(const r of x){if(r.id==z.artikelgruppe_id)return b(r.id.toString()),void S(e=>({...e,kategorie_id:r.id.toString()}));if(null==(e=r.unterkategorien)?void 0:e.some(e=>e.id==z.artikelgruppe_id))return b(r.id.toString()),void S(e=>({...e,kategorie_id:r.id.toString()}))}},[i,z.artikelgruppe_id,x]);const C=async e=>{if(!e)return"";try{const r=(e=>{var r;for(const n of x){if(n.id==e)return n;const a=null==(r=n.unterkategorien)?void 0:r.find(r=>r.id==e);if(a)return a}return null})(e);if(!r)return"";const n=(r.code||r.name.substring(0,3)).toUpperCase().replace(/[^A-Z]/g,"").substring(0,3).padEnd(3,"X"),a=(await w("")).data||[],s=new RegExp(`^${n}(\\d+)`);let t=0;a.forEach(e=>{if(e.artikel_nummer){const r=e.artikel_nummer.match(s);if(r){const e=parseInt(r[1],10);e>t&&(t=e)}}});return`${n}${(t+1).toString().padStart(3,"0")}`}catch(r){return console.error("Error generating Artikelnummer:",r),""}},B=async e=>{const{name:r,value:n,type:a,checked:s}=e.target,t="checkbox"===a?s:n;if(S(e=>({...e,[r]:t})),"artikelgruppe_id"===r&&n&&z.artikel_nummer_auto&&"create"===i){const e=await C(n);e&&S(r=>({...r,artikel_nummer:e,artikel_nummer_basis:e}))}};e.useEffect(()=>{if(z.artikel_nummer_basis&&z.hat_varianten){const e=(()=>{const e=[];if(z.varianten_groessen.length>0){const r=z.varianten_groessen.map(e=>/^\d+$/.test(e)?e:e.substring(0,2).toUpperCase()).slice(0,3).join("/");z.varianten_groessen.length>3?e.push(`${r}+${z.varianten_groessen.length-3}`):e.push(r)}if(z.varianten_farben.length>0){const r=z.varianten_farben.map(e=>e.name.substring(0,2).toUpperCase()).slice(0,3).join("/");z.varianten_farben.length>3?e.push(`${r}+${z.varianten_farben.length-3}`):e.push(r)}return e.length>0?"-"+e.join("-"):""})(),r=z.artikel_nummer_basis+e;r!==z.artikel_nummer&&S(e=>({...e,artikel_nummer:r}))}},[z.varianten_groessen,z.varianten_farben,z.hat_varianten]),e.useEffect(()=>{(z.varianten_groessen.length>0||z.varianten_farben.length>0||z.varianten_material.length>0)&&!z.hat_varianten&&S(e=>({...e,hat_varianten:!0}))},[z.varianten_groessen,z.varianten_farben,z.varianten_material]),e.useEffect(()=>{if("groessenabhaengig"===j&&z.preis_erwachsene_euro){const e=parseFloat(z.preis_erwachsene_euro),r=parseFloat(z.verkaufspreis_euro)||0;e>0&&e!==r&&S(r=>({...r,verkaufspreis_euro:e.toFixed(2)}))}},[z.preis_erwachsene_euro,j]),e.useEffect(()=>{const e="groessenabhaengig"===j;z.hat_preiskategorien!==e&&S(r=>({...r,hat_preiskategorien:e}))},[j]);const R={padding:"0.75rem 1rem",background:"var(--bg-glass, rgba(255, 255, 255, 0.08))",border:"2px solid var(--border-secondary, rgba(255, 255, 255, 0.1))",borderRadius:"8px",color:"var(--text-primary, #ffffff)",fontSize:"1rem",width:"100%",boxSizing:"border-box",transition:"border-color 0.2s ease, box-shadow 0.2s ease"},W={display:"block",marginBottom:"0.5rem",fontWeight:600,color:"var(--gold, #ffd700)",fontSize:"0.95rem"},A={display:"flex",alignItems:"center",gap:"0.75rem",padding:"1rem 1.25rem",background:"var(--bg-glass, rgba(255, 255, 255, 0.08))",border:"2px solid var(--border-secondary, rgba(255, 255, 255, 0.1))",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease"},N={width:"22px",height:"22px",accentColor:"var(--gold, #ffd700)",cursor:"pointer",appearance:"auto",WebkitAppearance:"checkbox",MozAppearance:"checkbox",opacity:1,position:"relative"},L={color:"var(--text-primary, #ffffff)",fontSize:"1rem",fontWeight:500},T=(e,r,n)=>{S(a=>({...a,varianten_bestand:{...a.varianten_bestand,[e]:{...a.varianten_bestand[e]||{bestand:0,mindestbestand:0},[r]:parseInt(n)||0}}}))},E=()=>{const e=z.hat_varianten&&(z.varianten_groessen.length>0||z.varianten_farben.length>0||z.varianten_material.length>0),n=e?(()=>{const e=z.varianten_groessen.length>0?z.varianten_groessen:[""],r=z.varianten_farben.length>0?z.varianten_farben:[{name:"",hex:""}],n=z.varianten_material.length>0?z.varianten_material:[""],a=[];return e.forEach(e=>{r.forEach(r=>{n.forEach(n=>{const s=`${e}|${r.name}|${n}`;a.push({key:s,groesse:e,farbe:r,material:n,label:[e,r.name,n].filter(Boolean).join(" / ")||"Standard"})})})}),a})():[];return r.jsxs("div",{className:"tab-content-section",style:{overflow:"auto"},children:[r.jsx("div",{style:{marginBottom:"1.5rem"},children:r.jsxs("label",{style:{...A,borderColor:z.lager_tracking?"var(--gold, #ffd700)":"var(--border-secondary, rgba(255, 255, 255, 0.1))",background:z.lager_tracking?"rgba(107, 68, 35, 0.05)":"#ffffff",maxWidth:"400px"},children:[r.jsx("input",{type:"checkbox",name:"lager_tracking",checked:z.lager_tracking,onChange:B,style:N}),r.jsx("span",{style:L,children:"üì¶ Lagerbestand aktiv verfolgen"})]})}),z.lager_tracking&&r.jsxs(r.Fragment,{children:[!e&&r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1.5rem",maxWidth:"800px"},children:[r.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[r.jsx("label",{style:W,children:"Aktueller Bestand"}),r.jsx("input",{type:"number",name:"lagerbestand",value:z.lagerbestand,onChange:B,min:"0",style:R,placeholder:"0"})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[r.jsx("label",{style:W,children:"Mindestbestand"}),r.jsx("input",{type:"number",name:"mindestbestand",value:z.mindestbestand,onChange:B,min:"0",style:R,placeholder:"0"})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[r.jsx("label",{style:W,children:"Artikelfarbe"}),r.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[r.jsx("input",{type:"color",name:"farbe_hex",value:z.farbe_hex,onChange:B,style:{width:"60px",height:"46px",cursor:"pointer",borderRadius:"8px",border:"2px solid var(--border-secondary, rgba(255, 255, 255, 0.1))"}}),r.jsx("input",{type:"text",value:z.farbe_hex,onChange:e=>S(r=>({...r,farbe_hex:e.target.value})),style:R,placeholder:"#FFFFFF"})]})]})]}),e&&r.jsxs("div",{children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",padding:"1rem",background:"rgba(107, 68, 35, 0.05)",borderRadius:"8px"},children:[r.jsxs("div",{children:[r.jsxs("h3",{style:{margin:0,color:"var(--gold, #ffd700)",fontSize:"1.1rem"},children:["üìä Varianten-Bestand (",n.length," Kombinationen)"]}),r.jsx("p",{style:{margin:"0.25rem 0 0 0",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",fontSize:"0.9rem"},children:"Erfassen Sie den Bestand f√ºr jede Variante"})]}),r.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[r.jsxs("span",{style:{padding:"0.5rem 1rem",background:"var(--gold, #ffd700)",color:"var(--dark-bg, #0f0f23)",borderRadius:"20px",fontSize:"0.85rem"},children:[z.varianten_groessen.length," Gr√∂√üen"]}),r.jsxs("span",{style:{padding:"0.5rem 1rem",background:"var(--gold, #ffd700)",color:"var(--dark-bg, #0f0f23)",borderRadius:"20px",fontSize:"0.85rem"},children:[z.varianten_farben.length," Farben"]}),r.jsxs("span",{style:{padding:"0.5rem 1rem",background:"var(--gold, #ffd700)",color:"var(--dark-bg, #0f0f23)",borderRadius:"20px",fontSize:"0.85rem"},children:[z.varianten_material.length," Material"]})]})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem",padding:"1rem",background:"var(--bg-glass, rgba(255, 255, 255, 0.08))",border:"2px solid var(--border-secondary, rgba(255, 255, 255, 0.1))",borderRadius:"8px"},children:[r.jsx("label",{style:{color:"var(--gold, #ffd700)",fontWeight:600,whiteSpace:"nowrap"},children:"Mindestbestand f√ºr alle:"}),r.jsx("input",{type:"number",id:"global-mindestbestand",min:"0",placeholder:"z.B. 5",style:{...R,width:"120px",textAlign:"center"}}),r.jsx("button",{type:"button",onClick:()=>{const e=parseInt(document.getElementById("global-mindestbestand").value)||0,r={...z.varianten_bestand};n.forEach(n=>{r[n.key]={...r[n.key]||{bestand:0,mindestbestand:0},mindestbestand:e}}),S(e=>({...e,varianten_bestand:r}))},style:{padding:"0.75rem 1.5rem",background:"var(--gold, #ffd700)",color:"var(--dark-bg, #0f0f23)",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600,whiteSpace:"nowrap"},children:"‚úì F√ºr alle √ºbernehmen"})]}),r.jsxs("div",{style:{background:"var(--bg-glass, rgba(255, 255, 255, 0.08))",border:"2px solid var(--border-secondary, rgba(255, 255, 255, 0.1))",borderRadius:"12px",overflow:"hidden"},children:[r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 120px",gap:"1rem",padding:"1rem 1.5rem",background:"var(--bg-hover, rgba(255, 255, 255, 0.12))",borderBottom:"2px solid var(--border-secondary, rgba(255, 255, 255, 0.1))",fontWeight:600,color:"var(--gold, #ffd700)",fontSize:"0.9rem"},children:[r.jsx("span",{children:"Variante"}),r.jsx("span",{children:"Bestand"}),r.jsx("span",{children:"Mindestbestand"}),r.jsx("span",{children:"Status"})]}),r.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:n.map((e,a)=>{const s=z.varianten_bestand[e.key]||{bestand:0,mindestbestand:0},t=s.bestand<=s.mindestbestand&&s.mindestbestand>0,i=0===s.bestand;return r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 120px",gap:"1rem",padding:"0.75rem 1.5rem",borderBottom:a<n.length-1?"1px solid #e9ecef":"none",background:i?"rgba(239, 68, 68, 0.05)":t?"rgba(234, 179, 8, 0.1)":"#ffffff",alignItems:"center"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.farbe.hex&&r.jsx("span",{style:{width:"24px",height:"24px",borderRadius:"50%",background:e.farbe.hex,border:"#FFFFFF"===e.farbe.hex?"1px solid var(--border-secondary, rgba(255, 255, 255, 0.1))":"none",boxShadow:"0 1px 3px rgba(0,0,0,0.2)",flexShrink:0}}),r.jsx("span",{style:{color:"var(--text-primary, #ffffff)",fontWeight:500},children:e.label})]}),r.jsx("input",{type:"number",value:s.bestand,onChange:r=>T(e.key,"bestand",r.target.value),min:"0",style:{...R,padding:"0.5rem 0.75rem",fontSize:"0.95rem",textAlign:"center"}}),r.jsx("input",{type:"number",value:s.mindestbestand,onChange:r=>T(e.key,"mindestbestand",r.target.value),min:"0",style:{...R,padding:"0.5rem 0.75rem",fontSize:"0.95rem",textAlign:"center"}}),r.jsx("span",{style:{padding:"0.35rem 0.75rem",borderRadius:"20px",fontSize:"0.8rem",fontWeight:600,textAlign:"center",background:i?"#fef2f2":t?"#fef3c7":"#ecfdf5",color:i?"#dc2626":t?"#d97706":"var(--gold, #ffd700)",border:"1px solid "+(i?"#fca5a5":t?"#fcd34d":"#6ee7b7")},children:i?"‚ùå Leer":t?"‚ö†Ô∏è Kritisch":"‚úì OK"})]},e.key)})})]}),r.jsxs("div",{style:{marginTop:"1.5rem",display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"1rem"},children:[r.jsxs("div",{style:{padding:"1rem",background:"var(--bg-hover, rgba(255, 255, 255, 0.12))",borderRadius:"8px",textAlign:"center"},children:[r.jsx("p",{style:{color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",fontSize:"0.85rem",margin:"0 0 0.25rem 0"},children:"Gesamtbestand"}),r.jsx("p",{style:{color:"var(--gold, #ffd700)",fontSize:"1.5rem",fontWeight:700,margin:0},children:Object.values(z.varianten_bestand).reduce((e,r)=>e+(r.bestand||0),0)})]}),r.jsxs("div",{style:{padding:"1rem",background:"#ecfdf5",borderRadius:"8px",textAlign:"center"},children:[r.jsx("p",{style:{color:"var(--gold, #ffd700)",fontSize:"0.85rem",margin:"0 0 0.25rem 0"},children:"Verf√ºgbar"}),r.jsx("p",{style:{color:"var(--gold, #ffd700)",fontSize:"1.5rem",fontWeight:700,margin:0},children:n.filter(e=>{const r=z.varianten_bestand[e.key];return r&&r.bestand>r.mindestbestand}).length})]}),r.jsxs("div",{style:{padding:"1rem",background:"#fef3c7",borderRadius:"8px",textAlign:"center"},children:[r.jsx("p",{style:{color:"#d97706",fontSize:"0.85rem",margin:"0 0 0.25rem 0"},children:"Kritisch"}),r.jsx("p",{style:{color:"#d97706",fontSize:"1.5rem",fontWeight:700,margin:0},children:n.filter(e=>{const r=z.varianten_bestand[e.key];return r&&r.bestand<=r.mindestbestand&&r.bestand>0}).length})]}),r.jsxs("div",{style:{padding:"1rem",background:"#fef2f2",borderRadius:"8px",textAlign:"center"},children:[r.jsx("p",{style:{color:"#dc2626",fontSize:"0.85rem",margin:"0 0 0.25rem 0"},children:"Leer"}),r.jsx("p",{style:{color:"#dc2626",fontSize:"1.5rem",fontWeight:700,margin:0},children:n.filter(e=>{const r=z.varianten_bestand[e.key];return!r||0===r.bestand}).length})]})]})]})]}),!z.lager_tracking&&r.jsx("div",{style:{padding:"2rem",background:"var(--bg-hover, rgba(255, 255, 255, 0.12))",borderRadius:"12px",textAlign:"center",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))"},children:r.jsx("p",{style:{fontSize:"1.1rem",margin:0},children:"üì¶ Aktivieren Sie die Lagerbestandsverfolgung, um den Bestand zu verwalten."})})]})},K=e=>{S(r=>({...r,varianten_groessen:r.varianten_groessen.includes(e)?r.varianten_groessen.filter(r=>r!==e):[...r.varianten_groessen,e]}))},G=()=>{z.custom_groesse&&!z.varianten_groessen.includes(z.custom_groesse)&&S(e=>({...e,varianten_groessen:[...e.varianten_groessen,e.custom_groesse],custom_groesse:""}))},I=()=>{z.custom_farbe_name&&!z.varianten_farben.some(e=>e.name===z.custom_farbe_name)&&S(e=>({...e,varianten_farben:[...e.varianten_farben,{name:e.custom_farbe_name,hex:e.custom_farbe_hex}],custom_farbe_name:"",custom_farbe_hex:"#000000"}))},X=()=>{z.custom_material&&!z.varianten_material.includes(z.custom_material)&&S(e=>({...e,varianten_material:[...e.varianten_material,e.custom_material],custom_material:""}))},M={padding:"0.75rem 1rem",background:"var(--bg-glass, rgba(255, 255, 255, 0.08))",border:"2px solid var(--border-secondary, rgba(255, 255, 255, 0.1))",borderRadius:"8px",color:"var(--text-primary, #ffffff)",fontSize:"1rem",width:"100%",boxSizing:"border-box"},V=()=>r.jsxs("div",{className:"tab-content-section",style:{overflow:"auto"},children:[r.jsx("div",{style:{marginBottom:"2rem",padding:"1rem",background:"rgba(107, 68, 35, 0.05)",borderRadius:"12px",border:"2px solid rgba(107, 68, 35, 0.2)"},children:r.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer",fontSize:"1.1rem",fontWeight:600,color:"var(--text-primary, var(--text-primary, #ffffff))"},children:[r.jsx("input",{type:"checkbox",checked:z.hat_varianten,onChange:e=>S(r=>({...r,hat_varianten:e.target.checked})),style:{width:"20px",height:"20px",accentColor:"var(--gold, #ffd700)"}}),"üé® Artikel hat Varianten (Gr√∂√üen, Farben, Material)"]})}),z.hat_varianten&&r.jsxs("div",{style:{display:"grid",gap:"2rem"},children:[r.jsxs("div",{style:{background:"var(--bg-glass, rgba(255, 255, 255, 0.08))",border:"2px solid var(--border-secondary, rgba(255, 255, 255, 0.1))",borderRadius:"12px",padding:"1.5rem"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[r.jsx("h3",{style:{margin:0,color:"var(--gold, #ffd700)",fontSize:"1.2rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:"üìè Gr√∂√üen"}),r.jsx("button",{type:"button",onClick:()=>{const e=["XXS","XS","S","M","L","XL","XXL","3XL","100","110","120","130","140","150","160","170","180","190","200"];S(r=>({...r,varianten_groessen:e}))},style:{padding:"0.4rem 0.8rem",background:"#dcfce7",border:"1px solid #86efac",borderRadius:"6px",cursor:"pointer",fontSize:"0.8rem",fontWeight:600,color:"var(--gold, #ffd700)"},children:"‚úì Alle ausw√§hlen"})]}),r.jsxs("div",{style:{marginBottom:"1rem"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[r.jsx("p",{style:{color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",fontSize:"0.9rem",margin:0},children:"Konfektionsgr√∂√üen:"}),r.jsx("button",{type:"button",onClick:()=>{const e=["XXS","XS","S","M","L","XL","XXL","3XL"];S(r=>({...r,varianten_groessen:[...new Set([...r.varianten_groessen,...e])]}))},style:{padding:"0.25rem 0.5rem",background:"var(--bg-glass, rgba(255, 255, 255, 0.08))",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"0.75rem",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))"},children:"Alle"})]}),r.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:["XXS","XS","S","M","L","XL","XXL","3XL"].map(e=>r.jsx("button",{type:"button",onClick:()=>K(e),style:{padding:"0.5rem 1rem",border:"2px solid",borderColor:z.varianten_groessen.includes(e)?"var(--gold, #ffd700)":"var(--border-secondary, rgba(255, 255, 255, 0.1))",borderRadius:"8px",background:z.varianten_groessen.includes(e)?"var(--gold, #ffd700)":"#ffffff",color:z.varianten_groessen.includes(e)?"#ffffff":"var(--text-primary, #ffffff)",cursor:"pointer",fontWeight:600,transition:"all 0.2s ease"},children:e},e))})]}),r.jsxs("div",{style:{marginBottom:"1rem"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[r.jsx("p",{style:{color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",fontSize:"0.9rem",margin:0},children:"K√∂rpergr√∂√üen (cm):"}),r.jsx("button",{type:"button",onClick:()=>{const e=["100","110","120","130","140","150","160","170","180","190","200"];S(r=>({...r,varianten_groessen:[...new Set([...r.varianten_groessen,...e])]}))},style:{padding:"0.25rem 0.5rem",background:"var(--bg-glass, rgba(255, 255, 255, 0.08))",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"0.75rem",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))"},children:"Alle"})]}),r.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:["100","110","120","130","140","150","160","170","180","190","200"].map(e=>r.jsx("button",{type:"button",onClick:()=>K(e),style:{padding:"0.5rem 0.75rem",border:"2px solid",borderColor:z.varianten_groessen.includes(e)?"var(--gold, #ffd700)":"var(--border-secondary, rgba(255, 255, 255, 0.1))",borderRadius:"8px",background:z.varianten_groessen.includes(e)?"var(--gold, #ffd700)":"#ffffff",color:z.varianten_groessen.includes(e)?"#ffffff":"var(--text-primary, #ffffff)",cursor:"pointer",fontWeight:600,fontSize:"0.9rem",transition:"all 0.2s ease"},children:e},e))})]}),r.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[r.jsx("input",{type:"text",placeholder:"Eigene Gr√∂√üe...",value:z.custom_groesse,onChange:e=>S(r=>({...r,custom_groesse:e.target.value})),style:{...M,flex:1}}),r.jsx("button",{type:"button",onClick:G,style:{padding:"0.75rem 1.5rem",background:"var(--gold, #ffd700)",color:"var(--dark-bg, #0f0f23)",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600},children:"+ Hinzuf√ºgen"})]}),z.varianten_groessen.length>0&&r.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"var(--bg-hover, rgba(255, 255, 255, 0.12))",borderRadius:"8px"},children:[r.jsxs("p",{style:{color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",fontSize:"0.85rem",marginBottom:"0.5rem"},children:["Ausgew√§hlt (",z.varianten_groessen.length,"):"]}),r.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:z.varianten_groessen.map(e=>r.jsx("span",{style:{padding:"0.25rem 0.75rem",background:"var(--gold, #ffd700)",color:"var(--dark-bg, #0f0f23)",borderRadius:"20px",fontSize:"0.85rem",fontWeight:500},children:e},e))})]})]}),r.jsxs("div",{style:{background:"var(--bg-glass, rgba(255, 255, 255, 0.08))",border:"2px solid var(--border-secondary, rgba(255, 255, 255, 0.1))",borderRadius:"12px",padding:"1.5rem"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[r.jsx("h3",{style:{margin:0,color:"var(--gold, #ffd700)",fontSize:"1.2rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:"üé® Farben"}),r.jsx("button",{type:"button",onClick:()=>{S(e=>({...e,varianten_farben:[..._]}))},style:{padding:"0.4rem 0.8rem",background:"#dcfce7",border:"1px solid #86efac",borderRadius:"6px",cursor:"pointer",fontSize:"0.8rem",fontWeight:600,color:"var(--gold, #ffd700)"},children:"‚úì Alle ausw√§hlen"})]}),r.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.75rem",marginBottom:"1rem"},children:_.map(e=>r.jsxs("button",{type:"button",onClick:()=>(e=>{S(r=>({...r,varianten_farben:r.varianten_farben.some(r=>r.name===e.name)?r.varianten_farben.filter(r=>r.name!==e.name):[...r.varianten_farben,e]}))})(e),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",border:"2px solid",borderColor:z.varianten_farben.some(r=>r.name===e.name)?"var(--gold, #ffd700)":"var(--border-secondary, rgba(255, 255, 255, 0.1))",borderRadius:"8px",background:z.varianten_farben.some(r=>r.name===e.name)?"rgba(107, 68, 35, 0.1)":"#ffffff",cursor:"pointer",transition:"all 0.2s ease"},children:[r.jsx("span",{style:{width:"20px",height:"20px",borderRadius:"50%",background:e.hex,border:"#FFFFFF"===e.hex?"1px solid var(--border-secondary, rgba(255, 255, 255, 0.1))":"none",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"}}),r.jsx("span",{style:{color:"var(--text-primary, #ffffff)",fontWeight:500},children:e.name})]},e.name))}),r.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",flexWrap:"wrap"},children:[r.jsx("input",{type:"text",placeholder:"Farbname...",value:z.custom_farbe_name,onChange:e=>S(r=>({...r,custom_farbe_name:e.target.value})),style:{...M,flex:1,minWidth:"150px"}}),r.jsx("input",{type:"color",value:z.custom_farbe_hex,onChange:e=>S(r=>({...r,custom_farbe_hex:e.target.value})),style:{width:"50px",height:"42px",cursor:"pointer",borderRadius:"8px",border:"2px solid var(--border-secondary, rgba(255, 255, 255, 0.1))"}}),r.jsx("button",{type:"button",onClick:I,style:{padding:"0.75rem 1.5rem",background:"var(--gold, #ffd700)",color:"var(--dark-bg, #0f0f23)",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600},children:"+ Hinzuf√ºgen"})]}),z.varianten_farben.length>0&&r.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"var(--bg-hover, rgba(255, 255, 255, 0.12))",borderRadius:"8px"},children:[r.jsxs("p",{style:{color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",fontSize:"0.85rem",marginBottom:"0.5rem"},children:["Ausgew√§hlt (",z.varianten_farben.length,"):"]}),r.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:z.varianten_farben.map(e=>r.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.25rem 0.75rem",background:"var(--bg-glass, rgba(255, 255, 255, 0.08))",border:"1px solid var(--border-secondary, rgba(255, 255, 255, 0.1))",borderRadius:"20px",fontSize:"0.85rem"},children:[r.jsx("span",{style:{width:"14px",height:"14px",borderRadius:"50%",background:e.hex,border:"#FFFFFF"===e.hex?"1px solid var(--border-secondary, rgba(255, 255, 255, 0.1))":"none"}}),e.name]},e.name))})]})]}),r.jsxs("div",{style:{background:"var(--bg-glass, rgba(255, 255, 255, 0.08))",border:"2px solid var(--border-secondary, rgba(255, 255, 255, 0.1))",borderRadius:"12px",padding:"1.5rem"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[r.jsx("h3",{style:{margin:0,color:"var(--gold, #ffd700)",fontSize:"1.2rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:"üßµ Material / Stoff"}),r.jsx("button",{type:"button",onClick:()=>{const e=["Baumwolle","Polyester","Mischgewebe","Seide","Leinen","Wolle","Leder","Kunstleder"];S(r=>({...r,varianten_material:e}))},style:{padding:"0.4rem 0.8rem",background:"#dcfce7",border:"1px solid #86efac",borderRadius:"6px",cursor:"pointer",fontSize:"0.8rem",fontWeight:600,color:"var(--gold, #ffd700)"},children:"‚úì Alle ausw√§hlen"})]}),r.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"1rem"},children:["Baumwolle","Polyester","Mischgewebe","Seide","Leinen","Wolle","Leder","Kunstleder"].map(e=>r.jsx("button",{type:"button",onClick:()=>{z.varianten_material.includes(e)||S(r=>({...r,varianten_material:[...r.varianten_material,e]}))},style:{padding:"0.5rem 1rem",border:"2px solid",borderColor:z.varianten_material.includes(e)?"var(--gold, #ffd700)":"var(--border-secondary, rgba(255, 255, 255, 0.1))",borderRadius:"8px",background:z.varianten_material.includes(e)?"var(--gold, #ffd700)":"#ffffff",color:z.varianten_material.includes(e)?"#ffffff":"var(--text-primary, #ffffff)",cursor:"pointer",fontWeight:500,transition:"all 0.2s ease"},children:e},e))}),r.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[r.jsx("input",{type:"text",placeholder:"Eigenes Material...",value:z.custom_material,onChange:e=>S(r=>({...r,custom_material:e.target.value})),style:{...M,flex:1}}),r.jsx("button",{type:"button",onClick:X,style:{padding:"0.75rem 1.5rem",background:"var(--gold, #ffd700)",color:"var(--dark-bg, #0f0f23)",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600},children:"+ Hinzuf√ºgen"})]}),z.varianten_material.length>0&&r.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"var(--bg-hover, rgba(255, 255, 255, 0.12))",borderRadius:"8px"},children:[r.jsxs("p",{style:{color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",fontSize:"0.85rem",marginBottom:"0.5rem"},children:["Ausgew√§hlt (",z.varianten_material.length,"):"]}),r.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:z.varianten_material.map(e=>r.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.25rem 0.75rem",background:"var(--gold, #ffd700)",color:"var(--dark-bg, #0f0f23)",borderRadius:"20px",fontSize:"0.85rem",fontWeight:500},children:[e,r.jsx("button",{type:"button",onClick:()=>{return r=e,void S(e=>({...e,varianten_material:e.varianten_material.filter(e=>e!==r)}));var r},style:{background:"rgba(255,255,255,0.3)",border:"none",borderRadius:"50%",width:"18px",height:"18px",cursor:"pointer",color:"#ffffff",fontSize:"0.7rem",display:"flex",alignItems:"center",justifyContent:"center"},children:"‚úï"})]},e))})]})]}),(z.varianten_groessen.length>0||z.varianten_farben.length>0||z.varianten_material.length>0)&&r.jsxs("div",{style:{background:"rgba(107, 68, 35, 0.05)",border:"2px solid rgba(107, 68, 35, 0.2)",borderRadius:"12px",padding:"1.5rem"},children:[r.jsx("h3",{style:{margin:"0 0 1rem 0",color:"var(--gold, #ffd700)",fontSize:"1.2rem"},children:"üìä Varianten-Zusammenfassung"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[r.jsxs("div",{style:{background:"var(--bg-glass, rgba(255, 255, 255, 0.08))",padding:"1rem",borderRadius:"8px"},children:[r.jsx("p",{style:{color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",fontSize:"0.85rem",marginBottom:"0.5rem"},children:"Gr√∂√üen"}),r.jsx("p",{style:{fontWeight:700,fontSize:"1.5rem",color:"var(--gold, #ffd700)"},children:z.varianten_groessen.length})]}),r.jsxs("div",{style:{background:"var(--bg-glass, rgba(255, 255, 255, 0.08))",padding:"1rem",borderRadius:"8px"},children:[r.jsx("p",{style:{color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",fontSize:"0.85rem",marginBottom:"0.5rem"},children:"Farben"}),r.jsx("p",{style:{fontWeight:700,fontSize:"1.5rem",color:"var(--gold, #ffd700)"},children:z.varianten_farben.length})]}),r.jsxs("div",{style:{background:"var(--bg-glass, rgba(255, 255, 255, 0.08))",padding:"1rem",borderRadius:"8px"},children:[r.jsx("p",{style:{color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",fontSize:"0.85rem",marginBottom:"0.5rem"},children:"Materialien"}),r.jsx("p",{style:{fontWeight:700,fontSize:"1.5rem",color:"var(--gold, #ffd700)"},children:z.varianten_material.length})]}),r.jsxs("div",{style:{background:"var(--bg-glass, rgba(255, 255, 255, 0.08))",padding:"1rem",borderRadius:"8px"},children:[r.jsx("p",{style:{color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",fontSize:"0.85rem",marginBottom:"0.5rem"},children:"M√∂gliche Kombinationen"}),r.jsx("p",{style:{fontWeight:700,fontSize:"1.5rem",color:"var(--gold, #ffd700)"},children:Math.max(1,z.varianten_groessen.length)*Math.max(1,z.varianten_farben.length)*Math.max(1,z.varianten_material.length)})]})]})]})]})]});return l&&"edit"===i?r.jsx("div",{className:"loading-spinner",children:"L√§dt..."}):r.jsxs("div",{className:"artikel-formular-page",style:{padding:"2rem",maxWidth:"1600px",margin:"0 auto"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"2px solid var(--border-primary, rgba(255, 215, 0, 0.2))"},children:[r.jsxs("div",{children:[r.jsx("h1",{style:{fontSize:"2rem",fontWeight:700,color:"var(--gold, #ffd700)",marginBottom:"0.5rem"},children:"create"===i?"üÜï Neuen Artikel erstellen":"‚úèÔ∏è Artikel bearbeiten"}),"edit"===i&&z.name&&r.jsx("p",{style:{fontSize:"1.1rem",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))"},children:z.name})]}),r.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[r.jsx("button",{onClick:()=>o("/dashboard/artikel"),style:{padding:"0.75rem 1.5rem",background:"var(--bg-glass, rgba(255, 255, 255, 0.08))",color:"var(--text-primary, #ffffff)",border:"1px solid var(--border-primary, rgba(255, 215, 0, 0.2))",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:600},children:"‚Üê Zur√ºck zur Liste"}),r.jsx("button",{onClick:async()=>{try{c(!0);const e="create"===i?"":`/${d}`,r="create"===i?"POST":"PUT";console.log("üîç ArtikelFormular - Speichern Kalkulation:",{listeneinkaufspreis_euro:z.listeneinkaufspreis_euro,lieferrabatt_prozent:z.lieferrabatt_prozent,gemeinkosten_prozent:z.gemeinkosten_prozent,gewinnzuschlag_prozent:z.gewinnzuschlag_prozent,verkaufspreis_euro:z.verkaufspreis_euro,bezugskosten_euro:z.bezugskosten_euro});const n=await w(e,{method:r,body:JSON.stringify(z)});n.success?o("/dashboard/artikel"):p(n.error||"Fehler beim Speichern")}catch(e){p("Fehler beim Speichern: "+e.message)}finally{c(!1)}},disabled:l||!z.name||!z.verkaufspreis_euro,style:{padding:"0.75rem 2rem",background:"var(--gold, #ffd700)",color:"var(--dark-bg, #0f0f23)",border:"none",borderRadius:"8px",cursor:l?"not-allowed":"pointer",fontSize:"1rem",fontWeight:600,opacity:!l&&z.name&&z.verkaufspreis_euro?1:.5},children:l?"Speichert...":"üíæ Speichern"})]})]}),g&&r.jsx("div",{style:{padding:"1rem",background:"rgba(239, 68, 68, 0.1)",border:"1px solid #ef4444",borderRadius:"8px",color:"#ef4444",marginBottom:"1rem"},children:g}),r.jsx("div",{className:"sub-tabs",style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",padding:"0.25rem",background:"var(--bg-glass, rgba(255, 255, 255, 0.08))",borderRadius:"12px",border:"1px solid var(--border-primary, rgba(255, 215, 0, 0.2))",flexWrap:"wrap"},children:[{id:"basis",label:"Basis",icon:"üìã"},{id:"varianten",label:"Varianten",icon:"üé®"},{id:"preise",label:"Preiskalkulation",icon:"üí∂"},{id:"lager",label:"Lager",icon:"üì¶"},{id:"einstellungen",label:"Einstellungen",icon:"‚öôÔ∏è"}].map(e=>r.jsxs("button",{onClick:()=>v(e.id),className:"sub-tab-btn "+(y===e.id?"active":""),style:{flex:1,padding:"0.75rem 1.5rem",background:y===e.id?"var(--gold, #ffd700)":"transparent",color:y===e.id?"var(--dark-bg, #0f0f23)":"var(--text-secondary, rgba(255, 255, 255, 0.7))",border:y===e.id?"1px solid var(--gold, #ffd700)":"1px solid var(--border-secondary, rgba(255, 255, 255, 0.1))",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:600,transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",whiteSpace:"nowrap"},children:[r.jsx("span",{children:e.icon}),r.jsx("span",{children:e.label})]},e.id))}),r.jsx("div",{style:{background:"var(--bg-glass, rgba(255, 255, 255, 0.08))",border:"2px solid var(--border-primary, rgba(255, 215, 0, 0.2))",borderRadius:"12px",padding:"2rem",minHeight:"600px"},children:(()=>{switch(y){case"basis":return r.jsx("div",{className:"tab-content-section",children:r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1.5rem"},children:[r.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[r.jsx("label",{style:W,children:"Artikelgruppe *"}),r.jsxs("select",{value:u,onChange:e=>{b(e.target.value),S(r=>({...r,artikelgruppe_id:"",kategorie_id:e.target.value}))},required:!0,style:{...R,cursor:"pointer"},children:[r.jsx("option",{value:"",children:"W√§hlen Sie eine Artikelgruppe..."}),x.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[r.jsx("label",{style:W,children:"Unterkategorie"}),r.jsxs("select",{name:"artikelgruppe_id",value:z.artikelgruppe_id,onChange:B,style:{...R,cursor:"pointer"},disabled:!u||0===F().length,children:[r.jsx("option",{value:"",children:u?0===F().length?"Keine Unterkategorien vorhanden":"W√§hlen Sie eine Unterkategorie...":"Erst Artikelgruppe w√§hlen..."}),F().map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gridColumn:"1 / -1"},children:[r.jsx("label",{style:W,children:"Artikelname *"}),r.jsx("input",{type:"text",name:"name",value:z.name,onChange:B,required:!0,style:R,placeholder:"z.B. Proteinriegel Schokolade 50g"})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gridColumn:"1 / -1"},children:[r.jsx("label",{style:W,children:"Beschreibung"}),r.jsx("textarea",{name:"beschreibung",value:z.beschreibung,onChange:B,rows:"3",style:{...R,resize:"vertical",minHeight:"80px"},placeholder:"Produktbeschreibung..."})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[r.jsx("label",{style:W,children:"EAN-Code"}),r.jsx("input",{type:"text",name:"ean_code",value:z.ean_code,onChange:B,style:R,placeholder:"z.B. 4250123456789"})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[r.jsx("label",{style:W,children:"Artikelnummer"}),r.jsx("input",{type:"text",name:"artikel_nummer",value:z.artikel_nummer,onChange:B,style:R,placeholder:"Wird automatisch generiert"}),"create"===i&&z.artikel_nummer&&r.jsx("small",{style:{color:"#16a34a",marginTop:"0.25rem",fontSize:"0.85rem"},children:"‚úì Auto-generiert basierend auf Artikelgruppe"})]})]})});case"varianten":return V();case"preise":return(()=>{const e=parseFloat(z.listeneinkaufspreis_euro)||0,n=parseFloat(z.lieferrabatt_prozent)||0,a=parseFloat(z.lieferskonto_prozent)||0,s=parseFloat(z.bezugskosten_euro)||0,t=parseFloat(z.gemeinkosten_prozent)||0,i=parseFloat(z.gewinnzuschlag_prozent)||0,o=parseFloat(z.kundenskonto_prozent)||0,d=parseFloat(z.kundenrabatt_prozent)||0,l=parseFloat(z.mwst_prozent)||19,c=e,g=c*(n/100),p=c-g,m=p*(a/100),f=p-m,x=s,h=f+x,u=h*(t/100),b=h+u,y=b*(i/100),v=b+y,_=v*(o/100),w=v+_,F=w*(d/100),C=w+F,R=C*(l/100),W=C+R,A=C-h,N=h>0?A/h*100:0,L=(e,r)=>{S("kids"===r?r=>({...r,groessen_kids:r.groessen_kids.includes(e)?r.groessen_kids.filter(r=>r!==e):[...r.groessen_kids,e],groessen_erwachsene:r.groessen_erwachsene.filter(r=>r!==e)}):r=>({...r,groessen_erwachsene:r.groessen_erwachsene.includes(e)?r.groessen_erwachsene.filter(r=>r!==e):[...r.groessen_erwachsene,e],groessen_kids:r.groessen_kids.filter(r=>r!==e)}))};return r.jsx("div",{className:"tab-content-section",style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:r.jsxs("div",{className:"preiskalkulation-container",style:{height:"100%",overflow:"hidden",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[r.jsxs("div",{className:"preis-eingabe-section",style:{overflowY:"auto",maxHeight:"100%",padding:"0.85rem",background:"var(--glass-bg, var(--bg-hover, rgba(255, 255, 255, 0.12)))",border:"2px solid var(--border-accent, var(--border-secondary, rgba(255, 255, 255, 0.1)))",borderRadius:"8px"},children:[r.jsxs("div",{style:{display:"flex",gap:"0.35rem",marginBottom:"1rem",background:"#e5e7eb",padding:"0.25rem",borderRadius:"8px"},children:[r.jsx("button",{type:"button",onClick:()=>k("einzelkalkulation"),style:{flex:1,padding:"0.5rem 0.75rem",background:"einzelkalkulation"===j?"var(--gold, #ffd700)":"transparent",color:"einzelkalkulation"===j?"#ffffff":"var(--text-secondary, rgba(255, 255, 255, 0.7))",border:"none",borderRadius:"6px",fontSize:"0.8rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s ease"},children:"üí∞ Einzel"}),r.jsx("button",{type:"button",onClick:()=>k("groessenabhaengig"),style:{flex:1,padding:"0.5rem 0.75rem",background:"groessenabhaengig"===j?"var(--gold, #ffd700)":"transparent",color:"groessenabhaengig"===j?"#ffffff":"var(--text-secondary, rgba(255, 255, 255, 0.7))",border:"none",borderRadius:"6px",fontSize:"0.8rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s ease"},children:"üë∂üßë Gr√∂√üen"}),r.jsx("button",{type:"button",onClick:()=>k("uebersicht"),style:{flex:1,padding:"0.5rem 0.75rem",background:"uebersicht"===j?"var(--gold, #ffd700)":"transparent",color:"uebersicht"===j?"#ffffff":"var(--text-secondary, rgba(255, 255, 255, 0.7))",border:"none",borderRadius:"6px",fontSize:"0.8rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s ease"},children:"‚úì √úbersicht"})]}),"einzelkalkulation"===j&&r.jsxs(r.Fragment,{children:[r.jsx("h3",{style:{marginBottom:"0.3rem",fontSize:"0.9rem",fontWeight:600,color:"var(--text-primary, var(--text-primary, #ffffff))"},children:"üìù Handelskalkulation"}),r.jsxs("div",{style:{marginBottom:"0.3rem"},children:[r.jsx("h4",{style:{color:"var(--gold, #ffd700)",fontSize:"0.75rem",marginBottom:"0.15rem",fontWeight:600},children:"üì¶ Bezugskalkulation"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.2rem 0.4rem"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{fontSize:"0.65rem",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",display:"block"},children:"Listeneinkaufspreis (‚Ç¨)"}),r.jsx("input",{type:"number",name:"listeneinkaufspreis_euro",value:z.listeneinkaufspreis_euro,onChange:B,step:"0.01",min:"0",className:"form-input",placeholder:"0.00",style:{height:"28px",padding:"0.2rem 0.4rem",fontSize:"0.85rem"}})]}),r.jsxs("div",{children:[r.jsx("label",{style:{fontSize:"0.65rem",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",display:"block"},children:"Lieferrabatt (%)"}),r.jsx("input",{type:"number",name:"lieferrabatt_prozent",value:z.lieferrabatt_prozent,onChange:B,step:"0.01",min:"0",max:"100",className:"form-input",placeholder:"0.00",style:{height:"28px",padding:"0.2rem 0.4rem",fontSize:"0.85rem"}})]}),r.jsxs("div",{children:[r.jsx("label",{style:{fontSize:"0.65rem",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",display:"block"},children:"Lieferskonto (%)"}),r.jsx("input",{type:"number",name:"lieferskonto_prozent",value:z.lieferskonto_prozent,onChange:B,step:"0.01",min:"0",max:"100",className:"form-input",placeholder:"0.00",style:{height:"28px",padding:"0.2rem 0.4rem",fontSize:"0.85rem"}})]}),r.jsxs("div",{children:[r.jsx("label",{style:{fontSize:"0.65rem",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",display:"block"},children:"Bezugskosten (‚Ç¨)"}),r.jsx("input",{type:"number",name:"bezugskosten_euro",value:z.bezugskosten_euro,onChange:B,step:"0.01",min:"0",className:"form-input",placeholder:"0.00",style:{height:"28px",padding:"0.2rem 0.4rem",fontSize:"0.85rem"}})]})]})]}),r.jsxs("div",{style:{marginBottom:"0.3rem"},children:[r.jsx("h4",{style:{color:"var(--gold, #ffd700)",fontSize:"0.75rem",marginBottom:"0.15rem",fontWeight:600},children:"üè≠ Selbstkosten"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.2rem 0.4rem"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{fontSize:"0.65rem",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",display:"block"},children:"Gemeinkosten (%)"}),r.jsx("input",{type:"number",name:"gemeinkosten_prozent",value:z.gemeinkosten_prozent,onChange:B,step:"0.01",min:"0",className:"form-input",placeholder:"0.00",style:{height:"28px",padding:"0.2rem 0.4rem",fontSize:"0.85rem"}})]}),r.jsxs("div",{children:[r.jsx("label",{style:{fontSize:"0.65rem",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",display:"block"},children:"Gewinnzuschlag (%)"}),r.jsx("input",{type:"number",name:"gewinnzuschlag_prozent",value:z.gewinnzuschlag_prozent,onChange:B,step:"0.01",min:"0",className:"form-input",placeholder:"0.00",style:{height:"28px",padding:"0.2rem 0.4rem",fontSize:"0.85rem"}})]})]})]}),r.jsxs("div",{style:{marginBottom:"0.3rem"},children:[r.jsx("h4",{style:{color:"var(--gold, #ffd700)",fontSize:"0.75rem",marginBottom:"0.15rem",fontWeight:600},children:"üí∞ Verkauf"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"0.2rem 0.4rem"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{fontSize:"0.65rem",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",display:"block"},children:"Kundenskonto (%)"}),r.jsx("input",{type:"number",name:"kundenskonto_prozent",value:z.kundenskonto_prozent,onChange:B,step:"0.01",min:"0",max:"100",className:"form-input",placeholder:"0.00",style:{height:"28px",padding:"0.2rem 0.4rem",fontSize:"0.85rem"}})]}),r.jsxs("div",{children:[r.jsx("label",{style:{fontSize:"0.65rem",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",display:"block"},children:"Kundenrabatt (%)"}),r.jsx("input",{type:"number",name:"kundenrabatt_prozent",value:z.kundenrabatt_prozent,onChange:B,step:"0.01",min:"0",max:"100",className:"form-input",placeholder:"0.00",style:{height:"28px",padding:"0.2rem 0.4rem",fontSize:"0.85rem"}})]}),r.jsxs("div",{children:[r.jsx("label",{style:{fontSize:"0.65rem",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",display:"block"},children:"MwSt. (%)"}),r.jsxs("select",{name:"mwst_prozent",value:z.mwst_prozent,onChange:B,className:"form-select",style:{height:"28px",padding:"0.2rem 0.4rem",fontSize:"0.85rem"},children:[r.jsx("option",{value:"7.00",children:"7%"}),r.jsx("option",{value:"19.00",children:"19%"})]})]})]})]}),"einzelkalkulation"===j&&e>0&&C>0&&r.jsxs("div",{style:{marginTop:"0.5rem",padding:"0.5rem",background:"rgba(107, 68, 35, 0.1)",borderRadius:"6px",border:"1px solid rgba(107, 68, 35, 0.3)"},children:[r.jsxs("div",{style:{marginBottom:"0.5rem",fontSize:"0.85rem",color:"var(--gold, #ffd700)"},children:["Kalkulierter Nettoverkaufspreis: ",r.jsxs("strong",{children:[C.toFixed(2)," ‚Ç¨"]})]}),r.jsx("button",{type:"button",onClick:()=>{S(e=>({...e,verkaufspreis_euro:C.toFixed(2),einkaufspreis_euro:f.toFixed(2)}))},style:{width:"100%",padding:"0.75rem",background:"var(--gold, #ffd700)",color:"var(--dark-bg, #0f0f23)",border:"none",borderRadius:"8px",fontSize:"0.95rem",fontWeight:600,cursor:"pointer",transition:"all 0.3s ease"},onMouseOver:e=>e.target.style.transform="translateY(-2px)",onMouseOut:e=>e.target.style.transform="translateY(0)",children:"‚úÖ Neuen Preis √ºbernehmen"})]})]}),"groessenabhaengig"===j&&r.jsxs("div",{style:{marginTop:"0.5rem",padding:"1rem",background:"var(--bg-glass, rgba(255, 255, 255, 0.08))",border:"2px solid var(--gold, #ffd700)",borderRadius:"12px"},children:[r.jsx("h4",{style:{margin:"0 0 1rem 0",fontSize:"1rem",fontWeight:600,color:"var(--gold, #ffd700)",display:"flex",alignItems:"center",gap:"0.5rem"},children:"üë∂üßë Gr√∂√üenabh√§ngige Einkaufspreise"}),r.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",marginBottom:"1rem"},children:"Unterschiedliche EK-Preise f√ºr Kids und Erwachsene eingeben. Die Kalkulationsparameter unten gelten f√ºr beide."}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"0.75rem"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"var(--gold, #ffd700)",marginBottom:"0.5rem"},children:"üë∂ Listeneinkaufspreis Kids (‚Ç¨)"}),r.jsx("input",{type:"number",name:"listeneinkaufspreis_kids_euro",value:z.listeneinkaufspreis_kids_euro,onChange:B,step:"0.01",min:"0",style:{width:"100%",padding:"0.75rem",border:"2px solid #86efac",borderRadius:"8px",fontSize:"1.1rem",fontWeight:600,background:"#f0fdf4"},placeholder:"z.B. 20.00"})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#1e40af",marginBottom:"0.5rem"},children:"üßë Listeneinkaufspreis Erwachsene (‚Ç¨)"}),r.jsx("input",{type:"number",name:"listeneinkaufspreis_erwachsene_euro",value:z.listeneinkaufspreis_erwachsene_euro,onChange:B,step:"0.01",min:"0",style:{width:"100%",padding:"0.75rem",border:"2px solid #93c5fd",borderRadius:"8px",fontSize:"1.1rem",fontWeight:600,background:"#eff6ff"},placeholder:"z.B. 35.00"})]})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:500,color:"var(--gold, #ffd700)",marginBottom:"0.3rem"},children:"üì¶ Bezugskosten Kids (‚Ç¨)"}),r.jsx("input",{type:"number",name:"bezugskosten_kids_euro",value:z.bezugskosten_kids_euro,onChange:B,step:"0.01",min:"0",style:{width:"100%",padding:"0.5rem",border:"1px solid #86efac",borderRadius:"6px",fontSize:"0.9rem",background:"#f0fdf4"},placeholder:"z.B. 5.00"})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:500,color:"#1e40af",marginBottom:"0.3rem"},children:"üì¶ Bezugskosten Erwachsene (‚Ç¨)"}),r.jsx("input",{type:"number",name:"bezugskosten_erwachsene_euro",value:z.bezugskosten_erwachsene_euro,onChange:B,step:"0.01",min:"0",style:{width:"100%",padding:"0.5rem",border:"1px solid #93c5fd",borderRadius:"6px",fontSize:"0.9rem",background:"#eff6ff"},placeholder:"z.B. 5.00"})]})]}),r.jsxs("div",{style:{background:"#fef3c7",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",border:"2px solid #f59e0b"},children:[r.jsx("p",{style:{fontSize:"0.9rem",fontWeight:700,color:"#92400e",marginBottom:"0.75rem"},children:"üìä Kalkulationsparameter (f√ºr beide Kategorien)"}),r.jsxs("div",{style:{marginBottom:"0.75rem"},children:[r.jsx("p",{style:{fontSize:"0.75rem",fontWeight:600,color:"var(--gold, #ffd700)",marginBottom:"0.3rem"},children:"üì¶ Bezugskalkulation"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{fontSize:"0.7rem",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",display:"block"},children:"Lieferrabatt (%)"}),r.jsx("input",{type:"number",name:"lieferrabatt_prozent",value:z.lieferrabatt_prozent,onChange:B,step:"0.01",min:"0",max:"100",className:"form-input",placeholder:"0",style:{height:"30px",padding:"0.3rem 0.5rem",fontSize:"0.85rem"}})]}),r.jsxs("div",{children:[r.jsx("label",{style:{fontSize:"0.7rem",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",display:"block"},children:"Lieferskonto (%)"}),r.jsx("input",{type:"number",name:"lieferskonto_prozent",value:z.lieferskonto_prozent,onChange:B,step:"0.01",min:"0",max:"100",className:"form-input",placeholder:"0",style:{height:"30px",padding:"0.3rem 0.5rem",fontSize:"0.85rem"}})]})]})]}),r.jsxs("div",{style:{marginBottom:"0.75rem"},children:[r.jsx("p",{style:{fontSize:"0.75rem",fontWeight:600,color:"var(--gold, #ffd700)",marginBottom:"0.3rem"},children:"üè≠ Selbstkosten"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{fontSize:"0.7rem",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",display:"block"},children:"Gemeinkosten (%)"}),r.jsx("input",{type:"number",name:"gemeinkosten_prozent",value:z.gemeinkosten_prozent,onChange:B,step:"0.01",min:"0",className:"form-input",placeholder:"0",style:{height:"30px",padding:"0.3rem 0.5rem",fontSize:"0.85rem"}})]}),r.jsxs("div",{children:[r.jsx("label",{style:{fontSize:"0.7rem",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",display:"block"},children:"Gewinnzuschlag (%)"}),r.jsx("input",{type:"number",name:"gewinnzuschlag_prozent",value:z.gewinnzuschlag_prozent,onChange:B,step:"0.01",min:"0",className:"form-input",placeholder:"0",style:{height:"30px",padding:"0.3rem 0.5rem",fontSize:"0.85rem"}})]})]})]}),r.jsxs("div",{children:[r.jsx("p",{style:{fontSize:"0.75rem",fontWeight:600,color:"var(--gold, #ffd700)",marginBottom:"0.3rem"},children:"üí∞ Verkauf"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"0.5rem"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{fontSize:"0.7rem",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",display:"block"},children:"Kundenskonto (%)"}),r.jsx("input",{type:"number",name:"kundenskonto_prozent",value:z.kundenskonto_prozent,onChange:B,step:"0.01",min:"0",max:"100",className:"form-input",placeholder:"0",style:{height:"30px",padding:"0.3rem 0.5rem",fontSize:"0.85rem"}})]}),r.jsxs("div",{children:[r.jsx("label",{style:{fontSize:"0.7rem",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",display:"block"},children:"Kundenrabatt (%)"}),r.jsx("input",{type:"number",name:"kundenrabatt_prozent",value:z.kundenrabatt_prozent,onChange:B,step:"0.01",min:"0",max:"100",className:"form-input",placeholder:"0",style:{height:"30px",padding:"0.3rem 0.5rem",fontSize:"0.85rem"}})]}),r.jsxs("div",{children:[r.jsx("label",{style:{fontSize:"0.7rem",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",display:"block"},children:"MwSt. (%)"}),r.jsxs("select",{name:"mwst_prozent",value:z.mwst_prozent,onChange:B,className:"form-select",style:{height:"30px",padding:"0.2rem 0.4rem",fontSize:"0.85rem"},children:[r.jsx("option",{value:"7.00",children:"7%"}),r.jsx("option",{value:"19.00",children:"19%"})]})]})]})]})]}),(parseFloat(z.listeneinkaufspreis_kids_euro)>0||parseFloat(z.listeneinkaufspreis_erwachsene_euro)>0)&&r.jsx("div",{style:{padding:"0.5rem 0.75rem",marginBottom:"1rem",background:"#dcfce7",border:"1px solid #86efac",borderRadius:"6px",fontSize:"0.8rem",color:"var(--gold, #ffd700)"},children:"‚úì Vollst√§ndige Kalkulation wird rechts angezeigt ‚Üí"}),z.hat_varianten&&z.varianten_groessen.length>0&&r.jsxs("div",{style:{background:"var(--bg-hover, rgba(255, 255, 255, 0.12))",padding:"1rem",borderRadius:"8px",marginTop:"1rem"},children:[r.jsx("p",{style:{fontSize:"0.85rem",fontWeight:600,color:"var(--gold, #ffd700)",marginBottom:"0.75rem"},children:"üìè Gr√∂√üen-Zuordnung (klicken zum √Ñndern)"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[r.jsxs("div",{children:[r.jsx("p",{style:{fontSize:"0.8rem",color:"var(--gold, #ffd700)",marginBottom:"0.5rem",fontWeight:600},children:"üë∂ Kids-Gr√∂√üen:"}),r.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.35rem"},children:[z.varianten_groessen.map(e=>z.groessen_kids.includes(e)?r.jsx("button",{type:"button",onClick:()=>L(e,"erwachsene"),style:{padding:"0.3rem 0.6rem",background:"#dcfce7",border:"1px solid #86efac",borderRadius:"4px",fontSize:"0.8rem",cursor:"pointer",color:"var(--gold, #ffd700)"},title:"Klicken um zu Erwachsene zu verschieben",children:e},e):null),0===z.varianten_groessen.filter(e=>z.groessen_kids.includes(e)).length&&r.jsx("span",{style:{color:"#9ca3af",fontSize:"0.8rem",fontStyle:"italic"},children:"Keine"})]})]}),r.jsxs("div",{children:[r.jsx("p",{style:{fontSize:"0.8rem",color:"#1e40af",marginBottom:"0.5rem",fontWeight:600},children:"üßë Erwachsene-Gr√∂√üen:"}),r.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.35rem"},children:[z.varianten_groessen.map(e=>z.groessen_erwachsene.includes(e)?r.jsx("button",{type:"button",onClick:()=>L(e,"kids"),style:{padding:"0.3rem 0.6rem",background:"#dbeafe",border:"1px solid #93c5fd",borderRadius:"4px",fontSize:"0.8rem",cursor:"pointer",color:"#1e40af"},title:"Klicken um zu Kids zu verschieben",children:e},e):null),0===z.varianten_groessen.filter(e=>z.groessen_erwachsene.includes(e)).length&&r.jsx("span",{style:{color:"#9ca3af",fontSize:"0.8rem",fontStyle:"italic"},children:"Keine"})]})]})]})]}),(!z.hat_varianten||0===z.varianten_groessen.length)&&r.jsx("div",{style:{padding:"0.75rem",background:"#fef2f2",border:"1px solid #fca5a5",borderRadius:"8px",fontSize:"0.85rem",color:"#dc2626"},children:'‚ö†Ô∏è Bitte zuerst im Tab "Varianten" die Gr√∂√üen aktivieren'})]}),"uebersicht"===j&&r.jsxs("div",{style:{padding:"1rem",background:"var(--bg-glass, rgba(255, 255, 255, 0.08))",border:"2px solid var(--gold, #ffd700)",borderRadius:"12px"},children:[r.jsx("h4",{style:{margin:"0 0 1rem 0",fontSize:"1.1rem",fontWeight:700,color:"var(--gold, #ffd700)",display:"flex",alignItems:"center",gap:"0.5rem"},children:"‚úì Preise √ºbernehmen"}),r.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",marginBottom:"1.5rem"},children:"√úbernehmen Sie die berechneten Preise f√ºr diesen Artikel."}),(()=>{const e=parseFloat(z.lieferrabatt_prozent)||0,n=parseFloat(z.lieferskonto_prozent)||0,a=parseFloat(z.bezugskosten_euro)||0,s=parseFloat(z.gemeinkosten_prozent)||0,t=parseFloat(z.gewinnzuschlag_prozent)||0,i=parseFloat(z.kundenskonto_prozent)||0,o=parseFloat(z.kundenrabatt_prozent)||0,d=parseFloat(z.mwst_prozent)||19,l=parseFloat(z.listeneinkaufspreis_euro)||0,c=l*(1-e/100)*(1-n/100)+a,g=c*(1+s/100)*(1+t/100)*(1+i/100)*(1+o/100),p=g*(1+d/100),m=parseFloat(z.listeneinkaufspreis_kids_euro)||0,f=(m*(1-e/100)*(1-n/100)+a)*(1+s/100)*(1+t/100)*(1+i/100)*(1+o/100),x=f*(1+d/100),h=parseFloat(z.listeneinkaufspreis_erwachsene_euro)||0,u=(h*(1-e/100)*(1-n/100)+a)*(1+s/100)*(1+t/100)*(1+i/100)*(1+o/100),b=u*(1+d/100),y=l>0,v=m>0,j=h>0,k=v||j;return r.jsxs("div",{children:[y&&r.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:"#f0fdf4",border:"2px solid #86efac",borderRadius:"8px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[r.jsx("span",{style:{fontWeight:600,color:"var(--gold, #ffd700)"},children:"üí∞ Einzelpreis"}),r.jsxs("span",{style:{fontSize:"1.2rem",fontWeight:700,color:"var(--gold, #ffd700)"},children:[p.toFixed(2)," ‚Ç¨ Brutto"]})]}),r.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",marginBottom:"0.75rem"},children:["Netto: ",g.toFixed(2)," ‚Ç¨ | Bezugspreis: ",c.toFixed(2)," ‚Ç¨"]}),r.jsx("button",{type:"button",onClick:()=>{S(e=>({...e,verkaufspreis_euro:g.toFixed(2),hat_preiskategorien:!1})),alert("‚úÖ Einzelpreis wurde √ºbernommen!")},style:{width:"100%",padding:"0.75rem",background:"var(--gold, #ffd700)",color:"var(--dark-bg, #0f0f23)",border:"none",borderRadius:"8px",fontSize:"0.95rem",fontWeight:600,cursor:"pointer"},children:"‚úÖ Einzelpreis √ºbernehmen"})]}),k&&r.jsxs("div",{style:{padding:"1rem",background:"#eff6ff",border:"2px solid #93c5fd",borderRadius:"8px"},children:[r.jsx("div",{style:{fontWeight:600,color:"#1e40af",marginBottom:"0.75rem"},children:"üë∂üßë Gr√∂√üenabh√§ngige Preise"}),v&&r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem",background:"#dcfce7",borderRadius:"6px",marginBottom:"0.5rem"},children:[r.jsx("span",{style:{color:"var(--gold, #ffd700)"},children:"üë∂ Kids"}),r.jsxs("span",{style:{fontWeight:700,color:"var(--gold, #ffd700)"},children:[x.toFixed(2)," ‚Ç¨ Brutto"]})]}),j&&r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem",background:"#dbeafe",borderRadius:"6px",marginBottom:"0.75rem"},children:[r.jsx("span",{style:{color:"#1e40af"},children:"üßë Erwachsene"}),r.jsxs("span",{style:{fontWeight:700,color:"#1e40af"},children:[b.toFixed(2)," ‚Ç¨ Brutto"]})]}),r.jsx("button",{type:"button",onClick:()=>{S(e=>({...e,hat_preiskategorien:!0,preis_kids_euro:f.toFixed(2),preis_erwachsene_euro:u.toFixed(2),verkaufspreis_euro:u.toFixed(2)})),alert("‚úÖ Gr√∂√üenabh√§ngige Preise wurden √ºbernommen!")},style:{width:"100%",padding:"0.75rem",background:"#1e40af",color:"#ffffff",border:"none",borderRadius:"8px",fontSize:"0.95rem",fontWeight:600,cursor:"pointer"},children:"‚úÖ Gr√∂√üenpreise √ºbernehmen"})]}),!y&&!k&&r.jsxs("div",{style:{padding:"1rem",background:"#fef2f2",border:"1px solid #fca5a5",borderRadius:"8px",textAlign:"center",color:"#dc2626"},children:[r.jsx("p",{style:{marginBottom:"0.5rem",fontWeight:600},children:"‚ö†Ô∏è Keine Preise berechnet"}),r.jsx("p",{style:{fontSize:"0.85rem"},children:'Bitte wechseln Sie zum Tab "üí∞ Einzel" oder "üë∂üßë Gr√∂√üen" und geben Sie die Einkaufspreise ein.'})]})]})})()]})]}),r.jsxs("div",{className:"preis-kalkulation-section",style:{overflowY:"auto",maxHeight:"100%",padding:"0.85rem",background:"uebersicht"===j?"rgba(4, 120, 87, 0.05)":"rgba(107, 68, 35, 0.05)",border:"uebersicht"===j?"2px solid rgba(4, 120, 87, 0.3)":"2px solid rgba(107, 68, 35, 0.3)",borderRadius:"8px"},children:[r.jsx("h3",{style:{marginBottom:"1rem",fontSize:"1.1rem",fontWeight:600,color:"uebersicht"===j?"var(--gold, #ffd700)":"var(--text-primary, var(--text-primary, #ffffff))"},children:"uebersicht"===j?"‚úì Aktuelle Artikelpreise":"groessenabhaengig"===j?"üìä Gr√∂√üenabh√§ngige Kalkulation":"üìä Handelskalkulation"}),"uebersicht"===j&&r.jsxs("div",{children:[r.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))",marginBottom:"1rem"},children:"Artikelpreise nach Variante:"}),(()=>{var e;const n=parseFloat(z.mwst_prozent)||19,a=parseFloat(z.verkaufspreis_euro)||0,s=parseFloat(z.preis_kids_euro)||0,t=parseFloat(z.preis_erwachsene_euro)||0,i=z.artikel_nummer||"ART-XXX",o=z.groessen_kids||[];z.groessen_erwachsene;const d=[];if(z.hat_varianten&&(null==(e=z.varianten_groessen)?void 0:e.length)>0)z.varianten_groessen.forEach(e=>{const r=o.includes(e),a=r?s:t,l=a*(n/100),c=a+l;d.push({artNr:`${i}-${e}`,groesse:e,typ:r?"kids":"erw",netto:a,mwstBetrag:l,brutto:c})});else if(a>0){const e=a*(n/100);d.push({artNr:i,groesse:null,typ:"einzel",netto:a,mwstBetrag:e,brutto:a+e})}return 0===d.length?r.jsxs("div",{style:{padding:"1rem",background:"var(--bg-glass, rgba(255, 255, 255, 0.08))",borderRadius:"8px",textAlign:"center",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))"},children:[r.jsx("p",{style:{marginBottom:"0.5rem"},children:"Noch keine Preise gespeichert"}),r.jsx("p",{style:{fontSize:"0.85rem"},children:"√úbernehmen Sie links die berechneten Preise"})]}):r.jsxs("div",{children:[r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 80px 70px 80px",gap:"0.5rem",padding:"0.5rem",background:"var(--gold, #ffd700)",color:"var(--dark-bg, #0f0f23)",borderRadius:"6px 6px 0 0",fontSize:"0.75rem",fontWeight:600},children:[r.jsx("span",{children:"ArtNr."}),r.jsx("span",{style:{textAlign:"right"},children:"Netto"}),r.jsx("span",{style:{textAlign:"right"},children:"MwSt"}),r.jsx("span",{style:{textAlign:"right"},children:"Brutto"})]}),d.map((e,n)=>r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 80px 70px 80px",gap:"0.5rem",padding:"0.5rem",background:"kids"===e.typ?"#dcfce7":"erw"===e.typ?"#dbeafe":"#f0fdf4",borderBottom:"1px solid rgba(0,0,0,0.1)",fontSize:"0.8rem"},children:[r.jsxs("span",{style:{fontWeight:600,color:"kids"===e.typ?"var(--gold, #ffd700)":"erw"===e.typ?"#1e40af":"var(--gold, #ffd700)"},children:["kids"===e.typ?"üë∂ ":"erw"===e.typ?"üßë ":"üí∞ ",e.artNr]}),r.jsxs("span",{style:{textAlign:"right"},children:[e.netto.toFixed(2)," ‚Ç¨"]}),r.jsxs("span",{style:{textAlign:"right",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))"},children:[e.mwstBetrag.toFixed(2)," ‚Ç¨"]}),r.jsxs("span",{style:{textAlign:"right",fontWeight:700},children:[e.brutto.toFixed(2)," ‚Ç¨"]})]},n)),r.jsxs("div",{style:{padding:"0.75rem",background:"var(--bg-glass, rgba(255, 255, 255, 0.08))",borderRadius:"0 0 6px 6px",fontSize:"0.8rem",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))"},children:[d.length," Artikel | MwSt: ",n,"%"]})]})})()]}),"groessenabhaengig"===j&&(()=>{var e,n;const a=parseFloat(z.lieferrabatt_prozent)||0,s=parseFloat(z.lieferskonto_prozent)||0,t=parseFloat(z.gemeinkosten_prozent)||0,i=parseFloat(z.gewinnzuschlag_prozent)||0,o=parseFloat(z.kundenskonto_prozent)||0,d=parseFloat(z.kundenrabatt_prozent)||0,l=parseFloat(z.mwst_prozent)||19,c=parseFloat(z.bezugskosten_kids_euro)||0,g=parseFloat(z.bezugskosten_erwachsene_euro)||0,p=parseFloat(z.listeneinkaufspreis_kids_euro)||0,m=p*(1-a/100),f=m*(1-s/100)+c,x=f*(1+t/100),h=x*(1+i/100),u=h*(1+o/100),b=u*(1+d/100),y=b*(1+l/100),v=b-f,j=f>0?v/f*100:0,k=parseFloat(z.listeneinkaufspreis_erwachsene_euro)||0,_=k*(1-a/100),S=_*(1-s/100)+g,w=S*(1+t/100),F=w*(1+i/100),C=F*(1+o/100),B=C*(1+d/100),R=B*(1+l/100),W=B-S,A=S>0?W/S*100:0,N=p>0,L=k>0;return r.jsxs("div",{children:[!N&&!L&&r.jsxs("div",{style:{padding:"1rem",background:"var(--bg-glass, rgba(255, 255, 255, 0.08))",borderRadius:"8px",textAlign:"center",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))"},children:[r.jsx("p",{style:{fontSize:"0.9rem",marginBottom:"0.5rem"},children:"Bitte links die Einkaufspreise eingeben"}),r.jsx("p",{style:{fontSize:"0.8rem"},children:"üë∂ Listeneinkaufspreis Kids"}),r.jsx("p",{style:{fontSize:"0.8rem"},children:"üßë Listeneinkaufspreis Erwachsene"})]}),N&&r.jsxs("div",{style:{background:"#dcfce7",borderRadius:"8px",padding:"0.75rem",marginBottom:"1rem",border:"2px solid #86efac"},children:[r.jsxs("div",{style:{fontWeight:700,color:"var(--gold, #ffd700)",marginBottom:"0.5rem",fontSize:"0.95rem",borderBottom:"1px solid #86efac",paddingBottom:"0.4rem"},children:["üë∂ KIDS (",(null==(e=z.varianten_groessen)?void 0:e.filter(e=>{var r;return null==(r=z.groessen_kids)?void 0:r.includes(e)}).join(", "))||"alle",")"]}),r.jsx("div",{style:{fontSize:"0.7rem",fontWeight:600,color:"var(--gold, #ffd700)",marginTop:"0.3rem"},children:"üì¶ Bezugskalkulation"}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",padding:"0.1rem 0"},children:[r.jsx("span",{children:"Listeneinkaufspreis"}),r.jsxs("span",{children:[p.toFixed(2)," ‚Ç¨"]})]}),a>0&&r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.7rem",padding:"0.05rem 0",color:"#dc2626"},children:[r.jsxs("span",{children:["‚àí Lieferrabatt (",a,"%)"]}),r.jsxs("span",{children:["‚àí",(p*a/100).toFixed(2)," ‚Ç¨"]})]}),s>0&&r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.7rem",padding:"0.05rem 0",color:"#dc2626"},children:[r.jsxs("span",{children:["‚àí Lieferskonto (",s,"%)"]}),r.jsxs("span",{children:["‚àí",(m*s/100).toFixed(2)," ‚Ç¨"]})]}),c>0&&r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.7rem",padding:"0.05rem 0",color:"var(--gold, #ffd700)"},children:[r.jsx("span",{children:"+ Bezugskosten"}),r.jsxs("span",{children:["+",c.toFixed(2)," ‚Ç¨"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",padding:"0.15rem 0",fontWeight:600,background:"rgba(22, 101, 52, 0.1)",borderRadius:"4px",paddingLeft:"0.3rem",paddingRight:"0.3rem"},children:[r.jsx("span",{children:"= Bezugspreis"}),r.jsxs("span",{children:[f.toFixed(2)," ‚Ç¨"]})]}),r.jsx("div",{style:{fontSize:"0.7rem",fontWeight:600,color:"var(--gold, #ffd700)",marginTop:"0.3rem"},children:"üè≠ Selbstkosten"}),t>0&&r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.7rem",padding:"0.05rem 0",color:"var(--gold, #ffd700)"},children:[r.jsxs("span",{children:["+ Gemeinkosten (",t,"%)"]}),r.jsxs("span",{children:["+",(f*t/100).toFixed(2)," ‚Ç¨"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",padding:"0.15rem 0",fontWeight:600,background:"rgba(22, 101, 52, 0.1)",borderRadius:"4px",paddingLeft:"0.3rem",paddingRight:"0.3rem"},children:[r.jsx("span",{children:"= Selbstkosten"}),r.jsxs("span",{children:[x.toFixed(2)," ‚Ç¨"]})]}),r.jsx("div",{style:{fontSize:"0.7rem",fontWeight:600,color:"var(--gold, #ffd700)",marginTop:"0.3rem"},children:"üí∞ Verkaufskalkulation"}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.7rem",padding:"0.05rem 0",color:"var(--gold, #ffd700)"},children:[r.jsxs("span",{children:["+ Gewinnzuschlag (",i,"%)"]}),r.jsxs("span",{children:["+",(x*i/100).toFixed(2)," ‚Ç¨"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",padding:"0.1rem 0"},children:[r.jsx("span",{children:"= Barverkaufspreis"}),r.jsxs("span",{children:[h.toFixed(2)," ‚Ç¨"]})]}),o>0&&r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.7rem",padding:"0.05rem 0",color:"var(--gold, #ffd700)"},children:[r.jsxs("span",{children:["+ Kundenskonto (",o,"%)"]}),r.jsxs("span",{children:["+",(u-h).toFixed(2)," ‚Ç¨"]})]}),o>0&&r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",padding:"0.1rem 0"},children:[r.jsx("span",{children:"= Zielverkaufspreis"}),r.jsxs("span",{children:[u.toFixed(2)," ‚Ç¨"]})]}),d>0&&r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.7rem",padding:"0.05rem 0",color:"var(--gold, #ffd700)"},children:[r.jsxs("span",{children:["+ Kundenrabatt (",d,"%)"]}),r.jsxs("span",{children:["+",(b-u).toFixed(2)," ‚Ç¨"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",padding:"0.15rem 0",fontWeight:600,background:"rgba(4, 120, 87, 0.15)",borderRadius:"4px",paddingLeft:"0.3rem",paddingRight:"0.3rem"},children:[r.jsx("span",{children:"= Netto-VK"}),r.jsxs("span",{children:[b.toFixed(2)," ‚Ç¨"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.7rem",padding:"0.05rem 0",color:"var(--gold, #ffd700)"},children:[r.jsxs("span",{children:["+ MwSt (",l,"%)"]}),r.jsxs("span",{children:["+",(b*l/100).toFixed(2)," ‚Ç¨"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"1rem",padding:"0.4rem 0.3rem",borderTop:"2px solid #86efac",fontWeight:700,marginTop:"0.2rem",background:"rgba(22, 101, 52, 0.2)",borderRadius:"4px"},children:[r.jsx("span",{children:"= BRUTTO-VK"}),r.jsxs("span",{style:{color:"var(--gold, #ffd700)",fontSize:"1.1rem"},children:[y.toFixed(2)," ‚Ç¨"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",padding:"0.3rem 0",color:v>=0?"var(--gold, #ffd700)":"#dc2626",borderTop:"1px dashed #86efac",marginTop:"0.3rem"},children:[r.jsx("span",{children:"üí∞ Gewinn (Netto - Bezug)"}),r.jsxs("span",{style:{fontWeight:700},children:[v.toFixed(2)," ‚Ç¨ (",j.toFixed(0),"%)"]})]})]}),L&&r.jsxs("div",{style:{background:"#dbeafe",borderRadius:"8px",padding:"0.75rem",marginBottom:"1rem",border:"2px solid #93c5fd"},children:[r.jsxs("div",{style:{fontWeight:700,color:"#1e40af",marginBottom:"0.5rem",fontSize:"0.95rem",borderBottom:"1px solid #93c5fd",paddingBottom:"0.4rem"},children:["üßë ERWACHSENE (",(null==(n=z.varianten_groessen)?void 0:n.filter(e=>{var r;return null==(r=z.groessen_erwachsene)?void 0:r.includes(e)}).join(", "))||"alle",")"]}),r.jsx("div",{style:{fontSize:"0.7rem",fontWeight:600,color:"#1e40af",marginTop:"0.3rem"},children:"üì¶ Bezugskalkulation"}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",padding:"0.1rem 0"},children:[r.jsx("span",{children:"Listeneinkaufspreis"}),r.jsxs("span",{children:[k.toFixed(2)," ‚Ç¨"]})]}),a>0&&r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.7rem",padding:"0.05rem 0",color:"#dc2626"},children:[r.jsxs("span",{children:["‚àí Lieferrabatt (",a,"%)"]}),r.jsxs("span",{children:["‚àí",(k*a/100).toFixed(2)," ‚Ç¨"]})]}),s>0&&r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.7rem",padding:"0.05rem 0",color:"#dc2626"},children:[r.jsxs("span",{children:["‚àí Lieferskonto (",s,"%)"]}),r.jsxs("span",{children:["‚àí",(_*s/100).toFixed(2)," ‚Ç¨"]})]}),g>0&&r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.7rem",padding:"0.05rem 0",color:"var(--gold, #ffd700)"},children:[r.jsx("span",{children:"+ Bezugskosten"}),r.jsxs("span",{children:["+",g.toFixed(2)," ‚Ç¨"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",padding:"0.15rem 0",fontWeight:600,background:"rgba(30, 64, 175, 0.1)",borderRadius:"4px",paddingLeft:"0.3rem",paddingRight:"0.3rem"},children:[r.jsx("span",{children:"= Bezugspreis"}),r.jsxs("span",{children:[S.toFixed(2)," ‚Ç¨"]})]}),r.jsx("div",{style:{fontSize:"0.7rem",fontWeight:600,color:"#1e40af",marginTop:"0.3rem"},children:"üè≠ Selbstkosten"}),t>0&&r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.7rem",padding:"0.05rem 0",color:"var(--gold, #ffd700)"},children:[r.jsxs("span",{children:["+ Gemeinkosten (",t,"%)"]}),r.jsxs("span",{children:["+",(S*t/100).toFixed(2)," ‚Ç¨"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",padding:"0.15rem 0",fontWeight:600,background:"rgba(30, 64, 175, 0.1)",borderRadius:"4px",paddingLeft:"0.3rem",paddingRight:"0.3rem"},children:[r.jsx("span",{children:"= Selbstkosten"}),r.jsxs("span",{children:[w.toFixed(2)," ‚Ç¨"]})]}),r.jsx("div",{style:{fontSize:"0.7rem",fontWeight:600,color:"#1e40af",marginTop:"0.3rem"},children:"üí∞ Verkaufskalkulation"}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.7rem",padding:"0.05rem 0",color:"var(--gold, #ffd700)"},children:[r.jsxs("span",{children:["+ Gewinnzuschlag (",i,"%)"]}),r.jsxs("span",{children:["+",(w*i/100).toFixed(2)," ‚Ç¨"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",padding:"0.1rem 0"},children:[r.jsx("span",{children:"= Barverkaufspreis"}),r.jsxs("span",{children:[F.toFixed(2)," ‚Ç¨"]})]}),o>0&&r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.7rem",padding:"0.05rem 0",color:"var(--gold, #ffd700)"},children:[r.jsxs("span",{children:["+ Kundenskonto (",o,"%)"]}),r.jsxs("span",{children:["+",(C-F).toFixed(2)," ‚Ç¨"]})]}),o>0&&r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",padding:"0.1rem 0"},children:[r.jsx("span",{children:"= Zielverkaufspreis"}),r.jsxs("span",{children:[C.toFixed(2)," ‚Ç¨"]})]}),d>0&&r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.7rem",padding:"0.05rem 0",color:"var(--gold, #ffd700)"},children:[r.jsxs("span",{children:["+ Kundenrabatt (",d,"%)"]}),r.jsxs("span",{children:["+",(B-C).toFixed(2)," ‚Ç¨"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",padding:"0.15rem 0",fontWeight:600,background:"rgba(4, 120, 87, 0.15)",borderRadius:"4px",paddingLeft:"0.3rem",paddingRight:"0.3rem"},children:[r.jsx("span",{children:"= Netto-VK"}),r.jsxs("span",{children:[B.toFixed(2)," ‚Ç¨"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.7rem",padding:"0.05rem 0",color:"var(--gold, #ffd700)"},children:[r.jsxs("span",{children:["+ MwSt (",l,"%)"]}),r.jsxs("span",{children:["+",(B*l/100).toFixed(2)," ‚Ç¨"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"1rem",padding:"0.4rem 0.3rem",borderTop:"2px solid #93c5fd",fontWeight:700,marginTop:"0.2rem",background:"rgba(30, 64, 175, 0.2)",borderRadius:"4px"},children:[r.jsx("span",{children:"= BRUTTO-VK"}),r.jsxs("span",{style:{color:"#1e40af",fontSize:"1.1rem"},children:[R.toFixed(2)," ‚Ç¨"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.85rem",padding:"0.3rem 0",color:W>=0?"var(--gold, #ffd700)":"#dc2626",borderTop:"1px dashed #93c5fd"},children:[r.jsx("span",{children:"üí∞ Gewinn"}),r.jsxs("span",{style:{fontWeight:700},children:[W.toFixed(2)," ‚Ç¨ (",A.toFixed(0),"%)"]})]})]}),N&&L&&r.jsxs("div",{style:{background:"var(--bg-glass, rgba(255, 255, 255, 0.08))",borderRadius:"8px",padding:"0.6rem"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem",marginBottom:"0.25rem"},children:[r.jsx("span",{children:"üìä Preisdifferenz (Brutto)"}),r.jsxs("span",{style:{fontWeight:700},children:[(R-y).toFixed(2)," ‚Ç¨"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",color:"var(--text-secondary, rgba(255, 255, 255, 0.7))"},children:[r.jsx("span",{children:"Kids ist g√ºnstiger um"}),r.jsxs("span",{style:{fontWeight:600},children:[R>0?((R-y)/R*100).toFixed(0):0,"%"]})]})]})]})})(),"einzelkalkulation"===j&&r.jsxs("div",{className:"kalkulation-table",style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[r.jsx("div",{style:{marginBottom:"0.5rem",padding:"0.3rem",background:"rgba(107, 68, 35, 0.1)",borderRadius:"4px"},children:r.jsx("strong",{style:{fontSize:"0.85rem",color:"var(--gold, #ffd700)"},children:"Bezugskalkulation"})}),r.jsxs("div",{className:"kalkulation-row",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:[r.jsx("span",{children:"Listeneinkaufspreis"}),r.jsxs("span",{children:[c.toFixed(2)," ‚Ç¨"]})]}),r.jsxs("div",{className:"kalkulation-row",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"#ef4444"},children:[r.jsxs("span",{children:["‚àí Lieferrabatt (",n,"%)"]}),r.jsxs("span",{children:["‚àí",g.toFixed(2)," ‚Ç¨"]})]}),r.jsxs("div",{className:"kalkulation-row total",style:{padding:"0.35rem 0.6rem",fontSize:"0.8rem",background:"rgba(107, 68, 35, 0.05)"},children:[r.jsx("span",{children:r.jsx("strong",{children:"= Zieleinkaufspreis"})}),r.jsx("span",{children:r.jsxs("strong",{children:[p.toFixed(2)," ‚Ç¨"]})})]}),r.jsxs("div",{className:"kalkulation-row",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"#ef4444"},children:[r.jsxs("span",{children:["‚àí Lieferskonto (",a,"%)"]}),r.jsxs("span",{children:["‚àí",m.toFixed(2)," ‚Ç¨"]})]}),r.jsxs("div",{className:"kalkulation-row total",style:{padding:"0.35rem 0.6rem",fontSize:"0.8rem",background:"rgba(107, 68, 35, 0.05)"},children:[r.jsx("span",{children:r.jsx("strong",{children:"= Bareinkaufspreis"})}),r.jsx("span",{children:r.jsxs("strong",{children:[f.toFixed(2)," ‚Ç¨"]})})]}),r.jsxs("div",{className:"kalkulation-row",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"var(--gold, #ffd700)"},children:[r.jsx("span",{children:"+ Bezugskosten"}),r.jsxs("span",{children:["+",x.toFixed(2)," ‚Ç¨"]})]}),r.jsxs("div",{className:"kalkulation-row total",style:{padding:"0.4rem 0.6rem",fontSize:"0.85rem",background:"rgba(107, 68, 35, 0.1)",fontWeight:600},children:[r.jsx("span",{children:r.jsx("strong",{children:"= Bezugspreis"})}),r.jsx("span",{children:r.jsxs("strong",{children:[h.toFixed(2)," ‚Ç¨"]})})]}),r.jsx("div",{style:{height:"8px"}}),r.jsx("div",{style:{marginBottom:"0.5rem",padding:"0.3rem",background:"rgba(107, 68, 35, 0.1)",borderRadius:"4px"},children:r.jsx("strong",{style:{fontSize:"0.85rem",color:"var(--gold, #ffd700)"},children:"Selbstkostenkalkulation"})}),r.jsxs("div",{className:"kalkulation-row",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"var(--gold, #ffd700)"},children:[r.jsxs("span",{children:["+ Gemeinkosten (",t,"%)"]}),r.jsxs("span",{children:["+",u.toFixed(2)," ‚Ç¨"]})]}),r.jsxs("div",{className:"kalkulation-row total",style:{padding:"0.35rem 0.6rem",fontSize:"0.8rem",background:"rgba(107, 68, 35, 0.05)"},children:[r.jsx("span",{children:r.jsx("strong",{children:"= Selbstkostenpreis"})}),r.jsx("span",{children:r.jsxs("strong",{children:[b.toFixed(2)," ‚Ç¨"]})})]}),r.jsxs("div",{className:"kalkulation-row",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"var(--gold, #ffd700)"},children:[r.jsxs("span",{children:["+ Gewinnzuschlag (",i,"%)"]}),r.jsxs("span",{children:["+",y.toFixed(2)," ‚Ç¨"]})]}),r.jsx("div",{style:{height:"8px"}}),r.jsx("div",{style:{marginBottom:"0.5rem",padding:"0.3rem",background:"rgba(107, 68, 35, 0.1)",borderRadius:"4px"},children:r.jsx("strong",{style:{fontSize:"0.85rem",color:"var(--gold, #ffd700)"},children:"Verkaufskalkulation"})}),r.jsxs("div",{className:"kalkulation-row total",style:{padding:"0.35rem 0.6rem",fontSize:"0.8rem",background:"rgba(107, 68, 35, 0.05)"},children:[r.jsx("span",{children:r.jsx("strong",{children:"= Barverkaufspreis"})}),r.jsx("span",{children:r.jsxs("strong",{children:[v.toFixed(2)," ‚Ç¨"]})})]}),r.jsxs("div",{className:"kalkulation-row",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"var(--gold, #ffd700)"},children:[r.jsxs("span",{children:["+ Kundenskonto (",o,"%)"]}),r.jsxs("span",{children:["+",_.toFixed(2)," ‚Ç¨"]})]}),r.jsxs("div",{className:"kalkulation-row total",style:{padding:"0.35rem 0.6rem",fontSize:"0.8rem",background:"rgba(107, 68, 35, 0.05)"},children:[r.jsx("span",{children:r.jsx("strong",{children:"= Zielverkaufspreis"})}),r.jsx("span",{children:r.jsxs("strong",{children:[w.toFixed(2)," ‚Ç¨"]})})]}),r.jsxs("div",{className:"kalkulation-row",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"var(--gold, #ffd700)"},children:[r.jsxs("span",{children:["+ Kundenrabatt (",d,"%)"]}),r.jsxs("span",{children:["+",F.toFixed(2)," ‚Ç¨"]})]}),r.jsxs("div",{className:"kalkulation-row total",style:{padding:"0.4rem 0.6rem",fontSize:"0.85rem",background:"rgba(107, 68, 35, 0.1)",fontWeight:600},children:[r.jsx("span",{children:r.jsx("strong",{children:"= Nettoverkaufspreis"})}),r.jsx("span",{children:r.jsxs("strong",{children:[C.toFixed(2)," ‚Ç¨"]})})]}),r.jsxs("div",{className:"kalkulation-row",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"var(--gold, #ffd700)"},children:[r.jsxs("span",{children:["+ Umsatzsteuer (",l,"%)"]}),r.jsxs("span",{children:["+",R.toFixed(2)," ‚Ç¨"]})]}),r.jsxs("div",{className:"kalkulation-row final",style:{padding:"0.5rem 0.6rem",fontSize:"0.9rem",background:"rgba(107, 68, 35, 0.15)",borderRadius:"6px",marginTop:"0.5rem"},children:[r.jsx("span",{children:r.jsx("strong",{children:"= BRUTTOVERKAUFSPREIS"})}),r.jsx("span",{style:{color:"var(--gold, #ffd700)"},children:r.jsxs("strong",{children:[W.toFixed(2)," ‚Ç¨"]})})]}),r.jsx("div",{style:{height:"8px",borderTop:"1px solid rgba(107, 68, 35, 0.3)",margin:"0.5rem 0"}}),r.jsxs("div",{className:"kalkulation-row profit",style:{padding:"0.4rem 0.6rem",fontSize:"0.85rem"},children:[r.jsx("span",{children:"üí∞ Gewinn gesamt"}),r.jsxs("span",{style:{color:A>=0?"var(--gold, #ffd700)":"#ef4444",fontWeight:600},children:[A.toFixed(2)," ‚Ç¨"]})]}),r.jsxs("div",{className:"kalkulation-row profit",style:{padding:"0.4rem 0.6rem",fontSize:"0.85rem"},children:[r.jsx("span",{children:"üìà Gewinnspanne"}),r.jsxs("span",{style:{color:N>=0?"var(--gold, #ffd700)":"#ef4444",fontWeight:600},children:[N.toFixed(1)," %"]})]})]})]})]})})})();case"lager":return E();case"einstellungen":return r.jsx("div",{className:"tab-content-section",children:r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",maxWidth:"500px"},children:[r.jsxs("label",{style:{...A,borderColor:z.aktiv?"var(--gold, #ffd700)":"var(--border-secondary, rgba(255, 255, 255, 0.1))",background:z.aktiv?"rgba(107, 68, 35, 0.05)":"#ffffff"},children:[r.jsx("input",{type:"checkbox",name:"aktiv",checked:z.aktiv,onChange:B,style:N}),r.jsx("span",{style:L,children:"‚úÖ Artikel aktiv"})]}),r.jsxs("label",{style:{...A,borderColor:z.sichtbar_kasse?"var(--gold, #ffd700)":"var(--border-secondary, rgba(255, 255, 255, 0.1))",background:z.sichtbar_kasse?"rgba(107, 68, 35, 0.05)":"#ffffff"},children:[r.jsx("input",{type:"checkbox",name:"sichtbar_kasse",checked:z.sichtbar_kasse,onChange:B,style:N}),r.jsx("span",{style:L,children:"üõí An der Kasse sichtbar"})]})]})});default:return null}})()})]})};export{i as default};
