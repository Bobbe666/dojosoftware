import{a as e,j as s}from"./query-Caj74EYQ.js";import{a}from"./index-lGWqIYMX.js";/* empty css                     */import{R as i,h as l,C as c,X as t,Y as r,T as n,a as d,e as h,P as m,c as o,d as j,B as x,b as u,g as p}from"./charts-QHQg_ypW.js";import"./vendor-router-B2AaIOtG.js";import"./icons-C9nQ4cWf.js";function v(){var v,g;const[N,b]=e.useState(null),[k,y]=e.useState(null),[f,w]=e.useState(!0),[A,M]=e.useState(""),[z,K]=e.useState("breakeven"),[V,S]=e.useState(null),[D,E]=e.useState({fixkosten:{},variableKosten:{},durchschnittsbeitrag:85}),[B,P]=e.useState("monthly"),[F,_]=e.useState("monat"),[G,J]=e.useState(null),[C,W]=e.useState(null),[T,$]=e.useState(null),L=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"];e.useEffect(()=>{R(),q(),U(),I(),Z()},[B]);const R=async()=>{try{w(!0);const e=(await a.get("/auswertungen/complete")).data;if(!e.success)throw new Error(e.error||"Fehler beim Laden der Auswertungen");b(e.data)}catch(e){console.error("Fehler beim Laden der Auswertungen:",e),M("Fehler beim Laden der Auswertungen: "+e.message)}finally{w(!1)}},q=async()=>{try{const s=(await a.get("/auswertungen/kostenvorlagen")).data;if(s.success){y(s.data);try{const e=(await a.get("/auswertungen/break-even/latest")).data;e.success&&e.data?E({fixkosten:e.data.fixkosten,variableKosten:e.data.variableKosten,durchschnittsbeitrag:e.data.durchschnittsbeitrag}):E({fixkosten:Object.keys(s.data.fixkosten).reduce((e,s)=>({...e,[s]:0}),{}),variableKosten:Object.keys(s.data.variableKosten).reduce((e,s)=>({...e,[s]:0}),{}),durchschnittsbeitrag:s.data.durchschnittsbeitrag})}catch(e){console.error("Fehler beim Laden der letzten Berechnung:",e),E({fixkosten:Object.keys(s.data.fixkosten).reduce((e,s)=>({...e,[s]:0}),{}),variableKosten:Object.keys(s.data.variableKosten).reduce((e,s)=>({...e,[s]:0}),{}),durchschnittsbeitrag:s.data.durchschnittsbeitrag})}}}catch(s){console.error("Fehler beim Laden der Kostenvorlagen:",s)}},O=e=>new Intl.NumberFormat("de-DE").format(e||0),Q=e=>new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(e||0),U=async()=>{try{const e=(await a.get(`/auswertungen/member-analytics?period=${B}`)).data;e.success&&J(e.data)}catch(e){console.error("Fehler beim Laden der Mitgliederanalysen:",e),J({"zug√§nge":[],"k√ºndigungen":[],ruhepausen:[],wachstumPrognose:{aktuell:0,prognose3Monate:0,prognose6Monate:0,prognose12Monate:0,wachstumsrate:0}})}},I=async()=>{try{const e=(await a.get("/auswertungen/beitragsvergleich")).data;e.success&&W(e.data)}catch(e){console.error("Fehler beim Laden des Beitragsvergleichs:",e),W({niedrigeBeitraege:[],tarife:[],zusammenfassung:{gesamt:0,potential:0,niedrigsterTarif:0,durchschnittlicheErhoehung:0}})}},Z=async()=>{try{const e=await a.get("/stile/auswertungen/guertel-uebersicht");e.data.success&&$(e.data)}catch(e){console.error("Fehler beim Laden der G√ºrtel-Daten:",e),$({stile:[],summary:{total_stile:0,total_guertel:0,total_mitglieder:0}})}};return f?s.jsx("div",{className:"auswertungen-container",children:s.jsxs("div",{className:"loading-spinner",children:[s.jsx("div",{className:"spinner"}),s.jsx("p",{children:"Auswertungen werden generiert..."})]})}):A?s.jsx("div",{className:"auswertungen-container",children:s.jsxs("div",{className:"error-message",children:[s.jsx("h3",{children:"‚ùå Fehler"}),s.jsx("p",{children:A}),s.jsx("button",{onClick:R,className:"retry-button",children:"Erneut versuchen"})]})}):N?s.jsxs("div",{className:"auswertungen-container",children:[s.jsx("div",{className:"auswertungen-header",children:s.jsxs("div",{className:"header-content",children:[s.jsx("h1",{children:"üìä Dojo Auswertungen"}),s.jsxs("p",{children:["Generiert am ",new Date(N.generatedAt).toLocaleString("de-DE")]})]})}),s.jsx("div",{className:"tab-navigation",children:[{id:"breakeven",label:"Break-Even Analyse",icon:"üí°"},{id:"overview",label:"√úbersicht",icon:"üìä"},{id:"financial",label:"Finanzen",icon:"üí∞"},{id:"members",label:"Mitglieder",icon:"üë•"},{id:"belts",label:"G√ºrtel",icon:"ü•ã"},{id:"performance",label:"Performance",icon:"üìà"},{id:"forecasting",label:"Prognosen",icon:"üîÆ"}].map(e=>s.jsxs("button",{className:"tab-button "+(z===e.id?"active":""),onClick:()=>K(e.id),children:[s.jsx("span",{className:"tab-icon",children:e.icon}),s.jsx("span",{className:"tab-label",children:e.label})]},e.id))}),s.jsxs("div",{className:"tab-content",children:["breakeven"===z&&s.jsx("div",{className:"tab-panel",children:s.jsxs("div",{className:"break-even-container",children:[s.jsx("div",{className:"section-header-break-even",children:s.jsxs("div",{children:[s.jsx("h2",{children:"üßÆ Break-Even-Analyse"}),s.jsx("p",{children:"Ermitteln Sie den Break-Even-Punkt Ihres Dojos und planen Sie strategisch"})]})}),s.jsxs("form",{onSubmit:e=>{e.preventDefault(),(async()=>{try{const e=(await a.post("/auswertungen/break-even",D)).data;e.success&&S(e.data)}catch(e){console.error("Fehler bei Break-Even-Berechnung:",e)}})()},className:"break-even-form",children:[s.jsxs("div",{className:"break-even-input-grid",children:[s.jsxs("div",{className:"cost-card",children:[s.jsxs("div",{className:"cost-card-header",children:[s.jsx("h3",{children:"üí∞ Fixkosten"}),s.jsx("span",{className:"subtitle",children:"Monatliche Fixkosten"})]}),s.jsx("div",{className:"cost-inputs",children:k&&Object.entries(k.fixkosten).map(([e,a])=>s.jsxs("div",{className:"input-row",children:[s.jsx("label",{children:e.charAt(0).toUpperCase()+e.slice(1)}),s.jsxs("div",{className:"input-with-unit",children:[s.jsx("input",{type:"number",value:D.fixkosten[e]??a,onChange:s=>((e,s)=>{E(a=>({...a,fixkosten:{...a.fixkosten,[e]:Number(s)||0}}))})(e,s.target.value),placeholder:"0",min:"0"}),s.jsx("span",{className:"unit",children:"‚Ç¨"})]})]},e))})]}),s.jsxs("div",{className:"cost-card",children:[s.jsxs("div",{className:"cost-card-header",children:[s.jsx("h3",{children:"üìä Variable Kosten"}),s.jsx("span",{className:"subtitle",children:"Pro Mitglied/Monat"})]}),s.jsx("div",{className:"cost-inputs",children:k&&Object.entries(k.variableKosten).map(([e,a])=>s.jsxs("div",{className:"input-row",children:[s.jsx("label",{children:e.charAt(0).toUpperCase()+e.slice(1)}),s.jsxs("div",{className:"input-with-unit",children:[s.jsx("input",{type:"number",value:D.variableKosten[e]??a,onChange:s=>((e,s)=>{E(a=>({...a,variableKosten:{...a.variableKosten,[e]:Number(s)||0}}))})(e,s.target.value),placeholder:"0",min:"0"}),s.jsx("span",{className:"unit",children:"‚Ç¨"})]})]},e))})]}),s.jsxs("div",{className:"cost-card",children:[s.jsxs("div",{className:"cost-card-header",children:[s.jsx("h3",{children:"üíµ Beitrag"}),s.jsx("span",{className:"subtitle",children:"Durchschnittlicher Mitgliedsbeitrag"})]}),s.jsx("div",{className:"cost-inputs",children:s.jsxs("div",{className:"input-row",children:[s.jsx("label",{children:"Monatlicher Beitrag"}),s.jsxs("div",{className:"input-with-unit",children:[s.jsx("input",{type:"number",value:D.durchschnittsbeitrag,onChange:e=>E(s=>({...s,durchschnittsbeitrag:Number(e.target.value)||0})),placeholder:"0",min:"0"}),s.jsx("span",{className:"unit",children:"‚Ç¨"})]})]})})]})]}),s.jsx("div",{className:"form-actions-center",children:s.jsxs("button",{type:"submit",className:"btn-calculate",children:[s.jsx("span",{children:"üßÆ"}),"Break-Even berechnen"]})})]}),V&&s.jsxs("div",{className:"break-even-results",children:[s.jsx("div",{className:"results-header",children:s.jsx("h3",{children:"üìà Ergebnisse"})}),s.jsxs("div",{className:"kpi-results-grid",children:[s.jsxs("div",{className:"kpi-result-card primary",children:[s.jsx("div",{className:"kpi-icon-large",children:"üë•"}),s.jsx("div",{className:"kpi-value",children:V.breakEvenPunkt.mitglieder}),s.jsx("div",{className:"kpi-label",children:"Break-Even Mitglieder"})]}),s.jsxs("div",{className:"kpi-result-card success",children:[s.jsx("div",{className:"kpi-icon-large",children:"üí∞"}),s.jsx("div",{className:"kpi-value",children:Q(V.breakEvenPunkt.umsatz)}),s.jsx("div",{className:"kpi-label",children:"Ben√∂tigter Umsatz"})]}),s.jsxs("div",{className:"kpi-result-card warning",children:[s.jsx("div",{className:"kpi-icon-large",children:"üí≥"}),s.jsx("div",{className:"kpi-value",children:Q(V.breakEvenPunkt.kostenProMitglied)}),s.jsx("div",{className:"kpi-label",children:"Kosten pro Mitglied"})]})]}),s.jsxs("div",{className:"scenarios-section",children:[s.jsx("h4",{children:"üéØ Szenarien-Analyse"}),s.jsx("div",{className:"scenarios-grid-professional",children:V.szenarien.map((e,a)=>s.jsxs("div",{className:"scenario-card-pro "+(e.gewinn>=0?"profitable":"loss"),children:[s.jsxs("div",{className:"scenario-header",children:[s.jsx("h5",{children:e.name}),s.jsx("span",{className:"scenario-badge "+(e.gewinn>=0?"success":"danger"),children:e.gewinn>=0?"‚úì Profitabel":"‚ö† Verlust"})]}),s.jsxs("div",{className:"scenario-metrics",children:[s.jsxs("div",{className:"metric",children:[s.jsx("span",{className:"metric-label",children:"Mitglieder"}),s.jsx("span",{className:"metric-value",children:e.mitglieder})]}),s.jsxs("div",{className:"metric",children:[s.jsx("span",{className:"metric-label",children:"Umsatz"}),s.jsx("span",{className:"metric-value",children:Q(e.umsatz)})]}),s.jsxs("div",{className:"metric",children:[s.jsx("span",{className:"metric-label",children:"Gewinn/Verlust"}),s.jsx("span",{className:"metric-value "+(e.gewinn>=0?"positive":"negative"),children:Q(e.gewinn)})]})]})]},a))})]}),s.jsxs("div",{className:"recommendations-section",children:[s.jsx("h4",{children:"üí° Strategische Empfehlungen"}),s.jsx("div",{className:"recommendations-list",children:V.empfehlungen.map((e,a)=>s.jsxs("div",{className:`recommendation-item ${e.typ||"info"}`,children:[s.jsx("span",{className:"recommendation-icon",children:"success"===e.typ?"‚úì":"warning"===e.typ?"‚ö†":"‚Ñπ"}),s.jsxs("div",{className:"recommendation-content",children:[s.jsx("strong",{children:e.titel}),s.jsx("p",{children:e.beschreibung})]})]},a))})]})]})]})}),"overview"===z&&s.jsxs("div",{className:"tab-panel",children:[s.jsxs("div",{className:"kpi-compact-grid",children:[s.jsxs("div",{className:"kpi-compact",children:[s.jsx("div",{className:"kpi-compact-icon",children:"üë•"}),s.jsx("div",{className:"kpi-compact-value",children:O(N.summary.totalMembers)}),s.jsx("div",{className:"kpi-compact-label",children:"Mitglieder"}),s.jsxs("div",{className:"kpi-compact-sub",children:["+",N.mitgliederAnalyse.neueThisMonth," Monat"]})]}),s.jsxs("div",{className:"kpi-compact success",children:[s.jsx("div",{className:"kpi-compact-icon",children:"‚úì"}),s.jsx("div",{className:"kpi-compact-value",children:O(N.summary.activeMembers)}),s.jsx("div",{className:"kpi-compact-label",children:"Aktiv"}),s.jsxs("div",{className:"kpi-compact-sub",children:[Math.round(N.summary.activeMembers/N.summary.totalMembers*100),"% Quote"]})]}),s.jsxs("div",{className:"kpi-compact warning",children:[s.jsx("div",{className:"kpi-compact-icon",children:"‚è∏"}),s.jsx("div",{className:"kpi-compact-value",children:O(N.summary.inactiveMembers)}),s.jsx("div",{className:"kpi-compact-label",children:"Inaktiv"}),s.jsxs("div",{className:"kpi-compact-sub",children:[Math.round(N.summary.inactiveMembers/N.summary.totalMembers*100),"% Quote"]})]}),s.jsxs("div",{className:"kpi-compact info",children:[s.jsx("div",{className:"kpi-compact-icon",children:"üìà"}),s.jsxs("div",{className:"kpi-compact-value",children:[N.summary.growthRate,"%"]}),s.jsx("div",{className:"kpi-compact-label",children:"Wachstum"}),s.jsx("div",{className:"kpi-compact-sub",children:"Trend"})]}),s.jsxs("div",{className:"kpi-compact",children:[s.jsx("div",{className:"kpi-compact-icon",children:"üí∞"}),s.jsx("div",{className:"kpi-compact-value",children:Q(N.summary.monthlyRevenue)}),s.jsx("div",{className:"kpi-compact-label",children:"Monatlich"}),s.jsxs("div",{className:"kpi-compact-sub",children:[Q(N.summary.yearlyRevenue)," / Jahr"]})]}),s.jsxs("div",{className:"kpi-compact",children:[s.jsx("div",{className:"kpi-compact-icon",children:"üí≥"}),s.jsx("div",{className:"kpi-compact-value",children:Q(N.finanzielleAuswertung.durchschnittsBeitrag)}),s.jsx("div",{className:"kpi-compact-label",children:"√ò Beitrag"}),s.jsx("div",{className:"kpi-compact-sub",children:"Pro Mitglied"})]}),s.jsxs("div",{className:"kpi-compact info",children:[s.jsx("div",{className:"kpi-compact-icon",children:"üîÑ"}),s.jsxs("div",{className:"kpi-compact-value",children:[N.summary.retentionRate,"%"]}),s.jsx("div",{className:"kpi-compact-label",children:"Retention"}),s.jsx("div",{className:"kpi-compact-sub",children:">1 Jahr"})]}),s.jsxs("div",{className:"kpi-compact success",children:[s.jsx("div",{className:"kpi-compact-icon",children:"‚è±"}),s.jsx("div",{className:"kpi-compact-value",children:N.summary.averageMembershipDuration}),s.jsx("div",{className:"kpi-compact-label",children:"√ò Jahre"}),s.jsx("div",{className:"kpi-compact-sub",children:"Mitgliedschaft"})]})]}),(null==(v=N.wachstumsAnalyse)?void 0:v.vergleichVorjahr)&&(null==(g=N.wachstumsAnalyse)?void 0:g.prognose)&&s.jsxs("div",{className:"growth-trend-section",children:[s.jsxs("div",{className:"growth-header",children:[s.jsx("h3",{children:"üìà Wachstumstrend & Analyse"}),s.jsxs("div",{className:"growth-period-tabs",children:[s.jsx("button",{className:"period-tab "+("woche"===F?"active":""),onClick:()=>_("woche"),children:"Woche"}),s.jsx("button",{className:"period-tab "+("monat"===F?"active":""),onClick:()=>_("monat"),children:"Monat"}),s.jsx("button",{className:"period-tab "+("quartal"===F?"active":""),onClick:()=>_("quartal"),children:"Quartal"}),s.jsx("button",{className:"period-tab "+("jahr"===F?"active":""),onClick:()=>_("jahr"),children:"Jahr"})]})]}),s.jsxs("div",{className:"growth-stats-row",children:[s.jsxs("div",{className:"growth-stat-card",children:[s.jsx("div",{className:"stat-icon",children:"üéØ"}),s.jsxs("div",{className:"stat-content",children:[s.jsxs("div",{className:"stat-label",children:["Aktuelles Jahr ",N.wachstumsAnalyse.vergleichVorjahr.aktuellesJahr]}),s.jsxs("div",{className:"stat-value",children:[N.wachstumsAnalyse.vergleichVorjahr.neueAktuellesJahr," Neue"]})]})]}),s.jsxs("div",{className:"growth-stat-card",children:[s.jsx("div",{className:"stat-icon",children:"üìÖ"}),s.jsxs("div",{className:"stat-content",children:[s.jsxs("div",{className:"stat-label",children:["Vorjahr ",N.wachstumsAnalyse.vergleichVorjahr.vorjahr]}),s.jsxs("div",{className:"stat-value",children:[N.wachstumsAnalyse.vergleichVorjahr.neueVorjahr," Neue"]})]})]}),s.jsxs("div",{className:"growth-stat-card "+(N.wachstumsAnalyse.vergleichVorjahr.prozent>=0?"positive":"negative"),children:[s.jsx("div",{className:"stat-icon",children:N.wachstumsAnalyse.vergleichVorjahr.prozent>=0?"üìà":"üìâ"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("div",{className:"stat-label",children:"Vergleich Vorjahr"}),s.jsxs("div",{className:"stat-value",children:[N.wachstumsAnalyse.vergleichVorjahr.prozent>0?"+":"",N.wachstumsAnalyse.vergleichVorjahr.prozent,"%"]}),s.jsxs("div",{className:"stat-sub",children:[N.wachstumsAnalyse.vergleichVorjahr.differenz>0?"+":"",N.wachstumsAnalyse.vergleichVorjahr.differenz," Mitglieder"]})]})]}),s.jsxs("div",{className:"growth-stat-card info",children:[s.jsx("div",{className:"stat-icon",children:"üîÆ"}),s.jsxs("div",{className:"stat-content",children:[s.jsxs("div",{className:"stat-label",children:["Prognose ",N.wachstumsAnalyse.vergleichVorjahr.aktuellesJahr+1]}),s.jsxs("div",{className:"stat-value",children:[N.wachstumsAnalyse.prognose.naechstesJahr," Neue"]}),s.jsx("div",{className:"stat-sub",children:N.wachstumsAnalyse.prognose.basis})]})]})]}),s.jsx("div",{className:"growth-chart-container",children:s.jsx(i,{width:"100%",height:400,children:s.jsxs(l,{data:"woche"===F?N.wachstumsAnalyse.woche||[]:"monat"===F?N.wachstumsAnalyse.monat||[]:"quartal"===F?N.wachstumsAnalyse.quartal||[]:N.wachstumsAnalyse.jahr||[],children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorGrowth",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#ffd700",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#ffd700",stopOpacity:.1})]})}),s.jsx(c,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),s.jsx(t,{dataKey:"jahr"===F?"jahr":"quartal"===F?"quartal":"monat"===F?"monat":"periode",stroke:"rgba(255,255,255,0.6)",angle:"woche"===F||"monat"===F?-45:0,textAnchor:"woche"===F||"monat"===F?"end":"middle",height:"woche"===F||"monat"===F?80:60}),s.jsx(r,{stroke:"rgba(255,255,255,0.6)"}),s.jsx(n,{contentStyle:{background:"rgba(26, 26, 46, 0.95)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px"}}),s.jsx(d,{type:"monotone",dataKey:"neueMitglieder",stroke:"#ffd700",strokeWidth:3,fill:"url(#colorGrowth)",fillOpacity:1}),s.jsx(h,{type:"monotone",dataKey:"neueMitglieder",stroke:"#ff6b35",strokeWidth:2,dot:{fill:"#ffd700",r:5},activeDot:{r:8}})]})})})]}),s.jsxs("div",{className:"charts-grid-compact",children:[s.jsxs("div",{className:"chart-card-compact",children:[s.jsx("h4",{children:"üë∂ Altersverteilung"}),s.jsx(i,{width:"100%",height:200,children:s.jsxs(m,{children:[s.jsx(o,{data:N.mitgliederAnalyse.altersgruppen,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,value:s})=>`${s}`,outerRadius:60,fill:"#8884d8",dataKey:"value",children:N.mitgliederAnalyse.altersgruppen.map((e,a)=>s.jsx(j,{fill:L[a%L.length]},`cell-${a}`))}),s.jsx(n,{})]})})]}),s.jsxs("div",{className:"chart-card-compact",children:[s.jsx("h4",{children:"‚öß Geschlechterverteilung"}),s.jsx(i,{width:"100%",height:200,children:s.jsxs(x,{data:N.mitgliederAnalyse.geschlechterVerteilung,children:[s.jsx(c,{strokeDasharray:"3 3"}),s.jsx(t,{dataKey:"geschlecht"}),s.jsx(r,{}),s.jsx(n,{}),s.jsx(u,{dataKey:"anzahl",fill:"#8884d8",children:N.mitgliederAnalyse.geschlechterVerteilung.map((e,a)=>s.jsx(j,{fill:L[a%L.length]},`cell-${a}`))})]})})]}),s.jsxs("div",{className:"chart-card-compact",children:[s.jsx("h4",{children:"üìÖ Eintrittsjahre"}),s.jsx(i,{width:"100%",height:200,children:s.jsxs(x,{data:N.mitgliederAnalyse.eintrittsJahre,children:[s.jsx(c,{strokeDasharray:"3 3"}),s.jsx(t,{dataKey:"jahr"}),s.jsx(r,{}),s.jsx(n,{}),s.jsx(u,{dataKey:"anzahl",fill:"#82ca9d"})]})})]}),s.jsxs("div",{className:"chart-card-compact",children:[s.jsx("h4",{children:"ü•ã Stil-Verteilung (Kurse)"}),s.jsx(i,{width:"100%",height:200,children:s.jsxs(x,{data:N.stilAnalyse.verteilung.filter(e=>e.anzahl>0),children:[s.jsx(c,{strokeDasharray:"3 3"}),s.jsx(t,{dataKey:"name",angle:-45,textAnchor:"end",height:80}),s.jsx(r,{}),s.jsx(n,{}),s.jsx(u,{dataKey:"anzahl",fill:"#82ca9d"})]})})]}),s.jsxs("div",{className:"chart-card-compact",children:[s.jsx("h4",{children:"ü•á Top Gurte"}),s.jsx(i,{width:"100%",height:200,children:s.jsxs(x,{data:N.mitgliederAnalyse.graduierungsStats,layout:"vertical",children:[s.jsx(c,{strokeDasharray:"3 3"}),s.jsx(t,{type:"number"}),s.jsx(r,{dataKey:"gurtfarbe",type:"category",width:100}),s.jsx(n,{}),s.jsx(u,{dataKey:"anzahl",fill:"#ffc658",children:N.mitgliederAnalyse.graduierungsStats.map((e,a)=>s.jsx(j,{fill:L[a%L.length]},`cell-${a}`))})]})})]}),s.jsxs("div",{className:"chart-card-compact",children:[s.jsx("h4",{children:"üéÇ N√§chste Geburtstage"}),s.jsx("div",{className:"birthday-list",children:N.mitgliederAnalyse.naechsteGeburtstage.length>0?N.mitgliederAnalyse.naechsteGeburtstage.map((e,a)=>s.jsxs("div",{className:"birthday-item",children:[s.jsx("span",{className:"birthday-icon",children:"üéâ"}),s.jsxs("div",{className:"birthday-info",children:[s.jsx("strong",{children:e.name}),s.jsx("span",{className:"birthday-days",children:0===e.tageVerbleibend?"Heute!":`in ${e.tageVerbleibend} Tagen`})]})]},a)):s.jsx("p",{className:"no-data",children:"Keine Geburtstage in den n√§chsten 30 Tagen"})})]}),s.jsxs("div",{className:"chart-card-compact",children:[s.jsx("h4",{children:"üìä Anwesenheit/Wochentag"}),s.jsx(i,{width:"100%",height:200,children:s.jsxs(x,{data:N.anwesenheitsStatistik.wochentagsVerteilung,children:[s.jsx(c,{strokeDasharray:"3 3"}),s.jsx(t,{dataKey:"tag",angle:-45,textAnchor:"end",height:60}),s.jsx(r,{}),s.jsx(n,{}),s.jsx(u,{dataKey:"anzahl",fill:"#8884d8"})]})})]}),s.jsxs("div",{className:"chart-card-compact",children:[s.jsx("h4",{children:"‚è∞ Spitzenzeiten"}),s.jsx("div",{className:"peak-times-list",children:N.anwesenheitsStatistik.spitzenzeiten.map((e,a)=>s.jsxs("div",{className:"peak-time-item",children:[s.jsx("span",{className:"peak-time",children:e.zeit}),s.jsxs("div",{className:"peak-bar",children:[s.jsx("div",{className:"peak-bar-fill",style:{width:e.teilnehmer/35*100+"%"}}),s.jsx("span",{className:"peak-count",children:e.teilnehmer})]})]},a))})]})]})]}),"financial"===z&&s.jsxs("div",{className:"tab-panel",children:[s.jsxs("div",{className:"kpi-compact-grid",children:[s.jsxs("div",{className:"kpi-compact",children:[s.jsx("div",{className:"kpi-compact-icon",children:"üí∞"}),s.jsx("div",{className:"kpi-compact-value",children:Q(N.finanzielleAuswertung.monatlicheEinnahmen)}),s.jsx("div",{className:"kpi-compact-label",children:"Monatliche Einnahmen"}),s.jsxs("div",{className:"kpi-compact-sub",children:[Q(N.finanzielleAuswertung.jahreseinnahmen),"/Jahr"]})]}),s.jsxs("div",{className:"kpi-compact",children:[s.jsx("div",{className:"kpi-compact-icon",children:"üìä"}),s.jsx("div",{className:"kpi-compact-value",children:Q(N.finanzielleAuswertung.durchschnittsBeitrag)}),s.jsx("div",{className:"kpi-compact-label",children:"√ò Beitrag"}),s.jsx("div",{className:"kpi-compact-sub",children:"Pro Mitglied"})]}),s.jsxs("div",{className:"kpi-compact success",children:[s.jsx("div",{className:"kpi-compact-icon",children:"üìà"}),s.jsxs("div",{className:"kpi-compact-value",children:[N.finanzielleAuswertung.gewinnMarge,"%"]}),s.jsx("div",{className:"kpi-compact-label",children:"Gewinnmarge"}),s.jsxs("div",{className:"kpi-compact-sub",children:["Zahlungsausfall: ",N.finanzielleAuswertung.zahlungsausfall,"%"]})]}),N.finanzielleAuswertung.tarifVerteilung&&s.jsxs("div",{className:"kpi-compact info",children:[s.jsx("div",{className:"kpi-compact-icon",children:"üéØ"}),s.jsx("div",{className:"kpi-compact-value",children:N.finanzielleAuswertung.tarifVerteilung.length}),s.jsx("div",{className:"kpi-compact-label",children:"Aktive Tarife"}),s.jsx("div",{className:"kpi-compact-sub",children:"Mit Mitgliedern"})]})]}),N.finanzielleAuswertung.tarifVerteilung&&N.finanzielleAuswertung.tarifVerteilung.length>0&&s.jsxs("div",{className:"chart-card-compact",children:[s.jsx("h4",{children:"üìä Tarif-Verteilung"}),s.jsx(i,{width:"100%",height:250,children:s.jsxs(x,{data:N.finanzielleAuswertung.tarifVerteilung,layout:"horizontal",children:[s.jsx(c,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),s.jsx(t,{type:"number",stroke:"rgba(255,255,255,0.6)"}),s.jsx(r,{dataKey:"tarifname",type:"category",width:180,stroke:"rgba(255,255,255,0.6)"}),s.jsx(n,{contentStyle:{background:"rgba(26, 26, 46, 0.95)",border:"1px solid rgba(255, 215, 0, 0.3)"},labelStyle:{color:"#ffd700"}}),s.jsx(u,{dataKey:"anzahl",fill:"#ffd700",radius:[0,8,8,0]})]})})]}),(null==C?void 0:C.zusammenfassung)&&C.zusammenfassung.gesamt>0&&s.jsxs("div",{className:"chart-card-compact",children:[s.jsx("h4",{children:"üí° Beitragsoptimierung"}),s.jsxs("div",{className:"kpi-compact-grid",style:{marginBottom:"20px"},children:[s.jsxs("div",{className:"kpi-compact warning",children:[s.jsx("div",{className:"kpi-compact-icon",children:"üë•"}),s.jsx("div",{className:"kpi-compact-value",children:C.zusammenfassung.gesamt}),s.jsx("div",{className:"kpi-compact-label",children:"Optimierbar"})]}),s.jsxs("div",{className:"kpi-compact success",children:[s.jsx("div",{className:"kpi-compact-icon",children:"üí∞"}),s.jsx("div",{className:"kpi-compact-value",children:Q(C.zusammenfassung.potential/100)}),s.jsx("div",{className:"kpi-compact-label",children:"Monatl. Potential"})]}),s.jsxs("div",{className:"kpi-compact info",children:[s.jsx("div",{className:"kpi-compact-icon",children:"üìà"}),s.jsx("div",{className:"kpi-compact-value",children:Q(C.zusammenfassung.durchschnittlicheErhoehung/100)}),s.jsx("div",{className:"kpi-compact-label",children:"√ò Erh√∂hung"})]})]}),C.niedrigeBeitraege.length>0&&s.jsxs("div",{className:"compact-member-list",children:[s.jsxs("table",{className:"data-table-compact",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Aktuell"}),s.jsx("th",{children:"Potential"}),s.jsx("th",{children:"Eintritt"})]})}),s.jsx("tbody",{children:C.niedrigeBeitraege.slice(0,10).map((e,a)=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("div",{className:"member-name-cell",children:[s.jsx("span",{children:e.name}),s.jsx("span",{className:"badge-small",children:e.alterskategorie})]})}),s.jsx("td",{className:"align-right",children:Q(e.aktuellerBeitrag/100)}),s.jsxs("td",{className:"align-right positive",children:["+",Q(e.potentialErhoehung/100)]}),s.jsx("td",{children:new Date(e.eintrittsdatum).toLocaleDateString("de-DE",{year:"numeric",month:"2-digit"})})]},a))})]}),C.niedrigeBeitraege.length>10&&s.jsxs("div",{className:"table-footer",children:["Zeige 10 von ",C.niedrigeBeitraege.length," Mitgliedern"]})]})]})]}),"members"===z&&s.jsxs("div",{className:"tab-panel",children:[s.jsxs("div",{className:"time-period-selector",children:[s.jsx("h3",{children:"üìä Zeitraum-Auswahl"}),s.jsx("div",{className:"period-buttons",children:[{id:"monthly",label:"Monatlich",icon:"üìÖ"},{id:"quarterly",label:"Viertelj√§hrlich",icon:"üìä"},{id:"biannually",label:"Halbj√§hrlich",icon:"üìà"},{id:"annually",label:"J√§hrlich",icon:"üéØ"}].map(e=>s.jsxs("button",{className:"period-button "+(B===e.id?"active":""),onClick:()=>P(e.id),children:[s.jsx("span",{className:"period-icon",children:e.icon}),s.jsx("span",{className:"period-label",children:e.label})]},e.id))})]}),s.jsxs("div",{className:"members-stats-compact",children:[s.jsxs("div",{className:"stat-item-compact",children:[s.jsx("div",{className:"stat-label",children:"Gesamtmitglieder"}),s.jsx("div",{className:"stat-value",children:O(N.mitgliederAnalyse.gesamt)})]}),s.jsxs("div",{className:"stat-item-compact",children:[s.jsx("div",{className:"stat-label",children:"Aktive Mitglieder"}),s.jsx("div",{className:"stat-value",children:O(N.mitgliederAnalyse.aktiv)})]}),s.jsxs("div",{className:"stat-item-compact",children:[s.jsxs("div",{className:"stat-label",children:["Neue ","monthly"===B?"diesen Monat":"quarterly"===B?"dieses Quartal":"biannually"===B?"dieses Halbjahr":"dieses Jahr"]}),s.jsx("div",{className:"stat-value",children:O(N.mitgliederAnalyse.neueThisMonth)})]}),s.jsxs("div",{className:"stat-item-compact",children:[s.jsx("div",{className:"stat-label",children:"Inaktive Mitglieder"}),s.jsx("div",{className:"stat-value",children:O(N.mitgliederAnalyse.inaktiv)})]})]}),G&&s.jsxs("div",{className:"member-analytics-grid",children:[s.jsxs("div",{className:"analytics-chart",children:[s.jsxs("h3",{children:["üìà ","monthly"===B?"Monatliche":"quarterly"===B?"Viertelj√§hrliche":"biannually"===B?"Halbj√§hrliche":"J√§hrliche"," Zug√§nge"]}),s.jsx(i,{width:"100%",height:250,children:G.zug√§nge.length>0?s.jsxs(p,{data:G.zug√§nge,children:[s.jsx(c,{strokeDasharray:"3 3"}),s.jsx(t,{dataKey:"periode"}),s.jsx(r,{}),s.jsx(n,{}),s.jsx(h,{type:"monotone",dataKey:"wert",stroke:"#4caf50",strokeWidth:3,dot:{fill:"#4caf50",strokeWidth:2,r:4}})]}):s.jsx("div",{className:"no-data-message",children:s.jsx("p",{children:"Keine Zugangsdaten verf√ºgbar"})})})]}),s.jsxs("div",{className:"analytics-chart",children:[s.jsx("h3",{children:"üìâ K√ºndigungen"}),s.jsx(i,{width:"100%",height:250,children:G.k√ºndigungen.length>0?s.jsxs(p,{data:G.k√ºndigungen,children:[s.jsx(c,{strokeDasharray:"3 3"}),s.jsx(t,{dataKey:"periode"}),s.jsx(r,{}),s.jsx(n,{}),s.jsx(h,{type:"monotone",dataKey:"wert",stroke:"#f44336",strokeWidth:3,dot:{fill:"#f44336",strokeWidth:2,r:4}})]}):s.jsx("div",{className:"no-data-message",children:s.jsx("p",{children:"Keine K√ºndigungsdaten verf√ºgbar"})})})]}),s.jsxs("div",{className:"analytics-chart",children:[s.jsx("h3",{children:"‚è∏Ô∏è Ruhepausen"}),s.jsx(i,{width:"100%",height:250,children:G.ruhepausen.length>0?s.jsxs(p,{data:G.ruhepausen,children:[s.jsx(c,{strokeDasharray:"3 3"}),s.jsx(t,{dataKey:"periode"}),s.jsx(r,{}),s.jsx(n,{}),s.jsx(h,{type:"monotone",dataKey:"wert",stroke:"#ff9800",strokeWidth:3,dot:{fill:"#ff9800",strokeWidth:2,r:4}})]}):s.jsx("div",{className:"no-data-message",children:s.jsx("p",{children:"Keine Ruhepausen-Daten verf√ºgbar"})})})]}),s.jsxs("div",{className:"analytics-chart",children:[s.jsx("h3",{children:"üîÆ Wachstumsprognose"}),s.jsxs("div",{className:"growth-forecast",children:[s.jsxs("div",{className:"forecast-current",children:[s.jsx("span",{className:"forecast-label",children:"Aktuell:"}),s.jsxs("span",{className:"forecast-value",children:[G.wachstumPrognose.aktuell," Mitglieder"]})]}),s.jsxs("div",{className:"forecast-item",children:[s.jsx("span",{className:"forecast-label",children:"3 Monate:"}),s.jsxs("span",{className:"forecast-value positive",children:["+",G.wachstumPrognose.prognose3Monate-G.wachstumPrognose.aktuell]})]}),s.jsxs("div",{className:"forecast-item",children:[s.jsx("span",{className:"forecast-label",children:"6 Monate:"}),s.jsxs("span",{className:"forecast-value positive",children:["+",G.wachstumPrognose.prognose6Monate-G.wachstumPrognose.aktuell]})]}),s.jsxs("div",{className:"forecast-item",children:[s.jsx("span",{className:"forecast-label",children:"12 Monate:"}),s.jsxs("span",{className:"forecast-value positive",children:["+",G.wachstumPrognose.prognose12Monate-G.wachstumPrognose.aktuell]})]}),s.jsxs("div",{className:"forecast-growth-rate",children:[s.jsx("span",{className:"growth-rate-label",children:"Wachstumsrate:"}),s.jsxs("span",{className:"growth-rate-value",children:[G.wachstumPrognose.wachstumsrate,"%"]})]})]})]})]}),s.jsxs("div",{className:"demographics-chart-compact",children:[s.jsx("h3",{children:"Demografische Verteilung"}),s.jsx(i,{width:"100%",height:250,children:s.jsxs(m,{children:[s.jsx(o,{data:N.mitgliederAnalyse.demographics,cx:"50%",cy:"50%",labelLine:!1,label:({geschlecht:e,prozent:s})=>`${e}: ${s}%`,outerRadius:60,fill:"#8884d8",dataKey:"anzahl",children:N.mitgliederAnalyse.demographics.map((e,a)=>s.jsx(j,{fill:L[a%L.length]},`cell-${a}`))}),s.jsx(n,{})]})})]})]}),"belts"===z&&T&&s.jsxs("div",{className:"tab-panel",children:[s.jsxs("div",{className:"belts-overview-header",children:[s.jsx("h2",{children:"ü•ã G√ºrtel-√úbersicht"}),s.jsxs("div",{className:"summary-stats",children:[s.jsxs("div",{className:"summary-stat",children:[s.jsx("span",{className:"stat-label",children:"Stile:"}),s.jsx("span",{className:"stat-value",children:T.summary.total_stile})]}),s.jsxs("div",{className:"summary-stat",children:[s.jsx("span",{className:"stat-label",children:"G√ºrtel:"}),s.jsx("span",{className:"stat-value",children:T.summary.total_guertel})]}),s.jsxs("div",{className:"summary-stat",children:[s.jsx("span",{className:"stat-label",children:"Mitglieder:"}),s.jsx("span",{className:"stat-value",children:T.summary.total_mitglieder})]})]})]}),T.stile.map(e=>s.jsxs("div",{className:"stil-section",children:[s.jsxs("div",{className:"stil-header",children:[s.jsx("h3",{children:e.stil_name}),s.jsxs("span",{className:"stil-stats",children:[e.guertel.length," G√ºrtel ‚Ä¢ ",e.guertel.reduce((e,s)=>e+s.mitglieder.length,0)," Mitglieder"]})]}),s.jsx("div",{className:"guertel-grid",children:e.guertel.map(e=>s.jsxs("div",{className:"guertel-card",children:[s.jsxs("div",{className:"guertel-header",children:[s.jsx("div",{className:"guertel-color-badge",style:{background:e.farbe_sekundaer?`linear-gradient(135deg, ${e.farbe_hex}, ${e.farbe_sekundaer})`:e.farbe_hex}}),s.jsxs("div",{className:"guertel-info",children:[s.jsx("h4",{children:e.gurt_name}),s.jsx("span",{className:"guertel-category",children:e.kategorie}),e.dan_grad&&s.jsxs("span",{className:"dan-badge",children:[e.dan_grad,". DAN"]})]}),s.jsxs("span",{className:"member-count",children:[e.mitglieder.length," Mitglieder"]})]}),e.mitglieder.length>0&&s.jsxs("div",{className:"members-list",children:[s.jsxs("div",{className:"members-header",children:[s.jsx("span",{children:"Name"}),s.jsx("span",{children:"Anwesenheit Jahr"}),s.jsx("span",{children:"Anwesenheit Monat"})]}),e.mitglieder.map(e=>s.jsxs("div",{className:"member-row",children:[s.jsxs("span",{className:"member-name",children:[e.vorname," ",e.nachname]}),s.jsxs("span",{className:"attendance-stat",children:[e.anwesenheit_jahr,"x"]}),s.jsxs("span",{className:"attendance-stat",children:[e.anwesenheit_monat,"x"]})]},e.mitglied_id))]}),0===e.mitglieder.length&&s.jsx("div",{className:"no-members",children:s.jsx("p",{children:"Keine Mitglieder"})})]},e.graduierung_id))})]},e.stil_id))]}),"performance"===z&&s.jsxs("div",{className:"tab-panel",children:[s.jsxs("div",{className:"performance-metrics",children:[s.jsxs("div",{className:"metric-card",children:[s.jsx("div",{className:"metric-header",children:s.jsx("h3",{children:"Anwesenheitsstatistik"})}),s.jsxs("div",{className:"metric-content",children:[s.jsxs("div",{className:"metric-value",children:[N.anwesenheitsStatistik.durchschnittlicheAnwesenheit,"%"]}),s.jsx("p",{children:"Durchschnittliche Anwesenheit"})]})]}),s.jsxs("div",{className:"metric-card",children:[s.jsx("div",{className:"metric-header",children:s.jsx("h3",{children:"Kurslast"})}),s.jsxs("div",{className:"metric-content",children:[s.jsx("div",{className:"metric-value",children:N.kursAnalyse.durchschnittlicheTeilnehmer}),s.jsx("p",{children:"Teilnehmer pro Kurs"})]})]})]}),s.jsxs("div",{className:"performance-charts",children:[s.jsxs("div",{className:"chart-card",children:[s.jsx("h3",{children:"Wochentag-Anwesenheit"}),s.jsx(i,{width:"100%",height:300,children:s.jsxs(x,{data:N.anwesenheitsStatistik.wochentagsVerteilung,children:[s.jsx(c,{strokeDasharray:"3 3"}),s.jsx(t,{dataKey:"tag"}),s.jsx(r,{}),s.jsx(n,{}),s.jsx(u,{dataKey:"prozent",fill:"#8884d8"})]})})]}),s.jsxs("div",{className:"chart-card",children:[s.jsx("h3",{children:"Spitzenzeiten"}),s.jsx("div",{className:"peak-times",children:N.anwesenheitsStatistik.spitzenzeiten.map((e,a)=>s.jsxs("div",{className:"time-slot",children:[s.jsx("span",{className:"time",children:e.zeit}),s.jsxs("span",{className:"attendance",children:[e.teilnehmer," Teilnehmer"]})]},a))})]})]})]}),"forecasting"===z&&s.jsx("div",{className:"tab-panel",children:s.jsxs("div",{className:"forecast-overview",children:[s.jsx("h3",{children:"Wachstumsprognose"}),s.jsxs("div",{className:"forecast-stats",children:[s.jsxs("div",{className:"forecast-item",children:[s.jsx("div",{className:"forecast-label",children:"N√§chster Monat"}),s.jsxs("div",{className:"forecast-value",children:["+",N.wachstumsAnalyse.prognose.naechsterMonat," Mitglieder"]})]}),s.jsxs("div",{className:"forecast-item",children:[s.jsx("div",{className:"forecast-label",children:"N√§chstes Quartal"}),s.jsxs("div",{className:"forecast-value",children:["+",N.wachstumsAnalyse.prognose.naechstesQuartal," Mitglieder"]})]}),s.jsxs("div",{className:"forecast-item",children:[s.jsx("div",{className:"forecast-label",children:"N√§chstes Jahr"}),s.jsxs("div",{className:"forecast-value",children:["+",N.wachstumsAnalyse.prognose.naechstesJahr," Mitglieder"]})]})]}),s.jsxs("div",{className:"recommendations",children:[s.jsx("h3",{children:"Empfehlungen"}),s.jsx("div",{className:"recommendations-list",children:N.recommendations.map((e,a)=>s.jsxs("div",{className:`recommendation-item ${e.typ}`,children:[s.jsx("span",{className:"recommendation-icon",children:"success"===e.typ?"‚úÖ":"warning"===e.typ?"‚ö†Ô∏è":"info"===e.typ?"‚ÑπÔ∏è":"üí°"}),s.jsxs("div",{className:"recommendation-content",children:[s.jsx("strong",{children:e.title}),s.jsx("p",{children:e.description})]})]},a))})]})]})})]})]}):s.jsx("div",{className:"auswertungen-container",children:s.jsxs("div",{className:"no-data",children:[s.jsx("h3",{children:"Keine Daten verf√ºgbar"}),s.jsx("p",{children:"Es konnten keine Auswertungsdaten geladen werden."})]})})}export{v as default};
