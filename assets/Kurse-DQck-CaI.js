import{a as e,j as r}from"./query-Caj74EYQ.js";import{d as n,D as s,u as a,e as t,f as i,a as l}from"./index-NPitIXjM.js";import"./vendor-router-B2AaIOtG.js";import"./icons-eh0tbLFx.js";import"./charts-QHQg_ypW.js";const o=()=>{const{t:o}=n(["courses","common"]),{kurse:d,trainer:c,stile:m,gruppen:u,ladeAlleDaten:p}=e.useContext(s),{getDojoFilterParam:h,activeDojo:g}=a(),{standorte:x,activeStandort:b,switchStandort:f,hasMultipleLocations:j}=t(),[v,y]=e.useState({gruppenname:"",stil:"",trainer_ids:[],raum_id:""}),[N,k]=e.useState([]),[S,_]=e.useState(!1),[C,z]=e.useState({vorname:"",nachname:"",email:"",telefon:""}),[w,R]=e.useState(""),[T,B]=e.useState(!1),[F,A]=e.useState(""),[D,H]=e.useState(!1),[$,L]=e.useState({name:"",beschreibung:"",groesse:"",kapazitaet:""}),[E,G]=e.useState(!1),[K,I]=e.useState(!1),[W,P]=e.useState({name:"",beschreibung:"",groesse:"",kapazitaet:""});e.useEffect(()=>{U()},[]);const U=async()=>{try{const e=await i("/raeume"),r=await e.json();r.success&&k(r.data)}catch(e){console.error("Fehler beim Laden der R√§ume:",e)}},[M,O]=e.useState("kurse"),[V,q]=e.useState(null),[J,Q]=e.useState({gruppenname:"",stil:"",trainer_ids:[],raum_id:""}),[X,Y]=e.useState({key:"gruppenname",direction:"asc"}),[Z,ee]=e.useState(""),[re,ne]=e.useState(""),[se,ae]=e.useState({}),te=e=>{const r=c.find(r=>r.trainer_id===Number(e));return r?`${r.vorname} ${r.nachname}`:"Unbekannter Trainer"},ie=e=>{if(!e||0===e.length)return"Keine Trainer";return e.map(e=>{const r=c.find(r=>r.trainer_id===Number(e));return r?`${r.vorname} ${r.nachname}`:"Unbekannt"}).join(", ")},le=e=>{if(!e)return"Kein Raum zugewiesen";const r=N.find(r=>r.id===Number(e));return r?r.name:"Unbekannter Raum"},oe=e=>{let r="asc";X.key===e&&"asc"===X.direction&&(r="desc"),Y({key:e,direction:r})},de=e=>X.key!==e?"‚áÖ":"asc"===X.direction?"‚Üë":"‚Üì",ce=e.useMemo(()=>{const e={};return d.filter(e=>!re||e.trainer_id.toString()===re).filter(e=>"all"===b||!e.standort_id||e.standort_id===b).forEach(r=>{const n=r.stil||"Unbekannter Stil";e[n]||(e[n]=[]),e[n].push(r)}),Object.keys(e).forEach(r=>{e[r].sort((e,r)=>{var n,s;if(!X.key){const n=e.gruppenname||"",s=r.gruppenname||"";return n.localeCompare(s)}let a,t;return"trainer"===X.key?(a=Array.isArray(e.trainer_ids)?ie(e.trainer_ids):te(e.trainer_id),t=Array.isArray(r.trainer_ids)?ie(r.trainer_ids):te(r.trainer_id)):"raum"===X.key?(a=le(e.raum_id),t=le(r.raum_id)):"gruppenname"===X.key?(a=e.gruppenname||"",t=r.gruppenname||""):(a=(null==(n=e[X.key])?void 0:n.toString())||"",t=(null==(s=r[X.key])?void 0:s.toString())||""),a=a.toLowerCase(),t=t.toLowerCase(),a<t?"asc"===X.direction?-1:1:a>t?"asc"===X.direction?1:-1:0})}),e},[d,re,X,b]),me=e.useMemo(()=>[...d].filter(e=>!(Z&&e.stil!==Z||re&&e.trainer_id.toString()!==re||"all"!==b&&e.standort_id&&e.standort_id!==b)).sort((e,r)=>{var n,s;if(!X.key)return 0;let a,t;return"trainer"===X.key?(a=Array.isArray(e.trainer_ids)?ie(e.trainer_ids):te(e.trainer_id),t=Array.isArray(r.trainer_ids)?ie(r.trainer_ids):te(r.trainer_id)):"raum"===X.key?(a=le(e.raum_id),t=le(r.raum_id)):"gruppenname"===X.key?(a=e.gruppenname||"",t=r.gruppenname||""):(a=(null==(n=e[X.key])?void 0:n.toString())||"",t=(null==(s=r[X.key])?void 0:s.toString())||""),a=a.toLowerCase(),t=t.toLowerCase(),a<t?"asc"===X.direction?-1:1:a>t?"asc"===X.direction?1:-1:0}),[d,Z,re,X,b]),ue=()=>{const e=[["Stil","Gruppe","Trainer"],...d.map(e=>[e.stil,e.gruppenname,te(e.trainer_id)])].map(e=>e.join(";")).join("\n"),r=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(r),s=document.createElement("a");s.setAttribute("href",n),s.setAttribute("download","kurse.csv"),document.body.appendChild(s),s.click(),document.body.removeChild(s)},pe=async()=>{var e,r,n;if(v.gruppenname&&v.stil&&0!==v.trainer_ids.length)if(g)try{await l.post("/kurse",{gruppenname:v.gruppenname,stil:v.stil,trainer_ids:v.trainer_ids,raum_id:v.raum_id||null,dojo_id:g.id}),y({gruppenname:"",stil:"",trainer_ids:[],raum_id:""}),p(),alert("Kurs erfolgreich hinzugef√ºgt!")}catch(s){console.error("Fehler beim Hinzuf√ºgen:",s),console.error("Fehlerdetails:",null==(e=s.response)?void 0:e.data),alert("Fehler beim Hinzuf√ºgen des Kurses: "+((null==(n=null==(r=s.response)?void 0:r.data)?void 0:n.error)||s.message))}else alert("Fehler: Kein Dojo ausgew√§hlt. Bitte w√§hlen Sie ein Dojo aus.");else alert("Bitte Gruppenname, Stil und mindestens einen Trainer angeben.")},he=()=>q(null),ge=async()=>{var e,r;if(C.vorname&&C.nachname)try{await l.post("/trainer",{vorname:C.vorname,nachname:C.nachname,email:C.email||"",telefon:C.telefon||""});z({vorname:"",nachname:"",email:"",telefon:""}),_(!1),p(),alert("Trainer erfolgreich hinzugef√ºgt!")}catch(n){console.error("Fehler beim Hinzuf√ºgen des Trainers:",n),alert("Fehler beim Hinzuf√ºgen des Trainers: "+((null==(r=null==(e=n.response)?void 0:e.data)?void 0:r.error)||n.message))}else alert("Bitte Vor- und Nachname eingeben.")},xe=async()=>{var e,r;if(w.trim())try{await l.post("/gruppen",{name:w.trim()}),R(""),B(!1),p(),alert("Gruppe erfolgreich hinzugef√ºgt!")}catch(n){console.error("Fehler beim Hinzuf√ºgen der Gruppe:",n),alert("Fehler beim Hinzuf√ºgen der Gruppe: "+((null==(r=null==(e=n.response)?void 0:e.data)?void 0:r.error)||n.message))}else alert("Bitte Gruppennamen eingeben.")},be=async()=>{var e,r;if(F.trim())try{await l.post("/stile",{name:F.trim()}),A(""),H(!1),p(),alert("Stil erfolgreich hinzugef√ºgt!")}catch(n){console.error("Fehler beim Hinzuf√ºgen des Stils:",n),alert("Fehler beim Hinzuf√ºgen des Stils: "+((null==(r=null==(e=n.response)?void 0:e.data)?void 0:r.error)||n.message))}else alert("Bitte Stil-Namen eingeben.")},fe=async(e,r=!1)=>{var n,s;if(e.name.trim())try{await l.post("/raeume",{name:e.name.trim(),beschreibung:e.beschreibung.trim(),groesse:e.groesse.trim()||null,kapazitaet:e.kapazitaet.trim()||null}),r?(P({name:"",beschreibung:"",groesse:"",kapazitaet:""}),I(!1)):(L({name:"",beschreibung:"",groesse:"",kapazitaet:""}),G(!1)),U(),alert("Raum erfolgreich hinzugef√ºgt!")}catch(a){console.error("Fehler beim Hinzuf√ºgen des Raums:",a),alert("Fehler beim Hinzuf√ºgen des Raums: "+((null==(s=null==(n=a.response)?void 0:n.data)?void 0:s.error)||a.message))}else alert("Bitte Raum-Name eingeben.")};return r.jsxs("div",{className:"kurse-container-modern",children:[r.jsx("div",{className:"kurse-header",style:{marginBottom:"0.5rem"},children:r.jsxs("h2",{style:{fontSize:"1.2rem",marginBottom:"0.2rem"},children:["ü•ã ",o("management.title")]})}),r.jsxs("div",{className:"tab-navigation",style:{marginBottom:"0.5rem"},children:[r.jsxs("button",{className:"tab-button "+("kurse"===M?"active":""),onClick:()=>O("kurse"),children:["üìã ",o("management.tabs.courses")]}),r.jsxs("button",{className:"tab-button "+("einstellungen"===M?"active":""),onClick:()=>O("einstellungen"),children:["‚öôÔ∏è ",o("management.tabs.settings")]})]}),"kurse"===M&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem",flexWrap:"wrap",alignItems:"center"},children:[r.jsxs("span",{style:{color:"#ffffff",fontWeight:600,marginRight:"0.5rem"},children:["üìä ",o("management.sortBy")]}),r.jsxs("button",{onClick:()=>oe("gruppenname"),style:{padding:"0.5rem 1rem",background:"gruppenname"===X.key?"rgba(255, 215, 0, 0.3)":"rgba(255, 255, 255, 0.1)",border:"gruppenname"===X.key?"2px solid rgba(255, 215, 0, 0.6)":"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px",color:"#ffffff",cursor:"pointer",fontSize:"0.9rem",fontWeight:600,transition:"all 0.2s"},children:["üè∑Ô∏è ",o("management.sortGroup")," ","gruppenname"===X.key&&de("gruppenname")]}),r.jsxs("button",{onClick:()=>oe("raum"),style:{padding:"0.5rem 1rem",background:"raum"===X.key?"rgba(255, 215, 0, 0.3)":"rgba(255, 255, 255, 0.1)",border:"raum"===X.key?"2px solid rgba(255, 215, 0, 0.6)":"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px",color:"#ffffff",cursor:"pointer",fontSize:"0.9rem",fontWeight:600,transition:"all 0.2s"},children:["üèõÔ∏è ",o("management.sortRoom")," ","raum"===X.key&&de("raum")]}),r.jsxs("button",{onClick:()=>oe("trainer"),style:{padding:"0.5rem 1rem",background:"trainer"===X.key?"rgba(255, 215, 0, 0.3)":"rgba(255, 255, 255, 0.1)",border:"trainer"===X.key?"2px solid rgba(255, 215, 0, 0.6)":"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px",color:"#ffffff",cursor:"pointer",fontSize:"0.9rem",fontWeight:600,transition:"all 0.2s"},children:["üë®‚Äçüè´ ",o("management.sortTrainer")," ","trainer"===X.key&&de("trainer")]})]}),r.jsxs("div",{className:"kurse-controls",children:[r.jsx("div",{className:"kurse-filters",children:r.jsxs("div",{className:"filter-group",children:[r.jsxs("label",{children:["üë®‚Äçüè´ ",o("management.filterTrainer")]}),r.jsxs("select",{className:"filter-select",onChange:e=>ne(e.target.value),value:re,children:[r.jsx("option",{value:"",children:o("management.allTrainers")}),c.map(e=>r.jsxs("option",{value:e.trainer_id,children:[e.vorname," ",e.nachname]},e.trainer_id))]})]})}),r.jsxs("button",{className:"export-button-modern",onClick:ue,children:["üìä ",o("management.csvExport")]})]}),r.jsxs("div",{className:"kurse-stats",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"0.5rem",marginBottom:"0.5rem",marginTop:"0.2rem"},children:[r.jsxs("div",{className:"stat-card",style:{padding:"0.5rem",borderRadius:"6px",boxShadow:"0 1px 2px rgba(0,0,0,0.1)",textAlign:"center",minHeight:"78px",display:"flex",flexDirection:"column",justifyContent:"center",background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 215, 0, 0.2)"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginBottom:"0.1rem"},children:[r.jsx("span",{style:{fontSize:"1.2rem"},children:"ü•ã"}),r.jsx("span",{style:{fontSize:"1.3rem",fontWeight:"bold",color:"#1f2937"},children:d.length})]}),r.jsx("div",{style:{fontSize:"0.7rem",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.3px"},children:o("stats.totalCourses")})]}),r.jsxs("div",{className:"stat-card",style:{padding:"0.5rem",borderRadius:"6px",boxShadow:"0 1px 2px rgba(0,0,0,0.1)",textAlign:"center",minHeight:"78px",display:"flex",flexDirection:"column",justifyContent:"center",background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 215, 0, 0.2)"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.3rem",marginBottom:"0.05rem"},children:[r.jsx("span",{style:{fontSize:"1rem"},children:"üéØ"}),r.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#ffffff"},children:me.length})]}),r.jsx("div",{style:{fontSize:"0.6rem",color:"#ffffff",textTransform:"uppercase",letterSpacing:"0.3px"},children:o("stats.filteredResults")})]}),r.jsxs("div",{className:"stat-card",style:{padding:"0.5rem",borderRadius:"6px",boxShadow:"0 1px 2px rgba(0,0,0,0.1)",textAlign:"center",minHeight:"78px",display:"flex",flexDirection:"column",justifyContent:"center",background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 215, 0, 0.2)"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.3rem",marginBottom:"0.05rem"},children:[r.jsx("span",{style:{fontSize:"1rem"},children:"üë•"}),r.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#ffffff"},children:new Set(d.map(e=>e.trainer_id)).size})]}),r.jsx("div",{style:{fontSize:"0.6rem",color:"#ffffff",textTransform:"uppercase",letterSpacing:"0.3px"},children:o("stats.activeTrainers")})]}),r.jsxs("div",{className:"stat-card",style:{padding:"0.5rem",borderRadius:"6px",boxShadow:"0 1px 2px rgba(0,0,0,0.1)",textAlign:"center",minHeight:"78px",display:"flex",flexDirection:"column",justifyContent:"center",background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 215, 0, 0.2)"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.3rem",marginBottom:"0.05rem"},children:[r.jsx("span",{style:{fontSize:"1rem"},children:"üè†"}),r.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#ffffff"},children:new Set(d.map(e=>e.raum_id)).size||0})]}),r.jsx("div",{style:{fontSize:"0.6rem",color:"#ffffff",textTransform:"uppercase",letterSpacing:"0.3px"},children:o("stats.rooms")})]}),r.jsxs("div",{className:"stat-card",style:{padding:"0.5rem",borderRadius:"6px",boxShadow:"0 1px 2px rgba(0,0,0,0.1)",textAlign:"center",minHeight:"78px",display:"flex",flexDirection:"column",justifyContent:"center",background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 215, 0, 0.2)"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.3rem",marginBottom:"0.05rem"},children:[r.jsx("span",{style:{fontSize:"1rem"},children:"üë∂"}),r.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#ffffff"},children:d.filter(e=>e.gruppe&&e.gruppe.toLowerCase().includes("kind")).length})]}),r.jsx("div",{style:{fontSize:"0.6rem",color:"#ffffff",textTransform:"uppercase",letterSpacing:"0.3px"},children:o("stats.childrenCourses")})]}),r.jsxs("div",{className:"stat-card",style:{padding:"0.5rem",borderRadius:"6px",boxShadow:"0 1px 2px rgba(0,0,0,0.1)",textAlign:"center",minHeight:"78px",display:"flex",flexDirection:"column",justifyContent:"center",background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 215, 0, 0.2)"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.3rem",marginBottom:"0.05rem"},children:[r.jsx("span",{style:{fontSize:"1rem"},children:"üë®‚Äçüíº"}),r.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#ffffff"},children:d.filter(e=>e.gruppe&&!e.gruppe.toLowerCase().includes("kind")).length})]}),r.jsx("div",{style:{fontSize:"0.6rem",color:"#ffffff",textTransform:"uppercase",letterSpacing:"0.3px"},children:o("stats.adultCourses")})]})]}),r.jsx("div",{className:"kurse-by-stil",children:Object.keys(ce).length>0?Object.keys(ce).sort().map((e,n)=>r.jsxs("div",{className:"stil-section",style:{marginBottom:"2rem"},children:[r.jsxs("h2",{className:"stil-header",onClick:()=>(e=>{ae(r=>({...r,[e]:!r[e]}))})(e),style:{cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem 1.5rem",background:"linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 215, 0, 0.1))",border:"2px solid rgba(255, 215, 0, 0.3)",borderRadius:"12px",marginBottom:"1rem",transition:"all 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 215, 0, 0.3), rgba(255, 215, 0, 0.15))",e.currentTarget.style.borderColor="rgba(255, 215, 0, 0.5)"},onMouseLeave:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 215, 0, 0.1))",e.currentTarget.style.borderColor="rgba(255, 215, 0, 0.3)"},children:[r.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[r.jsx("span",{style:{fontSize:"1.5rem"},children:"ü•ã"}),r.jsx("span",{style:{fontSize:"1.3rem",fontWeight:700,color:"#ffffff",textShadow:"0 2px 4px rgba(0, 0, 0, 0.8)"},children:e}),r.jsxs("span",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",background:"rgba(255, 255, 255, 0.1)",padding:"0.25rem 0.75rem",borderRadius:"12px",fontWeight:600},children:[ce[e].length," ",1===ce[e].length?"Kurs":"Kurse"]})]}),r.jsx("span",{style:{transform:se[e]?"rotate(-90deg)":"rotate(0deg)",transition:"transform 0.3s ease",fontSize:"1.2rem",color:"#ffffff"},children:"‚ñº"})]}),!se[e]&&r.jsx("div",{className:"kurse-grid",style:{animationDelay:.1*n+"s"},children:ce[e].map((e,n)=>r.jsxs("div",{className:"kurs-card",style:{animationDelay:.1*n+"s"},children:[r.jsxs("div",{className:"kurs-card-header",children:[r.jsx("div",{className:"kurs-stil-badge",children:V===e.kurs_id?r.jsx("input",{type:"text",className:"edit-header-input",value:J.stil,onChange:e=>Q({...J,stil:e.target.value}),placeholder:"Stil eingeben"}):e.stil}),r.jsx("div",{className:"kurs-actions",children:V===e.kurs_id?r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"action-btn save-btn",onClick:()=>(async e=>{var r,n,s;if(console.log("=== SPEICHERN START ==="),console.log("EditingData beim Speichern:",J),console.log("Gruppenname:",J.gruppenname),console.log("Stil:",J.stil),console.log("Trainer IDs:",J.trainer_ids),!J.gruppenname||!J.stil||0===J.trainer_ids.length)return console.log("VALIDIERUNG FEHLGESCHLAGEN!"),void alert("Bitte Gruppenname, Stil und mindestens einen Trainer angeben.");const a=h(),t=a?`/kurse/${e}?${a}`:`/kurse/${e}`;try{await l.put(t,{gruppenname:J.gruppenname,stil:J.stil,trainer_ids:J.trainer_ids,raum_id:J.raum_id||null}),q(null),p()}catch(i){console.error("Fehler beim Speichern:",i),console.error("Fehlerdetails:",null==(r=i.response)?void 0:r.data),alert("Fehler beim Speichern des Kurses: "+((null==(s=null==(n=i.response)?void 0:n.data)?void 0:s.error)||i.message))}})(e.kurs_id),title:"√Ñnderungen speichern",children:"‚úÖ"}),r.jsx("button",{className:"action-btn cancel-btn",onClick:he,title:"Bearbeitung abbrechen",children:"‚ùå"})]}):r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"action-btn edit-btn",onClick:()=>(e=>{console.log("=== BEARBEITEN START ==="),console.log("Kurs Daten:",e),q(e.kurs_id);const r={gruppenname:e.gruppenname,stil:e.stil,trainer_ids:Array.isArray(e.trainer_ids)?e.trainer_ids:[e.trainer_id],raum_id:e.raum_id||""};console.log("EditingData gesetzt auf:",r),Q(r)})(e),title:"Kurs bearbeiten",children:"‚úèÔ∏è"}),r.jsx("button",{className:"action-btn delete-btn",onClick:()=>(async e=>{var r,n,s;if(window.confirm("Soll dieser Kurs wirklich gel√∂scht werden?"))try{const r=h(),n=r?`/kurse/${e}?${r}`:`/kurse/${e}`;await l.delete(n),p()}catch(a){console.error("Fehler beim L√∂schen:",a),console.error("Fehlerdetails:",null==(r=a.response)?void 0:r.data),alert("Fehler beim L√∂schen des Kurses: "+((null==(s=null==(n=a.response)?void 0:n.data)?void 0:s.error)||a.message))}})(e.kurs_id),title:"Kurs l√∂schen",children:"üóëÔ∏è"})]})})]}),j&&e.standort_name&&r.jsxs("div",{className:"kurs-standort-badge",style:{background:e.standort_farbe||"#4F46E5",color:"white",padding:"6px 12px",fontSize:"0.75rem",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px",borderRadius:"6px",marginTop:"8px",marginBottom:"4px"},children:[r.jsx("span",{style:{fontSize:"0.9rem"},children:"üìç"}),r.jsx("span",{children:e.standort_name})]}),r.jsx("div",{className:"kurs-card-content",children:r.jsxs("div",{className:"kurs-info-left",children:[r.jsxs("div",{className:"kurs-field",children:[r.jsx("label",{children:"ü•ã Stil:"}),V===e.kurs_id?r.jsx("input",{type:"text",className:"edit-input",value:J.stil,onChange:e=>Q({...J,stil:e.target.value}),placeholder:"Stil eingeben"}):r.jsx("span",{className:"kurs-value",children:e.stil})]}),r.jsxs("div",{className:"kurs-field",children:[r.jsx("label",{children:"üè∑Ô∏è Gruppe:"}),V===e.kurs_id?r.jsxs("select",{className:"edit-select",value:J.gruppenname,onChange:e=>Q({...J,gruppenname:e.target.value}),children:[r.jsx("option",{value:"",children:"Gruppe ausw√§hlen..."}),u.map(e=>r.jsx("option",{value:e.name,children:e.name},e.gruppen_id))]}):r.jsx("span",{className:"kurs-value gruppe",children:e.gruppenname||"Keine Gruppe"})]}),r.jsxs("div",{className:"kurs-field",children:[r.jsx("label",{children:"üèõÔ∏è Raum:"}),V===e.kurs_id?r.jsxs("select",{className:"edit-select",value:J.raum_id||"",onChange:e=>Q({...J,raum_id:e.target.value}),children:[r.jsx("option",{value:"",children:"Kein Raum zugewiesen"}),N.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]}):r.jsx("span",{className:"kurs-value",children:le(e.raum_id)})]}),r.jsxs("div",{className:"kurs-field",children:[r.jsx("label",{children:"üë®‚Äçüè´ Trainer:"}),V===e.kurs_id?r.jsx("div",{className:"trainer-multiselect",children:c.map(e=>r.jsxs("label",{className:"trainer-checkbox-label",children:[r.jsx("input",{type:"checkbox",checked:J.trainer_ids.includes(e.trainer_id),onChange:r=>{const n=r.target.checked?[...J.trainer_ids,e.trainer_id]:J.trainer_ids.filter(r=>r!==e.trainer_id);Q({...J,trainer_ids:n})}}),r.jsxs("span",{className:"trainer-checkbox-name",children:[e.vorname," ",e.nachname]})]},e.trainer_id))}):r.jsx("div",{className:"kurs-value trainer-names",children:Array.isArray(e.trainer_ids)?ie(e.trainer_ids):te(e.trainer_id)})]})]})})]},e.kurs_id))})]},e)):r.jsx("div",{className:"no-kurse-message",children:r.jsxs("div",{className:"empty-state",children:[r.jsx("div",{className:"empty-icon",children:"üîç"}),r.jsx("h3",{children:o("list.noCoursesFound")}),r.jsx("p",{children:o("list.noCoursesFilter")})]})})}),r.jsxs("div",{className:"neuer-kurs-card",style:{animationDelay:.1*me.length+.3+"s"},children:[r.jsx("div",{className:"card-header",children:r.jsxs("h3",{children:["‚ûï ",o("form.createNewCourse")]})}),r.jsx("div",{className:"kurs-form-modern",children:r.jsxs("div",{className:"kurs-form-left",children:[r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:["ü•ã ",o("form.style"),":"]}),r.jsxs("select",{className:"form-select",value:v.stil,onChange:e=>y({...v,stil:e.target.value}),children:[r.jsx("option",{value:"",children:o("form.selectStyle")}),m.filter(e=>0!==e.aktiv).map(e=>r.jsx("option",{value:e.name,children:e.name},e.stil_id))]})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:["üè∑Ô∏è ",o("groups.title","Gruppe"),":"]}),r.jsxs("select",{className:"form-select",value:v.gruppenname,onChange:e=>y({...v,gruppenname:e.target.value}),children:[r.jsx("option",{value:"",children:o("form.selectGroup")}),u.map(e=>r.jsx("option",{value:e.name,children:e.name},e.gruppen_id))]})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:["üèõÔ∏è ",o("timetable.room"),":"]}),r.jsxs("select",{className:"form-select",value:v.raum_id||"",onChange:e=>y({...v,raum_id:e.target.value}),children:[r.jsx("option",{value:"",children:o("form.selectRoom")}),N.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]}),!E&&r.jsx("button",{type:"button",className:"add-new-btn",onClick:()=>G(!0),style:{marginTop:"0.5rem",padding:"0.4rem 0.8rem",fontSize:"0.8rem",background:"rgba(255, 215, 0, 0.2)",border:"1px solid rgba(255, 215, 0, 0.5)",borderRadius:"6px",color:"#ffffff",cursor:"pointer"},children:"‚ûï Neuen Raum hinzuf√ºgen"}),E&&r.jsxs("div",{className:"new-room-form",style:{marginTop:"0.5rem",padding:"1rem",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px"},children:[r.jsx("h4",{style:{color:"#ffffff",marginBottom:"0.8rem",fontSize:"0.9rem"},children:"üè† Neuen Raum erstellen"}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[r.jsx("input",{type:"text",placeholder:"Raum-Name (z.B. Hauptraum)",value:$.name,onChange:e=>L({...$,name:e.target.value}),style:{padding:"0.4rem",background:"rgba(255, 255, 255, 0.15)",border:"1px solid rgba(255, 215, 0, 0.4)",borderRadius:"4px",color:"#ffffff",fontSize:"0.9rem"}}),r.jsx("input",{type:"text",placeholder:"Beschreibung (optional)",value:$.beschreibung,onChange:e=>L({...$,beschreibung:e.target.value}),style:{padding:"0.4rem",background:"rgba(255, 255, 255, 0.15)",border:"1px solid rgba(255, 215, 0, 0.4)",borderRadius:"4px",color:"#ffffff",fontSize:"0.9rem"}}),r.jsx("input",{type:"text",placeholder:"Gr√∂√üe (optional, z.B. 50m¬≤)",value:$.groesse,onChange:e=>L({...$,groesse:e.target.value}),style:{padding:"0.4rem",background:"rgba(255, 255, 255, 0.15)",border:"1px solid rgba(255, 215, 0, 0.4)",borderRadius:"4px",color:"#ffffff",fontSize:"0.9rem"}}),r.jsx("input",{type:"number",placeholder:"Kapazit√§t (optional)",value:$.kapazitaet,onChange:e=>L({...$,kapazitaet:e.target.value}),style:{padding:"0.4rem",background:"rgba(255, 255, 255, 0.15)",border:"1px solid rgba(255, 215, 0, 0.4)",borderRadius:"4px",color:"#ffffff",fontSize:"0.9rem"}}),r.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:[r.jsx("button",{type:"button",onClick:()=>fe($,!1),style:{padding:"0.4rem 0.8rem",background:"rgba(0, 255, 0, 0.3)",border:"1px solid rgba(0, 255, 0, 0.5)",borderRadius:"4px",color:"#ffffff",cursor:"pointer",fontSize:"0.8rem"},children:"‚úÖ Hinzuf√ºgen"}),r.jsx("button",{type:"button",onClick:()=>{G(!1),L({name:"",beschreibung:"",groesse:"",kapazitaet:""})},style:{padding:"0.4rem 0.8rem",background:"rgba(255, 0, 0, 0.3)",border:"1px solid rgba(255, 0, 0, 0.5)",borderRadius:"4px",color:"#ffffff",cursor:"pointer",fontSize:"0.8rem"},children:"‚ùå Abbrechen"})]})]})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:["üë®‚Äçüè´ ",o("form.trainer"),":"]}),r.jsx("div",{className:"trainer-multiselect",children:c.map(e=>r.jsxs("label",{className:"trainer-checkbox-label",children:[r.jsx("input",{type:"checkbox",checked:v.trainer_ids.includes(e.trainer_id),onChange:r=>{const n=r.target.checked?[...v.trainer_ids,e.trainer_id]:v.trainer_ids.filter(r=>r!==e.trainer_id);y({...v,trainer_ids:n})}}),r.jsxs("span",{className:"trainer-checkbox-name",children:[e.vorname," ",e.nachname]})]},e.trainer_id))})]}),r.jsxs("button",{className:"add-button-modern",onClick:pe,children:[r.jsx("span",{className:"btn-icon",children:"‚ûï"}),o("form.createCourse")]})]})})]})]}),"einstellungen"===M&&r.jsx("div",{className:"einstellungen-content",children:r.jsxs("div",{className:"einstellungen-grid",children:[r.jsxs("div",{className:"einstellungen-card",style:{animationDelay:"0.1s"},children:[r.jsx("div",{className:"card-header",children:r.jsxs("h3",{children:["üë®‚Äçüè´ ",o("trainers.title")]})}),r.jsxs("div",{className:"card-content",children:[r.jsxs("div",{className:"current-list",children:[r.jsx("h4",{children:o("trainers.existing")}),r.jsx("div",{className:"items-list",children:c.map((e,n)=>r.jsxs("div",{className:"list-item",children:[r.jsxs("div",{className:"item-move-controls",children:[r.jsx("button",{className:"move-up-btn",title:"Nach oben",disabled:0===n,onClick:e=>{e.preventDefault(),e.stopPropagation(),(e=>{e>0&&alert(`Trainer "${c[e].vorname} ${c[e].nachname}" nach oben verschoben!`)})(n)},children:"‚Üë"}),r.jsx("button",{className:"move-down-btn",title:"Nach unten",disabled:n===c.length-1,onClick:()=>(e=>{e<c.length-1&&alert(`Trainer "${c[e].vorname} ${c[e].nachname}" nach unten verschoben!`)})(n),children:"‚Üì"})]}),r.jsxs("span",{children:[e.vorname," ",e.nachname]}),r.jsxs("div",{className:"item-actions",children:[r.jsx("button",{className:"edit-item-btn",title:"Bearbeiten",children:"‚úèÔ∏è"}),r.jsx("button",{className:"delete-item-btn",title:"L√∂schen",children:"üóëÔ∏è"})]})]},e.trainer_id))})]}),r.jsxs("div",{className:"new-item-form",children:[r.jsxs("h4",{children:["üÜï ",o("trainers.addNew")]}),S?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"trainer-form-grid",children:[r.jsx("input",{type:"text",className:"form-input",placeholder:`${o("trainers.firstName")} *`,value:C.vorname,onChange:e=>z({...C,vorname:e.target.value})}),r.jsx("input",{type:"text",className:"form-input",placeholder:`${o("trainers.lastName")} *`,value:C.nachname,onChange:e=>z({...C,nachname:e.target.value})}),r.jsx("input",{type:"email",className:"form-input",placeholder:o("trainers.email"),value:C.email,onChange:e=>z({...C,email:e.target.value})}),r.jsx("input",{type:"tel",className:"form-input",placeholder:o("trainers.phone"),value:C.telefon,onChange:e=>z({...C,telefon:e.target.value})})]}),r.jsxs("div",{className:"trainer-form-actions",children:[r.jsxs("button",{className:"confirm-trainer-btn",onClick:ge,children:["‚úÖ ",o("trainers.addTrainer")]}),r.jsx("button",{className:"cancel-btn-small",style:{marginLeft:"1rem",padding:"14px 28px",fontSize:"1.1rem"},onClick:()=>{_(!1),z({vorname:"",nachname:"",email:"",telefon:""})},children:"‚ùå Abbrechen"})]})]}):r.jsx("button",{className:"add-new-btn",onClick:()=>_(!0),children:"‚ûï"})]})]})]}),r.jsxs("div",{className:"einstellungen-card",style:{animationDelay:"0.2s"},children:[r.jsx("div",{className:"card-header",children:r.jsxs("h3",{children:["üè∑Ô∏è ",o("groups.title")]})}),r.jsxs("div",{className:"card-content",children:[r.jsxs("div",{className:"current-list",children:[r.jsx("h4",{children:o("groups.existing")}),r.jsx("div",{className:"items-list",children:u.map((e,n)=>r.jsxs("div",{className:"list-item",children:[r.jsxs("div",{className:"item-move-controls",children:[r.jsx("button",{className:"move-up-btn",title:"Nach oben",disabled:0===n,onClick:()=>(e=>{e>0&&alert(`Gruppe "${u[e].name}" nach oben verschoben!`)})(n),children:"‚Üë"}),r.jsx("button",{className:"move-down-btn",title:"Nach unten",disabled:n===u.length-1,onClick:()=>(e=>{e<u.length-1&&alert(`Gruppe "${u[e].name}" nach unten verschoben!`)})(n),children:"‚Üì"})]}),r.jsx("span",{children:e.name}),r.jsxs("div",{className:"item-actions",children:[r.jsx("button",{className:"edit-item-btn",title:"Bearbeiten",children:"‚úèÔ∏è"}),r.jsx("button",{className:"delete-item-btn",title:"L√∂schen",children:"üóëÔ∏è"})]})]},e.gruppen_id))})]}),r.jsxs("div",{className:"new-item-form",children:[r.jsxs("h4",{children:["üÜï ",o("groups.addNew")]}),T?r.jsxs("div",{className:"simple-form",children:[r.jsx("input",{type:"text",className:"form-input",placeholder:o("groups.enterName"),value:w,onChange:e=>R(e.target.value),onKeyPress:e=>"Enter"===e.key&&xe()}),r.jsxs("div",{className:"input-buttons",children:[r.jsx("button",{className:"add-btn-small",onClick:xe,children:"‚úÖ"}),r.jsx("button",{className:"cancel-btn-small",onClick:()=>{B(!1),R("")},children:"‚ùå"})]})]}):r.jsx("button",{className:"add-new-btn",onClick:()=>B(!0),children:"‚ûï"})]})]})]}),r.jsxs("div",{className:"einstellungen-card",style:{animationDelay:"0.3s"},children:[r.jsx("div",{className:"card-header",children:r.jsxs("h3",{children:["ü•ã ",o("styles.title")]})}),r.jsxs("div",{className:"card-content",children:[r.jsxs("div",{className:"current-list",children:[r.jsx("h4",{children:o("styles.existing")}),r.jsx("div",{className:"items-list",children:m.map((e,n)=>r.jsxs("div",{className:"list-item",children:[r.jsxs("div",{className:"item-move-controls",children:[r.jsx("button",{className:"move-up-btn",title:"Nach oben",disabled:0===n,onClick:()=>(e=>{e>0&&alert(`Stil "${m[e].name}" nach oben verschoben!`)})(n),children:"‚Üë"}),r.jsx("button",{className:"move-down-btn",title:"Nach unten",disabled:n===m.length-1,onClick:()=>(e=>{e<m.length-1&&alert(`Stil "${m[e].name}" nach unten verschoben!`)})(n),children:"‚Üì"})]}),r.jsx("span",{children:e.name}),r.jsxs("div",{className:"item-actions",children:[r.jsx("button",{className:"edit-item-btn",title:"Bearbeiten",children:"‚úèÔ∏è"}),r.jsx("button",{className:"delete-item-btn",title:"L√∂schen",children:"üóëÔ∏è"})]})]},e.stil_id))})]}),r.jsxs("div",{className:"new-item-form",children:[r.jsxs("h4",{children:["üÜï ",o("styles.addNew")]}),D?r.jsxs("div",{className:"simple-form",children:[r.jsx("input",{type:"text",className:"form-input",placeholder:o("styles.enterName"),value:F,onChange:e=>A(e.target.value),onKeyPress:e=>"Enter"===e.key&&be()}),r.jsxs("div",{className:"input-buttons",children:[r.jsx("button",{className:"add-btn-small",onClick:be,children:"‚úÖ"}),r.jsx("button",{className:"cancel-btn-small",onClick:()=>{H(!1),A("")},children:"‚ùå"})]})]}):r.jsx("button",{className:"add-new-btn",onClick:()=>H(!0),children:"‚ûï"})]}),r.jsx("div",{className:"info-box",children:r.jsxs("p",{children:["‚ÑπÔ∏è ",r.jsxs("strong",{children:[o("common:labels.hint","Hinweis"),":"]})," ",o("styles.hint")]})})]})]}),r.jsxs("div",{className:"einstellungen-card",style:{animationDelay:"0.4s"},children:[r.jsx("div",{className:"card-header",children:r.jsxs("h3",{children:["üèõÔ∏è ",o("rooms.title")]})}),r.jsxs("div",{className:"card-content",children:[r.jsxs("div",{className:"current-list",children:[r.jsx("h4",{children:o("rooms.existing")}),r.jsx("div",{className:"items-list",children:N.map((e,n)=>r.jsxs("div",{className:"list-item",children:[r.jsxs("div",{className:"item-move-controls",children:[r.jsx("button",{className:"move-up-btn",title:"Nach oben",disabled:0===n,onClick:()=>{},children:"‚Üë"}),r.jsx("button",{className:"move-down-btn",title:"Nach unten",disabled:n===N.length-1,onClick:()=>{},children:"‚Üì"})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[r.jsx("span",{style:{fontWeight:"bold"},children:e.name}),e.beschreibung&&r.jsx("span",{style:{fontSize:"0.8rem",color:"#ccc",marginTop:"0.2rem"},children:e.beschreibung}),(e.groesse||e.kapazitaet)&&r.jsxs("span",{style:{fontSize:"0.7rem",color:"#999",marginTop:"0.1rem"},children:[e.groesse&&`${e.groesse}`,e.groesse&&e.kapazitaet&&" ‚Ä¢ ",e.kapazitaet&&`${e.kapazitaet} Personen`]})]}),r.jsxs("div",{className:"item-actions",children:[r.jsx("button",{className:"edit-item-btn",title:"Bearbeiten",children:"‚úèÔ∏è"}),r.jsx("button",{className:"delete-item-btn",title:"L√∂schen",children:"üóëÔ∏è"})]})]},e.raum_id))})]}),r.jsxs("div",{className:"new-item-form",children:[r.jsxs("h4",{children:["üÜï ",o("rooms.addNew")]}),K?r.jsx("div",{className:"room-form-stammdaten",style:{padding:"1rem",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px",marginTop:"0.5rem"},children:r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[r.jsx("input",{type:"text",className:"form-input",placeholder:o("rooms.namePlaceholder"),value:W.name,onChange:e=>P({...W,name:e.target.value})}),r.jsx("input",{type:"text",className:"form-input",placeholder:o("rooms.description"),value:W.beschreibung,onChange:e=>P({...W,beschreibung:e.target.value})}),r.jsx("input",{type:"text",className:"form-input",placeholder:o("rooms.size"),value:W.groesse,onChange:e=>P({...W,groesse:e.target.value})}),r.jsx("input",{type:"number",className:"form-input",placeholder:o("rooms.capacity"),value:W.kapazitaet,onChange:e=>P({...W,kapazitaet:e.target.value})}),r.jsxs("div",{className:"input-buttons",style:{marginTop:"0.5rem"},children:[r.jsx("button",{className:"add-btn-small",onClick:()=>fe(W,!0),children:"‚úÖ"}),r.jsx("button",{className:"cancel-btn-small",onClick:()=>{I(!1),P({name:"",beschreibung:"",groesse:"",kapazitaet:""})},children:"‚ùå"})]})]})}):r.jsx("button",{className:"add-new-btn",onClick:()=>I(!0),children:"‚ûï"})]}),r.jsx("div",{className:"info-box",children:r.jsxs("p",{children:["‚ÑπÔ∏è ",r.jsxs("strong",{children:[o("common:labels.hint","Hinweis"),":"]})," ",o("rooms.hint")]})})]})]})]})})]})};export{o as default};
