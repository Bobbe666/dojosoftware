import{j as e}from"./animation-1wuIdCBS.js";import{r as n}from"./vendor-router-BhMXg4Z-.js";import{a as r}from"./index-DUnH23_2.js";import{C as i,Y as t,bq as l,aZ as s,br as o,b8 as d}from"./icons-D7rg4pDH.js";import"./vendor-react-DtuzQOD1.js";import"./query-Bs1dTGah.js";const a=()=>{var a,p,x;const[u,g]=n.useState(null),[h,j]=n.useState(!0),[y,f]=n.useState(null),[b,v]=n.useState(null);n.useEffect(()=>{m()},[]);const m=async()=>{try{j(!0);const e=await r.get("/ical/my-token");g(e.data)}catch(e){console.error("Fehler beim Laden des Kalender-Tokens:",e),f("Kalender-Token konnte nicht geladen werden")}finally{j(!1)}},k=async(e,n)=>{try{await navigator.clipboard.writeText(e),v(n),setTimeout(()=>v(null),2e3)}catch(r){console.error("Kopieren fehlgeschlagen:",r)}},B=(e,n)=>{let r=e;"google"===n?r=`https://calendar.google.com/calendar/r?cid=${encodeURIComponent(e)}`:"outlook"===n&&(r=`https://outlook.live.com/calendar/0/addfromweb?url=${encodeURIComponent(e)}`),window.open(r,"_blank")};return h?e.jsx("div",{style:c.container,children:e.jsxs("div",{style:c.loading,children:[e.jsx("div",{style:c.spinner}),e.jsx("p",{children:"Lade Kalender-Einstellungen..."})]})}):y?e.jsx("div",{style:c.container,children:e.jsxs("div",{style:c.error,children:[e.jsx("p",{children:y}),e.jsx("button",{style:c.retryButton,onClick:m,children:"Erneut versuchen"})]})}):e.jsxs("div",{style:c.container,children:[e.jsxs("div",{style:c.header,children:[e.jsx(i,{size:32,color:"#ffd700"}),e.jsxs("div",{children:[e.jsx("h2",{style:c.title,children:"Kalender-Synchronisation"}),e.jsx("p",{style:c.subtitle,children:"Synchronisiere deine Trainings und Events mit deinem Kalender"})]})]}),e.jsxs("div",{style:c.card,children:[e.jsxs("div",{style:c.cardHeader,children:[e.jsx("h3",{style:c.cardTitle,children:"Mein persönlicher Trainingskalender"}),e.jsx("span",{style:c.badge,children:"Empfohlen"})]}),e.jsx("p",{style:c.cardDescription,children:"Enthält alle Kurse, für die du angemeldet bist, sowie deine Event-Anmeldungen."}),e.jsxs("div",{style:c.urlBox,children:[e.jsx("input",{type:"text",value:(null==(a=null==u?void 0:u.urls)?void 0:a.personal)||"",readOnly:!0,style:c.urlInput}),e.jsx("button",{style:c.copyButton,onClick:()=>{var e;return k(null==(e=null==u?void 0:u.urls)?void 0:e.personal,"personal")},children:"personal"===b?e.jsx(t,{size:18}):e.jsx(l,{size:18})})]}),e.jsxs("div",{style:c.buttonGroup,children:[e.jsxs("button",{style:c.calendarButton,onClick:()=>{var e;return B(null==(e=null==u?void 0:u.urls)?void 0:e.personal,"google")},children:[e.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",style:{width:16,height:16,marginRight:8}}),"Google Kalender"]}),e.jsxs("button",{style:c.calendarButton,onClick:()=>{var e;return B(null==(e=null==u?void 0:u.urls)?void 0:e.personal,"outlook")},children:[e.jsx(s,{size:16,style:{marginRight:8}}),"Outlook"]}),e.jsxs("button",{style:{...c.calendarButton,...c.appleButton},onClick:()=>{var e;return k(null==(e=null==u?void 0:u.urls)?void 0:e.personal,"personal")},children:[e.jsx(o,{size:16,style:{marginRight:8}}),"Apple (Link kopieren)"]})]})]}),e.jsxs("div",{style:c.card,children:[e.jsx("div",{style:c.cardHeader,children:e.jsx("h3",{style:c.cardTitle,children:"Dojo Stundenplan"})}),e.jsx("p",{style:c.cardDescription,children:"Der komplette Stundenplan des Dojos mit allen Kursen."}),e.jsxs("div",{style:c.urlBox,children:[e.jsx("input",{type:"text",value:(null==(p=null==u?void 0:u.urls)?void 0:p.dojoSchedule)||"",readOnly:!0,style:c.urlInput}),e.jsx("button",{style:c.copyButton,onClick:()=>{var e;return k(null==(e=null==u?void 0:u.urls)?void 0:e.dojoSchedule,"schedule")},children:"schedule"===b?e.jsx(t,{size:18}):e.jsx(l,{size:18})})]})]}),e.jsxs("div",{style:c.card,children:[e.jsx("div",{style:c.cardHeader,children:e.jsx("h3",{style:c.cardTitle,children:"Dojo Events"})}),e.jsx("p",{style:c.cardDescription,children:"Alle kommenden Events und Veranstaltungen des Dojos."}),e.jsxs("div",{style:c.urlBox,children:[e.jsx("input",{type:"text",value:(null==(x=null==u?void 0:u.urls)?void 0:x.dojoEvents)||"",readOnly:!0,style:c.urlInput}),e.jsx("button",{style:c.copyButton,onClick:()=>{var e;return k(null==(e=null==u?void 0:u.urls)?void 0:e.dojoEvents,"events")},children:"events"===b?e.jsx(t,{size:18}):e.jsx(l,{size:18})})]})]}),e.jsxs("div",{style:c.instructionsCard,children:[e.jsx("h3",{style:c.instructionsTitle,children:"So richtest du die Synchronisation ein:"}),e.jsxs("div",{style:c.instruction,children:[e.jsx("div",{style:c.instructionIcon,children:e.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",style:{width:24,height:24}})}),e.jsxs("div",{children:[e.jsx("strong",{children:"Google Kalender:"}),e.jsx("p",{style:c.instructionText,children:"Einstellungen → Kalender hinzufügen → Per URL → Link einfügen"})]})]}),e.jsxs("div",{style:c.instruction,children:[e.jsx("div",{style:c.instructionIcon,children:e.jsx(s,{size:24,color:"#0078d4"})}),e.jsxs("div",{children:[e.jsx("strong",{children:"Outlook:"}),e.jsx("p",{style:c.instructionText,children:"Kalender → Kalender hinzufügen → Aus dem Internet abonnieren → URL einfügen"})]})]}),e.jsxs("div",{style:c.instruction,children:[e.jsx("div",{style:c.instructionIcon,children:e.jsx(o,{size:24,color:"#fff"})}),e.jsxs("div",{children:[e.jsx("strong",{children:"Apple Kalender (Mac/iPhone/iPad):"}),e.jsx("p",{style:c.instructionText,children:"Ablage → Neues Kalenderabonnement → URL einfügen"})]})]})]}),e.jsxs("div",{style:c.infoBox,children:[e.jsx(d,{size:20}),e.jsxs("p",{children:[e.jsx("strong",{children:"Tipp:"})," Die Kalender werden automatisch aktualisiert. Änderungen an deinen Kursen oder Events erscheinen innerhalb weniger Stunden in deinem Kalender."]})]})]})},c={container:{padding:"24px",maxWidth:"800px",margin:"0 auto"},header:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"32px"},title:{color:"#ffd700",margin:0,fontSize:"24px"},subtitle:{color:"#aaa",margin:"4px 0 0 0",fontSize:"14px"},card:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 215, 0, 0.2)",borderRadius:"12px",padding:"20px",marginBottom:"16px"},cardHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},cardTitle:{color:"#fff",margin:0,fontSize:"18px"},badge:{background:"rgba(255, 215, 0, 0.2)",color:"#ffd700",padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold"},cardDescription:{color:"#aaa",fontSize:"14px",marginBottom:"16px"},urlBox:{display:"flex",gap:"8px",marginBottom:"16px"},urlInput:{flex:1,background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",padding:"12px",color:"#fff",fontSize:"13px",fontFamily:"monospace"},copyButton:{background:"rgba(255, 215, 0, 0.2)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px",padding:"12px 16px",color:"#ffd700",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},buttonGroup:{display:"flex",gap:"8px",flexWrap:"wrap"},calendarButton:{display:"flex",alignItems:"center",padding:"10px 16px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#fff",fontSize:"14px",cursor:"pointer",transition:"all 0.2s"},appleButton:{background:"rgba(0, 0, 0, 0.3)"},instructionsCard:{background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"12px",padding:"20px",marginTop:"24px"},instructionsTitle:{color:"#3b82f6",margin:"0 0 16px 0",fontSize:"16px"},instruction:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"16px"},instructionIcon:{width:"40px",height:"40px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},instructionText:{color:"#aaa",margin:"4px 0 0 0",fontSize:"13px"},infoBox:{display:"flex",alignItems:"flex-start",gap:"12px",background:"rgba(255, 215, 0, 0.1)",border:"1px solid rgba(255, 215, 0, 0.2)",borderRadius:"8px",padding:"16px",marginTop:"16px",color:"#ffd700"},loading:{textAlign:"center",padding:"60px 20px",color:"#aaa"},spinner:{width:"40px",height:"40px",border:"3px solid rgba(255, 215, 0, 0.2)",borderTop:"3px solid #ffd700",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"},error:{textAlign:"center",padding:"40px",color:"#ef4444"},retryButton:{marginTop:"16px",padding:"10px 20px",background:"#ffd700",border:"none",borderRadius:"8px",color:"#1a1a2e",fontWeight:"bold",cursor:"pointer"}};export{a as default};
