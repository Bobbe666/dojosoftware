import{a as e,j as n}from"./query-Caj74EYQ.js";import{D as a,a as l,c as t}from"./index-DJzZu8AC.js";import"./vendor-router-Co3o87Zc.js";import"./icons-DiLw-1i5.js";import"./charts-C1Gv3M_c.js";const i=t.apiBaseUrl,r=()=>{const{trainer:t,stile:r,ladeAlleDaten:s}=e.useContext(a),[c,h]=e.useState({vorname:"",nachname:"",email:"",telefon:"",stile:[]}),o=(null==r?void 0:r.map(e=>e.name))||[];return n.jsxs("div",{className:"trainer-container",children:[n.jsxs("section",{className:"trainer-list",children:[n.jsx("h2",{children:"Trainer verwalten"}),n.jsxs("table",{className:"trainer-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Vorname"}),n.jsx("th",{children:"Nachname"}),n.jsx("th",{children:"E-Mail"}),n.jsx("th",{children:"Telefon"}),n.jsx("th",{children:"Stile"}),n.jsx("th",{children:"Aktionen"})]})}),n.jsx("tbody",{children:t.length>0?t.map(e=>n.jsxs("tr",{children:[n.jsx("td",{children:e.vorname}),n.jsx("td",{children:e.nachname}),n.jsx("td",{children:e.email||"–"}),n.jsx("td",{children:e.telefon||"–"}),n.jsx("td",{children:(e.stile||[]).join(", ")}),n.jsx("td",{children:n.jsx("button",{className:"btn btn-danger",onClick:()=>(async e=>{if(window.confirm("Diesen Trainer wirklich löschen?"))try{await l.delete(`${i}/api/trainer/${e}`),s()}catch(n){console.error(n),alert("Fehler beim Löschen.")}})(e.trainer_id),children:"Löschen"})})]},e.trainer_id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"no-data",children:"Keine Trainer vorhanden."})})})]})]}),n.jsxs("section",{className:"trainer-form",children:[n.jsx("h2",{children:"Neuen Trainer hinzufügen"}),n.jsxs("div",{className:"form-grid",children:[n.jsxs("label",{children:["Vorname",n.jsx("input",{type:"text",value:c.vorname,onChange:e=>h({...c,vorname:e.target.value})})]}),n.jsxs("label",{children:["Nachname",n.jsx("input",{type:"text",value:c.nachname,onChange:e=>h({...c,nachname:e.target.value})})]}),n.jsxs("label",{children:["E-Mail (optional)",n.jsx("input",{type:"email",value:c.email,onChange:e=>h({...c,email:e.target.value})})]}),n.jsxs("label",{children:["Telefon (optional)",n.jsx("input",{type:"tel",value:c.telefon,onChange:e=>h({...c,telefon:e.target.value})})]}),n.jsxs("label",{className:"full-width",children:["Stile auswählen",n.jsx("select",{multiple:!0,value:c.stile,onChange:e=>{const n=Array.from(e.target.selectedOptions).map(e=>e.value);h(e=>({...e,stile:n}))},children:o.length>0?o.map(e=>n.jsx("option",{value:e,children:e},e)):n.jsx("option",{disabled:!0,children:"Keine Stile verfügbar"})})]})]}),n.jsx("button",{className:"btn btn-primary",onClick:async()=>{if(c.vorname.trim()&&c.nachname.trim())if(0!==c.stile.length)try{await l.post(`${i}/api/trainer`,c),h({vorname:"",nachname:"",email:"",telefon:"",stile:[]}),s()}catch(e){console.error(e),alert("Fehler beim Hinzufügen.")}else alert("Bitte mindestens einen Stil auswählen.");else alert("Bitte Vorname und Nachname eingeben.")},children:"Hinzufügen"})]})]})};export{r as default};
