const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-CQRFGZQy.js","assets/query-Caj74EYQ.js","assets/index-CkXcCt97.js","assets/TrialBanner-BovK9HPO.js","assets/vendor-router-Co3o87Zc.js","assets/icons-DiLw-1i5.js","assets/TrialBanner-DreQXlv6.css","assets/MemberDashboard-Btl1VZfc.js","assets/MemberHeader-BtRviAJK.js","assets/charts-C1Gv3M_c.js","assets/Dashboard-BTjmnE16.css","assets/index-wRQyZq66.js","assets/MemberDashboard-DOxQbuRp.css","assets/CheckinSystem-C2lVbpEW.css","assets/ZieleEntwicklung-mrSVxylQ.js","assets/ZieleEntwicklung-Df2bmk8w.css","assets/SupportTickets-BJl-tEQI.js","assets/SupportTickets-C_xc_JCj.css","assets/VerbandDashboard-CZOr28sf.js","assets/VerbandDashboard-B1V9PcUQ.css","assets/ArtikelVerwaltung-DjGv0lM4.js","assets/ArtikelVerwaltungOverrides-BqkKzRlJ.css","assets/FeatureBoard-Dn6UNOoo.js","assets/AgbStatusWidget-CdXp3Zj6.js","assets/Dashboard-7OOV0NG6.css","assets/DashboardTdaVib-Bmm00rKk.js","assets/DashboardStart--SMxs4eE.js","assets/MitgliederListe-B8VK0WHK.js","assets/MitgliedDetail-D5hObuk9.js","assets/MitgliedDetailShared-sKIcD9kf.js","assets/animation-zADEEVmT.js","assets/MitgliedDetailShared-BsqYQMvv.css","assets/EhemaligenListe-BM_PgwmI.js","assets/InteressentenListe-CB6nsXa4.js","assets/MitgliederFilter-DI0LDR4I.js","assets/Auswertungen-D7TfPaht.css","assets/Anwesenheit-EXL6ogVI.js","assets/Anwesenheit-B9TgDZy8.css","assets/AnwesenheitDashboard-Pb26m2Av.js","assets/AnwesenheitDashboard-DidqBM6Z.css","assets/CheckinSystem-DODMxRju.js","assets/VerkaufKasse-B1Xpg--i.js","assets/VerkaufKasse-NSRiZPu0.css","assets/PersonalCheckin-ISVPZSmc.js","assets/PersonalCheckin-Bm_nJQ44.css","assets/PublicCheckinDisplay-BGF9v1s8.js","assets/PublicCheckinDisplay-iw-aE2ZS.css","assets/Stundenplan-9SfcpkZJ.js","assets/Stundenplan-Cmg3yeVL.css","assets/Kurse-BdV2dtuN.js","assets/Kurse-4M5gG8TB.css","assets/Trainer-BC0l9Vh0.js","assets/Trainer-DCyARmnF.css","assets/GruppenStilverwaltung-DSZjCyJb.js","assets/GruppenStilverwaltung-fEU_PvkN.css","assets/Stilverwaltung-o9bWAMbm.js","assets/Stilverwaltung-7i19rff8.css","assets/StandortVerwaltung-CkYKHb_F.js","assets/StandortVerwaltung-VY6a_l-5.css","assets/PublicTimetableDisplay-WbDzyVr8.js","assets/PublicTimetableDisplay-BlexTkfa.css","assets/Finanzcockpit-BanpRy7q.js","assets/Finanzcockpit-Y_L7Shiu.css","assets/EuerUebersicht-DDL3XMIz.js","assets/AusgabenVerwaltung-i-8okwok.js","assets/Beitraege-CyWEzRhm.js","assets/Beitraege-DLLlM5A6.css","assets/Mahnwesen-B1wNLVO8.js","assets/Mahnwesen-C8r5T-kp.css","assets/MahnstufenEinstellungen-CB1pLCzS.js","assets/MahnstufenEinstellungen-BtWovh28.css","assets/Rechnungsverwaltung-Bo-nIExD.js","assets/Rechnungsverwaltung-Dfaz_cx3.css","assets/RechnungErstellen-ChNA1pPw.js","assets/RechnungErstellen-B7cg6CgA.css","assets/SepaMandateVerwaltung-BOEoo57x.js","assets/index-DQBxRuql.js","assets/SepaMandateVerwaltung-BOp7lGnH.css","assets/LastschriftManagement-Dbwv6Ef0.js","assets/LastschriftManagement-Ir6CZkfN.css","assets/TarifePreise-B3KI9XGd.js","assets/TarifePreise-BvlEcc0W.css","assets/Rabattsystem-7XBRCzlm.js","assets/ZahlungszyklenSeite-BL9OOsXk.js","assets/ZahlungszyklenSeite-DVItEonI.css","assets/ZahlungsEinstellungen-BtRqasNz.js","assets/TresenUebersicht-D4FM_qUg.js","assets/TresenUebersicht-ZwofTZw0.css","assets/ArtikelFormular-CnISZGmm.js","assets/ArtikelgruppenVerwaltung-BM-rHCY9.js","assets/ArtikelgruppenVerwaltung-C1_J5J-5.css","assets/MemberSchedule-HtdTWBZ2.js","assets/MemberEvents-DQ6CJpKw.js","assets/MemberPayments-Bb8k0ABU.js","assets/MemberStats-CFkj3A-s.js","assets/MemberStats-8qMKRW9C.css","assets/MemberStyles-BNjiB3LH.js","assets/MemberStyles-BUliJABR.css","assets/CourseRating-BCA9PP6i.js","assets/CourseRating-DgYleGb_.css","assets/EquipmentChecklist-Dmi3OzvO.js","assets/AppInstallPage-B4QNTSih.js","assets/TrainerDashboard-CaWLSswo.js","assets/TrainerOnlyRoute-Ck3tjCEQ.js","assets/CourseRatingAdmin-DnHca0UA.js","assets/CourseRatingAdmin-C6UUgSmY.css","assets/Personal-C9GdfcJC.js","assets/Personal-Bet4znzV.css","assets/EinstellungenDojo-Ca-o8vFg.js","assets/AdminVerwaltung-D7P_HX6F.js","assets/AdminVerwaltung-CzvaAGY8.css","assets/EinstellungenDojo-CASdQn1X.css","assets/AuditLog-EowncjS0.js","assets/AuditLog-GQ2NzaSp.css","assets/BuddyVerwaltung-PXK0RFqK.js","assets/BuddyVerwaltung-BWfLjVZr.css","assets/Auswertungen-hKyh-9K3.js","assets/Auswertungen-B-2IvGUd.css","assets/BerichteDokumente-BjPbhYJI.js","assets/BerichteDokumente-AhOz5ap2.css","assets/DojosVerwaltung-BVMa5Tlv.js","assets/DojosVerwaltung-C95_nm7Q.css","assets/DojoEdit-d2HdVx_G.js","assets/DojoEdit-CCWjqvQk.css","assets/DokumenteVerwaltung-BpBhao2R.js","assets/editor-_pChrhAz.js","assets/DokumenteVerwaltung-BvXy1UGR.css","assets/NotificationSystem-J3hQLsjx.js","assets/NewsVerwaltung-CN4kRg4S.js","assets/News-AozfSZBW.css","assets/NotificationSystem-BvntyJLg.css","assets/PruefungsVerwaltung-DLJEnPCo.js","assets/PruefungDurchfuehren-CpaaFbeX.js","assets/BadgeAdminOverview-C9gpnCAn.js","assets/WebhookVerwaltung-B9ax7q2d.js","assets/IntegrationsEinstellungen-DP4hIrgU.js","assets/DatevExport-BSUexFbK.js","assets/KalenderAbo-B202Pd6S.js","assets/PaymentCheckout-D5y5v0Zz.js","assets/PaymentCheckout-xYpQ9qbD.css","assets/Events-DXolqJEr.js","assets/Events-BbdBrFsr.css","assets/Events-B9GMgKsS.css","assets/MeineEvents-BEXjzJHF.js","assets/NewsFormular-t-k6lpOo.js","assets/Homepage-Bgs-5r4g.js","assets/PublicRegistration-Ciy3lli6.js","assets/PublicRegistration-BwI9CpUn.css","assets/Homepage-4oNmiALY.css","assets/BuddyInviteRegistration-DmEYgm7l.js","assets/VerbandMitgliedWerden-D_2pju0N.js","assets/ProbetrainingBuchung-BcH-EjvL.js","assets/MagicLineImport-Dohe30-T.js","assets/PricingPage-DZXfjj8o.js","assets/PublicFooter-DHMmSlMU.js","assets/PublicFooter-BdDUCFE5.css","assets/PricingPage-ClbjQK-s.css","assets/RegisterPage-D38wOUxa.js","assets/RegisterPage-ZF4NqrkF.css","assets/ContactPage-B4aDzVpE.js","assets/ImpressumPage-B8z8J-Zt.js","assets/AboutPage-BbOSoVNp.js","assets/DatenschutzPage-DIrM3rs8.js","assets/AGBPage-CWlycCwJ.js","assets/HelpPage-C0K2EejP.js","assets/GaleriePage-BlFq4DsG.js","assets/DemoPage-B8sRO9Mf.js","assets/browser-ponyfill-C4cORrV5.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,n,r)=>((t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r)(t,"symbol"!=typeof n?n+"":n,r);import{g as n,a as r,j as s,b as i,Q as a,c as o}from"./query-Caj74EYQ.js";import{a as l,r as c,u as d,N as u,B as h,R as g,b as p}from"./vendor-router-Co3o87Zc.js";import{S as m,C as f,a as b,b as x,c as j,Z as v,B as y,d as k,e as _,T as S,L as w,F as E,f as N,H as z,g as A,h as T,M as R,U as D,i as O,E as L,j as C,k as P,l as I,I as B,R as F}from"./icons-DiLw-1i5.js";import{r as M}from"./charts-C1Gv3M_c.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var V,U={};const $=n(function(){if(V)return U;V=1;var e=l();return U.createRoot=e.createRoot,U.hydrateRoot=e.hydrateRoot,U}()),H={},W=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),s=(null==n?void 0:n.nonce)||(null==n?void 0:n.getAttribute("nonce"));r=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in H)return;H[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,s&&r.setAttribute("nonce",s),document.head.appendChild(r),t?new Promise((t,n)=>{r.addEventListener("load",t),r.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)})};function K(e,t){return function(){return e.apply(t,arguments)}}const{toString:q}=Object.prototype,{getPrototypeOf:G}=Object,{iterator:J,toStringTag:Z}=Symbol,Y=(e=>t=>{const n=q.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),X=e=>(e=e.toLowerCase(),t=>Y(t)===e),Q=e=>t=>typeof t===e,{isArray:ee}=Array,te=Q("undefined");function ne(e){return null!==e&&!te(e)&&null!==e.constructor&&!te(e.constructor)&&ie(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const re=X("ArrayBuffer");const se=Q("string"),ie=Q("function"),ae=Q("number"),oe=e=>null!==e&&"object"==typeof e,le=e=>{if("object"!==Y(e))return!1;const t=G(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Z in e||J in e)},ce=X("Date"),de=X("File"),ue=X("Blob"),he=X("FileList"),ge=X("URLSearchParams"),[pe,me,fe,be]=["ReadableStream","Request","Response","Headers"].map(X);function xe(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,s;if("object"!=typeof e&&(e=[e]),ee(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(ne(e))return;const s=n?Object.getOwnPropertyNames(e):Object.keys(e),i=s.length;let a;for(r=0;r<i;r++)a=s[r],t.call(null,e[a],a,e)}}function je(e,t){if(ne(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const ve="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,ye=e=>!te(e)&&e!==ve;const ke=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&G(Uint8Array)),_e=X("HTMLFormElement"),Se=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),we=X("RegExp"),Ee=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};xe(n,(n,s)=>{let i;!1!==(i=t(n,s,e))&&(r[s]=i||n)}),Object.defineProperties(e,r)};const Ne=X("AsyncFunction"),ze=(Ae="function"==typeof setImmediate,Te=ie(ve.postMessage),Ae?setImmediate:Te?(Re=`axios@${Math.random()}`,De=[],ve.addEventListener("message",({source:e,data:t})=>{e===ve&&t===Re&&De.length&&De.shift()()},!1),e=>{De.push(e),ve.postMessage(Re,"*")}):e=>setTimeout(e));var Ae,Te,Re,De;const Oe="undefined"!=typeof queueMicrotask?queueMicrotask.bind(ve):"undefined"!=typeof process&&process.nextTick||ze,Le={isArray:ee,isArrayBuffer:re,isBuffer:ne,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||ie(e.append)&&("formdata"===(t=Y(e))||"object"===t&&ie(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&re(e.buffer),t},isString:se,isNumber:ae,isBoolean:e=>!0===e||!1===e,isObject:oe,isPlainObject:le,isEmptyObject:e=>{if(!oe(e)||ne(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:pe,isRequest:me,isResponse:fe,isHeaders:be,isUndefined:te,isDate:ce,isFile:de,isBlob:ue,isRegExp:we,isFunction:ie,isStream:e=>oe(e)&&ie(e.pipe),isURLSearchParams:ge,isTypedArray:ke,isFileList:he,forEach:xe,merge:function e(){const{caseless:t,skipUndefined:n}=ye(this)&&this||{},r={},s=(s,i)=>{const a=t&&je(r,i)||i;le(r[a])&&le(s)?r[a]=e(r[a],s):le(s)?r[a]=e({},s):ee(s)?r[a]=s.slice():n&&te(s)||(r[a]=s)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&xe(arguments[i],s);return r},extend:(e,t,n,{allOwnKeys:r}={})=>(xe(t,(t,r)=>{n&&ie(t)?Object.defineProperty(e,r,{value:K(t,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,r,{value:t,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,i,a;const o={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)a=s[i],r&&!r(a,e,t)||o[a]||(t[a]=e[a],o[a]=!0);e=!1!==n&&G(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Y,kindOfTest:X,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(ee(e))return e;let t=e.length;if(!ae(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[J]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:_e,hasOwnProperty:Se,hasOwnProp:Se,reduceDescriptors:Ee,freezeMethods:e=>{Ee(e,(t,n)=>{if(ie(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];ie(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return ee(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:je,global:ve,isContextDefined:ye,isSpecCompliantForm:function(e){return!!(e&&ie(e.append)&&"FormData"===e[Z]&&e[J])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(oe(e)){if(t.indexOf(e)>=0)return;if(ne(e))return e;if(!("toJSON"in e)){t[r]=e;const s=ee(e)?[]:{};return xe(e,(e,t)=>{const i=n(e,r+1);!te(i)&&(s[t]=i)}),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:Ne,isThenable:e=>e&&(oe(e)||ie(e))&&ie(e.then)&&ie(e.catch),setImmediate:ze,asap:Oe,isIterable:e=>null!=e&&ie(e[J])};let Ce=class e extends Error{static from(t,n,r,s,i,a){const o=new e(t.message,n||t.code,r,s,i);return o.cause=t,o.name=t.name,a&&Object.assign(o,a),o}constructor(e,t,n,r,s){super(e),this.name="AxiosError",this.isAxiosError=!0,t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Le.toJSONObject(this.config),code:this.code,status:this.status}}};Ce.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE",Ce.ERR_BAD_OPTION="ERR_BAD_OPTION",Ce.ECONNABORTED="ECONNABORTED",Ce.ETIMEDOUT="ETIMEDOUT",Ce.ERR_NETWORK="ERR_NETWORK",Ce.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS",Ce.ERR_DEPRECATED="ERR_DEPRECATED",Ce.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE",Ce.ERR_BAD_REQUEST="ERR_BAD_REQUEST",Ce.ERR_CANCELED="ERR_CANCELED",Ce.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT",Ce.ERR_INVALID_URL="ERR_INVALID_URL";function Pe(e){return Le.isPlainObject(e)||Le.isArray(e)}function Ie(e){return Le.endsWith(e,"[]")?e.slice(0,-2):e}function Be(e,t,n){return e?e.concat(t).map(function(e,t){return e=Ie(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Fe=Le.toFlatObject(Le,{},null,function(e){return/^is[A-Z]/.test(e)});function Me(e,t,n){if(!Le.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Le.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Le.isUndefined(t[e])})).metaTokens,s=n.visitor||c,i=n.dots,a=n.indexes,o=(n.Blob||"undefined"!=typeof Blob&&Blob)&&Le.isSpecCompliantForm(t);if(!Le.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Le.isDate(e))return e.toISOString();if(Le.isBoolean(e))return e.toString();if(!o&&Le.isBlob(e))throw new Ce("Blob is not supported. Use a Buffer instead.");return Le.isArrayBuffer(e)||Le.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,s){let o=e;if(e&&!s&&"object"==typeof e)if(Le.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Le.isArray(e)&&function(e){return Le.isArray(e)&&!e.some(Pe)}(e)||(Le.isFileList(e)||Le.endsWith(n,"[]"))&&(o=Le.toArray(e)))return n=Ie(n),o.forEach(function(e,r){!Le.isUndefined(e)&&null!==e&&t.append(!0===a?Be([n],r,i):null===a?n:n+"[]",l(e))}),!1;return!!Pe(e)||(t.append(Be(s,n,i),l(e)),!1)}const d=[],u=Object.assign(Fe,{defaultVisitor:c,convertValue:l,isVisitable:Pe});if(!Le.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Le.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),Le.forEach(n,function(n,i){!0===(!(Le.isUndefined(n)||null===n)&&s.call(t,n,Le.isString(i)?i.trim():i,r,u))&&e(n,r?r.concat(i):[i])}),d.pop()}}(e),t}function Ve(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Ue(e,t){this._pairs=[],e&&Me(e,this,t)}const $e=Ue.prototype;function He(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function We(e,t,n){if(!t)return e;const r=n&&n.encode||He,s=Le.isFunction(n)?{serialize:n}:n,i=s&&s.serialize;let a;if(a=i?i(t,s):Le.isURLSearchParams(t)?t.toString():new Ue(t,s).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}$e.append=function(e,t){this._pairs.push([e,t])},$e.toString=function(e){const t=e?function(t){return e.call(this,t,Ve)}:Ve;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class Ke{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Le.forEach(this.handlers,function(t){null!==t&&e(t)})}}const qe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ge={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Ue,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Je="undefined"!=typeof window&&"undefined"!=typeof document,Ze="object"==typeof navigator&&navigator||void 0,Ye=Je&&(!Ze||["ReactNative","NativeScript","NS"].indexOf(Ze.product)<0),Xe="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Qe=Je&&window.location.href||"http://localhost",et={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Je,hasStandardBrowserEnv:Ye,hasStandardBrowserWebWorkerEnv:Xe,navigator:Ze,origin:Qe},Symbol.toStringTag,{value:"Module"})),...Ge};function tt(e){function t(e,n,r,s){let i=e[s++];if("__proto__"===i)return!0;const a=Number.isFinite(+i),o=s>=e.length;if(i=!i&&Le.isArray(r)?r.length:i,o)return Le.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a;r[i]&&Le.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],s)&&Le.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}(r[i])),!a}if(Le.isFormData(e)&&Le.isFunction(e.entries)){const n={};return Le.forEachEntry(e,(e,r)=>{t(function(e){return Le.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null}const nt={transitional:qe,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=Le.isObject(e);s&&Le.isHTMLForm(e)&&(e=new FormData(e));if(Le.isFormData(e))return r?JSON.stringify(tt(e)):e;if(Le.isArrayBuffer(e)||Le.isBuffer(e)||Le.isStream(e)||Le.isFile(e)||Le.isBlob(e)||Le.isReadableStream(e))return e;if(Le.isArrayBufferView(e))return e.buffer;if(Le.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Me(e,new et.classes.URLSearchParams,{visitor:function(e,t,n,r){return et.isNode&&Le.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((i=Le.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Me(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(Le.isString(e))try{return(t||JSON.parse)(e),Le.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||nt.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Le.isResponse(e)||Le.isReadableStream(e))return e;if(e&&Le.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(s){if(n){if("SyntaxError"===s.name)throw Ce.from(s,Ce.ERR_BAD_RESPONSE,this,null,this.response);throw s}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:et.classes.FormData,Blob:et.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Le.forEach(["delete","get","head","post","put","patch"],e=>{nt.headers[e]={}});const rt=Le.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),st=Symbol("internals");function it(e){return e&&String(e).trim().toLowerCase()}function at(e){return!1===e||null==e?e:Le.isArray(e)?e.map(at):String(e)}function ot(e,t,n,r,s){return Le.isFunction(r)?r.call(this,t,n):(s&&(t=n),Le.isString(t)?Le.isString(r)?-1!==t.indexOf(r):Le.isRegExp(r)?r.test(t):void 0:void 0)}let lt=class{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=it(t);if(!s)throw new Error("header name must be a non-empty string");const i=Le.findKey(r,s);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=at(e))}const i=(e,t)=>Le.forEach(e,(e,n)=>s(e,n,t));if(Le.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(Le.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach(function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&rt[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(Le.isObject(e)&&Le.isIterable(e)){let n,r,s={};for(const t of e){if(!Le.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[r=t[0]]=(n=s[r])?Le.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}i(s,t)}else null!=e&&s(t,e,n);return this}get(e,t){if(e=it(e)){const n=Le.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Le.isFunction(t))return t.call(this,e,n);if(Le.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=it(e)){const n=Le.findKey(this,e);return!(!n||void 0===this[n]||t&&!ot(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=it(e)){const s=Le.findKey(n,e);!s||t&&!ot(0,n[s],s,t)||(delete n[s],r=!0)}}return Le.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!ot(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return Le.forEach(this,(r,s)=>{const i=Le.findKey(n,s);if(i)return t[i]=at(r),void delete t[s];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(s):String(s).trim();a!==s&&delete t[s],t[a]=at(r),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Le.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Le.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){const t=(this[st]=this[st]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=it(e);t[r]||(!function(e,t){const n=Le.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})})}(n,e),t[r]=!0)}return Le.isArray(e)?e.forEach(r):r(e),this}};function ct(e,t){const n=this||nt,r=t||n,s=lt.from(r.headers);let i=r.data;return Le.forEach(e,function(e){i=e.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function dt(e){return!(!e||!e.__CANCEL__)}lt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Le.reduceDescriptors(lt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}}),Le.freezeMethods(lt);let ut=class extends Ce{constructor(e,t,n){super(null==e?"canceled":e,Ce.ERR_CANCELED,t,n),this.name="CanceledError",this.__CANCEL__=!0}};function ht(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Ce("Request failed with status code "+n.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const gt=(e,t,n=3)=>{let r=0;const s=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,i=0,a=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[a];s||(s=l),n[i]=o,r[i]=l;let d=a,u=0;for(;d!==i;)u+=n[d++],d%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),l-s<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}}(50,250);return function(e,t){let n,r,s=0,i=1e3/t;const a=(t,i=Date.now())=>{s=i,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[(...e)=>{const t=Date.now(),o=t-s;o>=i?a(e,t):(n=e,r||(r=setTimeout(()=>{r=null,a(n)},i-o)))},()=>n&&a(n)]}(n=>{const i=n.loaded,a=n.lengthComputable?n.total:void 0,o=i-r,l=s(o);r=i;e({loaded:i,total:a,progress:a?i/a:void 0,bytes:o,rate:l||void 0,estimated:l&&a&&i<=a?(a-i)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})},n)},pt=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},mt=e=>(...t)=>Le.asap(()=>e(...t)),ft=et.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,et.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(et.origin),et.navigator&&/(msie|trident)/i.test(et.navigator.userAgent)):()=>!0,bt=et.hasStandardBrowserEnv?{write(e,t,n,r,s,i,a){if("undefined"==typeof document)return;const o=[`${e}=${encodeURIComponent(t)}`];Le.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),Le.isString(r)&&o.push(`path=${r}`),Le.isString(s)&&o.push(`domain=${s}`),!0===i&&o.push("secure"),Le.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(e){if("undefined"==typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function xt(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const jt=e=>e instanceof lt?{...e}:e;function vt(e,t){t=t||{};const n={};function r(e,t,n,r){return Le.isPlainObject(e)&&Le.isPlainObject(t)?Le.merge.call({caseless:r},e,t):Le.isPlainObject(t)?Le.merge({},t):Le.isArray(t)?t.slice():t}function s(e,t,n,s){return Le.isUndefined(t)?Le.isUndefined(e)?void 0:r(void 0,e,0,s):r(e,t,0,s)}function i(e,t){if(!Le.isUndefined(t))return r(void 0,t)}function a(e,t){return Le.isUndefined(t)?Le.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,s,i){return i in t?r(n,s):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(e,t,n)=>s(jt(e),jt(t),0,!0)};return Le.forEach(Object.keys({...e,...t}),function(r){const i=l[r]||s,a=i(e[r],t[r],r);Le.isUndefined(a)&&i!==o||(n[r]=a)}),n}const yt=e=>{const t=vt({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:o}=t;if(t.headers=a=lt.from(a),t.url=We(xt(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Le.isFormData(n))if(et.hasStandardBrowserEnv||et.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(Le.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(([e,n])=>{t.includes(e.toLowerCase())&&a.set(e,n)})}if(et.hasStandardBrowserEnv&&(r&&Le.isFunction(r)&&(r=r(t)),r||!1!==r&&ft(t.url))){const e=s&&i&&bt.read(i);e&&a.set(s,e)}return t},kt="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=yt(e);let s=r.data;const i=lt.from(r.headers).normalize();let a,o,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:g}=r;function p(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function f(){if(!m)return;const r=lt.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());ht(function(e){t(e),p()},function(e){n(e),p()},{data:u&&"text"!==u&&"json"!==u?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=f:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(f)},m.onabort=function(){m&&(n(new Ce("Request aborted",Ce.ECONNABORTED,e,m)),m=null)},m.onerror=function(t){const r=t&&t.message?t.message:"Network Error",s=new Ce(r,Ce.ERR_NETWORK,e,m);s.event=t||null,n(s),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const s=r.transitional||qe;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Ce(t,s.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,e,m)),m=null},void 0===s&&i.setContentType(null),"setRequestHeader"in m&&Le.forEach(i.toJSON(),function(e,t){m.setRequestHeader(t,e)}),Le.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),u&&"json"!==u&&(m.responseType=r.responseType),g&&([l,d]=gt(g,!0),m.addEventListener("progress",l)),h&&m.upload&&([o,c]=gt(h),m.upload.addEventListener("progress",o),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new ut(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const b=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);b&&-1===et.protocols.indexOf(b)?n(new Ce("Unsupported protocol "+b+":",Ce.ERR_BAD_REQUEST,e)):m.send(s||null)})},_t=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const s=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Ce?t:new ut(t instanceof Error?t.message:t))}};let i=t&&setTimeout(()=>{i=null,s(new Ce(`timeout of ${t}ms exceeded`,Ce.ETIMEDOUT))},t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)}),e=null)};e.forEach(e=>e.addEventListener("abort",s));const{signal:o}=r;return o.unsubscribe=()=>Le.asap(a),o}},St=function*(e,t){let n=e.byteLength;if(n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},wt=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},Et=(e,t,n,r)=>{const s=async function*(e,t){for await(const n of wt(e))yield*St(n,t)}(e,t);let i,a=0,o=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await s.next();if(t)return o(),void e.close();let i=r.byteLength;if(n){let e=a+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),s.return())},{highWaterMark:2})},{isFunction:Nt}=Le,zt=(({Request:e,Response:t})=>({Request:e,Response:t}))(Le.global),{ReadableStream:At,TextEncoder:Tt}=Le.global,Rt=(e,...t)=>{try{return!!e(...t)}catch(n){return!1}},Dt=e=>{e=Le.merge.call({skipUndefined:!0},zt,e);const{fetch:t,Request:n,Response:r}=e,s=t?Nt(t):"function"==typeof fetch,i=Nt(n),a=Nt(r);if(!s)return!1;const o=s&&Nt(At),l=s&&("function"==typeof Tt?(e=>t=>e.encode(t))(new Tt):async e=>new Uint8Array(await new n(e).arrayBuffer())),c=i&&o&&Rt(()=>{let e=!1;const t=new n(et.origin,{body:new At,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=a&&o&&Rt(()=>Le.isReadableStream(new r("").body)),u={stream:d&&(e=>e.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!u[e]&&(u[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new Ce(`Response type '${e}' is not supported`,Ce.ERR_NOT_SUPPORT,n)})});const h=async(e,t)=>{const r=Le.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(Le.isBlob(e))return e.size;if(Le.isSpecCompliantForm(e)){const t=new n(et.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Le.isArrayBufferView(e)||Le.isArrayBuffer(e)?e.byteLength:(Le.isURLSearchParams(e)&&(e+=""),Le.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:s,method:a,data:o,signal:l,cancelToken:g,timeout:p,onDownloadProgress:m,onUploadProgress:f,responseType:b,headers:x,withCredentials:j="same-origin",fetchOptions:v}=yt(e),y=t||fetch;b=b?(b+"").toLowerCase():"text";let k=_t([l,g&&g.toAbortSignal()],p),_=null;const S=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let w;try{if(f&&c&&"get"!==a&&"head"!==a&&0!==(w=await h(x,o))){let e,t=new n(s,{method:"POST",body:o,duplex:"half"});if(Le.isFormData(o)&&(e=t.headers.get("content-type"))&&x.setContentType(e),t.body){const[e,n]=pt(w,gt(mt(f)));o=Et(t.body,65536,e,n)}}Le.isString(j)||(j=j?"include":"omit");const t=i&&"credentials"in n.prototype,l={...v,signal:k,method:a.toUpperCase(),headers:x.normalize().toJSON(),body:o,duplex:"half",credentials:t?j:void 0};_=i&&new n(s,l);let g=await(i?y(_,v):y(s,l));const p=d&&("stream"===b||"response"===b);if(d&&(m||p&&S)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=g[t]});const t=Le.toFiniteNumber(g.headers.get("content-length")),[n,s]=m&&pt(t,gt(mt(m),!0))||[];g=new r(Et(g.body,65536,n,()=>{s&&s(),S&&S()}),e)}b=b||"text";let E=await u[Le.findKey(u,b)||"text"](g,e);return!p&&S&&S(),await new Promise((t,n)=>{ht(t,n,{data:E,headers:lt.from(g.headers),status:g.status,statusText:g.statusText,config:e,request:_})})}catch(E){if(S&&S(),E&&"TypeError"===E.name&&/Load failed|fetch/i.test(E.message))throw Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,e,_),{cause:E.cause||E});throw Ce.from(E,E&&E.code,e,_)}}},Ot=new Map,Lt=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let a,o,l=i.length,c=Ot;for(;l--;)a=i[l],o=c.get(a),void 0===o&&c.set(a,o=l?new Map:Dt(t)),c=o;return o};Lt();const Ct={http:null,xhr:kt,fetch:{get:Lt}};Le.forEach(Ct,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const Pt=e=>`- ${e}`,It=e=>Le.isFunction(e)||null===e||!1===e;const Bt={getAdapter:function(e,t){e=Le.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let a=0;a<n;a++){let n;if(r=e[a],s=r,!It(r)&&(s=Ct[(n=String(r)).toLowerCase()],void 0===s))throw new Ce(`Unknown adapter '${n}'`);if(s&&(Le.isFunction(s)||(s=s.get(t))))break;i[n||"#"+a]=s}if(!s){const e=Object.entries(i).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));let t=n?e.length>1?"since :\n"+e.map(Pt).join("\n"):" "+Pt(e[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return s},adapters:Ct};function Ft(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ut(null,e)}function Mt(e){Ft(e),e.headers=lt.from(e.headers),e.data=ct.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Bt.getAdapter(e.adapter||nt.adapter,e)(e).then(function(t){return Ft(e),t.data=ct.call(e,e.transformResponse,t),t.headers=lt.from(t.headers),t},function(t){return dt(t)||(Ft(e),t&&t.response&&(t.response.data=ct.call(e,e.transformResponse,t.response),t.response.headers=lt.from(t.response.headers))),Promise.reject(t)})}const Vt="1.13.4",Ut={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ut[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const $t={};Ut.transitional=function(e,t,n){function r(e,t){return"[Axios v"+Vt+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,i)=>{if(!1===e)throw new Ce(r(s," has been removed"+(t?" in "+t:"")),Ce.ERR_DEPRECATED);return t&&!$t[s]&&($t[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,i)}},Ut.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const Ht={assertOptions:function(e,t,n){if("object"!=typeof e)throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new Ce("option "+i+" must be "+n,Ce.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Ce("Unknown option "+i,Ce.ERR_BAD_OPTION)}},validators:Ut},Wt=Ht.validators;let Kt=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Ke,response:new Ke}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=vt(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&Ht.assertOptions(n,{silentJSONParsing:Wt.transitional(Wt.boolean),forcedJSONParsing:Wt.transitional(Wt.boolean),clarifyTimeoutError:Wt.transitional(Wt.boolean)},!1),null!=r&&(Le.isFunction(r)?t.paramsSerializer={serialize:r}:Ht.assertOptions(r,{encode:Wt.function,serialize:Wt.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Ht.assertOptions(t,{baseUrl:Wt.spelling("baseURL"),withXsrfToken:Wt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=s&&Le.merge(s.common,s[t.method]);s&&Le.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=lt.concat(i,s);const a=[];let o=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,a.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[Mt.bind(this),void 0];for(e.unshift(...a),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=a.length;let h=t;for(;u<d;){const e=a[u++],t=a[u++];try{h=e(h)}catch(g){t.call(this,g);break}}try{c=Mt.call(this,h)}catch(g){return Promise.reject(g)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return We(xt((e=vt(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};Le.forEach(["delete","get","head","options"],function(e){Kt.prototype[e]=function(t,n){return this.request(vt(n||{},{method:e,url:t,data:(n||{}).data}))}}),Le.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,s){return this.request(vt(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Kt.prototype[e]=t(),Kt.prototype[e+"Form"]=t(!0)});const qt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(qt).forEach(([e,t])=>{qt[t]=e});const Gt=function e(t){const n=new Kt(t),r=K(Kt.prototype.request,n);return Le.extend(r,Kt.prototype,n,{allOwnKeys:!0}),Le.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(vt(t,n))},r}(nt);Gt.Axios=Kt,Gt.CanceledError=ut,Gt.CancelToken=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,s){n.reason||(n.reason=new ut(e,r,s),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let t;return{token:new e(function(e){t=e}),cancel:t}}},Gt.isCancel=dt,Gt.VERSION=Vt,Gt.toFormData=Me,Gt.AxiosError=Ce,Gt.Cancel=Gt.CanceledError,Gt.all=function(e){return Promise.all(e)},Gt.spread=function(e){return function(t){return e.apply(null,t)}},Gt.isAxiosError=function(e){return Le.isObject(e)&&!0===e.isAxiosError},Gt.mergeConfig=vt,Gt.AxiosHeaders=lt,Gt.formToJSON=e=>tt(Le.isHTMLForm(e)?new FormData(e):e),Gt.getAdapter=Bt.getAdapter,Gt.HttpStatusCode=qt,Gt.default=Gt;const{Axios:Jt,AxiosError:Zt,CanceledError:Yt,isCancel:Xt,CancelToken:Qt,VERSION:en,all:tn,Cancel:nn,isAxiosError:rn,spread:sn,toFormData:an,AxiosHeaders:on,HttpStatusCode:ln,formToJSON:cn,getAdapter:dn,mergeConfig:un}=Gt,hn=[{version:"2.5.0",date:"2026-01-28",type:"feature",title:"Integrationen & Kalender-Sync",highlights:["Kalender-Synchronisation für Google, Outlook, Apple","Webhook-System für Zapier & Automatisierungen","PayPal Integration vorbereitet","LexOffice Buchhaltungs-Anbindung","DATEV Export für Steuerberater"],details:"Neue Integrations-Seite unter Einstellungen. Mitglieder können ihre Trainings direkt in ihren Kalender abonnieren.",files:["KalenderAbo.jsx","WebhookVerwaltung.jsx","IntegrationsEinstellungen.jsx","DatevExport.jsx"]},{version:"2.4.0",date:"2026-01-27",type:"feature",title:"Badge-System & Auszeichnungen",highlights:["Badges für Mitglieder vergeben","Automatische Badge-Vergabe (Anwesenheit, Jubiläum)","Badge-Übersicht im Mitglieder-Profil","Admin-Verwaltung für Badge-Typen"],details:"Motiviere deine Mitglieder mit Auszeichnungen! Unter Prüfungswesen → Auszeichnungen.",files:["BadgeAdminOverview.jsx","MitgliedFortschritt.jsx"]},{version:"2.3.0",date:"2026-01-26",type:"feature",title:"SEPA-Lastschrift System",highlights:["SEPA-Mandate verwalten","Lastschriftläufe erstellen","SEPA-XML Export (PAIN.008)","Rücklastschriften-Handling"],details:"Vollständiges SEPA-Lastschrift-Management unter Finanzen → Lastschriftlauf.",files:["SepaMandateVerwaltung.jsx","LastschriftManagement.jsx"]},{version:"2.2.0",date:"2026-01-25",type:"feature",title:"Prüfungswesen & Graduierungen",highlights:["Prüfungstermine planen","Live-Prüfungsansicht","Graduierungen verwalten","Prüfungsergebnisse dokumentieren"],details:"Komplettes Prüfungsmanagement unter Prüfungswesen → Prüfungen & Termine.",files:["PruefungsVerwaltung.jsx","PruefungDurchfuehren.jsx","Stilverwaltung.jsx"]},{version:"2.1.0",date:"2026-01-20",type:"feature",title:"Buddy-System & Freunde werben",highlights:["Buddy-Gruppen erstellen","Einladungslinks generieren","Werber-Tracking","Gruppen-Rabatte"],details:"Mitglieder können Freunde einladen unter Dashboard → Buddy-Gruppen.",files:["BuddyVerwaltung.jsx","BuddyInviteRegistration.jsx"]},{version:"2.0.0",date:"2026-01-15",type:"major",title:"Multi-Dojo & Steuer-Compliance",highlights:["Multi-Dojo Unterstützung","Dojo-Switcher im Header","Steuerlich getrennte Buchhaltung","Super-Admin Dashboard"],details:"Verwalte mehrere Dojos mit getrennter Buchhaltung aus einem Account.",files:["DojoSwitcher.jsx","SuperAdminDashboard.jsx"]},{version:"1.9.0",date:"2026-01-10",type:"feature",title:"Vertragsdokumente & AGB",highlights:["AGB & Datenschutz verwalten","Versionierung von Dokumenten","Digitale Zustimmung","DSGVO-konform"],details:"Unter Berichte → Vertragsdokumente können alle rechtlichen Dokumente verwaltet werden.",files:["DokumenteVerwaltung.jsx","AgbConfirmationWrapper.jsx"]},{version:"1.8.0",date:"2026-01-05",type:"improvement",title:"Finanzcockpit & Auswertungen",highlights:["Finanz-Dashboard mit Grafiken","Umsatz-Statistiken","Zahlungsübersicht","Mahnwesen-Integration"],details:"Umfassende Finanzübersicht unter Finanzen → Finanzcockpit.",files:["Finanzcockpit.jsx","Auswertungen.jsx"]}],gn=hn[0].version,pn=hn[0].date,mn=e=>{switch(e){case"feature":return s.jsx(m,{size:18});case"major":return s.jsx(_,{size:18});case"security":return s.jsx(k,{size:18});case"bugfix":return s.jsx(y,{size:18});case"improvement":return s.jsx(v,{size:18});default:return s.jsx(j,{size:18})}},fn=e=>{switch(e){case"feature":return"#ffd700";case"major":return"#f59e0b";case"security":return"#ef4444";case"bugfix":return"#10b981";case"improvement":return"#3b82f6";default:return"#888"}},bn=e=>{switch(e){case"feature":return"Neue Funktion";case"major":return"Major Update";case"security":return"Sicherheit";case"bugfix":return"Bugfix";case"improvement":return"Verbesserung";default:return"Update"}},xn=({maxItems:e=5,showAll:t=!1})=>{const[n,i]=r.useState({}),[a,o]=r.useState(t),l=a?hn:hn.slice(0,e);return s.jsxs("div",{style:jn.container,children:[s.jsxs("div",{style:jn.header,children:[s.jsx(m,{size:24,color:"#ffd700"}),s.jsxs("div",{children:[s.jsx("h3",{style:jn.title,children:"Neuigkeiten & Updates"}),s.jsx("p",{style:jn.subtitle,children:"Aktuelle Änderungen im System"})]})]}),s.jsx("div",{style:jn.changelogList,children:l.map((e,t)=>s.jsxs("div",{style:{...jn.changelogItem,borderLeft:`3px solid ${fn(e.type)}`},children:[s.jsxs("div",{style:jn.itemHeader,onClick:()=>{return t=e.version,void i(e=>({...e,[t]:!e[t]}));var t},children:[s.jsxs("div",{style:jn.itemMeta,children:[s.jsxs("span",{style:{...jn.typeBadge,background:`${fn(e.type)}20`,color:fn(e.type)},children:[mn(e.type),bn(e.type)]}),s.jsxs("span",{style:jn.version,children:["v",e.version]}),s.jsxs("span",{style:jn.date,children:[s.jsx(f,{size:12}),new Date(e.date).toLocaleDateString("de-DE")]})]}),s.jsxs("div",{style:jn.itemTitleRow,children:[s.jsx("h4",{style:jn.itemTitle,children:e.title}),n[e.version]?s.jsx(b,{size:18,color:"#888"}):s.jsx(x,{size:18,color:"#888"})]})]}),s.jsx("ul",{style:jn.highlights,children:e.highlights.map((e,t)=>s.jsxs("li",{style:jn.highlight,children:[s.jsx("span",{style:jn.bulletPoint,children:"•"}),e]},t))}),n[e.version]&&s.jsxs("div",{style:jn.expandedContent,children:[e.details&&s.jsx("p",{style:jn.details,children:e.details}),e.files&&e.files.length>0&&s.jsxs("div",{style:jn.filesSection,children:[s.jsx("span",{style:jn.filesLabel,children:"Betroffene Dateien:"}),s.jsx("div",{style:jn.filesList,children:e.files.map((e,t)=>s.jsx("code",{style:jn.fileTag,children:e},t))})]})]})]},e.version))}),!a&&hn.length>e&&s.jsxs("button",{style:jn.showMoreButton,onClick:()=>o(!0),children:["Alle ",hn.length," Updates anzeigen",s.jsx(x,{size:16})]}),a&&hn.length>e&&s.jsxs("button",{style:jn.showMoreButton,onClick:()=>o(!1),children:["Weniger anzeigen",s.jsx(b,{size:16})]})]})},jn={container:{background:"var(--glass-bg, rgba(255, 255, 255, 0.05))",borderRadius:"16px",padding:"1.5rem",border:"1px solid var(--border-accent, rgba(255, 215, 0, 0.2))"},header:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"1.5rem"},title:{color:"var(--primary, #ffd700)",margin:0,fontSize:"1.1rem"},subtitle:{color:"var(--text-secondary, #888)",margin:"4px 0 0 0",fontSize:"0.85rem"},changelogList:{display:"flex",flexDirection:"column",gap:"12px"},changelogItem:{background:"rgba(0, 0, 0, 0.2)",borderRadius:"12px",padding:"16px",cursor:"pointer",transition:"all 0.2s"},itemHeader:{marginBottom:"12px"},itemMeta:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px",flexWrap:"wrap"},typeBadge:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 10px",borderRadius:"6px",fontSize:"0.75rem",fontWeight:"600"},version:{color:"var(--text-secondary, #888)",fontSize:"0.8rem",fontFamily:"monospace"},date:{display:"flex",alignItems:"center",gap:"4px",color:"var(--text-secondary, #888)",fontSize:"0.8rem"},itemTitleRow:{display:"flex",justifyContent:"space-between",alignItems:"center"},itemTitle:{color:"var(--text-primary, #fff)",margin:0,fontSize:"1rem",fontWeight:"600"},highlights:{margin:0,padding:0,listStyle:"none"},highlight:{display:"flex",alignItems:"flex-start",gap:"8px",color:"var(--text-secondary, #aaa)",fontSize:"0.85rem",marginBottom:"4px"},bulletPoint:{color:"var(--primary, #ffd700)",fontWeight:"bold"},expandedContent:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},details:{color:"var(--text-secondary, #aaa)",fontSize:"0.85rem",margin:"0 0 12px 0",lineHeight:1.5},filesSection:{marginTop:"8px"},filesLabel:{color:"var(--text-secondary, #666)",fontSize:"0.75rem",display:"block",marginBottom:"6px"},filesList:{display:"flex",flexWrap:"wrap",gap:"6px"},fileTag:{background:"rgba(59, 130, 246, 0.2)",color:"#60a5fa",padding:"2px 8px",borderRadius:"4px",fontSize:"0.7rem"},showMoreButton:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",marginTop:"16px",padding:"12px",background:"rgba(255, 215, 0, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px",color:"var(--primary, #ffd700)",fontSize:"0.9rem",cursor:"pointer",transition:"all 0.2s"}},vn=!1,yn=!0,kn={apiBaseUrl:"/api",apiTimeout:1e4,auth:{tokenKey:"dojo_auth_token",userKey:"dojo_user",expiryKey:"dojo_session_expiry",sessionDuration:288e5,refreshThreshold:3e5},app:{name:"DojoSoftware",version:gn,description:"Kampfkunstschule Verwaltungssystem",author:"Sascha Schreiner",buildDate:pn,contactEmail:"support@tda-intl.org"},ui:{theme:"light",language:"de",dateFormat:"DD.MM.YYYY",timeFormat:"HH:mm",itemsPerPage:20,animationDuration:300},features:{darkMode:!0,notifications:!0,exportData:!0,advancedSearch:!0,dashboard:!0,memberManagement:!0,courseManagement:!0,trainerManagement:!0,paymentTracking:!0,reports:!0,settings:!0},debug:{enabled:vn,logLevel:"error",showPerformance:vn,apiLogging:vn,authLogging:vn},validation:{password:{minLength:6,requireNumbers:!1,requireSpecialChars:!1,requireUppercase:!1},email:{pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/},phone:{pattern:/^[\+]?[0-9\s\-\(\)]{6,}$/}},environment:{isDevelopment:vn,isProduction:yn,isTesting:!1,nodeEnv:"production"},paths:{login:"/login",dashboard:"/",members:"/mitglieder",courses:"/kurse",trainers:"/trainer",settings:"/einstellungen",profile:"/profil"},localization:{defaultLanguage:"de",availableLanguages:["de","en"],dateLocale:"de-DE",numberFormat:"de-DE"},cache:{enableServiceWorker:yn,apiCacheDuration:3e5,imageCacheDuration:864e5},performance:{enableMetrics:yn,sampleRate:.1,trackUserInteractions:!1},security:{enableCSP:yn,enableHTTPS:yn,cookieSecure:yn,corsOrigins:[]}},_n=e=>{if(!e||"string"!=typeof e)return!1;if(e.startsWith("/"))return!0;if(e.startsWith("http://localhost:"))return!0;if(e.startsWith("http://127.0.0.1:"))return!0;try{const t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch{return!1}};(()=>{const e=[];console.log("🔍 Config Debug:",{mode:"production",apiBaseUrl:kn.apiBaseUrl,isDevelopment:vn,isProduction:yn,envViteApiUrl:void 0}),_n(kn.apiBaseUrl)||e.push(`API Base URL ist ungültig: "${kn.apiBaseUrl}"`),e.length>0&&(console.error("🚨 Konfigurationsfehler:",e),console.warn("⚠️ Konfigurationsprobleme erkannt, fahre trotzdem fort"))})();const Sn=r.createContext(null),wn=({children:e})=>{const[t,n]=r.useState(null),[i,a]=r.useState(null),[o,l]=r.useState(!0),[c,d]=r.useState(null),[u,h]=r.useState(null),g="dojo_auth_token",p="dojo_user",m="dojo_session_expiry",f=r.useCallback((e,t=null)=>{},[]),b=r.useCallback(e=>{try{return JSON.parse(atob(e.split(".")[1]))}catch(t){return f("Fehler beim Dekodieren des Tokens",t),null}},[f]),x=r.useCallback(e=>{if(!e)return!1;try{const t=b(e);if(!t)return!1;const n=Math.floor(Date.now()/1e3),r=t.exp>n;return f("Token-Validierung",{valid:r,expiresAt:new Date(1e3*t.exp).toISOString(),currentTime:new Date(1e3*n).toISOString()}),r}catch(t){return f("Fehler bei Token-Validierung",t),!1}},[b,f]),j=r.useCallback(()=>{f("Session wird bereinigt"),localStorage.removeItem(g),localStorage.removeItem(p),localStorage.removeItem(m),delete Gt.defaults.headers.common.Authorization,a(null),n(null),h(null),d(null)},[f]),v=r.useCallback((e,t)=>{f("Session wird gespeichert",{username:t.username,role:t.role});const r=b(e),s=r?1e3*r.exp:Date.now()+288e5;localStorage.setItem(g,e),localStorage.setItem(p,JSON.stringify(t)),localStorage.setItem(m,s.toString()),Gt.defaults.headers.common.Authorization=`Bearer ${e}`,a(e),n(t),h(s),d(null),window.dispatchEvent(new CustomEvent("userLoggedIn",{detail:{user:t}})),f("userLoggedIn Event dispatched")},[b,f]),y=r.useCallback(async e=>{var t;try{const t=await Gt.get("/auth/me",{headers:{Authorization:`Bearer ${e}`}});return f("Backend-Token-Validierung erfolgreich",t.data.user),t.data}catch(n){return f("Backend-Token-Validierung fehlgeschlagen",null==(t=n.response)?void 0:t.status),null}},[f]);r.useEffect(()=>{(async()=>{f("AuthContext wird initialisiert");try{const e=localStorage.getItem(g),t=localStorage.getItem(p),r=localStorage.getItem(m);if(!e||!t)return f("Keine gespeicherte Session gefunden"),void l(!1);if(!x(e))return f("Gespeicherter Token ist abgelaufen"),j(),void l(!1);const s=JSON.parse(t);f("Gespeicherte Session gefunden",{username:s.username,role:s.role,expiry:r?new Date(parseInt(r)).toISOString():"unbekannt"}),Gt.defaults.headers.common.Authorization=`Bearer ${e}`,a(e),n(s),h(r?parseInt(r):null),f("Session wiederhergestellt (ohne Backend-Validierung)",s.username)}catch(e){f("Fehler beim Initialisieren der Session",e),j()}finally{l(!1)}})()},[x,j,y,f]),r.useEffect(()=>{if(!u)return;const e=setInterval(()=>{const e=Date.now(),t=u-e;t<=0?(f("Session abgelaufen - automatischer Logout"),_()):t<=3e5&&f("Session läuft bald ab",{minutesLeft:Math.floor(t/1e3/60)})},6e4);return()=>clearInterval(e)},[u]);const k=r.useCallback(async e=>{var t,n,r,s,i,a,o,c,u,h;d(null),l(!0);try{f("Login-Versuch gestartet",{hasEmail:!!e.email,hasUsername:!!e.username,apiUrl:`${kn.apiBaseUrl}/api/auth/login`});const t=await Gt.post("/auth/login",e,{headers:{"Content-Type":"application/json"},timeout:1e4}),{token:n,user:r,message:s}=t.data;if(!n||!r)throw new Error("Unvollständige Server-Antwort");return f("Login erfolgreich",{username:r.username,email:r.email,role:r.role,message:s}),v(n,r),r}catch(g){f("Login-Fehler",{status:null==(t=g.response)?void 0:t.status,message:(null==(r=null==(n=g.response)?void 0:n.data)?void 0:r.message)||g.message,code:g.code});let e="Login fehlgeschlagen";throw"ERR_NETWORK"===g.code?e="Verbindung zum Server fehlgeschlagen":"ECONNABORTED"===g.code?e="Anfrage-Timeout - Server antwortet nicht":401===(null==(s=g.response)?void 0:s.status)?e=(null==(i=g.response.data)?void 0:i.message)||"Ungültige Anmeldedaten":400===(null==(a=g.response)?void 0:a.status)?e=(null==(o=g.response.data)?void 0:o.message)||"Ungültige Eingabedaten":500===(null==(c=g.response)?void 0:c.status)?e="Server-Fehler - bitte versuchen Sie es später erneut":(null==(h=null==(u=g.response)?void 0:u.data)?void 0:h.message)&&(e=g.response.data.message),d(e),g}finally{l(!1)}},[f,v]),_=r.useCallback(async(e=!1)=>{var t;e||f("Logout gestartet");try{i&&x(i)&&(await Gt.post("/auth/logout",{},{headers:{Authorization:`Bearer ${i}`},timeout:5e3}),f("Backend-Logout erfolgreich"))}catch(n){f("Backend-Logout fehlgeschlagen (nicht kritisch)",null==(t=n.response)?void 0:t.status)}finally{j(),e||f("Logout abgeschlossen")}},[i,x,j,f]),S=r.useCallback(e=>{if(!t)return;const r={...t,...e};f("User-Daten aktualisiert",{username:r.username,updates:Object.keys(e)}),localStorage.setItem(p,JSON.stringify(r)),n(r)},[t,f]),w=r.useCallback(async()=>{var e;if(!i)return!1;try{f("Session-Erneuerung gestartet");const e=await Gt.post("/auth/refresh",{},{headers:{Authorization:`Bearer ${i}`}}),{token:t,user:n}=e.data;return!(!t||!n)&&(v(t,n),f("Session erfolgreich erneuert"),!0)}catch(t){return f("Session-Erneuerung fehlgeschlagen",null==(e=t.response)?void 0:e.status),!1}},[i,v,f]),E=r.useCallback(()=>({isAuthenticated:!!i&&!!t,user:t,role:null==t?void 0:t.role,tokenExists:!!i,tokenValid:!!i&&x(i),loading:o,error:c,sessionExpiry:u?new Date(u).toISOString():null,timeToExpiry:u?Math.max(0,u-Date.now()):null}),[t,i,o,c,u,x]),N=r.useCallback(e=>(null==t?void 0:t.role)===e,[t]),z=r.useCallback(()=>N("admin"),[N]),A={user:t,token:i,loading:o,error:c,sessionExpiry:u,isAuthenticated:!!i&&!!t&&x(i),isAdmin:z(),login:k,logout:_,updateUser:S,refreshSession:w,changePassword:async({currentPassword:e,newPassword:t})=>{if(!i)throw new Error("Nicht authentifiziert");return(await Gt.post("/auth/change-password",{currentPassword:e,newPassword:t},{headers:{Authorization:`Bearer ${i}`}})).data},resetPassword:async({loginField:e,securityQuestion:t,securityAnswer:n,newPassword:r})=>(await Gt.post("/auth/reset-password",{loginField:e,securityQuestion:t,securityAnswer:n,newPassword:r})).data,saveSecurityQuestion:async({securityQuestion:e,securityAnswer:t})=>{if(!i)throw new Error("Nicht authentifiziert");return(await Gt.post("/auth/security",{securityQuestion:e,securityAnswer:t},{headers:{Authorization:`Bearer ${i}`}})).data},hasRole:N,getAuthStatus:E,clearError:()=>d(null)};return r.useEffect(()=>{},[t,i,o,c,f]),s.jsx(Sn.Provider,{value:A,children:e})},En=()=>{const e=r.useContext(Sn);if(!e)throw new Error("useAuth muss innerhalb von AuthProvider verwendet werden");return e},Nn=Gt.create({baseURL:kn.apiBaseUrl,timeout:3e4,headers:{"Content-Type":"application/json"}});Nn.interceptors.request.use(e=>{const t=localStorage.getItem("dojo_auth_token")||localStorage.getItem("authToken");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),Nn.interceptors.response.use(e=>e,e=>{var t,n,r;return 401===(null==(t=e.response)?void 0:t.status)&&(localStorage.removeItem("dojo_auth_token"),localStorage.removeItem("authToken"),localStorage.removeItem("dojo_user"),localStorage.removeItem("dojo_session_expiry"),window.location.href="/login"),403===(null==(n=e.response)?void 0:n.status)&&console.error("Access Denied:",e.response.data),(null==(r=e.response)?void 0:r.status)>=500&&console.error("Server Error:",e.response.data),Promise.reject(e)});const zn=r.createContext(),An=({children:e})=>{const[t,n]=r.useState([]),[i,a]=r.useState(!0),[o,l]=r.useState(""),c=async()=>{if(!(localStorage.getItem("dojo_auth_token")||localStorage.getItem("authToken")))return console.log("Kein Token vorhanden, überspringe Kurse-Laden"),void a(!1);try{a(!0),l("");const e=await Nn.get("/kurse");n(e.data)}catch(e){console.error("Fehler beim Laden der Kurse im Kontext:",e),l("Fehler beim Laden der Kurse"),n([])}finally{a(!1)}};r.useEffect(()=>{c();const e=e=>{"dojo_auth_token"!==e.key&&"authToken"!==e.key||!e.newValue||(console.log("Token wurde gesetzt, lade Kurse neu"),c())},t=()=>{console.log("Login-Event empfangen, lade Kurse neu"),c()};return window.addEventListener("storage",e),window.addEventListener("userLoggedIn",t),()=>{window.removeEventListener("storage",e),window.removeEventListener("userLoggedIn",t)}},[]);const d={kurse:t,loading:i,error:o,ladeKurse:c};return s.jsx(zn.Provider,{value:d,children:e})},Tn=r.createContext(),Rn=()=>{const e=r.useContext(Tn);if(!e)throw new Error("useDojoContext must be used within a DojoProvider");return e},Dn=({children:e})=>{const[t,n]=r.useState([]),[i,a]=r.useState(null),[o,l]=r.useState(!0),[c,d]=r.useState("all");r.useEffect(()=>{u()},[]),r.useEffect(()=>{if(t.length>0&&!i){console.log("🔄 DojoContext: Setze aktives Dojo...",{dojos:t.length,activeDojo:i});const e=localStorage.getItem("activeDojoId");if(e){if("super-admin"===e)return console.log("✅ DojoContext: Super-Admin Modus aus LocalStorage"),void a("super-admin");if("verband"===e)return console.log("✅ DojoContext: Verband Modus aus LocalStorage"),void a("verband");const n=t.find(t=>t.id===parseInt(e));if(n)return console.log("✅ DojoContext: Gespeichertes Dojo gefunden:",n.dojoname),void a(n)}const n=t.find(e=>e.ist_hauptdojo)||t[0];console.log("✅ DojoContext: Setze Fallback-Dojo:",null==n?void 0:n.dojoname),a(n)}},[t,i]);const u=r.useCallback(async()=>{try{const e=localStorage.getItem("dojo_auth_token");if(!e)return console.log("⚠️ Kein Token vorhanden - Dojos werden nicht geladen"),n([]),void l(!1);const t={"Content-Type":"application/json",Authorization:`Bearer ${e}`},r=await fetch(`${kn.apiBaseUrl}/dojos?filter=managed`,{headers:t});if(!r.ok)throw console.error("Dojos API Response:",r.status,r.statusText),new Error("Fehler beim Laden der Dojos");const s=await r.json();console.log("✅ Dojos geladen:",s),Array.isArray(s)?n(s):(console.error("❌ Dojos API returned non-array:",s),n([]))}catch(e){console.error("❌ Fehler beim Laden der Dojos:",e),n([])}finally{l(!1)}},[]),h=r.useCallback(e=>{a(e),"super-admin"===e?(localStorage.setItem("activeDojoId","super-admin"),console.log("✅ Gewechselt zu: TDA Int'l Org (Super-Admin)")):"verband"===e?(localStorage.setItem("activeDojoId","verband"),console.log("✅ Gewechselt zu: TDA Verband")):(localStorage.setItem("activeDojoId",e.id),console.log("✅ Gewechselt zu Dojo:",e.dojoname))},[]),g=r.useCallback(e=>t.find(t=>t.id===e),[t]),p=r.useCallback(()=>{switch(c){case"current":default:return i?[i.id]:[];case"all":case"compare":return t.map(e=>e.id)}},[c,i,t]),m=r.useCallback(()=>{if("super-admin"===i)return"";if("verband"===i)return"";switch(c){case"current":default:return i?`dojo_id=${i.id}`:"";case"all":if(t&&t.length>0){return`dojo_ids=${t.map(e=>e.id).join(",")}`}return"dojo_id=all";case"compare":return"dojo_id=compare"}},[c,i,t]),f=r.useCallback(()=>{if(0===t.length)return null;console.log("🏯 Wähle bestes Dojo für neues Mitglied...");const e=t.filter(e=>"kleinunternehmer"===e.steuer_status).map(e=>({...e,auslastung:e.jahresumsatz_aktuell/e.kleinunternehmer_grenze*100})).filter(e=>e.auslastung<100).sort((e,t)=>e.auslastung-t.auslastung);if(e.length>0){const t=e[0];return console.log(`✅ Kleinunternehmer-Dojo gewählt: ${t.dojoname} (${t.auslastung.toFixed(1)}% ausgelastet)`),t}const n=t.filter(e=>"regelbesteuert"===e.steuer_status);if(n.length>0){const e=n[0];return console.log(`✅ Regelbesteuertes Dojo gewählt: ${e.dojoname} (alle Kleinunternehmer-Dojos sind voll)`),e}const r=t.find(e=>e.ist_hauptdojo)||t[0];return console.log(`⚠️ Fallback-Dojo gewählt: ${r.dojoname}`),r},[t]),b=r.useCallback((e,t)=>{console.log("🔄 DojoContext: Update Dojo",{id:e,updatedData:t}),n(n=>n.map(n=>n.id===parseInt(e)?{...n,...t}:n)),i&&i.id===parseInt(e)&&(a(e=>({...e,...t})),console.log("✅ DojoContext: Aktives Dojo aktualisiert"))},[i]),x=r.useMemo(()=>({dojos:t,activeDojo:i,selectedDojo:i,loading:o,filter:c,setFilter:d,switchDojo:h,getDojoById:g,getFilteredDojoIds:p,getDojoFilterParam:m,getBestDojoForNewMember:f,updateDojo:b,refreshDojos:u}),[t,i,o,c,h,g,p,m,f,b,u]);return s.jsx(Tn.Provider,{value:x,children:e})},On=r.createContext(),Ln=()=>{const e=r.useContext(On);if(!e)throw new Error("useStandortContext must be used within a StandortProvider");return e},Cn=({children:e})=>{const{activeDojo:t}=Rn(),[n,i]=r.useState([]),[a,o]=r.useState("all"),[l,c]=r.useState(!0);r.useEffect(()=>{t&&"super-admin"!==t?d():(i([]),o("all"),c(!1))},[t]),r.useEffect(()=>{if(n.length>0&&t&&"super-admin"!==t){const e=localStorage.getItem(`activeStandortId_${t.id}`);if(e)if("all"===e)o("all");else{const t=n.find(t=>t.standort_id===parseInt(e));o(t?parseInt(e):"all")}else o("all")}},[n,t]);const d=r.useCallback(async()=>{if(!t||"super-admin"===t)return i([]),void c(!1);c(!0);try{const e=localStorage.getItem("dojo_auth_token");if(!e)return console.log("⚠️ Kein Token vorhanden - Standorte werden nicht geladen"),i([]),void c(!1);const t={"Content-Type":"application/json",Authorization:`Bearer ${e}`},n=await fetch(`${kn.apiBaseUrl}/standorte`,{headers:t});if(!n.ok)throw console.error("Standorte API Response:",n.status,n.statusText),new Error("Fehler beim Laden der Standorte");const r=await n.json();console.log("✅ Standorte geladen:",r),r.success&&Array.isArray(r.data)?i(r.data):(console.error("❌ Standorte API returned invalid data:",r),i([]))}catch(e){console.error("❌ Fehler beim Laden der Standorte:",e),i([])}finally{c(!1)}},[t]),u=r.useCallback(e=>{if(o(e),t&&"super-admin"!==t)if(localStorage.setItem(`activeStandortId_${t.id}`,e),"all"===e)console.log("✅ Gewechselt zu: Alle Standorte");else{const t=n.find(t=>t.standort_id===e);console.log("✅ Gewechselt zu Standort:",null==t?void 0:t.name)}},[t,n]),h=r.useCallback(e=>n.find(t=>t.standort_id===e),[n]),g=r.useMemo(()=>n.length>1,[n]),p=r.useMemo(()=>"all"===a?null:n.find(e=>e.standort_id===a),[a,n]),m=r.useMemo(()=>n.find(e=>!0===e.ist_hauptstandort),[n]),f=r.useCallback(()=>"all"===a?"standort_id=all":`standort_id=${a}`,[a]),b=r.useMemo(()=>({standorte:n,activeStandort:a,currentStandort:p,hauptstandort:m,loading:l,hasMultipleLocations:g,switchStandort:u,getStandortById:h,getStandortFilterParam:f,refreshStandorte:d}),[n,a,p,m,l,g,u,h,f,d]);return s.jsx(On.Provider,{value:b,children:e})};const Pn=new class{constructor(){this.cache=new Map,this.defaultDuration=3e5}generateKey(e,t={}){const n=Object.keys(t).sort().map(e=>`${e}=${t[e]}`).join("&");if(!n)return e;const r=e.includes("?")?"&":"?";return`${e}${r}${n}`}get(e){const t=this.cache.get(e);return t?Date.now()-t.timestamp>t.duration?(this.cache.delete(e),null):(console.log("🟢 Cache Hit:",e),t.data):null}set(e,t,n=this.defaultDuration){console.log("🔵 Cache Set:",e),this.cache.set(e,{data:t,timestamp:Date.now(),duration:n})}clear(e=null){if(e)for(const t of this.cache.keys())t.includes(e)&&this.cache.delete(t);else this.cache.clear();console.log("🗑️ Cache cleared:",e||"all")}getStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys()),memory:JSON.stringify(Array.from(this.cache.entries())).length}}},In=async(e,t={},n=void 0)=>{const{headers:r={},method:s="GET",body:i,bypassCache:a=!1,...o}=t,l=Pn.generateKey(e,{method:s,body:i});if("GET"===s&&!a){const e=Pn.get(l);if(e)return e}try{console.log("🔴 API Call:",s,e);const t=e.startsWith("http")?e:`${kn.apiBaseUrl}${e}`,a=await fetch(t,{method:s,headers:{"Content-Type":"application/json",...r},body:i?JSON.stringify(i):void 0,...o});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const c=await a.json();return"GET"===s&&a.ok&&Pn.set(l,c,n),c}catch(c){throw console.error("❌ API Error:",c),c}},Bn=async(e,t="")=>In(t?`/dashboard/batch?${t}`:"/dashboard/batch",{headers:{Authorization:`Bearer ${e}`}},18e4),Fn=async(e,t="")=>In(t?`/dashboard?${t}`:"/dashboard",{headers:{Authorization:`Bearer ${e}`}},12e4),Mn=async(e,t="")=>In(t?`/dashboard/recent?${t}`:"/dashboard/recent",{headers:{Authorization:`Bearer ${e}`}},6e4),Vn=e=>{Pn.clear(e)},Un=r.createContext(),$n=()=>{const e=r.useContext(Un);if(!e)throw new Error("useMitgliederUpdate muss innerhalb von MitgliederUpdateProvider verwendet werden");return e},Hn=({children:e})=>{const[t,n]=r.useState(0),[i,a]=r.useState(null),o=r.useCallback(e=>{switch(e){case"member_created":case"member_updated":case"member_deleted":case"member_reactivated":case"member_deactivated":case"manual_refresh":Vn("/dashboard"),Vn("/dashboard/batch"),Vn("/dashboard/recent")}},[]),l=r.useCallback((e="member_created",t=null)=>{console.log(`🔄 Mitglieder-Update ausgelöst: ${e}`,t),o(e),n(e=>e+1),a({type:e,timestamp:(new Date).toISOString(),data:t})},[o]),c=r.useCallback(()=>{l("manual_refresh")},[l]),d={updateTrigger:t,lastUpdate:i,triggerUpdate:l,refreshAll:c};return s.jsx(Un.Provider,{value:d,children:e})},Wn={apiBaseUrl:"http://localhost:3000/api",features:{enableRegistration:!0,enablePublicPages:!0,enableDarkMode:!1},app:{name:"DojoSoftware",version:"2.0.0",description:"Die professionelle Lösung für Kampfsportschulen & Dojos"},plans:{starter:{name:"Starter",maxMembers:100,features:["mitgliederverwaltung","sepa","checkin","pruefungen"]},professional:{name:"Professional",maxMembers:300,features:["mitgliederverwaltung","sepa","checkin","pruefungen","verkauf","events"]},premium:{name:"Premium",maxMembers:999999,features:["mitgliederverwaltung","sepa","checkin","pruefungen","verkauf","events","buchfuehrung","api"]},enterprise:{name:"Enterprise",maxMembers:999999,features:["mitgliederverwaltung","sepa","checkin","pruefungen","verkauf","events","buchfuehrung","api","multidojo"]}}},Kn=r.createContext(),qn=({children:e})=>{const[t,n]=r.useState(null),[i,a]=r.useState(!0),[o,l]=r.useState(null);r.useEffect(()=>{c()},[]);const c=async()=>{var e,t;const r=localStorage.getItem("token");if(r)try{const e=await Gt.get("/subscription/current",{headers:{Authorization:`Bearer ${r}`}});n(e.data),l(null)}catch(s){console.error("Failed to load subscription:",s),l((null==(t=null==(e=s.response)?void 0:e.data)?void 0:t.error)||"Fehler beim Laden der Subscription")}finally{a(!1)}else a(!1)},d={subscription:t,loading:i,error:o,hasFeature:e=>{if(!t)return!1;if(!["active","trial"].includes(t.status))return!1;return!0===t[`feature_${e}`]},isTrial:()=>"trial"===(null==t?void 0:t.status),isTrialExpired:()=>!(!t||!t.trial_ends_at)&&new Date(t.trial_ends_at)<new Date,getTrialDaysRemaining:()=>{if(!t||!t.trial_ends_at)return 0;const e=new Date(t.trial_ends_at)-new Date,n=Math.ceil(e/864e5);return Math.max(0,n)},isActive:()=>["active","trial"].includes(null==t?void 0:t.status),isAtMemberLimit:()=>!!t&&t.current_member_count>=t.max_members,getUpgradeUrl:()=>"/dashboard/subscription",getFeatureName:e=>({verkauf:"Verkauf & Lagerhaltung",buchfuehrung:"Buchführung & Rechnungen",events:"Events-Verwaltung",multidojo:"Multi-Dojo-Verwaltung",api:"API-Zugang"}[e]||e),getMinimumPlanForFeature:e=>({verkauf:"professional",events:"professional",buchfuehrung:"premium",api:"premium",multidojo:"enterprise"}[e]||"starter"),getPlanName:e=>({trial:"Trial",starter:"Starter",professional:"Professional",premium:"Premium",enterprise:"Enterprise"}[e]||e),refresh:async()=>{await c()}};return s.jsx(Kn.Provider,{value:d,children:e})},Gn={midnight:{id:"midnight",name:"Midnight Blue",description:"Dunkles Theme mit Gold-Akzenten (Standard)",preview:"linear-gradient(135deg, #0f0f23, #16213e)",isDark:!0},"tda-vib":{id:"tda-vib",name:"TDA-Vib Classic",description:"Helles Theme mit traditionellem japanischem Design",preview:"linear-gradient(135deg, #f5f0e6, #e8e0d0)",isDark:!1},"blue-ocean":{id:"blue-ocean",name:"Blue Ocean",description:"Dunkles Theme mit blauen Akzenten",preview:"linear-gradient(135deg, #0c1929, #1e3a5f)",isDark:!0},"green-forest":{id:"green-forest",name:"Green Forest",description:"Dunkles Theme mit grünen Akzenten",preview:"linear-gradient(135deg, #0d1f0d, #1a3d1a)",isDark:!0},"red-fire":{id:"red-fire",name:"Red Fire",description:"Dunkles Theme mit roten Akzenten",preview:"linear-gradient(135deg, #1a0a0a, #2d1515)",isDark:!0}},Jn="midnight",Zn="dojo-theme",Yn=r.createContext(void 0),Xn=({children:e})=>{const[t,n]=r.useState(()=>{if("undefined"!=typeof window){const e=localStorage.getItem(Zn);if(e&&Gn[e])return e}return Jn}),[i,a]=r.useState(!1);r.useEffect(()=>{document.documentElement.setAttribute("data-theme",t),localStorage.setItem(Zn,t);const e=Gn[t],n=document.querySelector('meta[name="theme-color"]');n&&e&&n.setAttribute("content",e.isDark?"#0f0f23":"#f5f0e6")},[t]);const o=r.useCallback(e=>{Gn[e]&&e!==t&&(a(!0),document.documentElement.style.transition="background-color 0.3s ease, color 0.3s ease",n(e),setTimeout(()=>{document.documentElement.style.transition="",a(!1)},300))},[t]),l=Gn[t]||Gn[Jn],c=l.isDark,d=r.useCallback(()=>{o(c?"tda-vib":"midnight")},[c,o]),u={theme:t,setTheme:o,themes:Gn,currentTheme:l,isDarkMode:c,toggleDarkMode:d,isTransitioning:i};return s.jsx(Yn.Provider,{value:u,children:e})},Qn=()=>{const e=r.useContext(Yn);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e},er="dojo_auth_token";let tr=!1;const nr=e=>{if(!e)return null;try{const t=e.split(".");if(3!==t.length)return null;return JSON.parse(atob(t[1]))}catch(t){return console.warn("⚠️ [Auth] Token konnte nicht dekodiert werden"),null}},rr=()=>localStorage.getItem(er)||null,sr=async()=>{var e;if(tr)return;const t=rr();if(!t||!(e=>{const t=nr(e);if(!t||!t.exp)return!1;const n=Math.floor(Date.now()/1e3);return t.exp>n})(t))return;if(!(e=>{const t=nr(e);if(!t||!t.exp)return!1;const n=Date.now();return 1e3*t.exp-n<18e5})(t))return;tr=!0;const n=(e=>{const t=nr(e);if(!t||!t.exp)return 0;const n=Date.now(),r=1e3*t.exp;return Math.max(0,Math.round((r-n)/6e4))})(t);console.log(`🔄 [Auth] Token läuft in ${n} Min ab - Versuche Verlängerung...`);try{const n=(null==(e=null==Wn?void 0:Wn.apiBaseUrl)?void 0:e.replace("/api",""))||"",r=await fetch(`${n}/api/auth/refresh`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(r.ok){const e=await r.json();e.token&&((e=>{e?localStorage.setItem(er,e):localStorage.removeItem(er)})(e.token),console.log("✅ [Auth] Token erfolgreich um 2 Stunden verlängert"))}else console.warn("⚠️ [Auth] Token-Refresh fehlgeschlagen:",r.status)}catch(r){console.error("❌ [Auth] Token-Refresh Fehler:",r.message)}finally{tr=!1}},ir=async(e,t={})=>{await sr();const n=rr(),r={...t.headers};n&&(r.Authorization=`Bearer ${n}`);const s=await fetch(e,{...t,headers:r});if(401===s.status)throw console.error("❌ [Auth] 401 Unauthorized - Token abgelaufen oder ungültig"),console.log("🚪 [Auth] Token abgelaufen - Automatischer Logout..."),localStorage.removeItem(er),localStorage.removeItem("dojo_user"),localStorage.removeItem("dojo_id"),localStorage.removeItem("user_role"),window.dispatchEvent(new CustomEvent("auth:logout",{detail:{reason:"token_expired"}})),window.location.href="/login?expired=1",new Error("Sitzung abgelaufen. Sie werden zur Anmeldung weitergeleitet.");return s},{entries:ar,setPrototypeOf:or,isFrozen:lr,getPrototypeOf:cr,getOwnPropertyDescriptor:dr}=Object;let{freeze:ur,seal:hr,create:gr}=Object,{apply:pr,construct:mr}="undefined"!=typeof Reflect&&Reflect;ur||(ur=function(e){return e}),hr||(hr=function(e){return e}),pr||(pr=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return e.apply(t,r)}),mr||(mr=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new e(...n)});const fr=Rr(Array.prototype.forEach),br=Rr(Array.prototype.lastIndexOf),xr=Rr(Array.prototype.pop),jr=Rr(Array.prototype.push),vr=Rr(Array.prototype.splice),yr=Rr(String.prototype.toLowerCase),kr=Rr(String.prototype.toString),_r=Rr(String.prototype.match),Sr=Rr(String.prototype.replace),wr=Rr(String.prototype.indexOf),Er=Rr(String.prototype.trim),Nr=Rr(Object.prototype.hasOwnProperty),zr=Rr(RegExp.prototype.test),Ar=(Tr=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return mr(Tr,t)});var Tr;function Rr(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return pr(e,t,r)}}function Dr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yr;or&&or(e,null);let r=t.length;for(;r--;){let s=t[r];if("string"==typeof s){const e=n(s);e!==s&&(lr(t)||(t[r]=e),s=e)}e[s]=!0}return e}function Or(e){for(let t=0;t<e.length;t++){Nr(e,t)||(e[t]=null)}return e}function Lr(e){const t=gr(null);for(const[n,r]of ar(e)){Nr(e,n)&&(Array.isArray(r)?t[n]=Or(r):r&&"object"==typeof r&&r.constructor===Object?t[n]=Lr(r):t[n]=r)}return t}function Cr(e,t){for(;null!==e;){const n=dr(e,t);if(n){if(n.get)return Rr(n.get);if("function"==typeof n.value)return Rr(n.value)}e=cr(e)}return function(){return null}}const Pr=ur(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ir=ur(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Br=ur(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Fr=ur(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Mr=ur(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Vr=ur(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ur=ur(["#text"]),$r=ur(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Hr=ur(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Wr=ur(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Kr=ur(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),qr=hr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Gr=hr(/<%[\w\W]*|[\w\W]*%>/gm),Jr=hr(/\$\{[\w\W]*/gm),Zr=hr(/^data-[\-\w.\u00B7-\uFFFF]+$/),Yr=hr(/^aria-[\-\w]+$/),Xr=hr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Qr=hr(/^(?:\w+script|data):/i),es=hr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ts=hr(/^html$/i),ns=hr(/^[a-z][.\w]*(-[.\w]+)+$/i);var rs=Object.freeze({__proto__:null,ARIA_ATTR:Yr,ATTR_WHITESPACE:es,CUSTOM_ELEMENT:ns,DATA_ATTR:Zr,DOCTYPE_NAME:ts,ERB_EXPR:Gr,IS_ALLOWED_URI:Xr,IS_SCRIPT_OR_DATA:Qr,MUSTACHE_EXPR:qr,TMPLIT_EXPR:Jr});const ss=1,is=3,as=7,os=8,ls=9;var cs=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window;const n=t=>e(t);if(n.version="3.3.1",n.removed=[],!t||!t.document||t.document.nodeType!==ls||!t.Element)return n.isSupported=!1,n;let{document:r}=t;const s=r,i=s.currentScript,{DocumentFragment:a,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:d,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:g,trustedTypes:p}=t,m=c.prototype,f=Cr(m,"cloneNode"),b=Cr(m,"remove"),x=Cr(m,"nextSibling"),j=Cr(m,"childNodes"),v=Cr(m,"parentNode");if("function"==typeof o){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let y,k="";const{implementation:_,createNodeIterator:S,createDocumentFragment:w,getElementsByTagName:E}=r,{importNode:N}=s;let z={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof ar&&"function"==typeof v&&_&&void 0!==_.createHTMLDocument;const{MUSTACHE_EXPR:A,ERB_EXPR:T,TMPLIT_EXPR:R,DATA_ATTR:D,ARIA_ATTR:O,IS_SCRIPT_OR_DATA:L,ATTR_WHITESPACE:C,CUSTOM_ELEMENT:P}=rs;let{IS_ALLOWED_URI:I}=rs,B=null;const F=Dr({},[...Pr,...Ir,...Br,...Mr,...Ur]);let M=null;const V=Dr({},[...$r,...Hr,...Wr,...Kr]);let U=Object.seal(gr(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),$=null,H=null;const W=Object.seal(gr(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let K=!0,q=!0,G=!1,J=!0,Z=!1,Y=!0,X=!1,Q=!1,ee=!1,te=!1,ne=!1,re=!1,se=!0,ie=!1,ae=!0,oe=!1,le={},ce=null;const de=Dr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ue=null;const he=Dr({},["audio","video","img","source","image","track"]);let ge=null;const pe=Dr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),me="http://www.w3.org/1998/Math/MathML",fe="http://www.w3.org/2000/svg",be="http://www.w3.org/1999/xhtml";let xe=be,je=!1,ve=null;const ye=Dr({},[me,fe,be],kr);let ke=Dr({},["mi","mo","mn","ms","mtext"]),_e=Dr({},["annotation-xml"]);const Se=Dr({},["title","style","font","a","script"]);let we=null;const Ee=["application/xhtml+xml","text/html"];let Ne=null,ze=null;const Ae=r.createElement("form"),Te=function(e){return e instanceof RegExp||e instanceof Function},Re=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ze||ze!==e){if(e&&"object"==typeof e||(e={}),e=Lr(e),we=-1===Ee.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Ne="application/xhtml+xml"===we?kr:yr,B=Nr(e,"ALLOWED_TAGS")?Dr({},e.ALLOWED_TAGS,Ne):F,M=Nr(e,"ALLOWED_ATTR")?Dr({},e.ALLOWED_ATTR,Ne):V,ve=Nr(e,"ALLOWED_NAMESPACES")?Dr({},e.ALLOWED_NAMESPACES,kr):ye,ge=Nr(e,"ADD_URI_SAFE_ATTR")?Dr(Lr(pe),e.ADD_URI_SAFE_ATTR,Ne):pe,ue=Nr(e,"ADD_DATA_URI_TAGS")?Dr(Lr(he),e.ADD_DATA_URI_TAGS,Ne):he,ce=Nr(e,"FORBID_CONTENTS")?Dr({},e.FORBID_CONTENTS,Ne):de,$=Nr(e,"FORBID_TAGS")?Dr({},e.FORBID_TAGS,Ne):Lr({}),H=Nr(e,"FORBID_ATTR")?Dr({},e.FORBID_ATTR,Ne):Lr({}),le=!!Nr(e,"USE_PROFILES")&&e.USE_PROFILES,K=!1!==e.ALLOW_ARIA_ATTR,q=!1!==e.ALLOW_DATA_ATTR,G=e.ALLOW_UNKNOWN_PROTOCOLS||!1,J=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Z=e.SAFE_FOR_TEMPLATES||!1,Y=!1!==e.SAFE_FOR_XML,X=e.WHOLE_DOCUMENT||!1,te=e.RETURN_DOM||!1,ne=e.RETURN_DOM_FRAGMENT||!1,re=e.RETURN_TRUSTED_TYPE||!1,ee=e.FORCE_BODY||!1,se=!1!==e.SANITIZE_DOM,ie=e.SANITIZE_NAMED_PROPS||!1,ae=!1!==e.KEEP_CONTENT,oe=e.IN_PLACE||!1,I=e.ALLOWED_URI_REGEXP||Xr,xe=e.NAMESPACE||be,ke=e.MATHML_TEXT_INTEGRATION_POINTS||ke,_e=e.HTML_INTEGRATION_POINTS||_e,U=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Te(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(U.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Te(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(U.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(U.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Z&&(q=!1),ne&&(te=!0),le&&(B=Dr({},Ur),M=[],!0===le.html&&(Dr(B,Pr),Dr(M,$r)),!0===le.svg&&(Dr(B,Ir),Dr(M,Hr),Dr(M,Kr)),!0===le.svgFilters&&(Dr(B,Br),Dr(M,Hr),Dr(M,Kr)),!0===le.mathMl&&(Dr(B,Mr),Dr(M,Wr),Dr(M,Kr))),e.ADD_TAGS&&("function"==typeof e.ADD_TAGS?W.tagCheck=e.ADD_TAGS:(B===F&&(B=Lr(B)),Dr(B,e.ADD_TAGS,Ne))),e.ADD_ATTR&&("function"==typeof e.ADD_ATTR?W.attributeCheck=e.ADD_ATTR:(M===V&&(M=Lr(M)),Dr(M,e.ADD_ATTR,Ne))),e.ADD_URI_SAFE_ATTR&&Dr(ge,e.ADD_URI_SAFE_ATTR,Ne),e.FORBID_CONTENTS&&(ce===de&&(ce=Lr(ce)),Dr(ce,e.FORBID_CONTENTS,Ne)),e.ADD_FORBID_CONTENTS&&(ce===de&&(ce=Lr(ce)),Dr(ce,e.ADD_FORBID_CONTENTS,Ne)),ae&&(B["#text"]=!0),X&&Dr(B,["html","head","body"]),B.table&&(Dr(B,["tbody"]),delete $.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw Ar('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw Ar('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');y=e.TRUSTED_TYPES_POLICY,k=y.createHTML("")}else void 0===y&&(y=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const s="dompurify"+(n?"#"+n:"");try{return e.createPolicy(s,{createHTML:e=>e,createScriptURL:e=>e})}catch(i){return console.warn("TrustedTypes policy "+s+" could not be created."),null}}(p,i)),null!==y&&"string"==typeof k&&(k=y.createHTML(""));ur&&ur(e),ze=e}},De=Dr({},[...Ir,...Br,...Fr]),Oe=Dr({},[...Mr,...Vr]),Le=function(e){jr(n.removed,{element:e});try{v(e).removeChild(e)}catch(t){b(e)}},Ce=function(e,t){try{jr(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(r){jr(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(te||ne)try{Le(t)}catch(r){}else try{t.setAttribute(e,"")}catch(r){}},Pe=function(e){let t=null,n=null;if(ee)e="<remove></remove>"+e;else{const t=_r(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===we&&xe===be&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const s=y?y.createHTML(e):e;if(xe===be)try{t=(new g).parseFromString(s,we)}catch(a){}if(!t||!t.documentElement){t=_.createDocument(xe,"template",null);try{t.documentElement.innerHTML=je?k:s}catch(a){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(r.createTextNode(n),i.childNodes[0]||null),xe===be?E.call(t,X?"html":"body")[0]:X?t.documentElement:i},Ie=function(e){return S.call(e.ownerDocument||e,e,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},Be=function(e){return e instanceof h&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof u)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Fe=function(e){return"function"==typeof l&&e instanceof l};function Me(e,t,r){fr(e,e=>{e.call(n,t,r,ze)})}const Ve=function(e){let t=null;if(Me(z.beforeSanitizeElements,e,null),Be(e))return Le(e),!0;const r=Ne(e.nodeName);if(Me(z.uponSanitizeElement,e,{tagName:r,allowedTags:B}),Y&&e.hasChildNodes()&&!Fe(e.firstElementChild)&&zr(/<[/\w!]/g,e.innerHTML)&&zr(/<[/\w!]/g,e.textContent))return Le(e),!0;if(e.nodeType===as)return Le(e),!0;if(Y&&e.nodeType===os&&zr(/<[/\w]/g,e.data))return Le(e),!0;if(!(W.tagCheck instanceof Function&&W.tagCheck(r))&&(!B[r]||$[r])){if(!$[r]&&$e(r)){if(U.tagNameCheck instanceof RegExp&&zr(U.tagNameCheck,r))return!1;if(U.tagNameCheck instanceof Function&&U.tagNameCheck(r))return!1}if(ae&&!ce[r]){const t=v(e)||e.parentNode,n=j(e)||e.childNodes;if(n&&t){for(let r=n.length-1;r>=0;--r){const s=f(n[r],!0);s.__removalCount=(e.__removalCount||0)+1,t.insertBefore(s,x(e))}}}return Le(e),!0}return e instanceof c&&!function(e){let t=v(e);t&&t.tagName||(t={namespaceURI:xe,tagName:"template"});const n=yr(e.tagName),r=yr(t.tagName);return!!ve[e.namespaceURI]&&(e.namespaceURI===fe?t.namespaceURI===be?"svg"===n:t.namespaceURI===me?"svg"===n&&("annotation-xml"===r||ke[r]):Boolean(De[n]):e.namespaceURI===me?t.namespaceURI===be?"math"===n:t.namespaceURI===fe?"math"===n&&_e[r]:Boolean(Oe[n]):e.namespaceURI===be?!(t.namespaceURI===fe&&!_e[r])&&!(t.namespaceURI===me&&!ke[r])&&!Oe[n]&&(Se[n]||!De[n]):!("application/xhtml+xml"!==we||!ve[e.namespaceURI]))}(e)?(Le(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!zr(/<\/no(script|embed|frames)/i,e.innerHTML)?(Z&&e.nodeType===is&&(t=e.textContent,fr([A,T,R],e=>{t=Sr(t,e," ")}),e.textContent!==t&&(jr(n.removed,{element:e.cloneNode()}),e.textContent=t)),Me(z.afterSanitizeElements,e,null),!1):(Le(e),!0)},Ue=function(e,t,n){if(se&&("id"===t||"name"===t)&&(n in r||n in Ae))return!1;if(q&&!H[t]&&zr(D,t));else if(K&&zr(O,t));else if(W.attributeCheck instanceof Function&&W.attributeCheck(t,e));else if(!M[t]||H[t]){if(!($e(e)&&(U.tagNameCheck instanceof RegExp&&zr(U.tagNameCheck,e)||U.tagNameCheck instanceof Function&&U.tagNameCheck(e))&&(U.attributeNameCheck instanceof RegExp&&zr(U.attributeNameCheck,t)||U.attributeNameCheck instanceof Function&&U.attributeNameCheck(t,e))||"is"===t&&U.allowCustomizedBuiltInElements&&(U.tagNameCheck instanceof RegExp&&zr(U.tagNameCheck,n)||U.tagNameCheck instanceof Function&&U.tagNameCheck(n))))return!1}else if(ge[t]);else if(zr(I,Sr(n,C,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==wr(n,"data:")||!ue[e]){if(G&&!zr(L,Sr(n,C,"")));else if(n)return!1}else;return!0},$e=function(e){return"annotation-xml"!==e&&_r(e,P)},He=function(e){Me(z.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Be(e))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:M,forceKeepAttr:void 0};let s=t.length;for(;s--;){const a=t[s],{name:o,namespaceURI:l,value:c}=a,d=Ne(o),u=c;let h="value"===o?u:Er(u);if(r.attrName=d,r.attrValue=h,r.keepAttr=!0,r.forceKeepAttr=void 0,Me(z.uponSanitizeAttribute,e,r),h=r.attrValue,!ie||"id"!==d&&"name"!==d||(Ce(o,e),h="user-content-"+h),Y&&zr(/((--!?|])>)|<\/(style|title|textarea)/i,h)){Ce(o,e);continue}if("attributename"===d&&_r(h,"href")){Ce(o,e);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr){Ce(o,e);continue}if(!J&&zr(/\/>/i,h)){Ce(o,e);continue}Z&&fr([A,T,R],e=>{h=Sr(h,e," ")});const g=Ne(e.nodeName);if(Ue(g,d,h)){if(y&&"object"==typeof p&&"function"==typeof p.getAttributeType)if(l);else switch(p.getAttributeType(g,d)){case"TrustedHTML":h=y.createHTML(h);break;case"TrustedScriptURL":h=y.createScriptURL(h)}if(h!==u)try{l?e.setAttributeNS(l,o,h):e.setAttribute(o,h),Be(e)?Le(e):xr(n.removed)}catch(i){Ce(o,e)}}else Ce(o,e)}Me(z.afterSanitizeAttributes,e,null)},We=function e(t){let n=null;const r=Ie(t);for(Me(z.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)Me(z.uponSanitizeShadowNode,n,null),Ve(n),He(n),n.content instanceof a&&e(n.content);Me(z.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,i=null,o=null,c=null;if(je=!e,je&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Fe(e)){if("function"!=typeof e.toString)throw Ar("toString is not a function");if("string"!=typeof(e=e.toString()))throw Ar("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Q||Re(t),n.removed=[],"string"==typeof e&&(oe=!1),oe){if(e.nodeName){const t=Ne(e.nodeName);if(!B[t]||$[t])throw Ar("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)r=Pe("\x3c!----\x3e"),i=r.ownerDocument.importNode(e,!0),i.nodeType===ss&&"BODY"===i.nodeName||"HTML"===i.nodeName?r=i:r.appendChild(i);else{if(!te&&!Z&&!X&&-1===e.indexOf("<"))return y&&re?y.createHTML(e):e;if(r=Pe(e),!r)return te?null:re?k:""}r&&ee&&Le(r.firstChild);const d=Ie(oe?e:r);for(;o=d.nextNode();)Ve(o),He(o),o.content instanceof a&&We(o.content);if(oe)return e;if(te){if(ne)for(c=w.call(r.ownerDocument);r.firstChild;)c.appendChild(r.firstChild);else c=r;return(M.shadowroot||M.shadowrootmode)&&(c=N.call(s,c,!0)),c}let u=X?r.outerHTML:r.innerHTML;return X&&B["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&zr(ts,r.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+u),Z&&fr([A,T,R],e=>{u=Sr(u,e," ")}),y&&re?y.createHTML(u):u},n.setConfig=function(){Re(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Q=!0},n.clearConfig=function(){ze=null,Q=!1},n.isValidAttribute=function(e,t,n){ze||Re({});const r=Ne(e),s=Ne(t);return Ue(r,s,n)},n.addHook=function(e,t){"function"==typeof t&&jr(z[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=br(z[e],t);return-1===n?void 0:vr(z[e],n,1)[0]}return xr(z[e])},n.removeHooks=function(e){z[e]=[]},n.removeAllHooks=function(){z={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();const ds=(e,t={})=>{if(!e)return"";const n={ALLOWED_TAGS:["b","i","u","strong","em","br","p","a","ul","ol","li","h1","h2","h3","h4","h5","h6","span","div","blockquote","code","pre","hr","table","thead","tbody","tr","th","td"],ALLOWED_ATTR:["href","target","rel","class","id","style"],ALLOW_DATA_ATTR:!1,SAFE_FOR_TEMPLATES:!0,...t};return cs.sanitize(e,n)},us=e=>({__html:ds(e)}),hs=({isOpen:e,onClose:t,user:n,onConfirmed:i})=>{const[a,o]=r.useState(""),[l,c]=r.useState(""),[d,u]=r.useState(""),[h,g]=r.useState(""),[p,m]=r.useState(!0),[f,b]=r.useState(!1),[x,j]=r.useState(""),[v,y]=r.useState(!1),[_,T]=r.useState(!1),[R,D]=r.useState(!1),[O,L]=r.useState(!1),[C,P]=r.useState("agb");r.useEffect(()=>{e&&I()},[e]);const I=async()=>{m(!0);try{const e=(null==n?void 0:n.dojo_id)||1,t=await ir(`${Wn.apiBaseUrl}/agb/${e}`);if(t.ok){const e=await t.json();o(e.agb_text||B()),c(e.dsgvo_text||F()),u(e.dojo_regeln_text||M()),g(e.hausordnung_text||V())}}catch(e){console.error("Fehler beim Laden der Dokumente:",e),j("Dokumente konnten nicht geladen werden")}finally{m(!1)}},B=()=>"Allgemeine Geschaeftsbedingungen\n\n1. Geltungsbereich\nDiese AGB gelten fuer alle Mitgliedschaften und Leistungen des Dojos.\n\n2. Mitgliedschaft\nDie Mitgliedschaft beginnt mit der Annahme des Aufnahmeantrags.\n\n3. Beitraege\nDie Beitraege sind monatlich im Voraus zu entrichten.\n\n4. Kuendigung\nDie Kuendigung ist schriftlich moeglich.",F=()=>"Datenschutzerklaerung\n\n1. Datenerhebung\nWir erheben nur die fuer die Mitgliedschaft notwendigen Daten.\n\n2. Datenspeicherung\nIhre Daten werden sicher gespeichert und nicht an Dritte weitergegeben.\n\n3. Ihre Rechte\nSie haben das Recht auf Auskunft, Berichtigung und Loeschung Ihrer Daten.",M=()=>"Dojo-Regeln\n\n1. Respekt\nBehandeln Sie alle Trainingspartner mit Respekt.\n\n2. Puenktlichkeit\nErscheinen Sie puenktlich zum Training.\n\n3. Hygiene\nTragen Sie saubere Trainingskleidung.\n\n4. Sicherheit\nBefolgen Sie die Anweisungen der Trainer.",V=()=>"Hausordnung\n\n1. Allgemeines\nDas Dojo ist ein Ort der Ruhe und Konzentration.\n\n2. Umkleiden\nBitte verlassen Sie die Umkleiden ordentlich.\n\n3. Fundsachen\nFundsachen bitte beim Trainer abgeben.\n\n4. Wertsachen\nFuer Wertsachen wird keine Haftung uebernommen.";if(!e)return null;const U=v&&_&&R&&O,$=[{id:"agb",label:"AGB",icon:E,accepted:v},{id:"datenschutz",label:"Datenschutz",icon:k,accepted:_},{id:"dojoregeln",label:"Dojo-Regeln",icon:N,accepted:R},{id:"hausordnung",label:"Hausordnung",icon:z,accepted:O}];return s.jsx("div",{className:"first-login-overlay",children:s.jsxs("div",{className:"first-login-modal",children:[s.jsxs("div",{className:"first-login-header",children:[s.jsx(S,{size:28,className:"warning-icon"}),s.jsxs("div",{children:[s.jsx("h2",{children:"Willkommen!"}),s.jsx("p",{children:"Bitte bestaetigen Sie die folgenden Dokumente"})]})]}),p?s.jsxs("div",{className:"first-login-loading",children:[s.jsx(w,{className:"spinner",size:32}),s.jsx("p",{children:"Dokumente werden geladen..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"first-login-tabs",children:$.map(e=>s.jsxs("button",{className:`tab ${C===e.id?"active":""} ${e.accepted?"accepted":""}`,onClick:()=>P(e.id),children:[s.jsx(e.icon,{size:18}),s.jsx("span",{children:e.label}),e.accepted&&s.jsx(A,{size:16,className:"check-icon"})]},e.id))}),s.jsxs("div",{className:"first-login-content",children:["agb"===C&&s.jsxs("div",{className:"document-section",children:[s.jsx("div",{className:"document-text",dangerouslySetInnerHTML:us(a.replace(/\n/g,"<br>"))}),s.jsxs("label",{className:"checkbox-label",children:[s.jsx("input",{type:"checkbox",checked:v,onChange:e=>y(e.target.checked)}),s.jsx("span",{children:"Ich habe die AGB gelesen und akzeptiere sie"})]})]}),"datenschutz"===C&&s.jsxs("div",{className:"document-section",children:[s.jsx("div",{className:"document-text",dangerouslySetInnerHTML:us(l.replace(/\n/g,"<br>"))}),s.jsxs("label",{className:"checkbox-label",children:[s.jsx("input",{type:"checkbox",checked:_,onChange:e=>T(e.target.checked)}),s.jsx("span",{children:"Ich habe die Datenschutzerklaerung gelesen und akzeptiere sie"})]})]}),"dojoregeln"===C&&s.jsxs("div",{className:"document-section",children:[s.jsx("div",{className:"document-text",dangerouslySetInnerHTML:us(d.replace(/\n/g,"<br>"))}),s.jsxs("label",{className:"checkbox-label",children:[s.jsx("input",{type:"checkbox",checked:R,onChange:e=>D(e.target.checked)}),s.jsx("span",{children:"Ich habe die Dojo-Regeln gelesen und akzeptiere sie"})]})]}),"hausordnung"===C&&s.jsxs("div",{className:"document-section",children:[s.jsx("div",{className:"document-text",dangerouslySetInnerHTML:us(h.replace(/\n/g,"<br>"))}),s.jsxs("label",{className:"checkbox-label",children:[s.jsx("input",{type:"checkbox",checked:O,onChange:e=>L(e.target.checked)}),s.jsx("span",{children:"Ich habe die Hausordnung gelesen und akzeptiere sie"})]})]})]}),x&&s.jsxs("div",{className:"first-login-error",children:[s.jsx(S,{size:16}),x]}),s.jsxs("div",{className:"first-login-footer",children:[s.jsxs("div",{className:"acceptance-summary",children:[s.jsxs("span",{className:v?"done":"",children:["AGB ",v?"✓":"○"]}),s.jsxs("span",{className:_?"done":"",children:["Datenschutz ",_?"✓":"○"]}),s.jsxs("span",{className:R?"done":"",children:["Regeln ",R?"✓":"○"]}),s.jsxs("span",{className:O?"done":"",children:["Hausordnung ",O?"✓":"○"]})]}),s.jsx("button",{className:"btn-confirm",onClick:async()=>{if(v&&_&&R&&O){b(!0),j("");try{const e=await ir(`${Wn.apiBaseUrl}/agb/import-confirmation/${n.mitglied_id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({agb_akzeptiert:!0,datenschutz_akzeptiert:!0,dojo_regeln_akzeptiert:!0,hausordnung_akzeptiert:!0,dojo_id:n.dojo_id||1})});if(e.ok)i&&i(),t();else{const t=await e.json();j(t.error||"Fehler beim Speichern")}}catch(e){console.error("Fehler beim Bestaetigen:",e),j("Verbindungsfehler - bitte versuchen Sie es erneut")}finally{b(!1)}}else j("Bitte akzeptieren Sie alle Bedingungen")},disabled:!U||f,children:f?s.jsxs(s.Fragment,{children:[s.jsx(w,{className:"spinner",size:18}),"Wird gespeichert..."]}):s.jsxs(s.Fragment,{children:[s.jsx(A,{size:18}),"Alle Bedingungen akzeptieren"]})})]})]})]})})},gs=({children:e})=>{const{user:t,token:n}=En(),[i,a]=r.useState(!1),[o,l]=r.useState(!1),c=r.useCallback(async()=>{if(t&&n&&t.mitglied_id)if("admin"!==t.role){try{const e=await ir(`${kn.apiBaseUrl}/agb/check-versions/${t.mitglied_id}`);if(e.ok){const t=await e.json();(t.needsConfirmation||t.needsAgbUpdate||t.needsDsgvoUpdate||t.needsDojoRegelnUpdate||t.needsHausordnungUpdate)&&(console.log("Dokument-Bestaetigung erforderlich:",t),a(!0))}}catch(e){console.error("Fehler beim Pruefen der AGB-Versionen:",e)}l(!0)}else l(!0);else l(!0)},[t,n]);r.useEffect(()=>{c()},[c]);return o?s.jsxs(s.Fragment,{children:[e,i&&t&&s.jsx(hs,{isOpen:i,onClose:()=>{},user:t,onConfirmed:()=>{a(!1)}})]}):s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:"1rem"},children:[s.jsx("div",{className:"loading-spinner-large"}),s.jsx("div",{children:"Pruefe Zugangsberechtigung..."})]})},ps=e=>"string"==typeof e,ms=()=>{let e,t;const n=new Promise((n,r)=>{e=n,t=r});return n.resolve=e,n.reject=t,n},fs=e=>null==e?"":""+e,bs=/###/g,xs=e=>e&&e.indexOf("###")>-1?e.replace(bs,"."):e,js=e=>!e||ps(e),vs=(e,t,n)=>{const r=ps(t)?t.split("."):t;let s=0;for(;s<r.length-1;){if(js(e))return{};const t=xs(r[s]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++s}return js(e)?{}:{obj:e,k:xs(r[s])}},ys=(e,t,n)=>{const{obj:r,k:s}=vs(e,t,Object);if(void 0!==r||1===t.length)return void(r[s]=n);let i=t[t.length-1],a=t.slice(0,t.length-1),o=vs(e,a,Object);for(;void 0===o.obj&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),o=vs(e,a,Object),(null==o?void 0:o.obj)&&void 0!==o.obj[`${o.k}.${i}`]&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=n},ks=(e,t)=>{const{obj:n,k:r}=vs(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},_s=(e,t,n)=>{for(const r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?ps(e[r])||e[r]instanceof String||ps(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):_s(e[r],t[r],n):e[r]=t[r]);return e},Ss=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var ws={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Es=e=>ps(e)?e.replace(/[&<>"'\/]/g,e=>ws[e]):e;const Ns=[" ",",","?","!",";"],zs=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),As=(e,t,n=".")=>{if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}const r=t.split(n);let s=e;for(let i=0;i<r.length;){if(!s||"object"!=typeof s)return;let e,t="";for(let a=i;a<r.length;++a)if(a!==i&&(t+=n),t+=r[a],e=s[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&a<r.length-1)continue;i+=a-i+1;break}s=e}return s},Ts=e=>null==e?void 0:e.replace("_","-"),Rs={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,r;null==(r=null==(n=null==console?void 0:console[e])?void 0:n.apply)||r.call(n,console,t)}};class Ds{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||Rs,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,r){return r&&!this.debug?null:(ps(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Ds(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new Ds(this.logger,e)}}var Os=new Ds;class Ls{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)}),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e,...t){if(this.observers[e]){Array.from(this.observers[e].entries()).forEach(([e,n])=>{for(let r=0;r<n;r++)e(...t)})}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach(([n,r])=>{for(let s=0;s<r;s++)n.apply(n,[e,...t])})}}}class Cs extends Ls{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n,r={}){var s,i;const a=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,t],n&&(Array.isArray(n)?l.push(...n):ps(n)&&a?l.push(...n.split(a)):l.push(n)));const c=ks(this.data,l);return!c&&!t&&!n&&e.indexOf(".")>-1&&(e=l[0],t=l[1],n=l.slice(2).join(".")),!c&&o&&ps(n)?As(null==(i=null==(s=this.data)?void 0:s[e])?void 0:i[t],n,a):c}addResource(e,t,n,r,s={silent:!1}){const i=void 0!==s.keySeparator?s.keySeparator:this.options.keySeparator;let a=[e,t];n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(a=e.split("."),r=t,t=a[1]),this.addNamespaces(t),ys(this.data,a,r),s.silent||this.emit("added",e,t,n,r)}addResources(e,t,n,r={silent:!1}){for(const s in n)(ps(n[s])||Array.isArray(n[s]))&&this.addResource(e,t,s,n[s],{silent:!0});r.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,r,s,i={silent:!1,skipCopy:!1}){let a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),r=n,n=t,t=a[1]),this.addNamespaces(t);let o=ks(this.data,a)||{};i.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?_s(o,n,s):o={...o,...n},ys(this.data,a,o),i.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var Ps={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,s){return e.forEach(e=>{var i;t=(null==(i=this.processors[e])?void 0:i.process(t,n,r,s))??t}),t}};const Is=Symbol("i18next/PATH_KEY");function Bs(e,t){const{[Is]:n}=e(function(){const e=[],t=Object.create(null);let n;return t.get=(r,s)=>{var i;return null==(i=null==n?void 0:n.revoke)||i.call(n),s===Is?e:(e.push(s),n=Proxy.revocable(r,t),n.proxy)},Proxy.revocable(Object.create(null),t).proxy}());return n.join((null==t?void 0:t.keySeparator)??".")}const Fs={},Ms=e=>!ps(e)&&"boolean"!=typeof e&&"number"!=typeof e;class Vs extends Ls{constructor(e,t={}){var n,r;super(),n=e,r=this,["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach(e=>{n[e]&&(r[e]=n[e])}),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=Os.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const n={...t};if(null==e)return!1;const r=this.resolve(e,n);if(void 0===(null==r?void 0:r.res))return!1;const s=Ms(r.res);return!1!==n.returnObjects||!s}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let s=t.ns||this.options.defaultNS||[];const i=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||((e,t,n)=>{t=t||"",n=n||"";const r=Ns.filter(e=>t.indexOf(e)<0&&n.indexOf(e)<0);if(0===r.length)return!0;const s=zs.getRegExp(`(${r.map(e=>"?"===e?"\\?":e).join("|")})`);let i=!s.test(e);if(!i){const t=e.indexOf(n);t>0&&!s.test(e.substring(0,t))&&(i=!0)}return i})(e,n,r));if(i&&!a){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:ps(s)?[s]:s};const i=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(i[0])>-1)&&(s=i.shift()),e=i.join(r)}return{key:e,namespaces:ps(s)?[s]:s}}translate(e,t,n){let r="object"==typeof t?{...t}:t;if("object"!=typeof r&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof r&&(r={...r}),r||(r={}),null==e)return"";"function"==typeof e&&(e=Bs(e,{...this.options,...r})),Array.isArray(e)||(e=[String(e)]);const s=void 0!==r.returnDetails?r.returnDetails:this.options.returnDetails,i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],r),l=o[o.length-1];let c=void 0!==r.nsSeparator?r.nsSeparator:this.options.nsSeparator;void 0===c&&(c=":");const d=r.lng||this.language,u=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===(null==d?void 0:d.toLowerCase()))return u?s?{res:`${l}${c}${a}`,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:`${l}${c}${a}`:s?{res:a,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:a;const h=this.resolve(e,r);let g=null==h?void 0:h.res;const p=(null==h?void 0:h.usedKey)||a,m=(null==h?void 0:h.exactUsedKey)||a,f=void 0!==r.joinArrays?r.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,x=void 0!==r.count&&!ps(r.count),j=Vs.hasDefaultValue(r),v=x?this.pluralResolver.getSuffix(d,r.count,r):"",y=r.ordinal&&x?this.pluralResolver.getSuffix(d,r.count,{ordinal:!1}):"",k=x&&!r.ordinal&&0===r.count,_=k&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${v}`]||r[`defaultValue${y}`]||r.defaultValue;let S=g;b&&!g&&j&&(S=_);const w=Ms(S),E=Object.prototype.toString.apply(S);if(!(b&&S&&w&&["[object Number]","[object Function]","[object RegExp]"].indexOf(E)<0)||ps(f)&&Array.isArray(S))if(b&&ps(f)&&Array.isArray(g))g=g.join(f),g&&(g=this.extendTranslation(g,e,r,n));else{let t=!1,s=!1;!this.isValidLookup(g)&&j&&(t=!0,g=_),this.isValidLookup(g)||(s=!0,g=a);const o=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&s?void 0:g,u=j&&_!==g&&this.options.updateMissing;if(s||t||u){if(this.logger.log(u?"updateKey":"missingKey",d,l,a,u?_:g),i){const e=this.resolve(a,{...r,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const t=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if("fallback"===this.options.saveMissingTo&&t&&t[0])for(let r=0;r<t.length;r++)e.push(t[r]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(r.lng||this.language):e.push(r.lng||this.language);const n=(e,t,n)=>{var s;const i=j&&n!==g?n:o;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,t,i,u,r):(null==(s=this.backendConnector)?void 0:s.saveMissing)&&this.backendConnector.saveMissing(e,l,t,i,u,r),this.emit("missingKey",e,l,t,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&x?e.forEach(e=>{const t=this.pluralResolver.getSuffixes(e,r);k&&r[`defaultValue${this.options.pluralSeparator}zero`]&&t.indexOf(`${this.options.pluralSeparator}zero`)<0&&t.push(`${this.options.pluralSeparator}zero`),t.forEach(t=>{n([e],a+t,r[`defaultValue${t}`]||_)})}):n(e,a,_))}g=this.extendTranslation(g,e,r,h,n),s&&g===a&&this.options.appendNamespaceToMissingKey&&(g=`${l}${c}${a}`),(s||t)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}${c}${a}`:a,t?g:void 0,r))}else{if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,S,{...r,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return s?(h.res=e,h.usedParams=this.getUsedParamsDetails(r),h):e}if(i){const e=Array.isArray(S),t=e?[]:{},n=e?m:p;for(const s in S)if(Object.prototype.hasOwnProperty.call(S,s)){const e=`${n}${i}${s}`;t[s]=j&&!g?this.translate(e,{...r,defaultValue:Ms(_)?_[s]:void 0,joinArrays:!1,ns:o}):this.translate(e,{...r,joinArrays:!1,ns:o}),t[s]===e&&(t[s]=S[s])}g=t}}return s?(h.res=g,h.usedParams=this.getUsedParamsDetails(r),h):g}extendTranslation(e,t,n,r,s){var i,a;if(null==(i=this.i18nFormat)?void 0:i.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const i=ps(e)&&(void 0!==(null==(a=null==n?void 0:n.interpolation)?void 0:a.skipOnVariables)?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let o;if(i){const t=e.match(this.interpolator.nestingRegexp);o=t&&t.length}let l=n.replace&&!ps(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),e=this.interpolator.interpolate(e,l,n.lng||this.language||r.usedLng,n),i){const t=e.match(this.interpolator.nestingRegexp);o<(t&&t.length)&&(n.nest=!1)}!n.lng&&r&&r.res&&(n.lng=this.language||r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(...e)=>(null==s?void 0:s[0])!==e[0]||n.context?this.translate(...e,t):(this.logger.warn(`It seems you are nesting recursively key: ${e[0]} in key: ${t[0]}`),null),n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,l=ps(o)?[o]:o;return null!=e&&(null==l?void 0:l.length)&&!1!==n.applyPostProcessor&&(e=Ps.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,t={}){let n,r,s,i,a;return ps(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(n))return;const o=this.extractFromKey(e,t),l=o.key;r=l;let c=o.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const d=void 0!==t.count&&!ps(t.count),u=d&&!t.ordinal&&0===t.count,h=void 0!==t.context&&(ps(t.context)||"number"==typeof t.context)&&""!==t.context,g=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);c.forEach(e=>{var o,c;this.isValidLookup(n)||(a=e,Fs[`${g[0]}-${e}`]||!(null==(o=this.utils)?void 0:o.hasLoadedNamespace)||(null==(c=this.utils)?void 0:c.hasLoadedNamespace(a))||(Fs[`${g[0]}-${e}`]=!0,this.logger.warn(`key "${r}" for languages "${g.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(r=>{var a;if(this.isValidLookup(n))return;i=r;const o=[l];if(null==(a=this.i18nFormat)?void 0:a.addLookupKeys)this.i18nFormat.addLookupKeys(o,l,r,e,t);else{let e;d&&(e=this.pluralResolver.getSuffix(r,t.count,t));const n=`${this.options.pluralSeparator}zero`,s=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(t.ordinal&&0===e.indexOf(s)&&o.push(l+e.replace(s,this.options.pluralSeparator)),o.push(l+e),u&&o.push(l+n)),h){const r=`${l}${this.options.contextSeparator||"_"}${t.context}`;o.push(r),d&&(t.ordinal&&0===e.indexOf(s)&&o.push(r+e.replace(s,this.options.pluralSeparator)),o.push(r+e),u&&o.push(r+n))}}let c;for(;c=o.pop();)this.isValidLookup(n)||(s=c,n=this.getResource(r,e,c,t))}))})}),{res:n,usedKey:r,exactUsedKey:s,usedLng:i,usedNS:a}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,n,r={}){var s;return(null==(s=this.i18nFormat)?void 0:s.getResource)?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!ps(e.replace);let r=n?e.replace:e;if(n&&void 0!==e.count&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const e of t)delete r[e]}return r}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}class Us{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Os.create("languageUtils")}getScriptPartFromCode(e){if(!(e=Ts(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=Ts(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(ps(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch(t){}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;const n=this.getScriptPartFromCode(e);if(this.isSupportedCode(n))return t=n;const r=this.getLanguagePartFromCode(e);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find(e=>e===r?e:e.indexOf("-")<0&&r.indexOf("-")<0?void 0:e.indexOf("-")>0&&r.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===r||0===e.indexOf(r)&&r.length>1?e:void 0)}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),ps(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes((!1===t?[]:t)||this.options.fallbackLng||[],e),r=[],s=e=>{e&&(this.isSupportedCode(e)?r.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return ps(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&s(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&s(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&s(this.getLanguagePartFromCode(e))):ps(e)&&s(this.formatLanguageCode(e)),n.forEach(e=>{r.indexOf(e)<0&&s(this.formatLanguageCode(e))}),r}}const $s={zero:0,one:1,two:2,few:3,many:4,other:5},Hs={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Ws{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Os.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const n=Ts("dev"===e?"en":e),r=t.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:r});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let i;try{i=new Intl.PluralRules(n,{type:r})}catch(a){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Hs;if(!e.match(/-|_/))return Hs;const n=this.languageUtils.getLanguagePartFromCode(e);i=this.getRule(n,t)}return this.pluralRulesCache[s]=i,i}needsPlural(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),(null==n?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,n={}){return this.getSuffixes(e,n).map(e=>`${t}${e}`)}getSuffixes(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?n.resolvedOptions().pluralCategories.sort((e,t)=>$s[e]-$s[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):[]}getSuffix(e,t,n={}){const r=this.getRule(e,n);return r?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,n))}}const Ks=(e,t,n,r=".",s=!0)=>{let i=((e,t,n)=>{const r=ks(e,n);return void 0!==r?r:ks(t,n)})(e,t,n);return!i&&s&&ps(n)&&(i=As(e,n,r),void 0===i&&(i=As(t,n,r))),i},qs=e=>e.replace(/\$/g,"$$$$");class Gs{constructor(e={}){var t;this.logger=Os.create("interpolator"),this.options=e,this.format=(null==(t=null==e?void 0:e.interpolation)?void 0:t.format)||(e=>e),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:r,prefix:s,prefixEscaped:i,suffix:a,suffixEscaped:o,formatSeparator:l,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:u,nestingPrefixEscaped:h,nestingSuffix:g,nestingSuffixEscaped:p,nestingOptionsSeparator:m,maxReplaces:f,alwaysFormat:b}=e.interpolation;this.escape=void 0!==t?t:Es,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==r&&r,this.prefix=s?Ss(s):i||"{{",this.suffix=a?Ss(a):o||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=u?Ss(u):h||Ss("$t("),this.nestingSuffix=g?Ss(g):p||Ss(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=f||1e3,this.alwaysFormat=void 0!==b&&b,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>(null==e?void 0:e.source)===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,n,r){var s;let i,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=e=>{if(e.indexOf(this.formatSeparator)<0){const s=Ks(t,l,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(s,void 0,n,{...r,...t,interpolationkey:e}):s}const s=e.split(this.formatSeparator),i=s.shift().trim(),a=s.join(this.formatSeparator).trim();return this.format(Ks(t,l,i,this.options.keySeparator,this.options.ignoreJSONStructure),a,n,{...r,...t,interpolationkey:i})};this.resetRegExp();const d=(null==r?void 0:r.missingInterpolationHandler)||this.options.missingInterpolationHandler,u=void 0!==(null==(s=null==r?void 0:r.interpolation)?void 0:s.skipOnVariables)?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>qs(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?qs(this.escape(e)):qs(e)}].forEach(t=>{for(o=0;i=t.regex.exec(e);){const n=i[1].trim();if(a=c(n),void 0===a)if("function"==typeof d){const t=d(e,i,r);a=ps(t)?t:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))a="";else{if(u){a=i[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),a=""}else ps(a)||this.useRawValueToEscape||(a=fs(a));const s=t.safeValue(a);if(e=e.replace(i[0],s),u?(t.regex.lastIndex+=a.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,t,n={}){let r,s,i;const a=(e,t)=>{const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const r=e.split(new RegExp(`${n}[ ]*{`));let s=`{${r[1]}`;e=r[0],s=this.interpolate(s,i);const a=s.match(/'/g),o=s.match(/"/g);(((null==a?void 0:a.length)??0)%2==0&&!o||o.length%2!=0)&&(s=s.replace(/'/g,'"'));try{i=JSON.parse(s),t&&(i={...t,...i})}catch(l){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,l),`${e}${n}${s}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,e};for(;r=this.nestingRegexp.exec(e);){let o=[];i={...n},i=i.replace&&!ps(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;const l=/{.*}/.test(r[1])?r[1].lastIndexOf("}")+1:r[1].indexOf(this.formatSeparator);if(-1!==l&&(o=r[1].slice(l).split(this.formatSeparator).map(e=>e.trim()).filter(Boolean),r[1]=r[1].slice(0,l)),s=t(a.call(this,r[1].trim(),i),i),s&&r[0]===e&&!ps(s))return s;ps(s)||(s=fs(s)),s||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),s=""),o.length&&(s=o.reduce((e,t)=>this.format(e,t,n.lng,{...n,interpolationkey:r[1].trim()}),s.trim())),e=e.replace(r[0],s),this.regexp.lastIndex=0}return e}}const Js=e=>{const t={};return(n,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const a=r+JSON.stringify(i);let o=t[a];return o||(o=e(Ts(r),s),t[a]=o),o(n)}},Zs=e=>(t,n,r)=>e(Ts(n),r)(t);class Ys{constructor(e={}){this.logger=Os.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const n=t.cacheInBuiltFormats?Js:Zs;this.formats={number:n((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)}),currency:n((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)}),datetime:n((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)}),relativetime:n((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")}),list:n((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Js(t)}format(e,t,n,r={}){const s=t.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(e=>e.indexOf(")")>-1)){const e=s.findIndex(e=>e.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,e)].join(this.formatSeparator)}return s.reduce((e,t)=>{var s;const{formatName:i,formatOptions:a}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);"currency"===t&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):"relativetime"===t&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(e=>{if(e){const[t,...r]=e.split(":"),s=r.join(":").trim().replace(/^'+|'+$/g,""),i=t.trim();n[i]||(n[i]=s),"false"===s&&(n[i]=!1),"true"===s&&(n[i]=!0),isNaN(s)||(n[i]=parseInt(s,10))}})}return{formatName:t,formatOptions:n}})(t);if(this.formats[i]){let t=e;try{const o=(null==(s=null==r?void 0:r.formatParams)?void 0:s[r.interpolationkey])||{},l=o.locale||o.lng||r.locale||r.lng||n;t=this.formats[i](e,l,{...a,...r,...o})}catch(o){this.logger.warn(o)}return t}return this.logger.warn(`there was no format function for ${i}`),e},e)}}class Xs extends Ls{constructor(e,t,n,r={}){var s,i;super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=Os.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],null==(i=null==(s=this.backend)?void 0:s.init)||i.call(s,n,r.backend,r)}queueLoad(e,t,n,r){const s={},i={},a={},o={};return e.forEach(e=>{let r=!0;t.forEach(t=>{const a=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===i[a]&&(i[a]=!0):(this.state[a]=1,r=!1,void 0===i[a]&&(i[a]=!0),void 0===s[a]&&(s[a]=!0),void 0===o[t]&&(o[t]=!0)))}),r||(a[e]=!0)}),(Object.keys(s).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(s),pending:Object.keys(i),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(o)}}loaded(e,t,n){const r=e.split("|"),s=r[0],i=r[1];t&&this.emit("failedLoading",s,i,t),!t&&n&&this.store.addResourceBundle(s,i,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const a={};this.queue.forEach(n=>{((e,t,n)=>{const{obj:r,k:s}=vs(e,t,Object);r[s]=r[s]||[],r[s].push(n)})(n.loaded,[s],i),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach(e=>{a[e]||(a[e]={});const t=n.loaded[e];t.length&&t.forEach(t=>{void 0===a[e][t]&&(a[e][t]=!0)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(e=>!e.done)}read(e,t,n,r=0,s=this.retryTimeout,i){if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:s,callback:i});this.readingCalls++;const a=(a,o)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}a&&o&&r<this.maxRetries?setTimeout(()=>{this.read.call(this,e,t,n,r+1,2*s,i)},s):i(a,o)},o=this.backend[n].bind(this.backend);if(2!==o.length)return o(e,t,a);try{const n=o(e,t);n&&"function"==typeof n.then?n.then(e=>a(null,e)).catch(a):a(null,n)}catch(l){a(l)}}prepareLoading(e,t,n={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();ps(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ps(t)&&(t=[t]);const s=this.queueLoad(e,t,n,r);if(!s.toLoad.length)return s.pending.length||r(),null;s.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e,t=""){const n=e.split("|"),r=n[0],s=n[1];this.read(r,s,"read",void 0,void 0,(n,i)=>{n&&this.logger.warn(`${t}loading namespace ${s} for language ${r} failed`,n),!n&&i&&this.logger.log(`${t}loaded namespace ${s} for language ${r}`,i),this.loaded(e,n,i)})}saveMissing(e,t,n,r,s,i={},a=()=>{}){var o,l,c,d,u;if(!(null==(l=null==(o=this.services)?void 0:o.utils)?void 0:l.hasLoadedNamespace)||(null==(d=null==(c=this.services)?void 0:c.utils)?void 0:d.hasLoadedNamespace(t))){if(null!=n&&""!==n){if(null==(u=this.backend)?void 0:u.create){const o={...i,isUpdate:s},l=this.backend.create.bind(this.backend);if(l.length<6)try{let s;s=5===l.length?l(e,t,n,r,o):l(e,t,n,r),s&&"function"==typeof s.then?s.then(e=>a(null,e)).catch(a):a(null,s)}catch(h){a(h)}else l(e,t,n,r,a,o)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}else this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const Qs=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),ps(e[1])&&(t.defaultValue=e[1]),ps(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach(e=>{t[e]=n[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),ei=e=>{var t,n;return ps(e.ns)&&(e.ns=[e.ns]),ps(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),ps(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),(null==(n=null==(t=e.supportedLngs)?void 0:t.indexOf)?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"==typeof e.initImmediate&&(e.initAsync=e.initImmediate),e},ti=()=>{};class ni extends Ls{constructor(e={},t){var n;if(super(),this.options=ei(e),this.services={},this.logger=Os,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(e=>{"function"==typeof n[e]&&(n[e]=n[e].bind(n))}),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,"function"==typeof e&&(t=e,e={}),null==e.defaultNS&&e.ns&&(ps(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=Qs();this.options={...n,...this.options,...ei(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator),"function"!=typeof this.options.overloadTranslationOptionHandler&&(this.options.overloadTranslationOptionHandler=n.overloadTranslationOptionHandler),!0===this.options.debug&&"undefined"!=typeof console&&console.warn("i18next is maintained with support from locize.com — consider powering your project with managed localization (AI, CDN, integrations): https://locize.com");const r=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let e;this.modules.logger?Os.init(r(this.modules.logger),this.options):Os.init(null,this.options),e=this.modules.formatter?this.modules.formatter:Ys;const t=new Us(this.options);this.store=new Cs(this.options.resources,this.options);const s=this.services;s.logger=Os,s.resourceStore=this.store,s.languageUtils=t,s.pluralResolver=new Ws(t,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix});this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),!e||this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format||(s.formatter=r(e),s.formatter.init&&s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new Gs(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new Xs(r(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(e,...t)=>{this.emit(e,...t)}),this.modules.languageDetector&&(s.languageDetector=r(this.modules.languageDetector),s.languageDetector.init&&s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=r(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new Vs(this.services,this.options),this.translator.on("*",(e,...t)=>{this.emit(e,...t)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,t||(t=ti),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(e=>{this[e]=(...t)=>this.store[e](...t)});["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(e=>{this[e]=(...t)=>(this.store[e](...t),this)});const s=ms(),i=()=>{const e=(e,n)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(n),t(e,n)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?i():setTimeout(i,0),s}loadResources(e,t=ti){var n,r;let s=t;const i=ps(e)?e:this.language;if("function"==typeof e&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if("cimode"===(null==i?void 0:i.toLowerCase())&&(!this.options.preload||0===this.options.preload.length))return s();const e=[],t=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)})};if(i)t(i);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>t(e))}null==(r=null==(n=this.options.preload)?void 0:n.forEach)||r.call(n,e=>t(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),s(e)})}else s(null)}reloadResources(e,t,n){const r=ms();return"function"==typeof e&&(n=e,e=void 0),"function"==typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=ti),this.services.backendConnector.reload(e,t,e=>{r.resolve(),n(e)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&Ps.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1)){for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const n=ms();this.emit("languageChanging",e);const r=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},s=(s,i)=>{i?this.isLanguageChangingTo===e&&(r(i),this.translator.changeLanguage(i),this.isLanguageChangingTo=void 0,this.emit("languageChanged",i),this.logger.log("languageChanged",i)):this.isLanguageChangingTo=void 0,n.resolve((...e)=>this.t(...e)),t&&t(s,(...e)=>this.t(...e))},i=t=>{var n,i;e||t||!this.services.languageDetector||(t=[]);const a=ps(t)?t:t&&t[0],o=this.store.hasLanguageSomeTranslations(a)?a:this.services.languageUtils.getBestMatchFromCodes(ps(t)?[t]:t);o&&(this.language||r(o),this.translator.language||this.translator.changeLanguage(o),null==(i=null==(n=this.services.languageDetector)?void 0:n.cacheUserLanguage)||i.call(n,o)),this.loadResources(o,e=>{s(e,o)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(i):this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect()),n}getFixedT(e,t,n){const r=(e,t,...s)=>{let i;i="object"!=typeof t?this.options.overloadTranslationOptionHandler([e,t].concat(s)):{...t},i.lng=i.lng||r.lng,i.lngs=i.lngs||r.lngs,i.ns=i.ns||r.ns,""!==i.keyPrefix&&(i.keyPrefix=i.keyPrefix||n||r.keyPrefix);const a=this.options.keySeparator||".";let o;return i.keyPrefix&&Array.isArray(e)?o=e.map(e=>("function"==typeof e&&(e=Bs(e,{...this.options,...t})),`${i.keyPrefix}${a}${e}`)):("function"==typeof e&&(e=Bs(e,{...this.options,...t})),o=i.keyPrefix?`${i.keyPrefix}${a}${e}`:e),this.t(o,i)};return ps(e)?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=n,r}t(...e){var t;return null==(t=this.translator)?void 0:t.translate(...e)}exists(...e){var t;return null==(t=this.translator)?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,s=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const i=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,i);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!i(n,e)||r&&!i(s,e)))}loadNamespaces(e,t){const n=ms();return this.options.ns?(ps(e)&&(e=[e]),e.forEach(e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=ms();ps(e)&&(e=[e]);const r=this.options.preload||[],s=e.filter(e=>r.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e));return s.length?(this.options.preload=r.concat(s),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}dir(e){var t,n;if(e||(e=this.resolvedLanguage||((null==(t=this.languages)?void 0:t.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const t=new Intl.Locale(e);if(t&&t.getTextInfo){const e=t.getTextInfo();if(e&&e.direction)return e.direction}}catch(s){}const r=(null==(n=this.services)?void 0:n.languageUtils)||new Us(Qs());return e.toLowerCase().indexOf("-latn")>1?"ltr":["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){const n=new ni(e,t);return n.createInstance=ni.createInstance,n}cloneInstance(e={},t=ti){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},s=new ni(r);void 0===e.debug&&void 0===e.prefix||(s.logger=s.logger.clone(e));if(["store","services","language"].forEach(e=>{s[e]=this[e]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n){const e=Object.keys(this.store.data).reduce((e,t)=>(e[t]={...this.store.data[t]},e[t]=Object.keys(e[t]).reduce((n,r)=>(n[r]={...e[t][r]},n),e[t]),e),{});s.store=new Cs(e,r),s.services.resourceStore=s.store}if(e.interpolation){const t={...Qs().interpolation,...this.options.interpolation,...e.interpolation},n={...r,interpolation:t};s.services.interpolator=new Gs(n)}return s.translator=new Vs(s.services,r),s.translator.on("*",(e,...t)=>{s.emit(e,...t)}),s.init(r,t),s.translator.options=r,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ri=ni.createInstance();ri.createInstance,ri.dir,ri.init,ri.loadResources,ri.reloadResources,ri.use,ri.changeLanguage,ri.getFixedT,ri.t,ri.exists,ri.setDefaultNamespace,ri.hasLoadedNamespace,ri.loadNamespaces,ri.loadLanguages;const si={},ii=(e,t,n,r)=>{ci(n)&&si[n]||(ci(n)&&(si[n]=new Date),((e,t,n,r)=>{var s,i,a,o;const l=[n,{code:t,...r||{}}];if(null==(i=null==(s=null==e?void 0:e.services)?void 0:s.logger)?void 0:i.forward)return e.services.logger.forward(l,"warn","react-i18next::",!0);ci(l[0])&&(l[0]=`react-i18next:: ${l[0]}`),(null==(o=null==(a=null==e?void 0:e.services)?void 0:a.logger)?void 0:o.warn)?e.services.logger.warn(...l):(null==console?void 0:console.warn)&&console.warn(...l)})(e,t,n,r))},ai=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},oi=(e,t,n)=>{e.loadNamespaces(t,ai(e,n))},li=(e,t,n,r)=>{if(ci(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return oi(e,n,r);n.forEach(t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)}),e.loadLanguages(t,ai(e,r))},ci=e=>"string"==typeof e,di=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,ui={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},hi=e=>ui[e];let gi={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(di,hi),transDefaultProps:void 0};let pi;const mi={type:"3rdParty",init(e){((e={})=>{gi={...gi,...e}})(e.options.react),(e=>{pi=e})(e)}},fi=r.createContext();class bi{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var xi=M();const ji={t:(e,t)=>{return ci(t)?t:"object"==typeof(n=t)&&null!==n&&ci(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e;var n},ready:!1},vi=()=>()=>{},yi=(e,t={})=>{var n,s,i;const{i18n:a}=t,{i18n:o,defaultNS:l}=r.useContext(fi)||{},c=a||o||pi;c&&!c.reportNamespaces&&(c.reportNamespaces=new bi),c||ii(c,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const d=r.useMemo(()=>{var e;return{...gi,...null==(e=null==c?void 0:c.options)?void 0:e.react,...t}},[c,t]),{useSuspense:u,keyPrefix:h}=d,g=e||l||(null==(n=null==c?void 0:c.options)?void 0:n.defaultNS),p=ci(g)?[g]:g||["translation"],m=r.useMemo(()=>p,p);null==(i=null==(s=null==c?void 0:c.reportNamespaces)?void 0:s.addUsedNamespaces)||i.call(s,m);const f=r.useRef(0),b=r.useCallback(e=>{if(!c)return vi;const{bindI18n:t,bindI18nStore:n}=d,r=()=>{f.current+=1,e()};return t&&c.on(t,r),n&&c.store.on(n,r),()=>{t&&t.split(" ").forEach(e=>c.off(e,r)),n&&n.split(" ").forEach(e=>c.store.off(e,r))}},[c,d]),x=r.useRef(),j=r.useCallback(()=>{if(!c)return ji;const e=!(!c.isInitialized&&!c.initializedStoreOnce)&&m.every(e=>((e,t,n={})=>t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,r)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):(ii(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0))(e,c,d)),n=t.lng||c.language,r=f.current,s=x.current;if(s&&s.ready===e&&s.lng===n&&s.keyPrefix===h&&s.revision===r)return s;const i={t:c.getFixedT(n,"fallback"===d.nsMode?m:m[0],h),ready:e,lng:n,keyPrefix:h,revision:r};return x.current=i,i},[c,m,h,d,t.lng]),[v,y]=r.useState(0),{t:k,ready:_}=xi.useSyncExternalStore(b,j,j);r.useEffect(()=>{if(c&&!_&&!u){const e=()=>y(e=>e+1);t.lng?li(c,t.lng,m,e):oi(c,m,e)}},[c,t.lng,m,_,u,v]);const S=c||{},w=r.useRef(null),E=r.useRef(),N=e=>{const t=Object.getOwnPropertyDescriptors(e);t.__original&&delete t.__original;const n=Object.create(Object.getPrototypeOf(e),t);if(!Object.prototype.hasOwnProperty.call(n,"__original"))try{Object.defineProperty(n,"__original",{value:e,writable:!1,enumerable:!1,configurable:!1})}catch(r){}return n},z=r.useMemo(()=>{const e=S,t=null==e?void 0:e.language;let n=e;e&&(w.current&&w.current.__original===e?E.current!==t?(n=N(e),w.current=n,E.current=t):n=w.current:(n=N(e),w.current=n,E.current=t));const r=[k,n,_];return r.t=k,r.i18n=n,r.ready=_,r},[k,S,_,S.resolvedLanguage,S.language,S.languages]);if(c&&u&&!_)throw new Promise(e=>{const n=()=>e();t.lng?li(c,t.lng,m,n):oi(c,m,n)});return z},ki=({vertrag:e,onChange:t,geburtsdatum:n=null,schuelerStudent:i=!1,mode:a="create",showMindestlaufzeitOptions:o=!0,mitgliedId:l=null,isPublic:c=!1})=>{const[d,u]=r.useState([]),[h,g]=r.useState([]),[p,m]=r.useState(null),[f,b]=r.useState([]),[x,j]=r.useState(!0),[v,y]=r.useState(!1),[k,_]=r.useState(null),[S,w]=r.useState({agb_text:"",dsgvo_text:"",dojo_regeln_text:"",hausordnung_text:"",haftungsausschluss_text:"",widerrufsbelehrung_text:""}),E=(e,t)=>{if(!e||!t)return"";const n=new Date(e),r=new Date(n);return r.setMonth(r.getMonth()+t),r.toISOString().split("T")[0]};r.useEffect(()=>{if(e.vertragsbeginn&&e.mindestlaufzeit_monate){const n=E(e.vertragsbeginn,e.mindestlaufzeit_monate);n!==e.vertragsende&&t({...e,vertragsende:n})}},[e.vertragsbeginn,e.mindestlaufzeit_monate]),r.useEffect(()=>{(async()=>{var r,s;j(!0);try{const o=c?"/public/tarife":"/tarife",d=await Gt.get(o);let h=(null==(r=d.data)?void 0:r.data)||d.data||[];const p=h.filter(e=>!e.ist_archiviert).filter(e=>{const t=e.name&&(e.name.toLowerCase().includes("10er")||e.name.toLowerCase().includes("10-er")||e.name.toLowerCase().includes("zehnerkarte")),n=[3,6,12].includes(parseInt(e.duration_months));return t||n}),f=((e,t,n=!1)=>null===t?e:e.filter(e=>{const r=e.altersgruppe?e.altersgruppe.toLowerCase():"";return n&&t>=18?!!(r.includes("schüler")||r.includes("schueler")||r.includes("student")||r.includes("kind")||r.includes("jugend"))||!e.altersgruppe:t<=12?!(!r.includes("kind")&&!r.includes("kinder")&&e.altersgruppe):t>=13&&t<=17?!!(r.includes("jugend")||r.includes("kind")||r.includes("kinder"))||!e.altersgruppe:t>=18&&!n?!(!r.includes("erwachsen")&&!r.includes("adult")&&e.altersgruppe):!!(t>=60&&r.includes("senior"))||!(!r.includes("familie")&&!r.includes("family"))}))(p,(e=>{if(!e)return null;const t=new Date,n=new Date(e);let r=t.getFullYear()-n.getFullYear();const s=t.getMonth()-n.getMonth();return(s<0||0===s&&t.getDate()<n.getDate())&&r--,r})(n),i),x=(s=f,[...s].sort((e,t)=>12===e.mindestlaufzeit_monate&&12!==t.mindestlaufzeit_monate?-1:12===t.mindestlaufzeit_monate&&12!==e.mindestlaufzeit_monate?1:(e.mindestlaufzeit_monate||0)-(t.mindestlaufzeit_monate||0)));u(x);const j=await Gt.get("/zahlungszyklen");g(j.data||[]);try{const e=await Gt.get("/dojo/dokumente");w(e.data||{agb_text:"",dsgvo_text:"",dojo_regeln_text:"",hausordnung_text:"",haftungsausschluss_text:""})}catch(a){console.warn("Fehler beim Laden der Dokumente:",a)}if(l)try{const e=(await Gt.get(`/mitglieder/${l}/sepa-mandate`)).data||[],t=e.find(e=>"aktiv"===e.status),n=e.filter(e=>"archiviert"===e.status);m(t||null),b(n)}catch(a){console.warn("Keine SEPA-Mandate gefunden:",a)}if(!e.tarif_id&&x.length>0){const n=x.find(e=>12===e.mindestlaufzeit_monate);if(n){const r=E(e.vertragsbeginn,n.mindestlaufzeit_monate);t({...e,tarif_id:n.id,mindestlaufzeit_monate:n.mindestlaufzeit_monate,kuendigungsfrist_monate:n.kuendigungsfrist_monate,vertragsende:r})}}}catch(o){console.error("❌ Fehler beim Laden der Daten:",o)}finally{j(!1)}})()},[n,l,i]);const N=e=>{if(!e)return"";return{monthly:"Monat",monatlich:"Monat",quarterly:"Quartal",vierteljaehrlich:"Quartal","semi-annually":"Halbjahr",halbjaehrlich:"Halbjahr",annually:"Jahr",jaehrlich:"Jahr",yearly:"Jahr"}[e.toLowerCase()]||e},z=e=>{_({titel:{agb:"Allgemeine Geschäftsbedingungen (AGB)",dsgvo:"Datenschutzerklärung (DSGVO)",dojo_regeln:"Dojo-Regeln",hausordnung:"Hausordnung",haftungsausschluss:"Haftungsausschluss",widerruf:"Widerrufsbelehrung"}[e]||e,text:S[`${"widerruf"===e?"widerrufsbelehrung":e}_text`]||"Kein Inhalt vorhanden."}),y(!0)};return x?s.jsx("div",{style:{padding:"1.5rem",textAlign:"center",fontSize:"0.9rem"},children:"Lade Vertragsdaten..."}):s.jsxs("div",{className:"vertrag-formular",children:[s.jsxs("div",{className:"form-grid",style:{gap:"1rem"},children:[s.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1",marginBottom:"0.5rem"},children:[s.jsx("label",{style:{fontSize:"0.85rem",fontWeight:"600",marginBottom:"0.4rem",display:"block"},children:"Tarif *"}),s.jsxs("select",{value:e.tarif_id||"",onChange:n=>{const r=d.find(e=>e.id===parseInt(n.target.value)),s=(null==r?void 0:r.mindestlaufzeit_monate)||12,i=E(e.vertragsbeginn,s);t({...e,tarif_id:n.target.value,mindestlaufzeit_monate:s,kuendigungsfrist_monate:(null==r?void 0:r.kuendigungsfrist_monate)||3,aufnahmegebuehr_cents:(null==r?void 0:r.aufnahmegebuehr_cents)||4999,vertragsende:i})},style:{padding:"0.6rem 0.75rem",fontSize:"0.9rem",lineHeight:"1.5",minHeight:"44px",height:"auto"},children:[s.jsx("option",{value:"",children:"Tarif auswählen"}),d.map(e=>s.jsxs("option",{value:e.id,children:[12===e.mindestlaufzeit_monate&&"⭐ ",e.name," - €",(e.price_cents/100).toFixed(2),"/",N(e.billing_cycle),e.mindestlaufzeit_monate&&` (${e.mindestlaufzeit_monate} Monate)`,e.altersgruppe&&` - ${e.altersgruppe}`,e.aufnahmegebuehr_cents>0&&` + €${(e.aufnahmegebuehr_cents/100).toFixed(2)} Aufnahmegebühr`]},e.id))]}),0===d.length&&s.jsx("p",{style:{fontSize:"0.75rem",color:"#F59E0B",marginTop:"0.3rem",marginBottom:0},children:"⚠️ Keine passenden Tarife gefunden"})]}),s.jsxs("div",{className:"form-group",style:{marginBottom:"0.5rem"},children:[s.jsx("label",{style:{fontSize:"0.85rem",fontWeight:"600",marginBottom:"0.4rem",display:"block"},children:"Zahlungsintervall *"}),s.jsxs("select",{value:e.billing_cycle||"",onChange:n=>t({...e,billing_cycle:n.target.value}),style:{padding:"0.6rem 0.75rem",fontSize:"0.9rem",lineHeight:"1.5",minHeight:"44px",height:"auto"},children:[s.jsx("option",{value:"",children:"Bitte wählen..."}),h.length>0?h.map(e=>{var t,n;const r=(null==(t=e.name)?void 0:t.toLowerCase())||(null==(n=e.intervall)?void 0:n.toLowerCase())||"";return s.jsx("option",{value:r,children:e.name||e.intervall},e.id||e.zyklus_id)}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"monthly",children:"Monatlich"}),s.jsx("option",{value:"quarterly",children:"Vierteljährlich"}),s.jsx("option",{value:"yearly",children:"Jährlich (10% Rabatt)"})]})]})]}),s.jsxs("div",{className:"form-group",style:{marginBottom:"0.5rem"},children:[s.jsx("label",{style:{fontSize:"0.85rem",fontWeight:"600",marginBottom:"0.4rem",display:"block"},children:"Vertragsbeginn *"}),s.jsx("input",{type:"date",value:e.vertragsbeginn||"",onChange:n=>{const r=E(n.target.value,e.mindestlaufzeit_monate);t({...e,vertragsbeginn:n.target.value,vertragsende:r})},style:{padding:"0.6rem 0.75rem",fontSize:"0.9rem",lineHeight:"1.5",minHeight:"44px",height:"auto"}})]}),e.tarif_id&&e.billing_cycle&&(()=>{const t=(()=>{const t=d.find(t=>t.id===parseInt(e.tarif_id));if(!t||!e.billing_cycle)return null;const n=t.price_cents/100,r=e.billing_cycle.toLowerCase();if("monthly"===r||"monatlich"===r)return{amount:n,originalAmount:n,discount:0,period:"Monat"};if("quarterly"===r||"vierteljährlich"===r)return{amount:3*n,originalAmount:3*n,discount:0,period:"Quartal"};if("yearly"===r||"jährlich"===r){const e=12*n;return{amount:.9*e,originalAmount:e,discount:10,period:"Jahr"}}return null})();return t?s.jsx("div",{className:"form-group",style:{gridColumn:"1 / -1",marginBottom:"0.5rem"},children:s.jsxs("div",{style:{padding:"0.8rem",background:t.discount>0?"linear-gradient(135deg, rgba(16, 185, 129, 0.15) 0%, rgba(255, 255, 255, 0.12) 100%)":"rgba(255, 255, 255, 0.08)",border:t.discount>0?"2px solid rgba(16, 185, 129, 0.5)":"2px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsxs("h5",{style:{margin:"0 0 0.3rem 0",color:t.discount>0?"#10B981":"#ffd700",fontSize:"0.85rem",fontWeight:"700"},children:["💶 Zahlungsbetrag pro ",t.period]}),t.discount>0&&s.jsxs("div",{style:{fontSize:"0.8rem",color:"#10B981",marginBottom:"0.2rem"},children:[s.jsxs("span",{style:{textDecoration:"line-through",opacity:"0.7",color:"rgba(255, 255, 255, 0.6)"},children:["€",t.originalAmount.toFixed(2)]}),s.jsxs("span",{style:{marginLeft:"0.4rem",fontWeight:"600",color:"#10B981"},children:["→ €",t.amount.toFixed(2)]})]}),0===t.discount&&s.jsxs("div",{style:{fontSize:"0.9rem",fontWeight:"700",color:"rgba(255, 255, 255, 0.95)"},children:["€",t.amount.toFixed(2)]})]}),t.discount>0&&s.jsxs("div",{style:{padding:"0.4rem 0.8rem",background:"#10B981",color:"white",borderRadius:"16px",fontWeight:"700",fontSize:"0.8rem"},children:["🎉 ",t.discount,"% Rabatt"]})]}),t.discount>0&&s.jsxs("div",{style:{marginTop:"0.3rem",fontSize:"0.75rem",color:"#10B981",fontStyle:"italic"},children:["💰 Sie sparen €",(t.originalAmount-t.amount).toFixed(2)," im Jahr!"]})]})}):null})(),e.tarif_id&&s.jsx("div",{className:"form-group",style:{gridColumn:"1 / -1",marginTop:"0.5rem",marginBottom:"1rem"},children:s.jsxs("div",{className:"vertrag-info-box",children:[s.jsx("h4",{children:"📋 Vertragszusammenfassung"}),s.jsxs("div",{className:"info-grid",children:[s.jsxs("div",{children:[s.jsx("div",{className:"info-label",children:"Vertragsende (automatisch):"}),s.jsx("div",{className:"info-value",children:e.vertragsende?new Date(e.vertragsende).toLocaleDateString("de-DE"):"N/A"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"info-label",children:"Mindestlaufzeit:"}),s.jsxs("div",{className:"info-value",children:[e.mindestlaufzeit_monate||12," Monate"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"info-label",children:"Kündigungsfrist:"}),s.jsxs("div",{className:"info-value",children:[e.kuendigungsfrist_monate||3," Monate"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"info-label",children:"Zahlungsmethode:"}),s.jsx("div",{className:"info-value",children:"SEPA-Lastschrift"})]})]}),s.jsxs("div",{className:"vertrag-warning-box",children:[s.jsx("strong",{children:"⚠️ Wichtig zur Kündigung:"}),s.jsxs("div",{style:{color:"rgba(255, 255, 255, 0.9)",marginTop:"0.3rem"},children:["• Der Vertrag hat eine Mindestlaufzeit von ",s.jsxs("strong",{children:[e.mindestlaufzeit_monate||12," Monaten"]}),", die vollständig abgelaufen sein muss",s.jsx("br",{}),"• Frühestmögliches Vertragsende: ",s.jsx("strong",{children:e.vertragsende?new Date(e.vertragsende).toLocaleDateString("de-DE"):"N/A"}),s.jsx("br",{}),"• Kündigung muss ",s.jsxs("strong",{children:[e.kuendigungsfrist_monate||3," Monate"]})," vor Vertragsende eingehen",s.jsx("br",{}),"• Spätester Kündigungstermin: ",s.jsx("strong",{children:(()=>{if(!e.vertragsende||!e.kuendigungsfrist_monate)return"N/A";const t=new Date(e.vertragsende),n=new Date(t);return n.setMonth(n.getMonth()-e.kuendigungsfrist_monate),n.toLocaleDateString("de-DE")})()})]})]})]})}),l&&s.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1",marginBottom:"0.5rem"},children:[s.jsxs("label",{style:{fontSize:"0.85rem",fontWeight:"600",marginBottom:"0.4rem",display:"block"},children:["SEPA-Mandat ",s.jsx("span",{style:{color:"#EF4444"},children:"*"})]}),s.jsxs("select",{value:e.sepa_mandat_id||"",onChange:n=>t({...e,sepa_mandat_id:n.target.value?parseInt(n.target.value):null}),style:{padding:"0.6rem 0.75rem",fontSize:"0.9rem",lineHeight:"1.5",minHeight:"44px",height:"auto",borderColor:!e.sepa_mandat_id&&(p||f.length>0)?"#EF4444":void 0},children:[s.jsx("option",{value:"",children:"-- Bitte SEPA-Mandat auswählen --"}),p&&s.jsxs("option",{value:p.id,children:["✓ Aktives Mandat: ",p.mandatsreferenz," - ",p.iban]}),f.map(e=>s.jsxs("option",{value:e.id,children:["📋 Archiviert: ",e.mandatsreferenz," - ",e.iban," (bis ",new Date(e.gueltig_bis).toLocaleDateString("de-DE"),")"]},e.id))]}),!e.sepa_mandat_id&&(p||f.length>0)&&s.jsxs("p",{style:{fontSize:"0.8rem",color:"#EF4444",marginTop:"0.4rem",marginBottom:0,padding:"0.5rem 0.75rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"6px",border:"1px solid rgba(239, 68, 68, 0.3)"},children:["⚠️ ",s.jsx("strong",{children:"Pflichtfeld:"})," Bitte wählen Sie ein SEPA-Mandat aus. Ohne SEPA-Mandat kann keine Lastschrift eingezogen werden."]}),!p&&0===f.length&&s.jsxs("p",{style:{fontSize:"0.8rem",color:"#F59E0B",marginTop:"0.4rem",marginBottom:0,padding:"0.5rem 0.75rem",background:"rgba(245, 158, 11, 0.1)",borderRadius:"6px",border:"1px solid rgba(245, 158, 11, 0.3)"},children:["⚠️ ",s.jsx("strong",{children:"Kein SEPA-Mandat vorhanden!"})," Bitte erstellen Sie zuerst ein SEPA-Mandat im Finanzen-Tab, bevor Sie den Vertrag speichern."]}),e.sepa_mandat_id&&s.jsx("p",{style:{fontSize:"0.8rem",color:"#10B981",marginTop:"0.4rem",marginBottom:0,padding:"0.5rem 0.75rem",background:"rgba(16, 185, 129, 0.1)",borderRadius:"6px",border:"1px solid rgba(16, 185, 129, 0.3)"},children:"✓ SEPA-Mandat ausgewählt. Lastschriften können eingezogen werden."})]}),!l&&s.jsx("div",{className:"form-group",style:{gridColumn:"1 / -1",marginBottom:"0.5rem"},children:s.jsxs("div",{style:{padding:"0.75rem 1rem",background:"rgba(59, 130, 246, 0.1)",borderRadius:"8px",border:"1px solid rgba(59, 130, 246, 0.3)",fontSize:"0.85rem",color:"#60A5FA"},children:[s.jsx("strong",{children:"💳 SEPA-Lastschriftmandat:"}),s.jsx("p",{style:{margin:"0.5rem 0 0 0",color:"rgba(255, 255, 255, 0.8)"},children:"Das SEPA-Mandat wird nach dem Speichern des Mitglieds im Finanzen-Tab erstellt. Ohne gültiges SEPA-Mandat können keine Lastschriften eingezogen werden."})]})})]}),s.jsxs("div",{className:"vertrag-legal-box",children:[s.jsx("h4",{children:"📋 Rechtliche Dokumente & Einverständniserklärungen"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[s.jsxs("div",{className:"vertrag-checkbox-wrapper "+(e.agb_akzeptiert?"checked":""),children:[s.jsx("input",{type:"checkbox",className:"vertrag-checkbox",checked:e.agb_akzeptiert||!1,onChange:n=>t({...e,agb_akzeptiert:n.target.checked})}),s.jsxs("span",{className:"vertrag-checkbox-label",style:{fontSize:"0.8rem"},children:[s.jsx("strong",{children:"AGB akzeptiert *"})," (Version ",e.agb_version||"1.0",")"," ",s.jsx("button",{type:"button",onClick:()=>z("agb"),style:{marginLeft:"0.5rem",padding:"0.2rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",background:"rgba(255, 215, 0, 0.2)",border:"1px solid rgba(255, 215, 0, 0.5)",borderRadius:"4px",color:"#ffd700"},children:"📄 Anzeigen"})]})]}),s.jsxs("div",{className:"vertrag-checkbox-wrapper "+(e.datenschutz_akzeptiert?"checked":""),children:[s.jsx("input",{type:"checkbox",className:"vertrag-checkbox",checked:e.datenschutz_akzeptiert||!1,onChange:n=>t({...e,datenschutz_akzeptiert:n.target.checked})}),s.jsxs("span",{className:"vertrag-checkbox-label",style:{fontSize:"0.8rem"},children:[s.jsx("strong",{children:"Datenschutzerklärung akzeptiert *"})," (Version ",e.datenschutz_version||"1.0",")"," ",s.jsx("button",{type:"button",onClick:()=>z("dsgvo"),style:{marginLeft:"0.5rem",padding:"0.2rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",background:"rgba(255, 215, 0, 0.2)",border:"1px solid rgba(255, 215, 0, 0.5)",borderRadius:"4px",color:"#ffd700"},children:"📄 Anzeigen"})]})]}),s.jsxs("div",{className:"vertrag-checkbox-wrapper "+(e.dojo_regeln_akzeptiert?"checked":""),children:[s.jsx("input",{type:"checkbox",className:"vertrag-checkbox",checked:e.dojo_regeln_akzeptiert||!1,onChange:n=>t({...e,dojo_regeln_akzeptiert:n.target.checked})}),s.jsxs("span",{className:"vertrag-checkbox-label",style:{fontSize:"0.8rem"},children:[s.jsx("strong",{children:"Dojo-Regeln akzeptiert *"})," ",s.jsx("button",{type:"button",onClick:()=>z("dojo_regeln"),style:{marginLeft:"0.5rem",padding:"0.2rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",background:"rgba(255, 215, 0, 0.2)",border:"1px solid rgba(255, 215, 0, 0.5)",borderRadius:"4px",color:"#ffd700"},children:"📄 Anzeigen"})]})]}),s.jsxs("div",{className:"vertrag-checkbox-wrapper "+(e.hausordnung_akzeptiert?"checked":""),children:[s.jsx("input",{type:"checkbox",className:"vertrag-checkbox",checked:e.hausordnung_akzeptiert||!1,onChange:n=>t({...e,hausordnung_akzeptiert:n.target.checked})}),s.jsxs("span",{className:"vertrag-checkbox-label",style:{fontSize:"0.8rem"},children:[s.jsx("strong",{children:"Hausordnung akzeptiert *"})," ",s.jsx("button",{type:"button",onClick:()=>z("hausordnung"),style:{marginLeft:"0.5rem",padding:"0.2rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",background:"rgba(255, 215, 0, 0.2)",border:"1px solid rgba(255, 215, 0, 0.5)",borderRadius:"4px",color:"#ffd700"},children:"📄 Anzeigen"})]})]}),s.jsxs("div",{className:"vertrag-checkbox-wrapper "+(e.haftungsausschluss_akzeptiert?"checked":""),children:[s.jsx("input",{type:"checkbox",className:"vertrag-checkbox",checked:e.haftungsausschluss_akzeptiert||!1,onChange:n=>t({...e,haftungsausschluss_akzeptiert:n.target.checked})}),s.jsxs("span",{className:"vertrag-checkbox-label",style:{fontSize:"0.8rem"},children:[s.jsx("strong",{children:"Haftungsausschluss akzeptiert"})," ",s.jsx("button",{type:"button",onClick:()=>z("haftungsausschluss"),style:{marginLeft:"0.5rem",padding:"0.2rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",background:"rgba(255, 215, 0, 0.2)",border:"1px solid rgba(255, 215, 0, 0.5)",borderRadius:"4px",color:"#ffd700"},children:"📄 Anzeigen"})]})]}),s.jsxs("label",{className:"vertrag-checkbox-wrapper "+(e.gesundheitserklaerung?"checked":""),style:{marginTop:"1rem"},children:[s.jsx("input",{type:"checkbox",className:"vertrag-checkbox",checked:e.gesundheitserklaerung||!1,onChange:n=>t({...e,gesundheitserklaerung:n.target.checked})}),s.jsx("span",{className:"vertrag-checkbox-label",style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.9)"},children:"Gesundheitliche Eignung bestätigt"})]}),s.jsxs("label",{className:"vertrag-checkbox-wrapper "+(e.foto_einverstaendnis?"checked":""),children:[s.jsx("input",{type:"checkbox",className:"vertrag-checkbox",checked:e.foto_einverstaendnis||!1,onChange:n=>t({...e,foto_einverstaendnis:n.target.checked})}),s.jsx("span",{className:"vertrag-checkbox-label",style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.9)"},children:"Foto/Video-Einwilligung erteilt"})]})]}),s.jsx("p",{className:"help-text",children:"* Pflichtfelder - Zeitstempel werden automatisch bei Vertragsabschluss erfasst"})]}),v&&k&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"2rem"},onClick:()=>y(!1),children:s.jsxs("div",{style:{background:"linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%)",borderRadius:"12px",maxWidth:"800px",width:"100%",maxHeight:"80vh",overflow:"hidden",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 215, 0, 0.3)"},onClick:e=>e.stopPropagation(),children:[s.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid rgba(255, 215, 0, 0.2)",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(255, 255, 255, 0.05)"},children:[s.jsx("h3",{style:{margin:0,color:"#ffd700",fontSize:"1.3rem"},children:k.titel}),s.jsx("button",{onClick:()=>y(!1),style:{background:"transparent",border:"none",color:"#ffd700",fontSize:"1.5rem",cursor:"pointer",padding:"0.5rem"},children:"✕"})]}),s.jsx("div",{style:{padding:"1.5rem",overflowY:"auto",maxHeight:"calc(80vh - 100px)",color:"rgba(255, 255, 255, 0.9)",lineHeight:"1.6"},children:k.text.split("\n").map((e,t)=>s.jsx("p",{style:{marginBottom:"0.8rem"},children:e},t))})]})})]})},_i=({onClose:e,isRegistrationFlow:t=!1,onRegistrationComplete:n})=>{const{activeDojo:a,getBestDojoForNewMember:o}=Rn(),{triggerUpdate:l}=$n(),d=Date.now();i.useEffect(()=>{const e=document.createElement("style");return e.textContent="\n      @keyframes pulse {\n        0% { transform: scale(1); }\n        50% { transform: scale(1.1); }\n        100% { transform: scale(1); }\n      }\n      \n      /* ULTRA-SPECIFIC MODAL OVERRIDE - BREAK ALL CONTAINERS */\n      .modal-overlay {\n        position: fixed !important;\n        top: 0px !important;\n        left: 0px !important;\n        right: 0px !important;\n        bottom: 0px !important;\n        width: 100vw !important;\n        height: 100vh !important;\n        display: flex !important;\n        align-items: flex-start !important;\n        justify-content: center !important;\n        padding: 0px !important;\n        margin: 0px !important;\n        z-index: 99999 !important;\n        transform: translateY(0px) !important;\n      }\n      \n      .modal-overlay .modal-content {\n        margin: 0px !important;\n        position: relative !important;\n        top: 0px !important;\n        left: 0px !important;\n        right: 0px !important;\n        transform: translateY(0px) !important;\n      }\n      \n      /* BREAK PARENT CONTAINERS */\n      * {\n        overflow: visible !important;\n      }\n      \n      body {\n        overflow: hidden !important;\n        margin: 0px !important;\n        padding: 0px !important;\n      }\n      \n      html {\n        overflow: auto !important;\n        margin: 0px !important;\n        padding: 0px !important;\n      }\n    ",document.head.appendChild(e),()=>document.head.removeChild(e)},[]),i.useEffect(()=>{const e=()=>{const e=document.querySelector(".modal-overlay");if(e){e.style.setProperty("position","fixed","important"),e.style.setProperty("top","0px","important"),e.style.setProperty("left","0px","important"),e.style.setProperty("right","0px","important"),e.style.setProperty("bottom","0px","important"),e.style.setProperty("width","100vw","important"),e.style.setProperty("height","100vh","important"),e.style.setProperty("display","flex","important"),e.style.setProperty("align-items","flex-start","important"),e.style.setProperty("justify-content","center","important"),e.style.setProperty("padding-top","0px","important"),e.style.setProperty("padding-left","0px","important"),e.style.setProperty("padding-right","0px","important"),e.style.setProperty("padding-bottom","0px","important"),e.style.setProperty("margin","0px","important"),e.style.setProperty("z-index","99999","important"),e.style.setProperty("transform","translateY(0px)","important");const t=e.parentElement;t&&(t.style.setProperty("position","static","important"),t.style.setProperty("overflow","visible","important")),document.body.style.setProperty("overflow","hidden","important"),document.documentElement.style.setProperty("overflow","auto","important")}};e();const t=setInterval(e,50);return()=>{clearInterval(t),document.body.style.setProperty("overflow","auto","important"),document.documentElement.style.setProperty("overflow","auto","important")}},[]);const[u,h]=r.useState(1),[g,p]=r.useState(!1),[m,f]=r.useState(""),[b,x]=r.useState(null),[j,v]=r.useState(!1),[y,k]=r.useState(null),[_,S]=r.useState(!1),[w,E]=r.useState([]),[N,z]=r.useState(!1),[A,T]=r.useState(!1),[R,D]=r.useState(null),[O,L]=r.useState([]),[C,P]=r.useState(!1),[I,B]=r.useState({vorname:"",nachname:"",geburtsdatum:"",geschlecht:"",email:"",benutzername:"",tarif_id:"",tarif_name:"",tarif_preis:0}),[F,M]=r.useState([]),[V,U]=r.useState(!1),[$,H]=r.useState({email:"",passwort:"",loading:!1,error:"",loggedIn:!1}),[W,K]=r.useState(null);r.useEffect(()=>{window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0;const e=()=>{const e=document.querySelector(".modal-overlay"),t=document.querySelector(".modal-content");e&&(e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.right="0px",e.style.bottom="0px",e.style.transform="none",e.style.padding="0",e.style.margin="0",e.scrollTop=0,t&&(t.style.marginTop="20px",t.style.marginBottom="20px",t.style.marginLeft="auto",t.style.marginRight="auto"))};e(),setTimeout(e,10),setTimeout(e,50),setTimeout(e,100)},[]);const[q,G]=r.useState({vorname:"",nachname:"",geburtsdatum:"",geschlecht:"",schueler_student:!1,email:"",telefon:"",telefon_mobil:"",strasse:"",hausnummer:"",plz:"",ort:"",erziehungsberechtigt_vorname:"",erziehungsberechtigt_nachname:"",erziehungsberechtigt_telefon:"",erziehungsberechtigt_email:"",verhaeltnis:"",allergien:"",medizinische_hinweise:"",notfallkontakt_name:"",notfallkontakt_telefon:"",notfallkontakt_verhaeltnis:"",iban:"",bic:"",bankname:"",kontoinhaber:"",zahlungsmethode:"SEPA-Lastschrift",kontonummer:"",bankleitzahl:"",dojo_id:(null==a?void 0:a.id)||1,eintrittsdatum:(new Date).toISOString().split("T")[0],aktiv:!0,vertrag_tarif_id:"",vertrag_billing_cycle:"monthly",vertrag_payment_method:"direct_debit",vertrag_vertragsbeginn:(new Date).toISOString().split("T")[0],vertrag_vertragsende:"",vertrag_kuendigungsfrist_monate:3,vertrag_mindestlaufzeit_monate:24,vertrag_aufnahmegebuehr_cents:4999,vertrag_agb_akzeptiert:!1,vertrag_datenschutz_akzeptiert:!1,vertrag_dojo_regeln_akzeptiert:!1,vertrag_hausordnung_akzeptiert:!1,vertrag_haftungsausschluss_akzeptiert:!1,vertrag_gesundheitserklaerung:!1,vertrag_foto_einverstaendnis:!1,vertrag_agb_version:"1.0",vertrag_datenschutz_version:"1.0",vertragsbeginn_option:"",vertrag_sofortbeginn_zustimmung:!1,vertrag_widerrufsrecht_kenntnisnahme:!1,benutzername:"",passwort:"",passwort_wiederholen:""}),J=()=>{if(!q.geburtsdatum)return!1;const e=new Date(q.geburtsdatum),t=new Date,n=t.getFullYear()-e.getFullYear(),r=t.getMonth()-e.getMonth();return r<0||0===r&&t.getDate()<e.getDate()?n-1<18:n<18},Z=()=>t?8:6,Y=()=>t?8:6,X=e=>{if(!e)return!1;const t=new Date(e),n=new Date,r=n.getFullYear()-t.getFullYear(),s=n.getMonth()-t.getMonth();return s<0||0===s&&n.getDate()<t.getDate()?r-1<18:r<18},Q=()=>{I.vorname&&I.nachname&&I.geburtsdatum&&I.geschlecht?I.email||I.benutzername?(L(e=>[...e,{...I,position:e.length+2,isMinor:X(I.geburtsdatum)}]),B({vorname:"",nachname:"",geburtsdatum:"",geschlecht:"",email:"",benutzername:"",tarif_id:"",tarif_name:"",tarif_preis:0}),P(!1),f("")):f("Bitte geben Sie entweder eine E-Mail-Adresse oder einen Benutzernamen ein"):f("Bitte füllen Sie Vorname, Nachname, Geburtsdatum und Geschlecht aus")},ee=()=>{const e=`family_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;D(e),T(!0)},te=async()=>{if($.email&&$.passwort){H(e=>({...e,loading:!0,error:""}));try{const e=await Gt.post("/public/family-login",{email:$.email,passwort:$.passwort});if(e.data.success){const t=e.data.member;K(t),G(e=>({...e,strasse:t.strasse||"",hausnummer:t.hausnummer||"",plz:t.plz||"",ort:t.ort||"",kontoinhaber:t.kontoinhaber||"",iban:t.iban||"",bic:t.bic||"",bank_name:t.bank_name||""})),ee(),H(e=>({...e,loading:!1,loggedIn:!0,error:""})),f("")}else H(t=>({...t,loading:!1,error:e.data.message||"Login fehlgeschlagen"}))}catch(e){console.error("Login-Fehler:",e),H(t=>{var n,r;return{...t,loading:!1,error:(null==(r=null==(n=e.response)?void 0:n.data)?void 0:r.message)||"Login fehlgeschlagen. Bitte prüfen Sie Ihre Zugangsdaten."}})}}else H(e=>({...e,error:"Bitte E-Mail und Passwort eingeben"}))};r.useEffect(()=>{(O.length>0||A)&&(async()=>{try{const e=t?"/public/tarife":"/tarife",n=await Gt.get(e);M(n.data||[])}catch(e){console.error("Fehler beim Laden der Tarife:",e)}})()},[O.length,A,t]);const ne=e=>2===e?{prozent:10,name:"Familien-Rabatt (2. Mitglied)"}:3===e?{prozent:15,name:"Familien-Rabatt (3. Mitglied)"}:e>=4?{prozent:20,name:"Familien-Rabatt (4.+ Mitglied)"}:{prozent:0,name:""};r.useEffect(()=>{if(1===u&&q.vorname&&q.nachname&&q.geburtsdatum){const e=setTimeout(()=>{(async()=>{if(q.vorname&&q.nachname&&q.geburtsdatum){p(!0),f("");try{const e=t?"/public/check-duplicate":"/mitglieder/check-duplicate",n=(await Gt.post(e,{vorname:q.vorname,nachname:q.nachname,geburtsdatum:q.geburtsdatum,geschlecht:q.geschlecht})).data;console.log("🔍 Duplikatsprüfung Ergebnis:",n),x(n),n.isDuplicate&&n.matches&&n.matches.length>0&&(console.log("⚠️ Duplikat gefunden, zeige Dialog"),v(!0))}catch(e){console.error("❌ Fehler bei Duplikatsprüfung:",e),f(`Fehler bei der Duplikatsprüfung: ${e.message}`),x(null)}finally{p(!1)}}else x(null)})()},1e3);return()=>clearTimeout(e)}},[q.vorname,q.nachname,q.geburtsdatum]),r.useEffect(()=>{const e=o();if(e&&e.id){if(console.log("🏯 Intelligente Dojo-Auswahl:",e.id,e.dojoname),console.log("📊 Status:",e.steuer_status),"kleinunternehmer"===e.steuer_status){const t=e.jahresumsatz_aktuell/e.kleinunternehmer_grenze*100;console.log(`💰 Auslastung: ${t.toFixed(1)}% (${e.jahresumsatz_aktuell}€ / ${e.kleinunternehmer_grenze}€)`)}G(t=>({...t,dojo_id:e.id}))}},[o]);const re=e=>{const{name:t,value:n,type:r,checked:s}=e.target;console.log(`🔄 Input geändert: ${t} = ${"checkbox"===r?s:n}`),G(e=>({...e,[t]:"checkbox"===r?s:n})),f(""),"iban"===t&&n.length>10&&se(n)},se=async e=>{if(e&&!(e.length<22))try{const n=t?"/public/banken/validate-iban":"/banken/validate-iban",r=(await Gt.post(n,{iban:e})).data;k(r),r.valid&&r.bic&&G(e=>({...e,bic:r.bic,bankname:r.bankname}))}catch(n){console.error("Fehler bei IBAN-Validierung:",n)}},ie=async()=>{const{kontonummer:e,bankleitzahl:n}=q;if(e&&n)try{const r=t?"/public/banken/kto-blz-to-iban":"/banken/kto-blz-to-iban",s=(await Gt.post(r,{kontonummer:e,bankleitzahl:n})).data;G(e=>({...e,iban:s.iban,bic:s.bic,bankname:s.bankname})),f(""),S(!1)}catch(r){console.error("Fehler bei IBAN-Konvertierung:",r),f("Fehler bei der IBAN-Erstellung")}else f("Bitte geben Sie Kontonummer und Bankleitzahl ein")},ae=()=>s.jsxs("div",{className:"step-content",children:[s.jsx("h3",{style:{color:"var(--primary-color)",marginTop:"2rem",marginBottom:"1rem",fontSize:"1.1rem",borderBottom:"2px solid var(--primary-color)",paddingBottom:"0.5rem",backgroundColor:"transparent",padding:"0",fontWeight:"600",borderRadius:"0"},children:"Schritt 1: Grunddaten"}),s.jsxs("div",{className:"input-container",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.8rem 1rem",marginBottom:"1rem"},children:[s.jsxs("div",{className:"input-group",style:{display:"flex",flexDirection:"column"},children:[s.jsx("label",{htmlFor:"vorname",className:"input-label",style:{fontWeight:600,marginBottom:"0.4rem",color:"var(--text-color)",fontSize:"0.85rem"},children:"Vorname *"}),s.jsx("input",{type:"text",id:"vorname",name:"vorname",value:q.vorname,onChange:re,className:"input-field","data-cache-break":d,style:{padding:"0.4rem 0.5rem",border:"2px solid var(--border-color)",borderRadius:"6px",fontSize:"0.85rem",lineHeight:"1.3",height:"32px",transition:"all 0.3s ease",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.95)"},required:!0})]}),s.jsxs("div",{className:"input-group",style:{display:"flex",flexDirection:"column"},children:[s.jsx("label",{htmlFor:"nachname",className:"input-label",style:{fontWeight:600,marginBottom:"0.4rem",color:"var(--text-color)",fontSize:"0.85rem"},children:"Nachname *"}),s.jsx("input",{type:"text",id:"nachname",name:"nachname",value:q.nachname,onChange:re,className:"input-field",style:{padding:"0.4rem 0.5rem",border:"2px solid var(--border-color)",borderRadius:"6px",fontSize:"0.85rem",lineHeight:"1.3",height:"32px",transition:"all 0.3s ease",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.95)"},required:!0})]}),s.jsxs("div",{className:"input-group",style:{display:"flex",flexDirection:"column"},children:[s.jsx("label",{htmlFor:"geburtsdatum",className:"input-label",style:{fontWeight:600,marginBottom:"0.4rem",color:"var(--text-color)",fontSize:"0.85rem"},children:"Geburtsdatum *"}),s.jsx("input",{type:"date",id:"geburtsdatum",name:"geburtsdatum",value:q.geburtsdatum,onChange:re,className:"input-field",style:{padding:"0.4rem 0.5rem",border:"2px solid var(--border-color)",borderRadius:"6px",fontSize:"0.85rem",lineHeight:"1.3",height:"32px",transition:"all 0.3s ease",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.95)"},required:!0})]}),s.jsxs("div",{className:"input-group",style:{display:"flex",flexDirection:"column"},children:[s.jsx("label",{htmlFor:"geschlecht",className:"input-label",style:{fontWeight:600,marginBottom:"0.4rem",color:"var(--text-color)",fontSize:"0.85rem"},children:"Geschlecht *"}),s.jsxs("select",{id:"geschlecht",name:"geschlecht",value:q.geschlecht,onChange:re,className:"input-field",style:{padding:"0.4rem 0.5rem",border:"2px solid var(--border-color)",borderRadius:"6px",fontSize:"0.85rem",lineHeight:"1.3",height:"32px",transition:"all 0.3s ease",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.95)"},required:!0,children:[s.jsx("option",{value:"",children:"Bitte wählen"}),s.jsx("option",{value:"m",children:"Männlich"}),s.jsx("option",{value:"w",children:"Weiblich"}),s.jsx("option",{value:"d",children:"Divers"})]})]})]}),!J()&&q.geburtsdatum&&s.jsxs("div",{style:{marginTop:"1.5rem",padding:"1.25rem",background:"rgba(31, 41, 55, 0.8)",border:"2px solid rgba(59, 130, 246, 0.5)",borderRadius:"12px",boxShadow:"none"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"1rem",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",name:"schueler_student",checked:q.schueler_student||!1,onChange:re,style:{width:"22px",height:"22px",cursor:"pointer",accentColor:"#3B82F6"}}),s.jsx("span",{style:{fontSize:"1.05rem",fontWeight:"700",color:"rgba(255, 255, 255, 0.95)",letterSpacing:"0.01em"},children:"🎓 Ich bin Schüler/in oder Student/in"})]}),q.schueler_student&&s.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"rgba(31, 41, 55, 0.8)",border:"2px solid rgba(59, 130, 246, 0.5)",borderRadius:"10px",fontSize:"0.95rem",color:"rgba(255, 255, 255, 0.95)",lineHeight:"1.6",fontWeight:"500"},children:["ℹ️ ",s.jsx("strong",{style:{color:"rgba(255, 255, 255, 0.95)"},children:"Hinweis:"})," Bitte laden Sie später einen gültigen Schülerausweis oder eine Immatrikulationsbescheinigung hoch. Der Upload kann nach der Registrierung im Mitgliederprofil erfolgen."]})]}),(null==b?void 0:b.isDuplicate)&&s.jsxs("div",{className:"duplicate-warning",children:["⚠️ Es wurde bereits ein Mitglied mit diesen Daten gefunden: ",b.message]}),b&&!b.isDuplicate&&s.jsx("div",{className:"no-duplicate-info",children:"✅ Keine Duplikate gefunden"}),g&&s.jsx("div",{className:"loading",children:"Prüfe auf Duplikate..."})]}),oe=()=>s.jsxs("div",{className:"step-content",children:[s.jsx("h3",{children:"Schritt 2: Kontaktdaten"}),s.jsxs("div",{className:"input-container",children:[s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"email",className:"input-label",children:"E-Mail *"}),s.jsx("input",{type:"email",id:"email",name:"email",value:q.email,onChange:re,className:"input-field",required:!0})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"telefon",className:"input-label",children:"Telefon (Festnetz)"}),s.jsx("input",{type:"tel",id:"telefon",name:"telefon",value:q.telefon,onChange:re,className:"input-field"})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"telefon_mobil",className:"input-label",children:"Telefon (Mobil) *"}),s.jsx("input",{type:"tel",id:"telefon_mobil",name:"telefon_mobil",value:q.telefon_mobil,onChange:re,className:"input-field",required:!0})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"strasse",className:"input-label",children:"Straße *"}),s.jsx("input",{type:"text",id:"strasse",name:"strasse",value:q.strasse,onChange:re,className:"input-field",required:!0})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"hausnummer",className:"input-label",children:"Hausnummer *"}),s.jsx("input",{type:"text",id:"hausnummer",name:"hausnummer",value:q.hausnummer,onChange:re,className:"input-field",required:!0})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"plz",className:"input-label",children:"PLZ *"}),s.jsx("input",{type:"text",id:"plz",name:"plz",value:q.plz,onChange:re,className:"input-field",required:!0})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"ort",className:"input-label",children:"Ort *"}),s.jsx("input",{type:"text",id:"ort",name:"ort",value:q.ort,onChange:re,className:"input-field",required:!0})]})]})]}),le=()=>s.jsxs("div",{className:"step-content",children:[s.jsx("h3",{style:{color:"var(--primary-color)",marginTop:"1rem",marginBottom:"1.5rem",fontSize:"1.1rem",borderBottom:"2px solid var(--primary-color)",paddingBottom:"0.5rem"},children:"Schritt 3: Familien-Registrierung"}),!A&&0===O.length&&!V&&s.jsxs("div",{style:{padding:"1.5rem",background:"rgba(31, 41, 55, 0.8)",borderRadius:"12px",border:"2px solid rgba(59, 130, 246, 0.5)",marginBottom:"1.5rem"},children:[s.jsx("h4",{style:{color:"rgba(255, 255, 255, 0.95)",marginTop:0,marginBottom:"1rem"},children:"Familien-Registrierung"}),s.jsx("p",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"0.9rem",marginBottom:"1.5rem"},children:"Familienmitglieder teilen Adresse und Bankverbindung, erhalten aber jeweils ein eigenes Konto und einen eigenen Vertrag. Ab dem 2. Familienmitglied gilt ein Familien-Rabatt."}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[s.jsxs("button",{type:"button",onClick:ee,style:{padding:"1rem 1.5rem",background:"linear-gradient(135deg, #3b82f6, #2563eb)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"0.95rem",textAlign:"left"},children:[s.jsx("span",{style:{display:"block",marginBottom:"0.25rem"},children:"Ja, weitere Familienmitglieder anmelden"}),s.jsx("span",{style:{fontSize:"0.8rem",opacity:.9,fontWeight:"normal"},children:"Ich bin neu und möchte mich zusammen mit meiner Familie anmelden"})]}),s.jsxs("button",{type:"button",onClick:()=>h(4),style:{padding:"1rem 1.5rem",background:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.95)",border:"2px solid rgba(255, 255, 255, 0.3)",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"0.95rem",textAlign:"left"},children:[s.jsx("span",{style:{display:"block",marginBottom:"0.25rem"},children:"Nein, nur mich anmelden"}),s.jsx("span",{style:{fontSize:"0.8rem",opacity:.8,fontWeight:"normal"},children:"Ich möchte mich einzeln ohne weitere Familienmitglieder anmelden"})]}),s.jsxs("button",{type:"button",onClick:()=>U(!0),style:{padding:"1rem 1.5rem",background:"linear-gradient(135deg, #10b981, #059669)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"0.95rem",textAlign:"left"},children:[s.jsx("span",{style:{display:"block",marginBottom:"0.25rem"},children:"Ich bin bereits Mitglied"}),s.jsx("span",{style:{fontSize:"0.8rem",opacity:.9,fontWeight:"normal"},children:"Ich möchte ein Familienmitglied zu meiner bestehenden Mitgliedschaft hinzufügen"})]})]})]}),V&&!$.loggedIn&&s.jsxs("div",{style:{padding:"1.5rem",background:"rgba(16, 185, 129, 0.1)",borderRadius:"12px",border:"2px solid rgba(16, 185, 129, 0.5)",marginBottom:"1.5rem"},children:[s.jsx("h4",{style:{color:"rgba(255, 255, 255, 0.95)",marginTop:0,marginBottom:"0.5rem"},children:"Anmelden als bestehendes Mitglied"}),s.jsx("p",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"0.85rem",marginBottom:"1.25rem"},children:"Bitte melden Sie sich mit Ihren Zugangsdaten an. Ihre Adresse und Bankdaten werden automatisch für das neue Familienmitglied übernommen."}),s.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",color:"rgba(255, 255, 255, 0.9)",marginBottom:"0.4rem",fontSize:"0.85rem"},children:"E-Mail-Adresse *"}),s.jsx("input",{type:"email",value:$.email,onChange:e=>H(t=>({...t,email:e.target.value,error:""})),placeholder:"Ihre E-Mail-Adresse",style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"2px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.95)",fontSize:"0.9rem"}})]}),s.jsxs("div",{children:[s.jsx("label",{style:{display:"block",color:"rgba(255, 255, 255, 0.9)",marginBottom:"0.4rem",fontSize:"0.85rem"},children:"Passwort *"}),s.jsx("input",{type:"password",value:$.passwort,onChange:e=>H(t=>({...t,passwort:e.target.value,error:""})),placeholder:"Ihr Passwort",onKeyDown:e=>"Enter"===e.key&&te(),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"2px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.95)",fontSize:"0.9rem"}})]}),$.error&&s.jsx("div",{style:{padding:"0.75rem",background:"rgba(239, 68, 68, 0.2)",border:"1px solid rgba(239, 68, 68, 0.5)",borderRadius:"6px",color:"#ef4444",fontSize:"0.85rem"},children:$.error}),s.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"0.5rem"},children:[s.jsx("button",{type:"button",onClick:te,disabled:$.loading,style:{padding:"0.6rem 1.5rem",background:$.loading?"rgba(16, 185, 129, 0.5)":"linear-gradient(135deg, #10b981, #059669)",color:"white",border:"none",borderRadius:"6px",cursor:$.loading?"wait":"pointer",fontWeight:"600",fontSize:"0.9rem"},children:$.loading?"Wird geprüft...":"Anmelden"}),s.jsx("button",{type:"button",onClick:()=>{U(!1),H({email:"",passwort:"",loading:!1,error:"",loggedIn:!1})},style:{padding:"0.6rem 1.5rem",background:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.8)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem"},children:"Zurück"})]})]})]}),V&&$.loggedIn&&W&&s.jsxs("div",{style:{padding:"1rem",background:"rgba(16, 185, 129, 0.15)",border:"2px solid rgba(16, 185, 129, 0.6)",borderRadius:"10px",marginBottom:"1rem"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[s.jsx("span",{style:{background:"linear-gradient(135deg, #10b981, #059669)",color:"white",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"700"},children:"Bestehendes Mitglied"}),s.jsx("span",{style:{color:"#10b981",fontSize:"0.85rem"},children:"✓ Angemeldet"})]}),s.jsxs("h4",{style:{color:"rgba(255, 255, 255, 0.95)",margin:"0 0 0.25rem 0"},children:[W.vorname," ",W.nachname]}),s.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.7)",margin:0,fontSize:"0.85rem"},children:[W.strasse," ",W.hausnummer,", ",W.plz," ",W.ort]}),s.jsx("p",{style:{color:"rgba(255, 255, 255, 0.6)",margin:"0.5rem 0 0 0",fontSize:"0.8rem",fontStyle:"italic"},children:"Adresse und Bankdaten werden für das neue Familienmitglied übernommen."})]}),(A||O.length>0)&&s.jsxs("div",{children:[V&&W?s.jsxs("div",{style:{padding:"1rem",background:"rgba(16, 185, 129, 0.1)",border:"2px solid rgba(16, 185, 129, 0.5)",borderRadius:"10px",marginBottom:"1rem"},children:[s.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:s.jsx("span",{style:{background:"linear-gradient(135deg, #10b981, #059669)",color:"white",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"700"},children:"Bestehendes Hauptmitglied"})}),s.jsxs("h4",{style:{color:"rgba(255, 255, 255, 0.95)",margin:"0 0 0.25rem 0"},children:[W.vorname," ",W.nachname]}),s.jsx("p",{style:{color:"rgba(255, 255, 255, 0.7)",margin:0,fontSize:"0.85rem"},children:"Bestehender Vertrag - keine Änderung"})]}):s.jsxs("div",{style:{padding:"1rem",background:"rgba(16, 185, 129, 0.1)",border:"2px solid rgba(16, 185, 129, 0.5)",borderRadius:"10px",marginBottom:"1rem"},children:[s.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:s.jsx("span",{style:{background:"linear-gradient(135deg, #10b981, #059669)",color:"white",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"700"},children:"Hauptmitglied"})}),s.jsxs("h4",{style:{color:"rgba(255, 255, 255, 0.95)",margin:"0 0 0.25rem 0"},children:[q.vorname," ",q.nachname]}),s.jsx("p",{style:{color:"rgba(255, 255, 255, 0.7)",margin:0,fontSize:"0.85rem"},children:"Voller Beitrag"})]}),O.map((e,t)=>s.jsxs("div",{style:{padding:"1rem",background:"rgba(59, 130, 246, 0.1)",border:"2px solid rgba(59, 130, 246, 0.5)",borderRadius:"10px",marginBottom:"1rem"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[s.jsxs("span",{style:{background:"linear-gradient(135deg, #3b82f6, #2563eb)",color:"white",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"700"},children:[e.position,". Familienmitglied"]}),e.isMinor&&s.jsx("span",{style:{background:"rgba(245, 158, 11, 0.3)",color:"#fbbf24",padding:"0.25rem 0.5rem",borderRadius:"20px",fontSize:"0.7rem",fontWeight:"600"},children:"Minderjährig"})]}),s.jsx("button",{type:"button",onClick:()=>(e=>{L(t=>t.filter((t,n)=>n!==e).map((e,t)=>({...e,position:t+2})))})(t),style:{background:"rgba(239, 68, 68, 0.2)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.5)",borderRadius:"6px",padding:"0.25rem 0.5rem",cursor:"pointer",fontSize:"0.75rem"},children:"Entfernen"})]}),s.jsxs("h4",{style:{color:"rgba(255, 255, 255, 0.95)",margin:"0 0 0.25rem 0"},children:[e.vorname," ",e.nachname]}),s.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.7)",margin:0,fontSize:"0.85rem"},children:["Mit Familien-Rabatt • ",e.email]}),e.isMinor&&s.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.6)",margin:"0.5rem 0 0 0",fontSize:"0.8rem",fontStyle:"italic"},children:[q.vorname," ",q.nachname," wird als Erziehungsberechtigte/r hinterlegt."]})]},t)),C?s.jsxs("div",{style:{padding:"1.25rem",background:"rgba(31, 41, 55, 0.8)",border:"2px solid rgba(59, 130, 246, 0.5)",borderRadius:"12px",marginBottom:"1rem"},children:[s.jsxs("h4",{style:{color:"rgba(255, 255, 255, 0.95)",marginTop:0,marginBottom:"1rem"},children:["Familienmitglied ",O.length+2," hinzufügen"]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsxs("div",{className:"input-group",children:[s.jsx("label",{className:"input-label",style:{color:"rgba(255, 255, 255, 0.9)",marginBottom:"0.4rem",display:"block",fontSize:"0.85rem"},children:"Vorname *"}),s.jsx("input",{type:"text",value:I.vorname,onChange:e=>B(t=>({...t,vorname:e.target.value})),className:"input-field",style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"2px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.95)"}})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{className:"input-label",style:{color:"rgba(255, 255, 255, 0.9)",marginBottom:"0.4rem",display:"block",fontSize:"0.85rem"},children:"Nachname *"}),s.jsx("input",{type:"text",value:I.nachname,onChange:e=>B(t=>({...t,nachname:e.target.value})),className:"input-field",style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"2px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.95)"}})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{className:"input-label",style:{color:"rgba(255, 255, 255, 0.9)",marginBottom:"0.4rem",display:"block",fontSize:"0.85rem"},children:"Geburtsdatum *"}),s.jsx("input",{type:"date",value:I.geburtsdatum,onChange:e=>B(t=>({...t,geburtsdatum:e.target.value})),className:"input-field",style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"2px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.95)"}})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{className:"input-label",style:{color:"rgba(255, 255, 255, 0.9)",marginBottom:"0.4rem",display:"block",fontSize:"0.85rem"},children:"Geschlecht *"}),s.jsxs("select",{value:I.geschlecht,onChange:e=>B(t=>({...t,geschlecht:e.target.value})),className:"input-field",style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"2px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.95)"},children:[s.jsx("option",{value:"",children:"Bitte wählen"}),s.jsx("option",{value:"m",children:"Männlich"}),s.jsx("option",{value:"w",children:"Weiblich"}),s.jsx("option",{value:"d",children:"Divers"})]})]}),s.jsxs("div",{className:"input-group",children:[s.jsxs("label",{className:"input-label",style:{color:"rgba(255, 255, 255, 0.9)",marginBottom:"0.4rem",display:"block",fontSize:"0.85rem"},children:["E-Mail-Adresse ",!I.benutzername&&"*"]}),s.jsx("input",{type:"email",value:I.email,onChange:e=>B(t=>({...t,email:e.target.value})),className:"input-field",placeholder:"Optional wenn Benutzername",style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"2px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.95)"}})]}),s.jsxs("div",{className:"input-group",children:[s.jsxs("label",{className:"input-label",style:{color:"rgba(255, 255, 255, 0.9)",marginBottom:"0.4rem",display:"block",fontSize:"0.85rem"},children:["Benutzername ",!I.email&&"*"]}),s.jsx("input",{type:"text",value:I.benutzername,onChange:e=>B(t=>({...t,benutzername:e.target.value})),className:"input-field",placeholder:"Optional wenn E-Mail",style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"2px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.95)"}})]})]}),s.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(59, 130, 246, 0.1)",borderRadius:"6px",border:"1px solid rgba(59, 130, 246, 0.3)"},children:s.jsxs("p",{style:{margin:0,fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.8)"},children:["ℹ️ Adresse und Bankverbindung werden vom Hauptmitglied übernommen.",s.jsx("br",{}),"💡 E-Mail oder Benutzername - mindestens eines ist erforderlich."]})}),I.geburtsdatum&&X(I.geburtsdatum)&&s.jsx("div",{style:{marginTop:"0.75rem",padding:"0.75rem",background:"rgba(245, 158, 11, 0.1)",borderRadius:"6px",border:"1px solid rgba(245, 158, 11, 0.3)"},children:s.jsxs("p",{style:{margin:0,fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.8)"},children:["👶 Dieses Mitglied ist minderjährig. ",q.vorname," ",q.nachname," wird als Erziehungsberechtigte/r hinterlegt."]})}),s.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[s.jsx("button",{type:"button",onClick:Q,style:{padding:"0.5rem 1rem",background:"linear-gradient(135deg, #10b981, #059669)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600"},children:"Hinzufügen"}),s.jsx("button",{type:"button",onClick:()=>{P(!1),B({vorname:"",nachname:"",geburtsdatum:"",geschlecht:"",email:"",benutzername:"",tarif_id:"",tarif_name:"",tarif_preis:0})},style:{padding:"0.5rem 1rem",background:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.8)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"6px",cursor:"pointer"},children:"Abbrechen"})]})]}):s.jsx("button",{type:"button",onClick:()=>P(!0),style:{width:"100%",padding:"1rem",background:"rgba(255, 255, 255, 0.05)",border:"2px dashed rgba(255, 255, 255, 0.3)",borderRadius:"10px",color:"rgba(255, 255, 255, 0.8)",cursor:"pointer",fontSize:"0.95rem",marginBottom:"1rem",transition:"all 0.2s"},onMouseEnter:e=>{e.target.style.background="rgba(255, 255, 255, 0.1)",e.target.style.borderColor="rgba(59, 130, 246, 0.5)"},onMouseLeave:e=>{e.target.style.background="rgba(255, 255, 255, 0.05)",e.target.style.borderColor="rgba(255, 255, 255, 0.3)"},children:"+ Weiteres Familienmitglied hinzufügen"}),O.length>0&&s.jsx("div",{style:{padding:"1rem",background:"rgba(16, 185, 129, 0.1)",borderRadius:"8px",border:"1px solid rgba(16, 185, 129, 0.3)",marginBottom:"1rem"},children:s.jsxs("p",{style:{margin:0,fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.9)"},children:["✓ ",s.jsx("strong",{children:O.length})," weitere",1===O.length?"s":""," Familienmitglied",1===O.length?"":"er"," hinzugefügt",s.jsx("br",{}),"✓ Familien-Rabatt wird automatisch angewendet",s.jsx("br",{}),"✓ Jedes Mitglied erhält ein eigenes Konto und einen eigenen Vertrag"]})})]})]}),ce=()=>s.jsxs("div",{className:"step-content",children:[s.jsx("h3",{children:"Schritt 5: Medizinische Angaben"}),s.jsxs("div",{className:"input-container",children:[s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"allergien",className:"input-label",children:"Allergien"}),s.jsx("textarea",{id:"allergien",name:"allergien",value:q.allergien,onChange:re,className:"input-field",rows:"3",placeholder:"Bitte geben Sie bekannte Allergien an..."})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"medizinische_hinweise",className:"input-label",children:"Medizinische Hinweise"}),s.jsx("textarea",{id:"medizinische_hinweise",name:"medizinische_hinweise",value:q.medizinische_hinweise,onChange:re,className:"input-field",rows:"3",placeholder:"Bitte geben Sie wichtige medizinische Informationen an..."})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"notfallkontakt_name",className:"input-label",children:"Notfallkontakt (Name)"}),s.jsx("input",{type:"text",id:"notfallkontakt_name",name:"notfallkontakt_name",value:q.notfallkontakt_name,onChange:re,className:"input-field"})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"notfallkontakt_telefon",className:"input-label",children:"Notfallkontakt (Telefon)"}),s.jsx("input",{type:"tel",id:"notfallkontakt_telefon",name:"notfallkontakt_telefon",value:q.notfallkontakt_telefon,onChange:re,className:"input-field"})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"notfallkontakt_verhaeltnis",className:"input-label",children:"Verhältnis zum Notfallkontakt"}),s.jsx("input",{type:"text",id:"notfallkontakt_verhaeltnis",name:"notfallkontakt_verhaeltnis",value:q.notfallkontakt_verhaeltnis,onChange:re,className:"input-field",placeholder:"z.B. Ehepartner, Vater, Mutter, Freund..."})]})]})]}),de=()=>s.jsxs("div",{className:"step-content",children:[s.jsx("h3",{children:"Schritt 4: Bankdaten"}),s.jsxs("div",{className:"input-container",children:[s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"kontoinhaber",className:"input-label",children:"Kontoinhaber *"}),s.jsx("input",{type:"text",id:"kontoinhaber",name:"kontoinhaber",value:q.kontoinhaber,onChange:re,className:"input-field",required:!0})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"iban",className:"input-label",children:"IBAN *"}),s.jsx("input",{type:"text",id:"iban",name:"iban",value:q.iban,onChange:re,className:"input-field",placeholder:"DE89 3704 0044 0532 0130 00",required:!0}),y&&s.jsxs("div",{children:[y.message,y.bankname&&s.jsx("br",{}),"Bank: ",y.bankname]})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"bic",className:"input-label",children:"BIC *"}),s.jsx("input",{type:"text",id:"bic",name:"bic",value:q.bic,onChange:re,className:"input-field",placeholder:"COBADEFFXXX",readOnly:!!(null==y?void 0:y.bic),required:!0})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"bankname",className:"input-label",children:"Bankname *"}),s.jsx("input",{type:"text",id:"bankname",name:"bankname",value:q.bankname,onChange:e=>{re(e),e.target.value.length>=2?((async e=>{if(e.length<2)E([]);else try{const n=t?"/public/banken/search":"/banken/search",r=await Gt.get(n,{params:{q:e}});E(r.data)}catch(n){console.error("Fehler bei der Bankensuche:",n),E([])}})(e.target.value),z(!0)):(E([]),z(!1))},className:"input-field",readOnly:!!(null==y?void 0:y.bankname),placeholder:"Bank suchen oder eingeben...",required:!0}),N&&w.length>0&&s.jsx("div",{children:w.map((e,t)=>s.jsxs("div",{onClick:()=>(e=>{G(t=>({...t,bankname:e.bankname,bic:e.bic,bankleitzahl:e.bankleitzahl})),E([]),z(!1)})(e),children:[s.jsx("div",{children:e.bankname}),s.jsxs("div",{children:[e.bic," • BLZ: ",e.bankleitzahl]})]},t))}),N&&q.bankname.length>=2&&0===w.length&&s.jsx("div",{children:"Keine Banken gefunden"})]})]}),s.jsxs("div",{children:[s.jsx("button",{type:"button",onClick:()=>S(!_),children:_?"IBAN-Eingabe verwenden":"Konto-Nummer + BLZ eingeben"}),_&&s.jsxs("div",{className:"input-container",children:[s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"kontonummer",className:"input-label",children:"Konto-Nummer"}),s.jsx("input",{type:"text",id:"kontonummer",name:"kontonummer",value:q.kontonummer,onChange:re,className:"input-field",placeholder:"1234567890"})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"bankleitzahl",className:"input-label",children:"Bankleitzahl (BLZ)"}),s.jsx("input",{type:"text",id:"bankleitzahl",name:"bankleitzahl",value:q.bankleitzahl,onChange:re,className:"input-field",placeholder:"12345678",maxLength:"8"})]}),s.jsx("div",{className:"input-group",children:s.jsx("button",{type:"button",onClick:ie,disabled:!q.kontonummer||!q.bankleitzahl,children:"Zu IBAN konvertieren"})})]})]})]}),ue=()=>{var e,n;return s.jsxs("div",{className:"step-content",children:[s.jsxs("h3",{children:["Schritt ",t?"4":"3",": Vertragsauswahl"]}),O.length>0&&(V&&W?s.jsxs("div",{style:{padding:"0.75rem 1rem",background:"rgba(16, 185, 129, 0.1)",border:"2px solid rgba(16, 185, 129, 0.5)",borderRadius:"8px",marginBottom:"1rem"},children:[s.jsx("span",{style:{background:"linear-gradient(135deg, #10b981, #059669)",color:"white",padding:"0.2rem 0.6rem",borderRadius:"15px",fontSize:"0.7rem",fontWeight:"700",marginRight:"0.5rem"},children:"Bestehendes Hauptmitglied"}),s.jsxs("strong",{style:{color:"rgba(255, 255, 255, 0.95)"},children:[W.vorname," ",W.nachname]}),s.jsx("span",{style:{color:"rgba(255, 255, 255, 0.7)",marginLeft:"0.5rem",fontSize:"0.85rem"},children:"(bestehender Vertrag - keine Änderung)"})]}):s.jsxs("div",{style:{padding:"0.75rem 1rem",background:"rgba(16, 185, 129, 0.1)",border:"2px solid rgba(16, 185, 129, 0.5)",borderRadius:"8px",marginBottom:"1rem"},children:[s.jsx("span",{style:{background:"linear-gradient(135deg, #10b981, #059669)",color:"white",padding:"0.2rem 0.6rem",borderRadius:"15px",fontSize:"0.7rem",fontWeight:"700",marginRight:"0.5rem"},children:"Hauptmitglied"}),s.jsxs("strong",{style:{color:"rgba(255, 255, 255, 0.95)"},children:[q.vorname," ",q.nachname]}),s.jsx("span",{style:{color:"rgba(255, 255, 255, 0.7)",marginLeft:"0.5rem",fontSize:"0.85rem"},children:"(voller Beitrag)"})]})),!V&&s.jsx(ki,{vertrag:{tarif_id:q.vertrag_tarif_id,billing_cycle:q.vertrag_billing_cycle,payment_method:q.vertrag_payment_method,vertragsbeginn:q.vertrag_vertragsbeginn,vertragsende:q.vertrag_vertragsende,kuendigungsfrist_monate:q.vertrag_kuendigungsfrist_monate,mindestlaufzeit_monate:q.vertrag_mindestlaufzeit_monate,aufnahmegebuehr_cents:q.vertrag_aufnahmegebuehr_cents,agb_akzeptiert:q.vertrag_agb_akzeptiert,datenschutz_akzeptiert:q.vertrag_datenschutz_akzeptiert,dojo_regeln_akzeptiert:q.vertrag_dojo_regeln_akzeptiert,hausordnung_akzeptiert:q.vertrag_hausordnung_akzeptiert,haftungsausschluss_akzeptiert:q.vertrag_haftungsausschluss_akzeptiert,gesundheitserklaerung:q.vertrag_gesundheitserklaerung,foto_einverstaendnis:q.vertrag_foto_einverstaendnis,agb_version:q.vertrag_agb_version,datenschutz_version:q.vertrag_datenschutz_version},onChange:e=>{G(t=>({...t,vertrag_tarif_id:e.tarif_id,vertrag_billing_cycle:e.billing_cycle,vertrag_payment_method:e.payment_method,vertrag_vertragsbeginn:e.vertragsbeginn,vertrag_vertragsende:e.vertragsende,vertrag_kuendigungsfrist_monate:e.kuendigungsfrist_monate,vertrag_mindestlaufzeit_monate:e.mindestlaufzeit_monate,vertrag_aufnahmegebuehr_cents:e.aufnahmegebuehr_cents,vertrag_agb_akzeptiert:e.agb_akzeptiert,vertrag_datenschutz_akzeptiert:e.datenschutz_akzeptiert,vertrag_dojo_regeln_akzeptiert:e.dojo_regeln_akzeptiert,vertrag_hausordnung_akzeptiert:e.hausordnung_akzeptiert,vertrag_haftungsausschluss_akzeptiert:e.haftungsausschluss_akzeptiert,vertrag_gesundheitserklaerung:e.gesundheitserklaerung,vertrag_foto_einverstaendnis:e.foto_einverstaendnis,vertrag_agb_version:e.agb_version,vertrag_datenschutz_version:e.datenschutz_version}))},geburtsdatum:q.geburtsdatum,schuelerStudent:q.schueler_student,mode:"create",mitgliedId:null,isPublic:t}),O.length>0&&s.jsxs("div",{style:{marginTop:V?"0":"2rem"},children:[s.jsx("h4",{style:{color:"var(--primary-color)",borderBottom:"2px solid var(--primary-color)",paddingBottom:"0.5rem",marginBottom:"1rem"},children:"Verträge für Familienmitglieder"}),O.map((e,t)=>{const n=(e=>{const t=X(e);return F.filter(e=>{const n=(e.name||"").toLowerCase(),r=(e.beschreibung||"").toLowerCase(),s=n.includes("kind")||n.includes("kids")||n.includes("jugend")||n.includes("schüler")||r.includes("kind")||r.includes("kids");return n.includes("erwachsen")||n.includes("adult"),t?s||!n.includes("erwachsen")&&!n.includes("adult"):!s})})(e.geburtsdatum),r=ne(e.position),i=F.find(t=>t.tarif_id===e.tarif_id),a=i?i.monatlicher_beitrag_cents:0,o=Math.round(a*r.prozent/100),l=a-o;return s.jsxs("div",{style:{padding:"1.25rem",background:"rgba(59, 130, 246, 0.1)",border:"2px solid rgba(59, 130, 246, 0.5)",borderRadius:"12px",marginBottom:"1rem"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:[s.jsxs("span",{style:{background:"linear-gradient(135deg, #3b82f6, #2563eb)",color:"white",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"700"},children:[e.position,". Familienmitglied"]}),s.jsxs("strong",{style:{color:"rgba(255, 255, 255, 0.95)"},children:[e.vorname," ",e.nachname]}),e.isMinor&&s.jsx("span",{style:{background:"rgba(245, 158, 11, 0.3)",color:"#fbbf24",padding:"0.2rem 0.5rem",borderRadius:"15px",fontSize:"0.7rem",fontWeight:"600"},children:"Kind (unter 18)"})]}),s.jsxs("div",{style:{marginBottom:"1rem"},children:[s.jsxs("label",{style:{display:"block",color:"rgba(255, 255, 255, 0.9)",marginBottom:"0.4rem",fontSize:"0.85rem",fontWeight:"600"},children:["Vertrag auswählen * ",e.isMinor?"(Kids-Tarife)":"(Erwachsenen-Tarife)"]}),s.jsxs("select",{value:e.tarif_id||"",onChange:e=>((e,t)=>{const n=F.find(e=>e.tarif_id===parseInt(t));n&&L(t=>t.map((t,r)=>r===e?{...t,tarif_id:n.tarif_id,tarif_name:n.name,tarif_preis:n.monatlicher_beitrag_cents}:t))})(t,e.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"2px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.95)",fontSize:"0.9rem"},children:[s.jsx("option",{value:"",children:"Bitte Tarif wählen..."}),n.map(e=>s.jsxs("option",{value:e.tarif_id,children:[e.name," - ",(e.monatlicher_beitrag_cents/100).toFixed(2)," €/Monat",e.mindestlaufzeit_monate?` (${e.mindestlaufzeit_monate} Mon. Laufzeit)`:""]},e.tarif_id))]})]}),e.tarif_id&&i&&s.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"8px",padding:"1rem"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[s.jsx("span",{style:{color:"rgba(255, 255, 255, 0.8)"},children:"Regulärer Preis:"}),s.jsxs("span",{style:{color:"rgba(255, 255, 255, 0.9)"},children:[(a/100).toFixed(2)," €/Monat"]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",color:"#10b981"},children:[s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsxs("span",{style:{background:"rgba(16, 185, 129, 0.3)",padding:"0.15rem 0.4rem",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"700"},children:["-",r.prozent,"%"]}),r.name,":"]}),s.jsxs("span",{style:{fontWeight:"600"},children:["-",(o/100).toFixed(2)," €"]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"0.5rem",borderTop:"1px solid rgba(255, 255, 255, 0.2)",fontWeight:"700",fontSize:"1.1rem"},children:[s.jsx("span",{style:{color:"rgba(255, 255, 255, 0.95)"},children:"Endpreis:"}),s.jsxs("span",{style:{color:"#10b981"},children:[(l/100).toFixed(2)," €/Monat"]})]})]}),!e.tarif_id&&s.jsx("div",{style:{padding:"0.5rem",background:"rgba(245, 158, 11, 0.1)",border:"1px solid rgba(245, 158, 11, 0.3)",borderRadius:"6px",fontSize:"0.85rem",color:"#fbbf24"},children:"⚠️ Bitte wählen Sie einen Tarif für dieses Familienmitglied"})]},t)}),s.jsxs("div",{style:{marginTop:"1.5rem",padding:"1.25rem",background:"rgba(31, 41, 55, 0.9)",border:"2px solid rgba(59, 130, 246, 0.6)",borderRadius:"12px"},children:[s.jsx("h5",{style:{color:"rgba(255, 255, 255, 0.95)",margin:"0 0 1rem 0"},children:V?"Neue Mitglieder - Übersicht":"Gesamtübersicht Familie"}),V&&W?s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.5rem 0",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[s.jsxs("span",{style:{color:"rgba(255, 255, 255, 0.8)"},children:[W.vorname," ",W.nachname,s.jsx("span",{style:{color:"#10b981",marginLeft:"0.5rem",fontSize:"0.8rem"},children:"(Bestehendes Mitglied)"})]}),s.jsx("span",{style:{color:"rgba(255, 255, 255, 0.6)",fontStyle:"italic",fontSize:"0.85rem"},children:"bereits Mitglied"})]}):s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.5rem 0",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[s.jsxs("span",{style:{color:"rgba(255, 255, 255, 0.8)"},children:[q.vorname," ",q.nachname," (Hauptmitglied)"]}),s.jsx("span",{style:{color:"rgba(255, 255, 255, 0.9)"},children:q.vertrag_tarif_id?`${(((null==(e=F.find(e=>e.tarif_id===parseInt(q.vertrag_tarif_id)))?void 0:e.monatlicher_beitrag_cents)||0)/100).toFixed(2)} €`:"-- €"})]}),O.map((e,t)=>{const n=ne(e.position),r=e.tarif_preis||0,i=r-Math.round(r*n.prozent/100);return s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.5rem 0",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[s.jsxs("span",{style:{color:"rgba(255, 255, 255, 0.8)"},children:[e.vorname," ",e.nachname,s.jsxs("span",{style:{color:"#10b981",marginLeft:"0.5rem",fontSize:"0.8rem"},children:["(-",n.prozent,"%)"]})]}),s.jsx("span",{style:{color:e.tarif_id?"#10b981":"rgba(255, 255, 255, 0.5)"},children:e.tarif_id?`${(i/100).toFixed(2)} €`:"-- €"})]},t)}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"1rem 0 0 0",marginTop:"0.5rem",fontWeight:"700",fontSize:"1.1rem"},children:[s.jsx("span",{style:{color:"rgba(255, 255, 255, 0.95)"},children:V?"Neue Kosten pro Monat:":"Gesamt pro Monat:"}),s.jsx("span",{style:{color:"#ffd700"},children:`${(((V?0:(null==(n=F.find(e=>e.tarif_id===parseInt(q.vertrag_tarif_id)))?void 0:n.monatlicher_beitrag_cents)||0)+O.reduce((e,t)=>{const n=ne(t.position),r=t.tarif_preis||0;return e+r-Math.round(r*n.prozent/100)},0))/100).toFixed(2)} €`})]})]})]})]})},he=()=>s.jsxs("div",{className:"step-content",children:[s.jsx("h3",{children:"Schritt 6: Widerrufsrecht & Vertragsbeginn"}),s.jsxs("div",{style:{padding:"1.5rem",background:"rgba(31, 41, 55, 0.8)",borderRadius:"12px",border:"2px solid rgba(59, 130, 246, 0.5)",marginBottom:"2rem"},children:[s.jsx("h4",{style:{color:"rgba(255, 255, 255, 0.95)",marginTop:0},children:"⚖️ Wann möchten Sie mit dem Training beginnen?"}),s.jsxs("div",{style:{marginBottom:"1.5rem"},children:[s.jsxs("label",{style:{display:"block",padding:"1rem",background:"sofort"===q.vertragsbeginn_option?"rgba(59, 130, 246, 0.2)":"rgba(31, 41, 55, 0.6)",border:"2px solid "+("sofort"===q.vertragsbeginn_option?"rgba(59, 130, 246, 0.6)":"rgba(59, 130, 246, 0.3)"),borderRadius:"8px",cursor:"pointer",marginBottom:"1rem",color:"rgba(255, 255, 255, 0.95)"},children:[s.jsx("input",{type:"radio",name:"vertragsbeginn_option",value:"sofort",checked:"sofort"===q.vertragsbeginn_option,onChange:e=>G(t=>({...t,vertragsbeginn_option:e.target.value,vertrag_sofortbeginn_zustimmung:!1,vertrag_widerrufsrecht_kenntnisnahme:!1})),style:{marginRight:"0.5rem"}}),s.jsx("strong",{style:{color:"#ffd700"},children:"Sofortbeginn - Ich möchte sofort trainieren ✅"}),s.jsx("div",{style:{marginLeft:"1.5rem",marginTop:"0.5rem",fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.8)"},children:"Sie können sofort mit dem Training beginnen. Durch die ausdrückliche Zustimmung zum Sofortbeginn erlischt Ihr Widerrufsrecht anteilig bei Inanspruchnahme der Leistung."})]}),s.jsxs("label",{style:{display:"block",padding:"1rem",background:"nach_widerruf"===q.vertragsbeginn_option?"rgba(59, 130, 246, 0.2)":"rgba(31, 41, 55, 0.6)",border:"2px solid "+("nach_widerruf"===q.vertragsbeginn_option?"rgba(59, 130, 246, 0.6)":"rgba(59, 130, 246, 0.3)"),borderRadius:"8px",cursor:"pointer",color:"rgba(255, 255, 255, 0.95)"},children:[s.jsx("input",{type:"radio",name:"vertragsbeginn_option",value:"nach_widerruf",checked:"nach_widerruf"===q.vertragsbeginn_option,onChange:e=>G(t=>({...t,vertragsbeginn_option:e.target.value,vertrag_sofortbeginn_zustimmung:!1,vertrag_widerrufsrecht_kenntnisnahme:!1})),style:{marginRight:"0.5rem"}}),s.jsx("strong",{style:{color:"#ffd700"},children:"Normaler Beginn - Nach 14 Tagen Widerrufsfrist 📅"}),s.jsx("div",{style:{marginLeft:"1.5rem",marginTop:"0.5rem",fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.8)"},children:"Sie haben volles 14-tägiges Widerrufsrecht. Das Training beginnt erst nach Ablauf der Widerrufsfrist."})]})]}),"sofort"===q.vertragsbeginn_option&&s.jsxs("div",{style:{padding:"1rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",border:"1px solid rgba(255, 215, 0, 0.3)"},children:[s.jsx("h5",{style:{color:"#ffd700",marginTop:0},children:"Erforderliche Bestätigungen für Sofortbeginn:"}),s.jsxs("label",{style:{display:"flex",alignItems:"start",marginBottom:"1rem",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:q.vertrag_sofortbeginn_zustimmung,onChange:e=>G(t=>({...t,vertrag_sofortbeginn_zustimmung:e.target.checked})),style:{marginRight:"0.5rem",marginTop:"0.2rem"}}),s.jsxs("span",{style:{fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.9)"},children:[s.jsx("strong",{children:"Ich stimme ausdrücklich zu *"}),", dass die Dienstleistung vor Ablauf der 14-tägigen Widerrufsfrist beginnt."]})]}),s.jsxs("label",{style:{display:"flex",alignItems:"start",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:q.vertrag_widerrufsrecht_kenntnisnahme,onChange:e=>G(t=>({...t,vertrag_widerrufsrecht_kenntnisnahme:e.target.checked})),style:{marginRight:"0.5rem",marginTop:"0.2rem"}}),s.jsxs("span",{style:{fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.9)"},children:[s.jsx("strong",{children:"Mir ist bekannt *"}),", dass mein Widerrufsrecht erlischt, wenn die Dienstleistung vollständig erbracht wurde und ich mit der Ausführung vor Ende der Widerrufsfrist begonnen habe."]})]})]}),"nach_widerruf"===q.vertragsbeginn_option&&s.jsx("div",{style:{padding:"1rem",background:"rgba(16, 185, 129, 0.1)",borderRadius:"8px",border:"1px solid rgba(16, 185, 129, 0.3)"},children:s.jsxs("p",{style:{margin:0,fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.9)"},children:["✓ Sie haben volles 14-tägiges Widerrufsrecht gemäß § 355 BGB.",s.jsx("br",{}),"✓ Das Training beginnt automatisch nach Ablauf der Widerrufsfrist.",s.jsx("br",{}),"✓ Sie können den Vertrag innerhalb von 14 Tagen ohne Angabe von Gründen widerrufen."]})})]})]}),ge=s.jsxs("div",{className:"modal-overlay",style:{position:"fixed !important",top:"0px !important",left:"0px !important",right:"0px !important",bottom:"0px !important",width:"100vw !important",height:"100vh !important",display:"flex !important",alignItems:"flex-start !important",justifyContent:"center !important",padding:"0px !important",margin:"0px !important",zIndex:"99999 !important",transform:"translateY(0px) !important"},children:[s.jsxs("div",{className:"modal-content step-modal neues-mitglied-modal-v2",style:{marginTop:"20px !important",marginBottom:"20px !important",marginLeft:"auto !important",marginRight:"auto !important",maxHeight:"85vh !important",height:"auto !important",overflowY:"auto !important",overflowX:"hidden !important",width:"750px !important",maxWidth:"90vw !important",position:"relative !important",top:"0px !important",left:"0px !important",right:"0px !important",transform:"translateY(0px) !important",padding:"1.5rem !important"},children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{className:"modal-title",children:"Neues Mitglied anlegen"}),s.jsxs("div",{className:"step-indicator",children:["Schritt ",u," von ",Y()]})]}),s.jsx("div",{className:"progress-bar",style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",margin:"0",padding:"10px 12px",height:"auto",minHeight:"55px",backgroundColor:"transparent",border:"none",borderRadius:"0",gap:"8px",boxShadow:"none",animation:"none",marginBottom:"2.5rem"},children:Array.from({length:Y()},(e,t)=>t+1).map(e=>{const n=e,r=u===n,i=u>=n;return s.jsxs("div",{className:`progress-step ${i?"completed":""} ${r?"active":""}`,style:{display:"flex",flexDirection:"column",alignItems:"center",flex:1,position:"relative",minHeight:"60px",margin:"0",padding:"6px",gap:"5px",minWidth:"70px"},children:[s.jsx("div",{className:"step-number",style:{width:r?"30px":"26px",height:r?"30px":"26px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:r?"0.9rem":"0.8rem",background:r||i?"#ffffff":"#e5e7eb",color:r?"var(--primary-color)":i?"#10b981":"#6b7280",border:r?"3px solid var(--primary-color)":i?"3px solid #10b981":"2px solid #e5e7eb",position:"relative",zIndex:2,transition:"all 0.3s ease",margin:"0",flexShrink:0,boxShadow:r?"0 2px 6px rgba(234, 179, 8, 0.25)":i?"0 2px 6px rgba(16, 185, 129, 0.2)":"none",animation:"none"},children:e}),s.jsxs("div",{className:"step-label",style:{margin:"0",fontSize:"0.7rem",fontWeight:r?600:500,color:r?"#1f2937":i?"#10b981":"#6b7280",textAlign:"center",transition:"all 0.3s ease",lineHeight:1.2,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",textShadow:"none",animation:"none"},children:[t&&s.jsxs(s.Fragment,{children:[1===n&&"Grunddaten",2===n&&"Kontakt",3===n&&"Familie",4===n&&"Vertrag",5===n&&"Bank",6===n&&"Medizinisch",7===n&&"Widerruf",8===n&&"Account"]}),!t&&s.jsxs(s.Fragment,{children:[1===n&&"Grunddaten",2===n&&"Kontakt",3===n&&"Vertrag",4===n&&"Bank",5===n&&"Medizinisch",6===n&&"Widerruf"]})]})]},e)})}),m&&s.jsx("div",{className:"error-message",children:m}),(()=>{if(t)switch(u){case 1:default:return ae();case 2:return oe();case 3:return le();case 4:return ue();case 5:return de();case 6:return ce();case 7:return he();case 8:return s.jsxs("div",{className:"step-content",children:[s.jsx("h3",{children:"Schritt 7: Benutzerkonto erstellen"}),s.jsxs("div",{style:{padding:"1.5rem",background:"rgba(31, 41, 55, 0.8)",borderRadius:"12px",border:"2px solid rgba(59, 130, 246, 0.5)",marginBottom:"2rem"},children:[s.jsx("h4",{style:{color:"rgba(255, 255, 255, 0.95)",marginTop:0,marginBottom:"1rem"},children:"🔐 Erstellen Sie Ihren Login-Zugang"}),s.jsx("p",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"0.9rem",marginBottom:"1.5rem"},children:"Mit diesen Zugangsdaten können Sie sich später im Mitgliederportal anmelden und Ihre Daten verwalten."}),s.jsxs("div",{className:"input-container",children:[s.jsxs("div",{className:"input-group",style:{gridColumn:"1 / -1"},children:[s.jsx("label",{htmlFor:"benutzername",className:"input-label",children:"Benutzername *"}),s.jsx("input",{type:"text",id:"benutzername",name:"benutzername",value:q.benutzername,onChange:re,className:"input-field",placeholder:"Wählen Sie einen eindeutigen Benutzernamen",autoComplete:"username"}),s.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.7)",marginTop:"0.3rem"},children:"Mindestens 4 Zeichen, nur Buchstaben, Zahlen, Unterstrich und Bindestrich"})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"passwort",className:"input-label",children:"Passwort *"}),s.jsx("input",{type:"password",id:"passwort",name:"passwort",value:q.passwort,onChange:re,className:"input-field",placeholder:"Mindestens 8 Zeichen",autoComplete:"new-password"}),s.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.7)",marginTop:"0.3rem"},children:"Mindestens 8 Zeichen mit Buchstaben und Zahlen"})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"passwort_wiederholen",className:"input-label",children:"Passwort wiederholen *"}),s.jsx("input",{type:"password",id:"passwort_wiederholen",name:"passwort_wiederholen",value:q.passwort_wiederholen,onChange:re,className:"input-field",placeholder:"Passwort erneut eingeben",autoComplete:"new-password"})]})]}),q.passwort&&q.passwort_wiederholen&&q.passwort!==q.passwort_wiederholen&&s.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(127, 29, 29, 0.6)",border:"2px solid rgba(239, 68, 68, 0.6)",borderRadius:"6px",color:"rgba(255, 255, 255, 0.95)",fontSize:"0.85rem"},children:"⚠️ Die Passwörter stimmen nicht überein"}),q.passwort&&q.passwort.length>0&&q.passwort.length<8&&s.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(120, 53, 15, 0.6)",border:"2px solid rgba(245, 158, 11, 0.6)",borderRadius:"6px",color:"rgba(255, 255, 255, 0.95)",fontSize:"0.85rem"},children:"⚠️ Das Passwort muss mindestens 8 Zeichen lang sein"})]})]})}else switch(u){case 1:default:return ae();case 2:return oe();case 3:return ue();case 4:return de();case 5:return ce();case 6:return he()}})(),s.jsxs("div",{className:"modal-buttons",children:[u>1&&s.jsx("button",{className:"secondary-button",type:"button",onClick:()=>{u>1&&h(u-1)},disabled:g,children:"Zurück"}),u<Z()?s.jsx("button",{className:"primary-button",type:"button",onClick:()=>{if(1===u){if(!(q.vorname&&q.nachname&&q.geburtsdatum&&q.geschlecht))return void f("Bitte füllen Sie alle Felder aus");if((null==b?void 0:b.isDuplicate)&&!j)return void v(!0)}if(2===u&&!(q.email&&q.telefon_mobil&&q.strasse&&q.hausnummer&&q.plz&&q.ort))return void f("Bitte füllen Sie alle Pflichtfelder aus (E-Mail, Telefon Mobil, Straße, Hausnummer, PLZ, Ort)");if(t){if(4===u){if(!V){if(!q.vertrag_tarif_id)return void f("Bitte wählen Sie einen Tarif aus");if(!(q.vertrag_agb_akzeptiert&&q.vertrag_datenschutz_akzeptiert&&q.vertrag_dojo_regeln_akzeptiert&&q.vertrag_hausordnung_akzeptiert))return void f("Bitte akzeptieren Sie AGB, Datenschutz, Dojo-Regeln und Hausordnung")}if(O.length>0){const e=O.find(e=>!e.tarif_id);if(e)return void f(`Bitte wählen Sie einen Tarif für ${e.vorname} ${e.nachname}`)}if(V&&0===O.length)return void f("Bitte fügen Sie mindestens ein Familienmitglied hinzu")}if(!(5!==u||q.kontoinhaber&&q.iban))return void f("Bitte füllen Sie alle Pflichtfelder der Bankdaten aus (Kontoinhaber, IBAN)");if(7===u){if(!q.vertragsbeginn_option)return void f("Bitte wählen Sie eine Option für den Vertragsbeginn");if(!("sofort"!==q.vertragsbeginn_option||q.vertrag_sofortbeginn_zustimmung&&q.vertrag_widerrufsrecht_kenntnisnahme))return void f("Bei Sofortbeginn müssen Sie beide Bestätigungen akzeptieren")}}else{if(3===u){if(!q.vertrag_tarif_id)return void f("Bitte wählen Sie einen Tarif aus");if(!(q.vertrag_agb_akzeptiert&&q.vertrag_datenschutz_akzeptiert&&q.vertrag_dojo_regeln_akzeptiert&&q.vertrag_hausordnung_akzeptiert))return void f("Bitte akzeptieren Sie AGB, Datenschutz, Dojo-Regeln und Hausordnung")}if(!(4!==u||q.kontoinhaber&&q.iban))return void f("Bitte füllen Sie alle Pflichtfelder der Bankdaten aus (Kontoinhaber, IBAN)");if(6===u){if(!q.vertragsbeginn_option)return void f("Bitte wählen Sie eine Option für den Vertragsbeginn");if(!("sofort"!==q.vertragsbeginn_option||q.vertrag_sofortbeginn_zustimmung&&q.vertrag_widerrufsrecht_kenntnisnahme))return void f("Bei Sofortbeginn müssen Sie beide Bestätigungen akzeptieren")}}const e=Z();u<e&&h(u+1)},disabled:g,children:"Weiter"}):s.jsx("button",{className:"submit-button",type:"button",onClick:async()=>{var r,s;if(console.log("🚀 handleSubmit aufgerufen"),console.log("📋 MemberData:",q),t){const e=["vorname","nachname","geburtsdatum","email","telefon","strasse","hausnummer","plz","ort"].filter(e=>!q[e]);if(e.length>0)return void f(`Bitte füllen Sie alle Pflichtfelder aus. Fehlend: ${e.join(", ")}`);if(!(q.vertrag_agb_akzeptiert&&q.vertrag_datenschutz_akzeptiert&&q.vertrag_dojo_regeln_akzeptiert&&q.vertrag_hausordnung_akzeptiert))return void f("Bitte akzeptieren Sie die AGB, Datenschutzerklärung, Dojo-Regeln und Hausordnung.");if(!q.vertragsbeginn_option)return void f("Bitte wählen Sie eine Option für den Vertragsbeginn (Sofortbeginn oder Normaler Beginn).");if(!("sofort"!==q.vertragsbeginn_option||q.vertrag_sofortbeginn_zustimmung&&q.vertrag_widerrufsrecht_kenntnisnahme))return void f("Bei Sofortbeginn müssen Sie beide Bestätigungen akzeptieren.");if(!q.vertrag_tarif_id)return void f("Bitte wählen Sie einen Tarif aus.");if(!q.iban||!q.kontoinhaber)return void f("Bitte geben Sie vollständige Bankdaten ein (IBAN und Kontoinhaber).");if(!q.benutzername||q.benutzername.length<4)return void f("Der Benutzername muss mindestens 4 Zeichen lang sein.");if(!q.passwort||q.passwort.length<8)return void f("Das Passwort muss mindestens 8 Zeichen lang sein.");if(q.passwort!==q.passwort_wiederholen)return void f("Die Passwörter stimmen nicht überein.")}else{if(!(q.vertrag_agb_akzeptiert&&q.vertrag_datenschutz_akzeptiert&&q.vertrag_dojo_regeln_akzeptiert&&q.vertrag_hausordnung_akzeptiert))return void f("Bitte akzeptieren Sie die AGB, Datenschutzerklärung, Dojo-Regeln und Hausordnung.");if(!q.vertragsbeginn_option)return void f("Bitte wählen Sie eine Option für den Vertragsbeginn (Sofortbeginn oder Normaler Beginn).");if(!("sofort"!==q.vertragsbeginn_option||q.vertrag_sofortbeginn_zustimmung&&q.vertrag_widerrufsrecht_kenntnisnahme))return void f("Bei Sofortbeginn müssen Sie beide Bestätigungen akzeptieren.");if(!q.vertrag_tarif_id)return void f("Bitte wählen Sie einen Tarif aus.")}p(!0),f("");try{console.log("📤 Sende Daten an API...");const r={...q,registration_complete:t,registration_source:t?"public_registration":"admin_panel",family_session_id:R,family_members:O,is_hauptmitglied:O.length>0&&!V,familie_position:V?null:1,existing_member_mode:V,existing_member_id:(null==W?void 0:W.mitglied_id)||null,existing_member_familien_id:(null==W?void 0:W.familien_id)||null},s=await Gt.post("/mitglieder",r);console.log("✅ Mitglied erfolgreich erstellt:",s.data),f(""),l("member_created",s.data),t?(n&&n(!0),alert("Registrierung erfolgreich abgeschlossen! Sie können sich jetzt anmelden.")):alert("Mitglied wurde erfolgreich erstellt!"),e()}catch(i){console.error("❌ Fehler beim Erstellen des Mitglieds:",i);const e=(null==(s=null==(r=i.response)?void 0:r.data)?void 0:s.error)||i.message||"Unbekannter Fehler";f(`Fehler beim Speichern: ${e}`),t&&n&&n(!1)}finally{p(!1)}},disabled:g||!q.vertrag_agb_akzeptiert||!q.vertrag_datenschutz_akzeptiert||!q.vertrag_dojo_regeln_akzeptiert||!q.vertrag_hausordnung_akzeptiert||!q.vertrag_tarif_id||!q.vertragsbeginn_option||"sofort"===q.vertragsbeginn_option&&(!q.vertrag_sofortbeginn_zustimmung||!q.vertrag_widerrufsrecht_kenntnisnahme)||t&&(!q.benutzername||q.benutzername.length<4||!q.passwort||q.passwort.length<8||q.passwort!==q.passwort_wiederholen),children:g?"Speichere...":"Mitglied erstellen"}),s.jsx("button",{className:"close-button",type:"button",onClick:e,disabled:g,children:"Abbrechen"})]}),(t&&4===u||!t&&3===u)&&(!q.vertrag_agb_akzeptiert||!q.vertrag_datenschutz_akzeptiert||!q.vertrag_dojo_regeln_akzeptiert||!q.vertrag_hausordnung_akzeptiert||!q.vertrag_tarif_id)&&s.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(120, 53, 15, 0.6)",border:"2px solid rgba(245, 158, 11, 0.6)",borderRadius:"6px",fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.95)",textAlign:"center"},children:"⚠️ Bitte füllen Sie alle Pflichtfelder im Vertrag aus (AGB, Datenschutz, Dojo-Regeln, Hausordnung, Tarif)."}),(t&&7===u||!t&&6===u)&&!q.vertragsbeginn_option&&s.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(120, 53, 15, 0.6)",border:"2px solid rgba(245, 158, 11, 0.6)",borderRadius:"6px",fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.95)",textAlign:"center"},children:"Bitte wählen Sie eine Option für den Vertragsbeginn aus."}),(t&&7===u||!t&&6===u)&&"sofort"===q.vertragsbeginn_option&&(!q.vertrag_sofortbeginn_zustimmung||!q.vertrag_widerrufsrecht_kenntnisnahme)&&s.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(120, 53, 15, 0.6)",border:"2px solid rgba(245, 158, 11, 0.6)",borderRadius:"6px",fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.95)",textAlign:"center"},children:"Für den Sofortbeginn müssen Sie beide Bestätigungen akzeptieren."}),8===u&&t&&s.jsxs(s.Fragment,{children:[(!q.benutzername||q.benutzername.length<4)&&s.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(120, 53, 15, 0.6)",border:"2px solid rgba(245, 158, 11, 0.6)",borderRadius:"6px",fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.95)",textAlign:"center"},children:"Bitte geben Sie einen Benutzernamen mit mindestens 4 Zeichen ein."}),(!q.passwort||q.passwort.length<8)&&s.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(120, 53, 15, 0.6)",border:"2px solid rgba(245, 158, 11, 0.6)",borderRadius:"6px",fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.95)",textAlign:"center"},children:"Das Passwort muss mindestens 8 Zeichen lang sein."}),q.passwort&&q.passwort_wiederholen&&q.passwort!==q.passwort_wiederholen&&s.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(120, 53, 15, 0.6)",border:"2px solid rgba(245, 158, 11, 0.6)",borderRadius:"6px",fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.95)",textAlign:"center"},children:"Die Passwörter stimmen nicht überein."})]})]}),j&&s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-content duplicate-dialog",children:[s.jsx("h3",{children:"Duplikat gefunden"}),s.jsx("p",{children:"Es wurde bereits ein Mitglied mit folgenden Daten gefunden:"}),s.jsxs("div",{className:"duplicate-info",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",b.matches[0].vorname," ",b.matches[0].nachname]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Geburtsdatum:"})," ",new Date(b.matches[0].geburtsdatum).toLocaleDateString("de-DE")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Status:"})," ",b.matches[0].aktiv?"Aktiv":"Inaktiv"]})]}),s.jsx("p",{children:"Möchten Sie trotzdem fortfahren oder das bestehende Mitglied bearbeiten?"}),s.jsxs("div",{className:"modal-buttons",children:[s.jsx("button",{className:"secondary-button",onClick:()=>{v(!1),e()},children:"Mitglied bearbeiten"}),s.jsx("button",{className:"primary-button",onClick:()=>{v(!1),h(2)},children:"Trotzdem fortfahren"}),s.jsx("button",{className:"close-button",onClick:()=>v(!1),children:"Abbrechen"})]})]})})]});return c.createPortal(ge,document.body)},Si=[{code:"de",name:"Deutsch",flag:"🇩🇪"},{code:"en",name:"English",flag:"🇺🇸"},{code:"it",name:"Italiano",flag:"🇮🇹"}],wi=({compact:e=!1,showLabel:t=!0})=>{const{i18n:n}=yi(),[i,a]=r.useState(!1),o=r.useRef(null),l=Si.find(e=>e.code===n.language)||Si[0];r.useEffect(()=>{const e=e=>{o.current&&!o.current.contains(e.target)&&a(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const c={display:"flex",alignItems:"center",gap:"0.5rem",padding:e?"0.4rem 0.6rem":"0.5rem 0.75rem",background:"rgba(255, 255, 255, 0.08)",border:"1px solid rgba(255, 255, 255, 0.15)",borderRadius:"8px",color:"#fff",cursor:"pointer",fontSize:e?"0.8rem":"0.875rem",transition:"all 0.2s ease"};return s.jsxs("div",{ref:o,style:{position:"relative"},children:[s.jsxs("button",{onClick:()=>a(!i),style:c,onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.12)",e.currentTarget.style.borderColor="rgba(255, 215, 0, 0.4)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.08)",e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.15)"},children:[s.jsx("span",{style:{fontSize:e?"1rem":"1.1rem"},children:l.flag}),t&&!e&&s.jsx("span",{children:l.name}),t&&e&&s.jsx("span",{children:l.code.toUpperCase()}),s.jsx(x,{size:14,style:{transform:i?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"}})]}),i&&s.jsx("div",{style:{position:"absolute",top:"100%",left:0,marginTop:"0.5rem",background:"#1a1a2e",border:"1px solid rgba(255, 255, 255, 0.15)",borderRadius:"10px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.4)",overflow:"hidden",zIndex:99999,minWidth:"140px"},children:Si.map(e=>{return s.jsxs("button",{onClick:()=>{return t=e.code,n.changeLanguage(t),void a(!1);var t},style:(t=e.code===n.language,{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem 1rem",background:t?"rgba(255, 215, 0, 0.15)":"transparent",border:"none",borderLeft:t?"3px solid #ffd700":"3px solid transparent",color:t?"#ffd700":"#fff",cursor:"pointer",width:"100%",fontSize:"0.875rem",transition:"all 0.2s ease"}),onMouseEnter:t=>{e.code!==n.language&&(t.currentTarget.style.background="rgba(255, 255, 255, 0.08)")},onMouseLeave:t=>{e.code!==n.language&&(t.currentTarget.style.background="transparent")},children:[s.jsx("span",{style:{fontSize:"1.2rem"},children:e.flag}),s.jsx("span",{children:e.name})]},e.code);var t})})]})},Ei="/dojo-logo.png",Ni=()=>{const{t:e}=yi("auth"),[t,n]=r.useState({loginField:"",password:""}),[i,a]=r.useState(!1),[o,l]=r.useState(""),[c,h]=r.useState(!1),[g,p]=r.useState("email"),[m,f]=r.useState(""),[b,x]=r.useState(!1),{login:j,isAuthenticated:v,loading:y}=En(),{refreshDojos:_}=Rn(),S=d(),{user:w}=En();if(v&&!y){const e=(null==w?void 0:w.rolle)||(null==w?void 0:w.role);return"eingeschraenkt"!==e&&"trainer"!==e||"TrainerloginTDA"!==(null==w?void 0:w.username)?"super_admin"!==e||(null==w?void 0:w.dojo_id)?s.jsx(u,{to:"/dashboard",replace:!0}):s.jsx(u,{to:"/dashboard/dojos",replace:!0}):s.jsx(u,{to:"/trainer",replace:!0})}const E=e=>{const{name:t,value:r}=e.target;n(e=>({...e,[t]:r})),"loginField"===t&&(e=>{e.includes("@")?p("email"):p("username")})(r),o&&l(""),m&&f("")};return y?s.jsx("div",{className:"login-container",children:s.jsxs("div",{className:"login-loading",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{children:e("login.loading")})]})}):s.jsxs("div",{className:"login-container",children:[s.jsx("nav",{className:"login-nav",children:s.jsxs("div",{className:"nav-container",children:[s.jsxs("div",{className:"nav-logo",onClick:()=>S("/"),children:[s.jsx("img",{src:Ei,alt:"DojoSoftware Logo",className:"nav-logo-image"}),s.jsx("span",{className:"logo-text",children:"DojoSoftware"})]}),s.jsxs("div",{className:"nav-links",children:[s.jsx("a",{href:"/",onClick:e=>{e.preventDefault(),S("/")},children:"Home"}),s.jsx("a",{href:"/#features",children:"Features"}),s.jsx("a",{href:"/galerie",children:"Galerie"}),s.jsx("a",{href:"/pricing",children:"Preise"}),s.jsx("a",{href:"/#testimonials",children:"Referenzen"}),s.jsx("a",{href:"/probetraining",onClick:e=>{e.preventDefault(),S("/probetraining")},className:"nav-link-highlight",children:"Probetraining"}),s.jsx(wi,{compact:!0})]})]})}),s.jsxs("div",{className:"login-split-layout",children:[s.jsx("div",{className:"login-branding",children:s.jsxs("div",{className:"branding-content",children:[s.jsx("img",{src:Ei,alt:"Dojo Logo",className:"branding-logo"}),s.jsx("h1",{className:"branding-title",children:"DojoSoftware"}),s.jsx("p",{className:"branding-subtitle",children:"Die professionelle Lösung für Kampfsportschulen"}),s.jsxs("div",{className:"branding-features",children:[s.jsxs("div",{className:"feature-item",children:[s.jsx(A,{size:20}),s.jsx("span",{children:"Mitgliederverwaltung"})]}),s.jsxs("div",{className:"feature-item",children:[s.jsx(A,{size:20}),s.jsx("span",{children:"Check-In System"})]}),s.jsxs("div",{className:"feature-item",children:[s.jsx(A,{size:20}),s.jsx("span",{children:"SEPA & Buchhaltung"})]}),s.jsxs("div",{className:"feature-item",children:[s.jsx(A,{size:20}),s.jsx("span",{children:"Prüfungswesen"})]}),s.jsxs("div",{className:"feature-item",children:[s.jsx(A,{size:20}),s.jsx("span",{children:"uvm..."})]})]})]})}),s.jsxs("div",{className:"login-forms-area",children:[s.jsxs("div",{className:"forms-container",children:[s.jsxs("div",{className:"login-card",children:[s.jsxs("div",{className:"login-card-title",children:[s.jsx(T,{size:16}),s.jsx("span",{children:e("login.title")})]}),s.jsxs("form",{onSubmit:async n=>{var r,s,i,a,o;if(n.preventDefault(),h(!0),l(""),f(""),!t.loginField.trim())return l(e("errors.requiredField")),void h(!1);if(!t.password.trim())return l(e("errors.requiredField")),void h(!1);try{const e={password:t.password.trim()};"email"===g?e.email=t.loginField.trim().toLowerCase():e.username=t.loginField.trim();const n=await j(e);f(`Willkommen zurück, ${n.username}!`),console.log("🔍 Login userData:",n),console.log("🔍 Role check:",{role:n.role,rolle:n.rolle,username:n.username}),console.log("🔑 Login erfolgreich - lade Dojos neu"),await _();const r=n.rolle||n.role;"eingeschraenkt"!==r&&"trainer"!==r||"TrainerloginTDA"!==n.username?"super_admin"!==r||n.dojo_id?(console.log("✅ Redirecting to /dashboard"),S("/dashboard",{replace:!0})):(console.log("✅ Redirecting super_admin to /dashboard/dojos"),S("/dashboard/dojos",{replace:!0})):(console.log("✅ Redirecting to /trainer"),S("/trainer",{replace:!0}))}catch(c){console.error("? Login-Fehler:",c),401===(null==(r=c.response)?void 0:r.status)?l(e("errors.invalidCredentials")):400===(null==(s=c.response)?void 0:s.status)?l(e("errors.requiredField")):500===(null==(i=c.response)?void 0:i.status)?l(e("errors.serverError")):"ERR_NETWORK"===c.code?l(e("errors.networkError")):l((null==(o=null==(a=c.response)?void 0:a.data)?void 0:o.message)||e("errors.serverError"))}finally{h(!1)}},className:"login-form",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:s.jsxs("div",{className:"label-content",children:["email"===g?s.jsx(R,{size:16,className:"label-icon"}):s.jsx(D,{size:16,className:"label-icon"}),s.jsx("span",{children:e("login.email")})]})}),s.jsx("input",{type:"text",name:"loginField",value:t.loginField,onChange:E,className:"form-input "+("email"===g?"input-email":"input-username"),placeholder:"email"===g?"ihre-email@beispiel.de":"ihr-benutzername",required:!0,autoComplete:"username",disabled:c})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:s.jsxs("div",{className:"label-content",children:[s.jsx(O,{size:16,className:"label-icon"}),s.jsx("span",{children:e("login.password")})]})}),s.jsxs("div",{className:"password-wrapper",children:[s.jsx("input",{type:i?"text":"password",name:"password",value:t.password,onChange:E,className:"form-input password-input",placeholder:e("login.passwordPlaceholder"),required:!0,autoComplete:"current-password",disabled:c}),s.jsx("button",{type:"button",className:"password-toggle",onClick:()=>a(!i),tabIndex:-1,disabled:c,"aria-label":i?"Passwort verbergen":"Passwort anzeigen",children:i?s.jsx(L,{size:16}):s.jsx(C,{size:16})})]})]}),o&&s.jsxs("div",{className:"error-message",role:"alert",children:[s.jsx(P,{size:16}),s.jsx("span",{children:o})]}),m&&s.jsxs("div",{className:"success-message",role:"alert",children:[s.jsx(A,{size:16}),s.jsx("span",{children:m})]}),s.jsx("button",{type:"submit",className:"login-button",disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"button-spinner"}),s.jsx("span",{children:e("login.loading")})]}):s.jsxs(s.Fragment,{children:[s.jsx(T,{size:18}),s.jsx("span",{children:e("login.button")})]})}),s.jsx("button",{type:"button",className:"forgot-password-link",onClick:()=>S("/password-reset"),disabled:c,children:e("login.forgotPassword")})]})]}),s.jsxs("div",{className:"register-card",children:[s.jsxs("div",{className:"login-card-title",children:[s.jsx(I,{size:16}),s.jsx("span",{children:e("register.title")})]}),s.jsxs("div",{className:"register-content",children:[s.jsx("p",{className:"register-description",children:"Neu bei DojoSoftware? Registrieren Sie sich jetzt und starten Sie Ihre 14-tägige kostenlose Testphase."}),s.jsxs("div",{className:"register-benefits",children:[s.jsxs("div",{className:"benefit-item",children:[s.jsx(A,{size:16}),s.jsx("span",{children:"14 Tage kostenlos testen"})]}),s.jsxs("div",{className:"benefit-item",children:[s.jsx(A,{size:16}),s.jsx("span",{children:"Keine Kreditkarte erforderlich"})]}),s.jsxs("div",{className:"benefit-item",children:[s.jsx(A,{size:16}),s.jsx("span",{children:"Vollständiger Funktionsumfang"})]}),s.jsxs("div",{className:"benefit-item",children:[s.jsx(A,{size:16}),s.jsx("span",{children:"Persönliche Einrichtungshilfe"})]}),s.jsxs("div",{className:"benefit-item",children:[s.jsx(A,{size:16}),s.jsx("span",{children:"uvm..."})]})]}),s.jsxs("button",{type:"button",className:"register-button",onClick:()=>x(!0),disabled:c,children:[s.jsx(I,{size:18}),s.jsx("span",{children:e("login.register")})]}),s.jsxs("p",{className:"register-note",children:[s.jsx(B,{size:14}),s.jsx("span",{children:"Vollständige Registrierung inkl. Vertragsdaten"})]})]})]})]}),s.jsxs("div",{className:"login-footer",children:[s.jsx("p",{className:"version-info",children:"DojoSoftware v2.0 | © 2024-2025"}),s.jsxs("div",{className:"security-info",children:[s.jsx(k,{size:12}),s.jsx("span",{children:"SSL-verschlüsselt | DSGVO-konform"})]})]})]})]}),b&&s.jsx(_i,{onClose:()=>x(!1),isRegistrationFlow:!0,onRegistrationComplete:e=>{e&&(x(!1),f("Registrierung erfolgreich abgeschlossen! Sie können sich jetzt anmelden."))}})]})},zi="/dojo-logo.png";function Ai(){const e=d(),t=[{name:"",dojo:"",text:"",rating:5,image:null},{name:"",dojo:"",text:"",rating:5,image:null},{name:"Sascha S.",dojo:"Kampfsportschule Schreiner",text:"Endlich eine Software die speziell für Kampfsportschulen entwickelt wurde.",rating:5,image:null}],[n,i]=r.useState(2);return r.useEffect(()=>{const e=setInterval(()=>{i(e=>2)},5e3);return()=>clearInterval(e)},[]),s.jsxs("div",{className:"landing-page",children:[s.jsx("nav",{className:"landing-nav",children:s.jsxs("div",{className:"nav-container",children:[s.jsxs("div",{className:"nav-logo",children:[s.jsx("img",{src:zi,alt:"DojoSoftware Logo",className:"nav-logo-image"}),s.jsx("span",{className:"logo-text",children:"DojoSoftware"})]}),s.jsxs("div",{className:"nav-links",children:[s.jsx("a",{href:"/",onClick:t=>{t.preventDefault(),e("/")},children:"Home"}),s.jsx("a",{href:"#features",children:"Features"}),s.jsx("a",{href:"#galerie",onClick:t=>{t.preventDefault(),e("/galerie")},children:"Galerie"}),s.jsx("a",{href:"#pricing",onClick:t=>{t.preventDefault(),e("/pricing")},children:"Preise"}),s.jsx("a",{href:"#testimonials",children:"Referenzen"}),s.jsx("button",{className:"nav-login-btn",onClick:()=>e("/login"),children:"Login"})]})]})}),s.jsx("section",{className:"hero-section",children:s.jsxs("div",{className:"hero-container",children:[s.jsxs("div",{className:"hero-content",children:[s.jsxs("h1",{className:"hero-title",children:["Die professionelle Lösung für",s.jsx("br",{}),s.jsx("span",{className:"hero-highlight",children:"Kampfsportschulen"})]}),s.jsx("p",{className:"hero-subtitle",children:"Mitgliederverwaltung • Check-In • SEPA • Verkauf • Buchführung • Online-Registrierung für Neumitglieder • Prüfungswesen • uvm."}),s.jsxs("div",{className:"hero-cta",children:[s.jsxs("button",{className:"cta-primary",onClick:()=>e("/register"),children:[s.jsx("span",{className:"cta-icon",children:"🚀"}),"Jetzt kostenlos testen (14 Tage)"]}),s.jsxs("button",{className:"cta-secondary",onClick:()=>e("/demo"),children:[s.jsx("span",{className:"cta-icon",children:"📺"}),"Demo ansehen"]})]}),s.jsxs("div",{className:"hero-benefits",children:[s.jsx("div",{className:"benefit",children:"✓ Keine Kreditkarte nötig"}),s.jsx("div",{className:"benefit",children:"✓ In 5 Minuten startklar"})]})]}),s.jsx("div",{className:"hero-image",children:s.jsx("div",{className:"hero-logo-container",children:s.jsx("img",{src:zi,alt:"DojoSoftware Logo",className:"hero-logo"})})})]})}),s.jsx("section",{className:"mockup-section",children:s.jsx("div",{className:"container",children:s.jsxs("div",{className:"dashboard-mockup",children:[s.jsxs("div",{className:"mockup-header",children:[s.jsx("div",{className:"mockup-dot"}),s.jsx("div",{className:"mockup-dot"}),s.jsx("div",{className:"mockup-dot"})]}),s.jsxs("div",{className:"mockup-content",children:[s.jsx("div",{className:"mockup-sidebar",children:s.jsxs("div",{className:"sidebar-content",children:[s.jsx("div",{className:"sidebar-title",children:"WARUM"}),s.jsx("div",{className:"sidebar-arrow",children:"→"}),s.jsx("div",{className:"sidebar-title",children:"DARUM"}),s.jsx("div",{className:"sidebar-subtitle",children:"Die Lösung für mehr Zeit & weniger Arbeit"})]})}),s.jsxs("div",{className:"mockup-main",children:[s.jsxs("div",{className:"mockup-card",children:[s.jsx("div",{className:"mockup-card-icon",children:"📝"}),s.jsxs("div",{className:"mockup-card-content",children:[s.jsx("h4",{children:"Online-Registrierung"}),s.jsx("p",{children:"Mitglieder registrieren sich selbst online. Alles ist sofort im System verfügbar - Mitgliederzugang, Vertrag, alles automatisch angelegt."})]})]}),s.jsxs("div",{className:"mockup-card",children:[s.jsx("div",{className:"mockup-card-icon",children:"⚡"}),s.jsxs("div",{className:"mockup-card-content",children:[s.jsx("h4",{children:"Keine Papierarbeit mehr"}),s.jsx("p",{children:"Keine Zeitverschwendung durch manuelles Erfassen. Kein Papier, keine Akten - alles digital und sofort verfügbar."})]})]}),s.jsxs("div",{className:"mockup-card",children:[s.jsx("div",{className:"mockup-card-icon",children:"👤"}),s.jsxs("div",{className:"mockup-card-content",children:[s.jsx("h4",{children:"Selbstverwaltung durch Mitglieder"}),s.jsxs("p",{children:["Mitglieder verwalten ihren Vertrag selbst: Ruhepause, Adress- und Kontoänderungen, Kündigung - alles online. ",s.jsx("strong",{children:"Absolut kein Arbeitsaufwand mehr für dich."})]})]})]})]})]})]})})}),s.jsx("section",{className:"social-proof",children:s.jsxs("div",{className:"container",children:[s.jsxs("p",{className:"social-proof-text",children:["Vertrauen von ",s.jsx("strong",{children:"Kampfsportschulen"})," auf der ganzen Welt"]}),s.jsxs("div",{className:"trust-badges",children:[s.jsxs("div",{className:"trust-badge",children:[s.jsx("span",{children:"🥋"}),s.jsx("span",{children:"Karate"})]}),s.jsxs("div",{className:"trust-badge",children:[s.jsx("span",{children:"🥊"}),s.jsx("span",{children:"Kickboxen"})]}),s.jsxs("div",{className:"trust-badge",children:[s.jsx("span",{children:"🤺"}),s.jsx("span",{children:"Taekwondo"})]}),s.jsxs("div",{className:"trust-badge",children:[s.jsx("span",{children:"🤼"}),s.jsx("span",{children:"Judo"})]}),s.jsxs("div",{className:"trust-badge",children:[s.jsx("span",{children:"🥋"}),s.jsx("span",{children:"BJJ"})]}),s.jsxs("div",{className:"trust-badge",children:[s.jsx("span",{children:"👊"}),s.jsx("span",{children:"Kung Fu"})]}),s.jsxs("div",{className:"trust-badge",children:[s.jsx("span",{children:"⚔️"}),s.jsx("span",{children:"MMA"})]}),s.jsxs("div",{className:"trust-badge",children:[s.jsx("span",{children:"🛡️"}),s.jsx("span",{children:"ShieldX"})]}),s.jsxs("div",{className:"trust-badge",children:[s.jsx("span",{children:"⚡"}),s.jsx("span",{children:"Krav Maga"})]}),s.jsxs("div",{className:"trust-badge",children:[s.jsx("span",{children:"🥋"}),s.jsx("span",{children:"Hapkido"})]}),s.jsxs("div",{className:"trust-badge",children:[s.jsx("span",{children:"⚡"}),s.jsx("span",{children:"und mehr..."})]})]})]})}),s.jsx("section",{className:"features-section",id:"features",children:s.jsxs("div",{className:"container",children:[s.jsx("h2",{className:"section-title",children:"Alles was dein Dojo braucht"}),s.jsx("p",{className:"section-subtitle",children:"Eine komplette Lösung - von der Mitgliederverwaltung bis zur Buchführung"}),s.jsx("div",{className:"features-grid",children:[{icon:"👥",title:"Mitgliederverwaltung",description:"Verträge, Kündigungen, Dokumente, Familienverbund - alles an einem Ort"},{icon:"🌐",title:"Online-Registrierung",description:"Selbstständige Anmeldung mit automatischer Vertragserstellung"},{icon:"📱",title:"Mitglieder-Portal",description:"Self-Service: Adressänderung, Kündigung, Ruhepause - ohne deinen Aufwand"},{icon:"✅",title:"Check-In System",description:"QR-Code basiertes Check-In mit Live-Display für dein Dojo"},{icon:"💶",title:"SEPA & Finanzen",description:"Automatische Lastschriften, Rabattsystem, Mahnwesen, Buchführung"},{icon:"🥋",title:"Prüfungswesen",description:"Gürtelprüfungen, historische Prüfungen, Lehrgänge & Ehrungen"},{icon:"📄",title:"Vertragsverwaltung",description:"Automatische Verlängerung, Tarifwechsel, Rabatte, PDF-Export"},{icon:"👨‍👩‍👧‍👦",title:"Familienverwaltung",description:"Familienrabatte, Erziehungsberechtigte, verknüpfte Konten"},{icon:"🛒",title:"Verkauf & Lager",description:"Artikel, Kassensystem, Bestandsverwaltung, Verkaufsstatistik"},{icon:"📊",title:"Dashboard & Statistiken",description:"Echtzeit-Auswertungen, Einnahmen, Austritte, Anwesenheit"},{icon:"📅",title:"Stundenplan & Events",description:"Trainingszeiten, Turniere, Seminare, Veranstaltungen"},{icon:"📧",title:"Kommunikation",description:"E-Mail-Versand, Newsletter, Benachrichtigungen"},{icon:"🔔",title:"Benachrichtigungen",description:"Automatische Erinnerungen, Zahlungseingänge, Kündigungen"},{icon:"🏢",title:"Multi-Dojo",description:"Mehrere Standorte zentral verwalten mit einem Account"},{icon:"📁",title:"Dokumentenverwaltung",description:"Upload, Speicherung und Verwaltung aller Dokumente"},{icon:"🔒",title:"Sicherheit & DSGVO",description:"Verschlüsselte Daten, deutsche Server, 100% DSGVO-konform"}].map((e,t)=>s.jsxs("div",{className:"feature-card",children:[s.jsx("div",{className:"feature-icon",children:e.icon}),s.jsx("h3",{className:"feature-title",children:e.title}),s.jsx("p",{className:"feature-description",children:e.description})]},t))})]})}),s.jsx("section",{className:"testimonials-section",id:"testimonials",children:s.jsxs("div",{className:"container",children:[s.jsx("h2",{className:"section-title",children:"Was unsere Kunden sagen"}),s.jsxs("div",{className:"testimonials-gallery",children:[s.jsx("div",{className:"testimonial-slide active",children:s.jsx("div",{className:"testimonial-card",children:t[n].text&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"testimonial-stars",children:[...Array(t[n].rating)].map((e,t)=>s.jsx("span",{className:"star",children:"⭐"},t))}),s.jsxs("p",{className:"testimonial-text",children:['"',t[n].text,'"']}),t[n].name&&s.jsxs("div",{className:"testimonial-author",children:[s.jsx("strong",{children:t[n].name}),t[n].dojo&&s.jsx("span",{children:t[n].dojo})]})]})})}),s.jsx("div",{className:"testimonial-indicators",children:t.map((e,t)=>t<2?null:s.jsx("button",{className:"indicator "+(n===t?"active":""),onClick:()=>i(t),"aria-label":`Gehe zu Testimonial ${t+1}`},t))})]})]})}),s.jsx("section",{className:"pricing-preview",children:s.jsxs("div",{className:"container",children:[s.jsx("h2",{className:"section-title",children:"Transparent & Fair"}),s.jsx("p",{className:"section-subtitle",children:"Wähle den Plan der zu deinem Dojo passt"}),s.jsxs("div",{className:"pricing-cards-preview",children:[s.jsxs("div",{className:"pricing-card-preview",children:[s.jsx("h3",{children:"Starter"}),s.jsxs("div",{className:"price",children:["€49",s.jsx("span",{children:"/Monat"})]}),s.jsx("p",{children:"Bis 100 Mitglieder"})]}),s.jsxs("div",{className:"pricing-card-preview featured",children:[s.jsx("div",{className:"popular-badge",children:"Beliebt"}),s.jsx("h3",{children:"Professional"}),s.jsxs("div",{className:"price",children:["€89",s.jsx("span",{children:"/Monat"})]}),s.jsx("p",{children:"Bis 300 Mitglieder"})]}),s.jsxs("div",{className:"pricing-card-preview",children:[s.jsx("h3",{children:"Premium"}),s.jsxs("div",{className:"price",children:["€149",s.jsx("span",{children:"/Monat"})]}),s.jsx("p",{children:"Unbegrenzt Mitglieder"})]})]}),s.jsx("button",{className:"cta-secondary",onClick:()=>e("/pricing"),children:"Alle Preise & Features ansehen"})]})}),s.jsx("section",{className:"faq-section",children:s.jsxs("div",{className:"container",children:[s.jsx("h2",{className:"section-title",children:"Häufig gestellte Fragen"}),s.jsxs("div",{className:"faq-grid",children:[s.jsxs("div",{className:"faq-item",children:[s.jsx("h3",{children:"Wie funktioniert der 14-Tage-Test?"}),s.jsx("p",{children:"Registriere dich kostenlos und teste alle Features 14 Tage lang. Keine Kreditkarte erforderlich."})]}),s.jsxs("div",{className:"faq-item",children:[s.jsx("h3",{children:"Sind meine Daten sicher (DSGVO)?"}),s.jsx("p",{children:"Ja, alle Daten werden verschlüsselt auf deutschen Servern gespeichert. 100% DSGVO-konform."})]}),s.jsxs("div",{className:"faq-item",children:[s.jsx("h3",{children:"Funktioniert es für mehrere Standorte?"}),s.jsx("p",{children:"Ja, mit dem Enterprise-Plan kannst du mehrere Dojos zentral verwalten mit einem Account. Getrennte oder gemeinsame Ansicht und Auswertung."})]})]})]})}),s.jsx("section",{className:"final-cta",children:s.jsxs("div",{className:"container",children:[s.jsx("h2",{children:"Bereit dein Dojo zu digitalisieren?"}),s.jsx("p",{children:"Starte jetzt - komplett kostenlos"}),s.jsxs("button",{className:"cta-primary large",onClick:()=>e("/register"),children:[s.jsx("span",{className:"cta-icon",children:"🚀"}),"Jetzt 14 Tage gratis testen"]}),s.jsx("p",{className:"cta-note",children:"Keine Kreditkarte nötig"})]})}),s.jsx("footer",{className:"landing-footer",children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"footer-grid",children:[s.jsxs("div",{className:"footer-col",children:[s.jsx("h4",{children:"Produkt"}),s.jsx("a",{href:"#features",children:"Features"}),s.jsx("a",{href:"/pricing",children:"Preise"}),s.jsx("a",{href:"/demo",children:"Demo"})]}),s.jsxs("div",{className:"footer-col",children:[s.jsx("h4",{children:"Unternehmen"}),s.jsx("a",{href:"/about",children:"Über uns"}),s.jsx("a",{href:"/contact",children:"Kontakt"}),s.jsx("a",{href:"/impressum",children:"Impressum"})]}),s.jsxs("div",{className:"footer-col",children:[s.jsx("h4",{children:"Support"}),s.jsx("a",{href:"/help",children:"Hilfe-Center"}),s.jsx("a",{href:"/login",children:"Login"}),s.jsx("a",{href:"mailto:support@dojo.tda-intl.org",children:"Email Support"})]}),s.jsxs("div",{className:"footer-col",children:[s.jsx("h4",{children:"Rechtliches"}),s.jsx("a",{href:"/datenschutz",children:"Datenschutz"}),s.jsx("a",{href:"/agb",children:"AGB"})]})]}),s.jsxs("div",{className:"footer-bottom",children:[s.jsx("p",{children:"© 2026 DojoSoftware by TDA International • Alle Rechte vorbehalten"}),s.jsx("p",{style:{marginTop:"0.5rem",fontSize:"0.75rem",opacity:.7},children:"Coming soon: English • Español • Français • Italiano"})]})]})})]})}const Ti=r.lazy(()=>W(()=>import("./Dashboard-CQRFGZQy.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]))),Ri=r.lazy(()=>W(()=>import("./DashboardTdaVib-Bmm00rKk.js"),__vite__mapDeps([25,1,2,3,4,5,6,7,8,9,10,11,12,13,15,17,21]))),Di=r.lazy(()=>W(()=>import("./DashboardStart--SMxs4eE.js"),__vite__mapDeps([26,1,7,8,4,5,9,10,11,12,13,23,14,15,16,17]))),Oi=r.lazy(()=>W(()=>import("./MitgliederListe-B8VK0WHK.js"),__vite__mapDeps([27,1,4,5,9]))),Li=r.lazy(()=>W(()=>import("./MitgliedDetail-D5hObuk9.js"),__vite__mapDeps([28,1,29,5,4,30,9,31]))),Ci=r.lazy(()=>W(()=>import("./MitgliedDetailShared-sKIcD9kf.js"),__vite__mapDeps([29,1,5,4,30,9,31]))),Pi=r.lazy(()=>W(()=>import("./EhemaligenListe-BM_PgwmI.js"),__vite__mapDeps([32,1,5,4,9]))),Ii=r.lazy(()=>W(()=>import("./InteressentenListe-CB6nsXa4.js"),__vite__mapDeps([33,1,5,4,9]))),Bi=r.lazy(()=>W(()=>import("./MitgliederFilter-DI0LDR4I.js"),__vite__mapDeps([34,1,5,4,9,35]))),Fi=r.lazy(()=>W(()=>import("./Anwesenheit-EXL6ogVI.js"),__vite__mapDeps([36,1,4,5,9,37]))),Mi=r.lazy(()=>W(()=>import("./AnwesenheitDashboard-Pb26m2Av.js"),__vite__mapDeps([38,1,9,4,5,39]))),Vi=r.lazy(()=>W(()=>import("./CheckinSystem-DODMxRju.js"),__vite__mapDeps([40,1,41,5,4,9,42,13]))),Ui=r.lazy(()=>W(()=>import("./PersonalCheckin-ISVPZSmc.js"),__vite__mapDeps([43,1,4,5,9,44]))),$i=r.lazy(()=>W(()=>import("./PublicCheckinDisplay-BGF9v1s8.js"),__vite__mapDeps([45,1,4,5,9,46]))),Hi=r.lazy(()=>W(()=>import("./Stundenplan-9SfcpkZJ.js"),__vite__mapDeps([47,1,4,5,9,48]))),Wi=r.lazy(()=>W(()=>import("./Kurse-BdV2dtuN.js"),__vite__mapDeps([49,1,4,5,9,50]))),Ki=r.lazy(()=>W(()=>import("./Trainer-BC0l9Vh0.js"),__vite__mapDeps([51,1,4,5,9,52]))),qi=r.lazy(()=>W(()=>import("./GruppenStilverwaltung-DSZjCyJb.js"),__vite__mapDeps([53,1,4,5,9,54]))),Gi=r.lazy(()=>W(()=>import("./Stilverwaltung-o9bWAMbm.js"),__vite__mapDeps([55,1,4,30,5,9,56]))),Ji=r.lazy(()=>W(()=>import("./StandortVerwaltung-CkYKHb_F.js"),__vite__mapDeps([57,1,5,4,9,58]))),Zi=r.lazy(()=>W(()=>import("./PublicTimetableDisplay-WbDzyVr8.js"),__vite__mapDeps([59,1,4,5,9,60]))),Yi=r.lazy(()=>W(()=>import("./Finanzcockpit-BanpRy7q.js"),__vite__mapDeps([61,1,5,9,4,62]))),Xi=r.lazy(()=>W(()=>import("./EuerUebersicht-DDL3XMIz.js"),__vite__mapDeps([63,1,5,9,4]))),Qi=r.lazy(()=>W(()=>import("./AusgabenVerwaltung-i-8okwok.js"),__vite__mapDeps([64,1,5,4,9]))),ea=r.lazy(()=>W(()=>import("./Beitraege-CyWEzRhm.js"),__vite__mapDeps([65,1,5,4,9,66]))),ta=r.lazy(()=>W(()=>import("./Mahnwesen-B1wNLVO8.js"),__vite__mapDeps([67,1,5,4,9,68]))),na=r.lazy(()=>W(()=>import("./MahnstufenEinstellungen-CB1pLCzS.js"),__vite__mapDeps([69,1,5,4,9,70]))),ra=r.lazy(()=>W(()=>import("./Rechnungsverwaltung-Bo-nIExD.js"),__vite__mapDeps([71,1,5,4,9,72]))),sa=r.lazy(()=>W(()=>import("./RechnungErstellen-ChNA1pPw.js"),__vite__mapDeps([73,1,11,5,4,9,74]))),ia=r.lazy(()=>W(()=>import("./SepaMandateVerwaltung-BOEoo57x.js"),__vite__mapDeps([75,1,76,5,4,9,77]))),aa=r.lazy(()=>W(()=>import("./LastschriftManagement-Dbwv6Ef0.js"),__vite__mapDeps([78,1,5,4,9,79]))),oa=r.lazy(()=>W(()=>import("./TarifePreise-B3KI9XGd.js"),__vite__mapDeps([80,1,5,4,9,81]))),la=r.lazy(()=>W(()=>import("./Rabattsystem-7XBRCzlm.js"),__vite__mapDeps([82,1,5,4,9,81]))),ca=r.lazy(()=>W(()=>import("./ZahlungszyklenSeite-BL9OOsXk.js"),__vite__mapDeps([83,1,5,4,9,84]))),da=r.lazy(()=>W(()=>import("./ZahlungsEinstellungen-BtRqasNz.js"),__vite__mapDeps([85,1,4,5,9]))),ua=r.lazy(()=>W(()=>import("./TresenUebersicht-D4FM_qUg.js"),__vite__mapDeps([86,1,4,5,9,87]))),ha=r.lazy(()=>W(()=>import("./ArtikelVerwaltung-DjGv0lM4.js"),__vite__mapDeps([20,1,4,5,9,21]))),ga=r.lazy(()=>W(()=>import("./ArtikelFormular-CnISZGmm.js"),__vite__mapDeps([88,1,4,5,9,21]))),pa=r.lazy(()=>W(()=>import("./VerkaufKasse-B1Xpg--i.js"),__vite__mapDeps([41,1,5,4,9,42,13]))),ma=r.lazy(()=>W(()=>import("./ArtikelgruppenVerwaltung-BM-rHCY9.js"),__vite__mapDeps([89,1,4,5,9,90])));r.lazy(()=>W(()=>import("./MemberDashboard-Btl1VZfc.js"),__vite__mapDeps([7,1,8,4,5,9,10,11,12,13])));const fa=r.lazy(()=>W(()=>import("./MemberHeader-BtRviAJK.js"),__vite__mapDeps([8,1,4,5,9,10]))),ba=r.lazy(()=>W(()=>import("./MemberSchedule-HtdTWBZ2.js"),__vite__mapDeps([91,1,8,4,5,9,10]))),xa=r.lazy(()=>W(()=>import("./MemberEvents-DQ6CJpKw.js"),__vite__mapDeps([92,1,8,4,5,9,10]))),ja=r.lazy(()=>W(()=>import("./MemberPayments-Bb8k0ABU.js"),__vite__mapDeps([93,1,8,4,5,9,10]))),va=r.lazy(()=>W(()=>import("./MemberStats-CFkj3A-s.js"),__vite__mapDeps([94,1,8,4,5,9,10,95]))),ya=r.lazy(()=>W(()=>import("./MemberStyles-BNjiB3LH.js"),__vite__mapDeps([96,1,8,4,5,9,10,97]))),ka=r.lazy(()=>W(()=>import("./CourseRating-BCA9PP6i.js"),__vite__mapDeps([98,1,8,4,5,9,10,99]))),_a=r.lazy(()=>W(()=>import("./EquipmentChecklist-Dmi3OzvO.js"),__vite__mapDeps([100,1,8,4,5,9,10]))),Sa=r.lazy(()=>W(()=>import("./AppInstallPage-B4QNTSih.js"),__vite__mapDeps([101,1,11,5,4]))),wa=r.lazy(()=>W(()=>import("./TrainerDashboard-CaWLSswo.js"),__vite__mapDeps([102,1,40,41,5,4,9,42,13,36,37,47,48]))),Ea=r.lazy(()=>W(()=>import("./TrainerOnlyRoute-Ck3tjCEQ.js"),__vite__mapDeps([103,1,4,5,9]))),Na=r.lazy(()=>W(()=>import("./CourseRatingAdmin-DnHca0UA.js"),__vite__mapDeps([104,1,5,4,9,105]))),za=r.lazy(()=>W(()=>import("./Personal-C9GdfcJC.js"),__vite__mapDeps([106,1,4,5,9,107])));r.lazy(()=>W(()=>import("./EinstellungenDojo-Ca-o8vFg.js"),__vite__mapDeps([108,1,109,5,110,4,9,111])));const Aa=r.lazy(()=>W(()=>import("./AuditLog-EowncjS0.js"),__vite__mapDeps([112,1,5,4,9,113]))),Ta=r.lazy(()=>W(()=>import("./BuddyVerwaltung-PXK0RFqK.js"),__vite__mapDeps([114,1,5,4,9,115,10]))),Ra=r.lazy(()=>W(()=>import("./Auswertungen-hKyh-9K3.js"),__vite__mapDeps([116,1,9,4,5,117,35]))),Da=r.lazy(()=>W(()=>import("./BerichteDokumente-BjPbhYJI.js"),__vite__mapDeps([118,1,5,4,9,119]))),Oa=r.lazy(()=>W(()=>import("./DojosVerwaltung-BVMa5Tlv.js"),__vite__mapDeps([120,1,5,4,9,121]))),La=r.lazy(()=>W(()=>import("./DojoEdit-d2HdVx_G.js"),__vite__mapDeps([122,1,109,5,110,4,9,123]))),Ca=r.lazy(()=>W(()=>import("./DokumenteVerwaltung-BpBhao2R.js"),__vite__mapDeps([124,1,125,4,5,9,126,10]))),Pa=r.lazy(()=>W(()=>import("./NotificationSystem-J3hQLsjx.js"),__vite__mapDeps([127,1,2,128,4,5,9,129,130]))),Ia=r.lazy(()=>W(()=>import("./PruefungsVerwaltung-DLJEnPCo.js"),__vite__mapDeps([131,1,5,4,9,10]))),Ba=r.lazy(()=>W(()=>import("./PruefungDurchfuehren-CpaaFbeX.js"),__vite__mapDeps([132,1,5,4,9,10]))),Fa=r.lazy(()=>W(()=>import("./BadgeAdminOverview-C9gpnCAn.js"),__vite__mapDeps([133,1,5,4,9]))),Ma=r.lazy(()=>W(()=>import("./SupportTickets-BJl-tEQI.js"),__vite__mapDeps([16,1,5,4,9,17]))),Va=r.lazy(()=>W(()=>import("./FeatureBoard-Dn6UNOoo.js"),__vite__mapDeps([22,1,5,4,9]))),Ua=r.lazy(()=>W(()=>import("./VerbandDashboard-CZOr28sf.js").then(e=>e.b),__vite__mapDeps([18,1,5,14,4,15,16,9,17,19]))),$a=r.lazy(()=>W(()=>import("./WebhookVerwaltung-B9ax7q2d.js"),__vite__mapDeps([134,1,5,4,9]))),Ha=r.lazy(()=>W(()=>import("./IntegrationsEinstellungen-DP4hIrgU.js"),__vite__mapDeps([135,1,5,4,9]))),Wa=r.lazy(()=>W(()=>import("./DatevExport-BSUexFbK.js"),__vite__mapDeps([136,1,5,4,9]))),Ka=r.lazy(()=>W(()=>import("./KalenderAbo-B202Pd6S.js"),__vite__mapDeps([137,1,5,4,9]))),qa=r.lazy(()=>W(()=>import("./PaymentCheckout-D5y5v0Zz.js"),__vite__mapDeps([138,1,76,5,4,9,139]))),Ga=r.lazy(()=>W(()=>import("./Events-DXolqJEr.js"),__vite__mapDeps([140,1,4,5,9,141,142,10]))),Ja=r.lazy(()=>W(()=>import("./MeineEvents-BEXjzJHF.js"),__vite__mapDeps([143,1,2,4,5,9,142]))),Za=r.lazy(()=>W(()=>import("./NewsVerwaltung-CN4kRg4S.js"),__vite__mapDeps([128,1,2,4,5,9,129]))),Ya=r.lazy(()=>W(()=>import("./NewsFormular-t-k6lpOo.js"),__vite__mapDeps([144,1,2,4,5,9,129]))),Xa=r.lazy(()=>W(()=>import("./Homepage-Bgs-5r4g.js"),__vite__mapDeps([145,1,146,4,5,9,147,148])));r.lazy(()=>W(()=>import("./PublicRegistration-Ciy3lli6.js"),__vite__mapDeps([146,1,4,5,9,147])));const Qa=r.lazy(()=>W(()=>import("./BuddyInviteRegistration-DmEYgm7l.js"),__vite__mapDeps([149,1,146,4,5,9,147]))),eo=r.lazy(()=>W(()=>import("./VerbandMitgliedWerden-D_2pju0N.js"),__vite__mapDeps([150,1,5,4,9]))),to=r.lazy(()=>W(()=>import("./ProbetrainingBuchung-BcH-EjvL.js"),__vite__mapDeps([151,1,5,4,9]))),no=r.lazy(()=>W(()=>import("./MagicLineImport-Dohe30-T.js"),__vite__mapDeps([152,1,5]))),ro=r.lazy(()=>W(()=>import("./PricingPage-DZXfjj8o.js"),__vite__mapDeps([153,1,154,155,4,5,9,156]))),so=r.lazy(()=>W(()=>import("./RegisterPage-D38wOUxa.js"),__vite__mapDeps([157,1,154,155,4,5,9,158]))),io=r.lazy(()=>W(()=>import("./ContactPage-B4aDzVpE.js"),__vite__mapDeps([159,1]))),ao=r.lazy(()=>W(()=>import("./ImpressumPage-B8z8J-Zt.js"),__vite__mapDeps([160,1]))),oo=r.lazy(()=>W(()=>import("./AboutPage-BbOSoVNp.js"),__vite__mapDeps([161,1]))),lo=r.lazy(()=>W(()=>import("./DatenschutzPage-DIrM3rs8.js"),__vite__mapDeps([162,1]))),co=r.lazy(()=>W(()=>import("./AGBPage-CWlycCwJ.js"),__vite__mapDeps([163,1]))),uo=r.lazy(()=>W(()=>import("./HelpPage-C0K2EejP.js"),__vite__mapDeps([164,1]))),ho=r.lazy(()=>W(()=>import("./GaleriePage-BlFq4DsG.js"),__vite__mapDeps([165,1]))),go=r.lazy(()=>W(()=>import("./DemoPage-B8sRO9Mf.js"),__vite__mapDeps([166,1]))),po=()=>s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",fontSize:"1rem",color:"#666"},children:s.jsx("div",{className:"loading-spinner"})}),mo=({children:e})=>{const{token:t,loading:n}=En();return n?s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"1.2rem",flexDirection:"column",gap:"1rem"},children:[s.jsx("div",{className:"loading-spinner-large"}),s.jsx("div",{children:"Authentifizierung wird gepr�ft..."})]}):t?e:(console.log("Kein Token gefunden, Weiterleitung zu Login"),s.jsx(u,{to:"/login",replace:!0}))},fo=({children:e})=>{const{token:t,user:n,loading:r}=En();return r?s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"1.2rem",flexDirection:"column",gap:"1rem"},children:[s.jsx("div",{className:"loading-spinner-large"}),s.jsx("div",{children:"Authentifizierung wird gepr�ft..."})]}):t?"admin"===(null==n?void 0:n.role)?(console.log("Admin versucht auf Member-Route zuzugreifen, Weiterleitung zu Dashboard"),s.jsx(u,{to:"/dashboard",replace:!0})):e:(console.log("Kein Token gefunden, Weiterleitung zu Login"),s.jsx(u,{to:"/login",replace:!0}))},bo=()=>{const{token:e,user:t,loading:n}=En();return n?s.jsx("div",{children:"Lade..."}):e?s.jsx(u,{to:"/dashboard",replace:!0}):s.jsx(Ai,{})},xo=()=>s.jsx(Xn,{children:s.jsx(wn,{children:s.jsx(qn,{children:s.jsx(Dn,{children:s.jsx(Cn,{children:s.jsx(An,{children:s.jsx(Hn,{children:s.jsx(h,{children:s.jsx(gs,{children:s.jsxs(g,{children:[s.jsx(p,{path:"/login",element:s.jsx(Ni,{})}),s.jsx(p,{path:"/pricing",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(ro,{})})}),s.jsx(p,{path:"/register",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(so,{})})}),s.jsx(p,{path:"/contact",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(io,{})})}),s.jsx(p,{path:"/impressum",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(ao,{})})}),s.jsx(p,{path:"/about",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(oo,{})})}),s.jsx(p,{path:"/datenschutz",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(lo,{})})}),s.jsx(p,{path:"/agb",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(co,{})})}),s.jsx(p,{path:"/help",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(uo,{})})}),s.jsx(p,{path:"/galerie",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(ho,{})})}),s.jsx(p,{path:"/demo",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(go,{})})}),s.jsx(p,{path:"/home",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Xa,{})})}),s.jsx(p,{path:"/public-checkin",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx($i,{})})}),s.jsx(p,{path:"/public-timetable",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Zi,{})})}),s.jsx(p,{path:"/registration/buddy-invite/:token",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Qa,{})})}),s.jsx(p,{path:"/verband/mitglied-werden",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(eo,{})})}),s.jsx(p,{path:"/probetraining",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(to,{})})}),s.jsx(p,{path:"/app-install",element:s.jsx(fo,{children:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Sa,{})})})}),s.jsx(p,{path:"/member/profile",element:s.jsx(fo,{children:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsxs("div",{className:"member-profile-wrapper",children:[s.jsx(fa,{}),s.jsx(Ci,{isAdmin:!1})]})})})}),s.jsx(p,{path:"/member/schedule",element:s.jsx(fo,{children:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(ba,{})})})}),s.jsx(p,{path:"/member/events",element:s.jsx(fo,{children:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(xa,{})})})}),s.jsx(p,{path:"/trainer",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Ea,{children:s.jsx(wa,{})})})}),s.jsx(p,{path:"/member/payments",element:s.jsx(fo,{children:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(ja,{})})})}),s.jsx(p,{path:"/member/stats",element:s.jsx(fo,{children:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(va,{})})})}),s.jsx(p,{path:"/member/rating",element:s.jsx(fo,{children:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(ka,{})})})}),s.jsx(p,{path:"/member/equipment",element:s.jsx(fo,{children:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(_a,{})})})}),s.jsx(p,{path:"/member/styles",element:s.jsx(fo,{children:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(ya,{})})})}),s.jsx(p,{path:"/member/kalender",element:s.jsx(fo,{children:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Ka,{})})})}),s.jsx(p,{path:"/member/support",element:s.jsx(fo,{children:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsxs("div",{className:"member-support-wrapper",children:[s.jsx(fa,{}),s.jsx("div",{style:{padding:"1rem"},children:s.jsx(Ma,{})})]})})})}),s.jsx(p,{path:"/member/wunschliste",element:s.jsx(fo,{children:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsxs("div",{className:"member-support-wrapper",children:[s.jsx(fa,{}),s.jsx("div",{style:{padding:"1rem"},children:s.jsx(Va,{})})]})})})}),s.jsx(p,{path:"/",element:s.jsx(bo,{})}),s.jsx(p,{path:"/dashboard-tda-vib",element:s.jsx(mo,{children:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Ri,{})})})}),s.jsx(p,{path:"/verband",element:s.jsx(mo,{children:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Ua,{})})})}),s.jsxs(p,{path:"/dashboard",element:s.jsx(mo,{children:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Ti,{})})}),children:[s.jsx(p,{index:!0,element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Di,{})})}),s.jsx(p,{path:"uebersicht",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Mi,{})})}),s.jsx(p,{path:"anwesenheit",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Fi,{})})}),s.jsx(p,{path:"mitglieder",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Oi,{})})}),s.jsx(p,{path:"mitglieder/:id",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Li,{})})}),s.jsx(p,{path:"ehemalige",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Pi,{})})}),s.jsx(p,{path:"interessenten",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Ii,{})})}),s.jsx(p,{path:"checkin",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Vi,{})})}),s.jsx(p,{path:"personal-checkin",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Ui,{})})}),s.jsx(p,{path:"tresen",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(ua,{})})}),s.jsx(p,{path:"artikelgruppen",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(ma,{})})}),s.jsx(p,{path:"artikel",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(ha,{})})}),s.jsx(p,{path:"artikel/neu",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(ga,{mode:"create"})})}),s.jsx(p,{path:"artikel/bearbeiten/:id",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(ga,{mode:"edit"})})}),s.jsx(p,{path:"kasse",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(pa,{})})}),s.jsx(p,{path:"stile",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Gi,{})})}),s.jsx(p,{path:"stile/:stilId",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Gi,{})})}),s.jsx(p,{path:"gruppen",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(qi,{})})}),s.jsx(p,{path:"standorte",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Ji,{})})}),s.jsx(p,{path:"kurse",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Wi,{})})}),s.jsx(p,{path:"stundenplan",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Hi,{})})}),s.jsx(p,{path:"trainer",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Ki,{})})}),s.jsx(p,{path:"termine",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Ia,{})})}),s.jsx(p,{path:"pruefung-durchfuehren",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Ba,{})})}),s.jsx(p,{path:"badges",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Fa,{})})}),s.jsx(p,{path:"events",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Ga,{})})}),s.jsx(p,{path:"meine-events",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Ja,{})})}),s.jsx(p,{path:"news",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Za,{})})}),s.jsx(p,{path:"news/neu",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Ya,{mode:"create"})})}),s.jsx(p,{path:"news/bearbeiten/:id",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Ya,{mode:"edit"})})}),s.jsx(p,{path:"support",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Ma,{})})}),s.jsx(p,{path:"finanzcockpit",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Yi,{})})}),s.jsx(p,{path:"euer",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Xi,{})})}),s.jsx(p,{path:"euer-tda",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Xi,{isTDA:!0})})}),s.jsx(p,{path:"ausgaben",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Qi,{})})}),s.jsx(p,{path:"mitglieder-filter/:filterType",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Bi,{})})}),s.jsx(p,{path:"beitraege",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(ea,{})})}),s.jsx(p,{path:"mahnwesen",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(ta,{})})}),s.jsx(p,{path:"mahnstufen-einstellungen",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(na,{})})}),s.jsx(p,{path:"rechnungen",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(ra,{})})}),s.jsx(p,{path:"rechnungen/:id",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(ra,{})})}),s.jsx(p,{path:"rechnung-erstellen",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(sa,{})})}),s.jsx(p,{path:"zahlung/:rechnungId",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(qa,{})})}),s.jsx(p,{path:"lastschriftlauf",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(aa,{})})}),s.jsx(p,{path:"sepa-mandate",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(ia,{})})}),s.jsx(p,{path:"zahllaeufe",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(aa,{})})}),s.jsx(p,{path:"zahlungszyklen",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(ca,{})})}),s.jsx(p,{path:"tarife",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(oa,{})})}),s.jsx(p,{path:"rabattsystem",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(la,{})})}),s.jsx(p,{path:"personal",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(za,{})})}),s.jsx(p,{path:"buddy-gruppen",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Ta,{})})}),s.jsx(p,{path:"auswertungen",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Ra,{})})}),s.jsx(p,{path:"course-ratings",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Na,{})})}),s.jsx(p,{path:"magicline-import",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(no,{})})}),s.jsx(p,{path:"berichte",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Da,{})})}),s.jsx(p,{path:"vertragsdokumente",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Ca,{})})}),s.jsx(p,{path:"dojos",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Oa,{})})}),s.jsx(p,{path:"dojos/edit/:id",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(La,{})})}),s.jsx(p,{path:"dojos/new",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(La,{})})}),s.jsx(p,{path:"notifications",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Pa,{})})}),s.jsx(p,{path:"einstellungen",element:s.jsx(u,{to:"/dashboard/dojos",replace:!0})}),s.jsx(p,{path:"einstellungen/meindojo",element:s.jsx(u,{to:"/dashboard/dojos",replace:!0})}),s.jsx(p,{path:"einstellungen/zahlungen",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(da,{})})}),s.jsx(p,{path:"audit-log",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Aa,{})})}),s.jsx(p,{path:"webhooks",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx($a,{})})}),s.jsx(p,{path:"integrationen",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Ha,{})})}),s.jsx(p,{path:"datev-export",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Wa,{})})}),s.jsx(p,{path:"kalender-sync",element:s.jsx(r.Suspense,{fallback:s.jsx(po,{}),children:s.jsx(Ka,{})})}),s.jsx(p,{path:"*",element:s.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"#666"},children:[s.jsx("h2",{children:"Seite nicht gefunden"}),s.jsx("p",{children:"Die angeforderte Dashboard-Seite existiert nicht."}),s.jsx("button",{onClick:()=>window.history.back(),style:{padding:"0.5rem 1rem",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Zur�ck"})]})})]}),s.jsx(p,{path:"*",element:s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",textAlign:"center",backgroundColor:"#f8f9fa"},children:[s.jsx("h1",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"404"}),s.jsx("h2",{style:{marginBottom:"1rem"},children:"Seite nicht gefunden"}),s.jsx("p",{style:{marginBottom:"2rem",color:"#666"},children:"Die angeforderte URL existiert nicht."}),s.jsx("button",{onClick:()=>window.location.href="/dashboard",style:{padding:"0.75rem 1.5rem",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem"},children:"Zum Dashboard"})]})})]})})})})})})})})})});class jo extends i.Component{constructor(e){super(e),t(this,"reportError",async(e,t)=>{try{await fetch("/api/errors/report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e.message,stack:e.stack,componentStack:null==t?void 0:t.componentStack,url:window.location.href,userAgent:navigator.userAgent,timestamp:(new Date).toISOString()})})}catch(n){}}),t(this,"handleReload",()=>{window.location.reload()}),t(this,"handleGoHome",()=>{window.location.href="/"}),t(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})}),this.state={hasError:!1,error:null,errorInfo:null,eventId:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t}),this.reportError(e,t)}render(){if(this.state.hasError){const e=!1;return s.jsx("div",{style:vo.container,children:s.jsxs("div",{style:vo.card,children:[s.jsx("div",{style:vo.iconContainer,children:s.jsx(S,{size:64,color:"#ef4444"})}),s.jsx("h1",{style:vo.title,children:"Etwas ist schiefgelaufen"}),s.jsx("p",{style:vo.message,children:"Ein unerwarteter Fehler ist aufgetreten. Bitte versuchen Sie es erneut oder kontaktieren Sie den Support, wenn das Problem weiterhin besteht."}),s.jsxs("div",{style:vo.buttonContainer,children:[s.jsxs("button",{onClick:this.handleReload,style:vo.primaryButton,children:[s.jsx(F,{size:18}),"Seite neu laden"]}),s.jsxs("button",{onClick:this.handleGoHome,style:vo.secondaryButton,children:[s.jsx(z,{size:18}),"Zur Startseite"]})]}),e]})})}return this.props.children}}const vo={container:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"20px",backgroundColor:"#0f172a",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},card:{backgroundColor:"#1e293b",borderRadius:"16px",padding:"40px",maxWidth:"600px",width:"100%",textAlign:"center",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)",border:"1px solid #334155"},iconContainer:{marginBottom:"24px"},title:{fontSize:"28px",fontWeight:"700",color:"#f1f5f9",marginBottom:"16px"},message:{fontSize:"16px",color:"#94a3b8",lineHeight:"1.6",marginBottom:"32px"},buttonContainer:{display:"flex",gap:"16px",justifyContent:"center",flexWrap:"wrap"},primaryButton:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",fontSize:"16px",fontWeight:"600",color:"#0f172a",backgroundColor:"#fbbf24",border:"none",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s"},secondaryButton:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",fontSize:"16px",fontWeight:"600",color:"#e2e8f0",backgroundColor:"transparent",border:"2px solid #475569",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s"}},{slice:yo,forEach:ko}=[];const _o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,So={create(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+60*n*1e3)),r&&(s.domain=r),document.cookie=function(e,t){const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{path:"/"};let r=`${e}=${encodeURIComponent(t)}`;if(n.maxAge>0){const e=n.maxAge-0;if(Number.isNaN(e))throw new Error("maxAge should be a Number");r+=`; Max-Age=${Math.floor(e)}`}if(n.domain){if(!_o.test(n.domain))throw new TypeError("option domain is invalid");r+=`; Domain=${n.domain}`}if(n.path){if(!_o.test(n.path))throw new TypeError("option path is invalid");r+=`; Path=${n.path}`}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");r+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(r+="; HttpOnly"),n.secure&&(r+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(r+="; Partitioned"),r}(e,t,s)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let e=n[r];for(;" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var wo={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&"undefined"!=typeof document)return So.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:s,cookieOptions:i}=t;n&&"undefined"!=typeof document&&So.create(n,e,r,s,i)}},Eo={name:"querystring",lookup(e){var t;let n,{lookupQuerystring:r}=e;if("undefined"!=typeof window){let{search:e}=window.location;!window.location.search&&(null==(t=window.location.hash)?void 0:t.indexOf("?"))>-1&&(e=window.location.hash.substring(window.location.hash.indexOf("?")));const s=e.substring(1).split("&");for(let t=0;t<s.length;t++){const e=s[t].indexOf("=");if(e>0){s[t].substring(0,e)===r&&(n=s[t].substring(e+1))}}}return n}},No={name:"hash",lookup(e){var t;let n,{lookupHash:r,lookupFromHashIndex:s}=e;if("undefined"!=typeof window){const{hash:e}=window.location;if(e&&e.length>2){const i=e.substring(1);if(r){const e=i.split("&");for(let t=0;t<e.length;t++){const s=e[t].indexOf("=");if(s>0){e[t].substring(0,s)===r&&(n=e[t].substring(s+1))}}}if(n)return n;if(!n&&s>-1){const n=e.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(n))return;return null==(t=n["number"==typeof s?s:0])?void 0:t.replace("/","")}}}return n}};let zo=null;const Ao=()=>{if(null!==zo)return zo;try{if(zo="undefined"!=typeof window&&null!==window.localStorage,!zo)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){zo=!1}return zo};var To={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&Ao())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&Ao()&&window.localStorage.setItem(n,e)}};let Ro=null;const Do=()=>{if(null!==Ro)return Ro;try{if(Ro="undefined"!=typeof window&&null!==window.sessionStorage,!Ro)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){Ro=!1}return Ro};var Oo={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&Do())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&Do()&&window.sessionStorage.setItem(n,e)}},Lo={name:"navigator",lookup(e){const t=[];if("undefined"!=typeof navigator){const{languages:e,userLanguage:n,language:r}=navigator;if(e)for(let s=0;s<e.length;s++)t.push(e[s]);n&&t.push(n),r&&t.push(r)}return t.length>0?t:void 0}},Co={name:"htmlTag",lookup(e){let t,{htmlTag:n}=e;const r=n||("undefined"!=typeof document?document.documentElement:null);return r&&"function"==typeof r.getAttribute&&(t=r.getAttribute("lang")),t}},Po={name:"path",lookup(e){var t;let{lookupFromPathIndex:n}=e;if("undefined"==typeof window)return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(r))return;return null==(t=r["number"==typeof n?n:0])?void 0:t.replace("/","")}},Io={name:"subdomain",lookup(e){var t,n;let{lookupFromSubdomainIndex:r}=e;const s="number"==typeof r?r+1:1,i="undefined"!=typeof window&&(null==(n=null==(t=window.location)?void 0:t.hostname)?void 0:n.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(i)return i[s]}};let Bo=!1;try{document.cookie,Bo=!0}catch(gl){}const Fo=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Bo||Fo.splice(1,1);class Mo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{languageUtils:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return ko.call(yo.call(arguments,1),t=>{if(t)for(const n in t)void 0===e[n]&&(e[n]=t[n])}),e}(t,this.options||{},{order:Fo,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}),"string"==typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=e=>e.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(wo),this.addDetector(Eo),this.addDetector(To),this.addDetector(Oo),this.addDetector(Lo),this.addDetector(Co),this.addDetector(Po),this.addDetector(Io),this.addDetector(No)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.order,t=[];return e.forEach(e=>{if(this.detectors[e]){let n=this.detectors[e].lookup(this.options);n&&"string"==typeof n&&(n=[n]),n&&(t=t.concat(n))}}),t=t.filter(e=>{return null!=e&&!("string"==typeof(t=e)&&[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(e=>e.test(t)));var t}).map(e=>this.options.convertDetectedLanguage(e)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(t=>{this.detectors[t]&&this.detectors[t].cacheUserLanguage(e,this.options)}))}}function Vo(e){return(Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uo(){return"function"==typeof XMLHttpRequest||"object"===("undefined"==typeof XMLHttpRequest?"undefined":Vo(XMLHttpRequest))}function $o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ho(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$o(Object(n),!0).forEach(function(t){Wo(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Wo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ko(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Ko(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ko(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ko(e){return(Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Mo.type="languageDetector";var qo,Go,Jo="function"==typeof fetch?fetch:void 0;if("undefined"!=typeof global&&global.fetch?Jo=global.fetch:"undefined"!=typeof window&&window.fetch&&(Jo=window.fetch),Uo()&&("undefined"!=typeof global&&global.XMLHttpRequest?qo=global.XMLHttpRequest:"undefined"!=typeof window&&window.XMLHttpRequest&&(qo=window.XMLHttpRequest)),"function"==typeof ActiveXObject&&("undefined"!=typeof global&&global.ActiveXObject?Go=global.ActiveXObject:"undefined"!=typeof window&&window.ActiveXObject&&(Go=window.ActiveXObject)),"function"!=typeof Jo&&(Jo=void 0),!Jo&&!qo&&!Go)try{W(()=>import("./browser-ponyfill-C4cORrV5.js").then(e=>e.b),__vite__mapDeps([167,1])).then(function(e){Jo=e.default}).catch(function(){})}catch(gl){}var Zo=function(e,t){if(t&&"object"===Ko(t)){var n="";for(var r in t)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t[r]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e},Yo=function(e,t,n,r){var s=function(e){if(!e.ok)return n(e.statusText||"Error",{status:e.status});e.text().then(function(t){n(null,{status:e.status,data:t})}).catch(n)};if(r){var i=r(e,t);if(i instanceof Promise)return void i.then(s).catch(n)}"function"==typeof fetch?fetch(e,t).then(s).catch(n):Jo(e,t).then(s).catch(n)},Xo=!1,Qo=function(e,t,n,r){return"function"==typeof n&&(r=n,n=void 0),r=r||function(){},Jo&&0!==t.indexOf("file:")?function(e,t,n,r){e.queryStringParams&&(t=Zo(t,e.queryStringParams));var s=Ho({},"function"==typeof e.customHeaders?e.customHeaders():e.customHeaders);"undefined"==typeof window&&"undefined"!=typeof global&&void 0!==global.process&&global.process.versions&&global.process.versions.node&&(s["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),n&&(s["Content-Type"]="application/json");var i="function"==typeof e.requestOptions?e.requestOptions(n):e.requestOptions,a=Ho({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:s},Xo?{}:i),o="function"==typeof e.alternateFetch&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{Yo(t,a,r,o)}catch(gl){if(!i||0===Object.keys(i).length||!gl.message||gl.message.indexOf("not implemented")<0)return r(gl);try{Object.keys(i).forEach(function(e){delete a[e]}),Yo(t,a,r,o),Xo=!0}catch(l){r(l)}}}(e,t,n,r):Uo()||"function"==typeof ActiveXObject?function(e,t,n,r){n&&"object"===Ko(n)&&(n=Zo("",n).slice(1)),e.queryStringParams&&(t=Zo(t,e.queryStringParams));try{var s=qo?new qo:new Go("MSXML2.XMLHTTP.3.0");s.open(n?"POST":"GET",t,1),e.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!e.withCredentials,n&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var i=e.customHeaders;if(i="function"==typeof i?i():i)for(var a in i)s.setRequestHeader(a,i[a]);s.onreadystatechange=function(){s.readyState>3&&r(s.status>=400?s.statusText:null,{status:s.status,data:s.responseText})},s.send(n)}catch(gl){console&&console.log(gl)}}(e,t,n,r):void r(new Error("No fetch and no xhr implementation found!"))};function el(e){return(el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tl(Object(n),!0).forEach(function(t){sl(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rl(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,il(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sl(e,t,n){return(t=il(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function il(e){var t=function(e,t){if("object"!=el(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=el(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==el(t)?t:t+""}var al=rl(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.services=t,this.options=n,this.allOptions=r,this.type="backend",this.init(t,n,r)},[{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.services=e,this.options=nl(nl(nl({},{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(e){return JSON.parse(e)},stringify:JSON.stringify,parsePayload:function(e,t,n){return sl({},t,n||"")},parseLoadPayload:function(e,t){},request:Qo,reloadInterval:"undefined"==typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}),this.options||{}),n),this.allOptions=r,this.services&&this.options.reloadInterval){var s=setInterval(function(){return t.reload()},this.options.reloadInterval);"object"===el(s)&&"function"==typeof s.unref&&s.unref()}}},{key:"readMulti",value:function(e,t,n){this._readAny(e,e,t,t,n)}},{key:"read",value:function(e,t,n){this._readAny([e],e,[t],t,n)}},{key:"_readAny",value:function(e,t,n,r,s){var i,a=this,o=this.options.loadPath;"function"==typeof this.options.loadPath&&(o=this.options.loadPath(e,n)),(o=function(e){return!!e&&"function"==typeof e.then}(i=o)?i:Promise.resolve(i)).then(function(i){if(!i)return s(null,{});var o=a.services.interpolator.interpolate(i,{lng:e.join("+"),ns:n.join("+")});a.loadUrl(o,s,t,r)})}},{key:"loadUrl",value:function(e,t,n,r){var s=this,i="string"==typeof n?[n]:n,a="string"==typeof r?[r]:r,o=this.options.parseLoadPayload(i,a);this.options.request(this.options,e,o,function(i,a){if(a&&(a.status>=500&&a.status<600||!a.status))return t("failed loading "+e+"; status code: "+a.status,!0);if(a&&a.status>=400&&a.status<500)return t("failed loading "+e+"; status code: "+a.status,!1);if(!a&&i&&i.message){var o=i.message.toLowerCase();if(["failed","fetch","network","load"].find(function(e){return o.indexOf(e)>-1}))return t("failed loading "+e+": "+i.message,!0)}if(i)return t(i,!1);var l,c;try{l="string"==typeof a.data?s.options.parse(a.data,n,r):a.data}catch(gl){c="failed parsing "+e+" to json"}if(c)return t(c,!1);t(null,l)})}},{key:"create",value:function(e,t,n,r,s){var i=this;if(this.options.addPath){"string"==typeof e&&(e=[e]);var a=this.options.parsePayload(t,n,r),o=0,l=[],c=[];e.forEach(function(n){var r=i.options.addPath;"function"==typeof i.options.addPath&&(r=i.options.addPath(n,t));var d=i.services.interpolator.interpolate(r,{lng:n,ns:t});i.options.request(i.options,d,a,function(t,n){o+=1,l.push(t),c.push(n),o===e.length&&"function"==typeof s&&s(l,c)})})}}},{key:"reload",value:function(){var e=this,t=this.services,n=t.backendConnector,r=t.languageUtils,s=t.logger,i=n.language;if(!i||"cimode"!==i.toLowerCase()){var a=[],o=function(e){r.toResolveHierarchy(e).forEach(function(e){a.indexOf(e)<0&&a.push(e)})};o(i),this.allOptions.preload&&this.allOptions.preload.forEach(function(e){return o(e)}),a.forEach(function(t){e.allOptions.ns.forEach(function(e){n.read(t,e,"read",null,null,function(r,i){r&&s.warn("loading namespace ".concat(e," for language ").concat(t," failed"),r),!r&&i&&s.log("loaded namespace ".concat(e," for language ").concat(t),i),n.loaded("".concat(t,"|").concat(e),r,i)})})})}}}]);al.type="backend";const ol={buttons:{save:"Speichern",cancel:"Abbrechen",delete:"Löschen",edit:"Bearbeiten",back:"Zurück",next:"Weiter",submit:"Absenden",close:"Schließen",confirm:"Bestätigen",add:"Hinzufügen",remove:"Entfernen",search:"Suchen",filter:"Filtern",refresh:"Aktualisieren",download:"Herunterladen",upload:"Hochladen",export:"Exportieren",import:"Importieren",print:"Drucken"},labels:{email:"E-Mail",password:"Passwort",name:"Name",firstName:"Vorname",lastName:"Nachname",phone:"Telefon",address:"Adresse",city:"Stadt",zip:"PLZ",country:"Land",date:"Datum",time:"Uhrzeit",status:"Status",category:"Kategorie",description:"Beschreibung",notes:"Notizen",actions:"Aktionen"},messages:{loading:"Laden...",saving:"Speichern...",success:"Erfolgreich gespeichert",error:"Ein Fehler ist aufgetreten",confirmDelete:"Wirklich löschen?",noData:"Keine Daten vorhanden",noResults:"Keine Ergebnisse gefunden",required:"Pflichtfeld",invalidEmail:"Ungültige E-Mail-Adresse",passwordTooShort:"Passwort zu kurz",welcome:"Willkommen",goodbye:"Auf Wiedersehen"},navigation:{dashboard:"Dashboard",members:"Mitglieder",courses:"Kurse",schedule:"Stundenplan",finance:"Finanzen",settings:"Einstellungen",support:"Support",logout:"Abmelden",profile:"Profil",help:"Hilfe"},language:{select:"Sprache wählen",german:"Deutsch",english:"English",italian:"Italiano"}},ll={login:{title:"Anmelden",subtitle:"Willkommen zurück",email:"E-Mail-Adresse",emailPlaceholder:"ihre@email.de",password:"Passwort",passwordPlaceholder:"Ihr Passwort",button:"Anmelden",loading:"Wird angemeldet...",rememberMe:"Angemeldet bleiben",forgotPassword:"Passwort vergessen?",noAccount:"Noch kein Konto?",register:"Jetzt registrieren",or:"oder",demoAccess:"Demo-Zugang"},register:{title:"Registrieren",subtitle:"Neues Konto erstellen",firstName:"Vorname",lastName:"Nachname",email:"E-Mail-Adresse",password:"Passwort",confirmPassword:"Passwort bestätigen",button:"Registrieren",loading:"Wird registriert...",hasAccount:"Bereits ein Konto?",login:"Jetzt anmelden",termsAgree:"Ich akzeptiere die",terms:"AGB",and:"und",privacy:"Datenschutzerklärung"},forgotPassword:{title:"Passwort vergessen",subtitle:"Geben Sie Ihre E-Mail-Adresse ein",email:"E-Mail-Adresse",button:"Link senden",success:"E-Mail wurde gesendet",backToLogin:"Zurück zur Anmeldung"},resetPassword:{title:"Neues Passwort",subtitle:"Geben Sie Ihr neues Passwort ein",password:"Neues Passwort",confirmPassword:"Passwort bestätigen",button:"Passwort ändern",success:"Passwort wurde geändert"},errors:{invalidCredentials:"Ungültige Anmeldedaten",userNotFound:"Benutzer nicht gefunden",wrongPassword:"Falsches Passwort",emailInUse:"E-Mail bereits registriert",weakPassword:"Passwort zu schwach",passwordMismatch:"Passwörter stimmen nicht überein",serverError:"Serverfehler. Bitte später erneut versuchen.",networkError:"Netzwerkfehler. Prüfen Sie Ihre Verbindung.",sessionExpired:"Sitzung abgelaufen. Bitte erneut anmelden.",accountLocked:"Konto gesperrt. Kontaktieren Sie den Support.",requiredField:"Dieses Feld ist erforderlich",invalidEmail:"Ungültige E-Mail-Adresse",tooManyAttempts:"Zu viele Versuche. Bitte warten Sie."},success:{loginSuccess:"Erfolgreich angemeldet",logoutSuccess:"Erfolgreich abgemeldet",registerSuccess:"Erfolgreich registriert",passwordChanged:"Passwort wurde geändert"}};ri.use(al).use(Mo).use(mi).init({resources:{de:{common:ol,auth:ll}},backend:{loadPath:"/locales/{{lng}}/{{ns}}.json",requestOptions:{cache:"default"}},fallbackLng:"de",defaultNS:"common",ns:["common","auth","dashboard","member","members","finance","courses"],partialBundledLanguages:!0,detection:{order:["localStorage","navigator"],caches:["localStorage"],lookupLocalStorage:"i18nextLng"},interpolation:{escapeValue:!1},react:{useSuspense:!1}});const cl=r.createContext(),dl=({children:e})=>{const[t,n]=r.useState([]),[i,a]=r.useState([]),[o,l]=r.useState([]),[c,d]=r.useState([]),[u,h]=r.useState(!1),[g,p]=r.useState(!1),m=r.useCallback(async()=>{if(g)console.log("📊 DatenContext: Daten bereits geladen - Skip");else{console.log("📊 DatenContext: Lade Daten..."),h(!0);try{const[e,t,r,s]=await Promise.all([Nn.get("/kurse").catch(e=>{var t;return console.warn("⚠️ Fehler beim Laden der Kurse:",null==(t=e.response)?void 0:t.status),{data:[]}}),Nn.get("/trainer").catch(e=>{var t;return console.warn("⚠️ Fehler beim Laden der Trainer:",null==(t=e.response)?void 0:t.status),{data:[]}}),Nn.get("/stile").catch(e=>{var t;return console.warn("⚠️ Fehler beim Laden der Stile:",null==(t=e.response)?void 0:t.status),{data:[]}}),Nn.get("/gruppen").catch(e=>{var t;return console.warn("⚠️ Fehler beim Laden der Gruppen:",null==(t=e.response)?void 0:t.status),{data:[]}})]);n(e.data),a(t.data),l(r.data),d(s.data),p(!0),console.log("✅ DatenContext: Daten erfolgreich geladen")}catch(e){console.error("❌ DatenContext: Fehler beim Laden der Daten:",e)}finally{h(!1)}}},[g]);r.useEffect(()=>{const e=e=>{console.log("📊 DatenContext: User eingeloggt - Lade Daten"),m()};return window.addEventListener("userLoggedIn",e),()=>{window.removeEventListener("userLoggedIn",e)}},[m]);const f={kurse:t,trainer:i,stile:o,gruppen:c,loading:u,ladeAlleDaten:m,setKurse:n,setTrainer:a,setStile:l,setGruppen:d};return s.jsx(cl.Provider,{value:f,children:e})};Gt.defaults.baseURL=kn.apiBaseUrl,Gt.interceptors.request.use(e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));const ul=new a({defaultOptions:{queries:{staleTime:3e5,gcTime:18e5,retry:1,refetchOnWindowFocus:!1}}});$.createRoot(document.getElementById("root")).render(s.jsx(i.StrictMode,{children:s.jsx(jo,{children:s.jsx(o,{client:ul,children:s.jsx(dl,{children:s.jsx(xo,{})})})})}));const hl=window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone;"serviceWorker"in navigator&&!hl?(console.log("📱 PWA läuft im Browser - Service Worker wird registriert"),window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js",{scope:"/"}).then(e=>{console.log("✅ Service Worker registriert:",e.scope),setInterval(()=>{e.update()},36e5)}).catch(e=>{console.warn("⚠️ Service Worker Registrierung fehlgeschlagen:",e)})})):hl&&(console.log("🚀 PWA läuft als installierte App - Service Worker DEAKTIVIERT (verhindert Flackern)"),"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(e=>{e.forEach(e=>{console.log("🧹 Deregistriere Service Worker in standalone mode:",e.scope),e.unregister()})}));export{cl as D,wi as L,_i as N,xn as S,ki as V,Gt as a,Rn as b,kn as c,yi as d,Ln as e,ir as f,$n as g,Qn as h,Bn as i,Fn as j,Mn as k,us as l,rr as m,En as u};
