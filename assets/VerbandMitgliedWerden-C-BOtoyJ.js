import{a as e,j as t}from"./query-Caj74EYQ.js";import{a as r,c as s}from"./index-lGWqIYMX.js";import{S as n}from"./SumUpCheckout-DS7lrZJW.js";import{a9 as i,k as l,az as a,a0 as o,L as d,N as c,U as h,aX as p,aY as u,F as m,K as g,b9 as x,g as y,d as j,_ as f}from"./icons-C9nQ4cWf.js";import{u as b}from"./vendor-router-B2AaIOtG.js";import"./charts-QHQg_ypW.js";import"./index-wRQyZq66.js";const v=()=>{const v=b(),[S,k]=e.useState(1),[B,C]=e.useState(!1),[_,T]=e.useState(""),[w,D]=e.useState(!1),[A,G]=e.useState({}),[I,R]=e.useState([]),[M,W]=e.useState({typ:"",dojo_name:"",dojo_inhaber:"",dojo_strasse:"",dojo_plz:"",dojo_ort:"",dojo_land:"Deutschland",dojo_email:"",dojo_telefon:"",dojo_website:"",dojo_mitglieder_anzahl:"",vorname:"",nachname:"",geburtsdatum:"",strasse:"",plz:"",ort:"",land:"Deutschland",email:"",telefon:"",zahlungsart:"rechnung",iban:"",bic:"",kontoinhaber:"",bank_name:"",agb_accepted:!1,dsgvo_accepted:!1,widerrufsrecht_acknowledged:!1,notizen:""}),E=e.useRef(null),[P,F]=e.useState(!1),[L,U]=e.useState(null),[N,Z]=e.useState(!1),[K,$]=e.useState(!1),[V,J]=e.useState(null);e.useEffect(()=>{X(),H(),O()},[]);const O=async()=>{var e,t;try{const n=await r.get(`${s.apiBaseUrl}/sumup/status?dojo_id=2`);Z((null==(e=n.data)?void 0:e.active)&&(null==(t=n.data)?void 0:t.configured))}catch(n){Z(!1)}},X=async()=>{try{const e=await fetch(`${s.apiBaseUrl}/verbandsmitgliedschaften/public/config`),t=await e.json();!1!==t.success&&G(t)}catch(e){console.error("Fehler beim Laden der Konfiguration:",e),G({preis_dojo:99,preis_einzel:49,verband_name:"Tiger & Dragon Association International"})}},H=async()=>{try{const e=await fetch(`${s.apiBaseUrl}/verbandsmitgliedschaften/public/vorteile`),t=await e.json();Array.isArray(t)&&R(t)}catch(e){console.error("Fehler beim Laden der Vorteile:",e)}},Y=e=>{const{name:t,value:r,type:s,checked:n}=e.target;W(e=>({...e,[t]:"checkbox"===s?n:r}))},q=e=>{W(t=>({...t,typ:e})),k(2)},Q=()=>{switch(S){case 2:if("dojo"===M.typ){if(!M.dojo_name||!M.dojo_inhaber||!M.dojo_email)return T("Bitte füllen Sie alle Pflichtfelder aus."),!1}else if(!M.vorname||!M.nachname||!M.email)return T("Bitte füllen Sie alle Pflichtfelder aus."),!1;return!!ee("dojo"===M.typ?M.dojo_email:M.email)||(T("Bitte geben Sie eine gültige E-Mail-Adresse ein."),!1);case 3:if("lastschrift"===M.zahlungsart){if(!M.iban||!M.kontoinhaber)return T("Bitte füllen Sie die SEPA-Daten aus."),!1;if(!te(M.iban))return T("Bitte geben Sie eine gültige IBAN ein."),!1}return!("sumup"===M.zahlungsart&&!K)||(T("Bitte schließen Sie die Kartenzahlung ab, bevor Sie fortfahren."),!1);case 4:return M.agb_accepted&&M.dsgvo_accepted&&M.widerrufsrecht_acknowledged?!!L||(T("Bitte unterschreiben Sie im Unterschriftsfeld."),!1):(T("Bitte akzeptieren Sie alle erforderlichen Bedingungen."),!1);default:return!0}},ee=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),te=e=>{const t=e.replace(/\s/g,"").toUpperCase();return/^[A-Z]{2}[0-9]{2}[A-Z0-9]{4,}$/.test(t)&&t.length>=15},re=()=>{const e=E.current;if(!e)return;const t=e.getContext("2d");t.fillStyle="#fff",t.fillRect(0,0,e.width,e.height),t.strokeStyle="#000",t.lineWidth=2,t.lineCap="round"};e.useEffect(()=>{4===S&&setTimeout(re,100)},[S]);const se=e=>{const t=E.current,r=t.getBoundingClientRect(),s=e.touches?e.touches[0].clientX:e.clientX,n=e.touches?e.touches[0].clientY:e.clientY;return{x:(s-r.left)*(t.width/r.width),y:(n-r.top)*(t.height/r.height)}},ne=e=>{e.preventDefault(),F(!0);const t=E.current.getContext("2d"),r=se(e);t.beginPath(),t.moveTo(r.x,r.y)},ie=e=>{if(!P)return;e.preventDefault();const t=E.current.getContext("2d"),r=se(e);t.lineTo(r.x,r.y),t.stroke()},le=()=>{if(P){F(!1);const e=E.current;U(e.toDataURL("image/png"))}},ae=()=>{U(null),re()};return t.jsxs("div",{style:z.container,children:[t.jsxs("div",{style:z.header,children:[t.jsx("img",{src:"/api/dojo-logos/2/haupt",alt:"TDA International",style:z.logo,onError:e=>{e.target.style.display="none"}}),t.jsx("h1",{style:z.title,children:"Tiger & Dragon Association International"}),t.jsx("p",{style:z.subtitle,children:"Verbandsmitgliedschaft"})]}),S<5&&t.jsx("div",{style:z.progressBar,children:[1,2,3,4].map(e=>t.jsx("div",{style:{...z.progressStep,...S>=e?z.progressStepActive:{}},children:S>e?t.jsx(i,{size:16}):e},e))}),_&&t.jsxs("div",{style:z.errorBox,children:[t.jsx(l,{size:20}),_]}),t.jsxs("div",{style:z.content,children:[1===S&&t.jsxs("div",{style:z.stepContent,children:[t.jsx("h2",{style:z.stepTitle,children:"Mitgliedschaftstyp wählen"}),t.jsx("p",{style:z.stepSubtitle,children:"Wählen Sie die Art der Mitgliedschaft"}),t.jsxs("div",{style:z.typCards,children:[t.jsxs("div",{style:z.typCard,onClick:()=>q("dojo"),children:[t.jsx("div",{style:z.typIcon,children:t.jsx(c,{size:48})}),t.jsx("h3",{style:z.typTitle,children:"Dojo-Mitgliedschaft"}),t.jsxs("p",{style:z.typPrice,children:[A.preis_dojo||99," € / Jahr"]}),t.jsx("p",{style:z.typDesc,children:"Für Kampfkunstschulen und Vereine"}),t.jsxs("ul",{style:z.typFeatures,children:[t.jsxs("li",{children:[t.jsx(i,{size:16})," Offizieller TDA-Dojo-Status"]}),t.jsxs("li",{children:[t.jsx(i,{size:16})," Graduierungslizenzen"]}),t.jsxs("li",{children:[t.jsx(i,{size:16})," Turnierveranstaltungen"]}),t.jsxs("li",{children:[t.jsx(i,{size:16})," Seminare & Workshops"]})]}),t.jsxs("button",{style:z.typButton,children:["Dojo anmelden ",t.jsx(o,{size:20})]})]}),t.jsxs("div",{style:z.typCard,onClick:()=>q("einzel"),children:[t.jsx("div",{style:z.typIcon,children:t.jsx(h,{size:48})}),t.jsx("h3",{style:z.typTitle,children:"Einzelmitgliedschaft"}),t.jsxs("p",{style:z.typPrice,children:[A.preis_einzel||49," € / Jahr"]}),t.jsx("p",{style:z.typDesc,children:"Für einzelne Kampfkünstler"}),t.jsxs("ul",{style:z.typFeatures,children:[t.jsxs("li",{children:[t.jsx(i,{size:16})," Persönlicher Mitgliedsausweis"]}),t.jsxs("li",{children:[t.jsx(i,{size:16})," Rabatte auf Seminare"]}),t.jsxs("li",{children:[t.jsx(i,{size:16})," Turnierrabatte"]}),t.jsxs("li",{children:[t.jsx(i,{size:16})," Newsletter & News"]})]}),t.jsxs("button",{style:z.typButton,children:["Jetzt anmelden ",t.jsx(o,{size:20})]})]})]}),I.length>0&&t.jsxs("div",{style:z.vorteileSection,children:[t.jsxs("h3",{style:z.vorteileTitle,children:[t.jsx(p,{size:20})," Mitglieder-Vorteile"]}),t.jsx("div",{style:z.vorteileGrid,children:I.slice(0,4).map((e,r)=>t.jsxs("div",{style:z.vorteilCard,children:[t.jsx(u,{size:24,color:"#ffd700"}),t.jsx("span",{children:e.titel}),e.rabatt_wert>0&&t.jsx("strong",{style:{color:"#ffd700"},children:"prozent"===e.rabatt_typ?`-${e.rabatt_wert}%`:`-${e.rabatt_wert}€`})]},r))}),t.jsx("p",{style:z.undVielesMehr,children:"...und vieles mehr!"})]})]}),2===S&&t.jsxs("div",{style:z.stepContent,children:[t.jsx("h2",{style:z.stepTitle,children:"dojo"===M.typ?"Dojo-Informationen":"Persönliche Daten"}),t.jsx("p",{style:z.stepSubtitle,children:"Bitte füllen Sie alle Pflichtfelder aus"}),"dojo"===M.typ?t.jsxs("div",{style:z.formGrid,children:[t.jsxs("div",{style:z.formGroup,children:[t.jsx("label",{style:z.label,children:"Dojo-Name *"}),t.jsx("input",{type:"text",name:"dojo_name",value:M.dojo_name,onChange:Y,style:z.input,placeholder:"z.B. Tiger Dojo München"})]}),t.jsxs("div",{style:z.formGroup,children:[t.jsx("label",{style:z.label,children:"Inhaber / Schulleiter *"}),t.jsx("input",{type:"text",name:"dojo_inhaber",value:M.dojo_inhaber,onChange:Y,style:z.input,placeholder:"Vor- und Nachname"})]}),t.jsxs("div",{style:z.formGroup,children:[t.jsx("label",{style:z.label,children:"E-Mail *"}),t.jsx("input",{type:"email",name:"dojo_email",value:M.dojo_email,onChange:Y,style:z.input,placeholder:"dojo@beispiel.de"})]}),t.jsxs("div",{style:z.formGroup,children:[t.jsx("label",{style:z.label,children:"Telefon"}),t.jsx("input",{type:"tel",name:"dojo_telefon",value:M.dojo_telefon,onChange:Y,style:z.input,placeholder:"+49 123 456789"})]}),t.jsxs("div",{style:z.formGroup,children:[t.jsx("label",{style:z.label,children:"Straße"}),t.jsx("input",{type:"text",name:"dojo_strasse",value:M.dojo_strasse,onChange:Y,style:z.input,placeholder:"Musterstraße 123"})]}),t.jsxs("div",{style:z.formGroupRow,children:[t.jsxs("div",{style:z.formGroupSmall,children:[t.jsx("label",{style:z.label,children:"PLZ"}),t.jsx("input",{type:"text",name:"dojo_plz",value:M.dojo_plz,onChange:Y,style:z.input,placeholder:"12345"})]}),t.jsxs("div",{style:z.formGroupLarge,children:[t.jsx("label",{style:z.label,children:"Ort"}),t.jsx("input",{type:"text",name:"dojo_ort",value:M.dojo_ort,onChange:Y,style:z.input,placeholder:"München"})]})]}),t.jsxs("div",{style:z.formGroup,children:[t.jsx("label",{style:z.label,children:"Website"}),t.jsx("input",{type:"url",name:"dojo_website",value:M.dojo_website,onChange:Y,style:z.input,placeholder:"https://www.meindojo.de"})]}),t.jsxs("div",{style:z.formGroup,children:[t.jsx("label",{style:z.label,children:"Ungefähre Mitgliederzahl"}),t.jsx("input",{type:"number",name:"dojo_mitglieder_anzahl",value:M.dojo_mitglieder_anzahl,onChange:Y,style:z.input,placeholder:"z.B. 50"})]})]}):t.jsxs("div",{style:z.formGrid,children:[t.jsxs("div",{style:z.formGroup,children:[t.jsx("label",{style:z.label,children:"Vorname *"}),t.jsx("input",{type:"text",name:"vorname",value:M.vorname,onChange:Y,style:z.input,placeholder:"Max"})]}),t.jsxs("div",{style:z.formGroup,children:[t.jsx("label",{style:z.label,children:"Nachname *"}),t.jsx("input",{type:"text",name:"nachname",value:M.nachname,onChange:Y,style:z.input,placeholder:"Mustermann"})]}),t.jsxs("div",{style:z.formGroup,children:[t.jsx("label",{style:z.label,children:"E-Mail *"}),t.jsx("input",{type:"email",name:"email",value:M.email,onChange:Y,style:z.input,placeholder:"max@beispiel.de"})]}),t.jsxs("div",{style:z.formGroup,children:[t.jsx("label",{style:z.label,children:"Telefon"}),t.jsx("input",{type:"tel",name:"telefon",value:M.telefon,onChange:Y,style:z.input,placeholder:"+49 123 456789"})]}),t.jsxs("div",{style:z.formGroup,children:[t.jsx("label",{style:z.label,children:"Geburtsdatum"}),t.jsx("input",{type:"date",name:"geburtsdatum",value:M.geburtsdatum,onChange:Y,style:z.input})]}),t.jsxs("div",{style:z.formGroup,children:[t.jsx("label",{style:z.label,children:"Straße"}),t.jsx("input",{type:"text",name:"strasse",value:M.strasse,onChange:Y,style:z.input,placeholder:"Musterstraße 123"})]}),t.jsxs("div",{style:z.formGroupRow,children:[t.jsxs("div",{style:z.formGroupSmall,children:[t.jsx("label",{style:z.label,children:"PLZ"}),t.jsx("input",{type:"text",name:"plz",value:M.plz,onChange:Y,style:z.input,placeholder:"12345"})]}),t.jsxs("div",{style:z.formGroupLarge,children:[t.jsx("label",{style:z.label,children:"Ort"}),t.jsx("input",{type:"text",name:"ort",value:M.ort,onChange:Y,style:z.input,placeholder:"München"})]})]})]})]}),3===S&&t.jsxs("div",{style:z.stepContent,children:[t.jsx("h2",{style:z.stepTitle,children:"Zahlungsinformationen"}),t.jsx("p",{style:z.stepSubtitle,children:"Wählen Sie Ihre bevorzugte Zahlungsart"}),t.jsxs("div",{style:z.zahlungsarten,children:[t.jsxs("label",{style:{...z.zahlungsartCard,borderColor:"rechnung"===M.zahlungsart?"#ffd700":"rgba(255,255,255,0.1)"},children:[t.jsx("input",{type:"radio",name:"zahlungsart",value:"rechnung",checked:"rechnung"===M.zahlungsart,onChange:Y,style:{display:"none"}}),t.jsx(m,{size:32,color:"rechnung"===M.zahlungsart?"#ffd700":"#888"}),t.jsx("span",{style:z.zahlungsartTitle,children:"Rechnung"}),t.jsx("span",{style:z.zahlungsartDesc,children:"Zahlung per Überweisung"})]}),t.jsxs("label",{style:{...z.zahlungsartCard,borderColor:"lastschrift"===M.zahlungsart?"#ffd700":"rgba(255,255,255,0.1)"},children:[t.jsx("input",{type:"radio",name:"zahlungsart",value:"lastschrift",checked:"lastschrift"===M.zahlungsart,onChange:Y,style:{display:"none"}}),t.jsx(g,{size:32,color:"lastschrift"===M.zahlungsart?"#ffd700":"#888"}),t.jsx("span",{style:z.zahlungsartTitle,children:"SEPA-Lastschrift"}),t.jsx("span",{style:z.zahlungsartDesc,children:"Bequem & automatisch"})]}),N&&t.jsxs("label",{style:{...z.zahlungsartCard,borderColor:"sumup"===M.zahlungsart?"#ffd700":"rgba(255,255,255,0.1)"},children:[t.jsx("input",{type:"radio",name:"zahlungsart",value:"sumup",checked:"sumup"===M.zahlungsart,onChange:Y,style:{display:"none"}}),t.jsx(x,{size:32,color:"sumup"===M.zahlungsart?"#ffd700":"#888"}),t.jsx("span",{style:z.zahlungsartTitle,children:"Kartenzahlung"}),t.jsx("span",{style:z.zahlungsartDesc,children:"Mit SumUp sofort bezahlen"})]})]}),"lastschrift"===M.zahlungsart&&t.jsxs("div",{style:z.sepaSection,children:[t.jsxs("h3",{style:z.sectionTitle,children:[t.jsx(g,{size:20})," SEPA-Bankverbindung"]}),t.jsxs("div",{style:z.formGrid,children:[t.jsxs("div",{style:z.formGroup,children:[t.jsx("label",{style:z.label,children:"Kontoinhaber *"}),t.jsx("input",{type:"text",name:"kontoinhaber",value:M.kontoinhaber,onChange:Y,style:z.input,placeholder:"Max Mustermann"})]}),t.jsxs("div",{style:z.formGroup,children:[t.jsx("label",{style:z.label,children:"IBAN *"}),t.jsx("input",{type:"text",name:"iban",value:M.iban,onChange:Y,style:z.input,placeholder:"DE89 3704 0044 0532 0130 00"})]}),t.jsxs("div",{style:z.formGroup,children:[t.jsx("label",{style:z.label,children:"BIC"}),t.jsx("input",{type:"text",name:"bic",value:M.bic,onChange:Y,style:z.input,placeholder:"COBADEFFXXX"})]}),t.jsxs("div",{style:z.formGroup,children:[t.jsx("label",{style:z.label,children:"Bank"}),t.jsx("input",{type:"text",name:"bank_name",value:M.bank_name,onChange:Y,style:z.input,placeholder:"Commerzbank"})]})]})]}),"sumup"===M.zahlungsart&&!K&&t.jsxs("div",{style:z.sumupSection,children:[t.jsxs("h3",{style:z.sectionTitle,children:[t.jsx(x,{size:20})," Kartenzahlung mit SumUp"]}),t.jsx("p",{style:{color:"rgba(255,255,255,0.7)",marginBottom:"1rem"},children:"Bezahlen Sie den Jahresbeitrag direkt mit Ihrer Kredit- oder Debitkarte."}),t.jsx(n,{amount:"dojo"===M.typ?A.preis_dojo||99:A.preis_einzel||49,description:`TDA ${"dojo"===M.typ?"Dojo":"Einzel"}-Mitgliedschaft`,dojoId:2,zahlungstyp:"verbandsbeitrag",showQRCode:!0,onSuccess:e=>{$(!0),J(e.checkoutId)},onError:e=>{T("Kartenzahlung fehlgeschlagen: "+e)}})]}),"sumup"===M.zahlungsart&&K&&t.jsxs("div",{style:z.sumupPaidBox,children:[t.jsx(y,{size:48,color:"#10b981"}),t.jsx("span",{style:{fontSize:"1.2rem",fontWeight:"600",color:"#10b981"},children:"Zahlung erfolgreich!"}),t.jsx("span",{style:{color:"rgba(255,255,255,0.7)"},children:"Bitte fahren Sie mit der Anmeldung fort."})]}),t.jsx("div",{style:z.preisSummary,children:t.jsxs("div",{style:z.preisRow,children:[t.jsx("span",{children:"dojo"===M.typ?"Dojo-Mitgliedschaft":"Einzelmitgliedschaft"}),t.jsxs("strong",{children:["dojo"===M.typ?A.preis_dojo||99:A.preis_einzel||49," € / Jahr"]})]})})]}),4===S&&t.jsxs("div",{style:z.stepContent,children:[t.jsx("h2",{style:z.stepTitle,children:"Bestätigung & Unterschrift"}),t.jsx("p",{style:z.stepSubtitle,children:"Bitte akzeptieren Sie die Bedingungen und unterschreiben Sie"}),t.jsxs("div",{style:z.checkboxGroup,children:[t.jsxs("label",{style:z.checkboxLabel,children:[t.jsx("input",{type:"checkbox",name:"agb_accepted",checked:M.agb_accepted,onChange:Y,style:z.checkbox}),t.jsxs("span",{children:["Ich akzeptiere die ",t.jsx("a",{href:"#",style:z.link,children:"Allgemeinen Geschäftsbedingungen"})," *"]})]}),t.jsxs("label",{style:z.checkboxLabel,children:[t.jsx("input",{type:"checkbox",name:"dsgvo_accepted",checked:M.dsgvo_accepted,onChange:Y,style:z.checkbox}),t.jsxs("span",{children:["Ich akzeptiere die ",t.jsx("a",{href:"#",style:z.link,children:"Datenschutzerklärung"})," *"]})]}),t.jsxs("label",{style:z.checkboxLabel,children:[t.jsx("input",{type:"checkbox",name:"widerrufsrecht_acknowledged",checked:M.widerrufsrecht_acknowledged,onChange:Y,style:z.checkbox}),t.jsxs("span",{children:["Ich wurde über mein ",t.jsx("a",{href:"#",style:z.link,children:"Widerrufsrecht"})," informiert *"]})]})]}),t.jsxs("div",{style:z.signatureSection,children:[t.jsxs("h3",{style:z.sectionTitle,children:[t.jsx(j,{size:20})," Digitale Unterschrift"]}),t.jsx("p",{style:z.signatureHint,children:"Bitte unterschreiben Sie mit der Maus oder dem Finger im Feld unten"}),t.jsxs("div",{style:z.canvasWrapper,children:[t.jsx("canvas",{ref:E,width:460,height:150,style:z.canvas,onMouseDown:ne,onMouseMove:ie,onMouseUp:le,onMouseLeave:le,onTouchStart:ne,onTouchMove:ie,onTouchEnd:le}),L&&t.jsx("div",{style:z.signatureCheck,children:t.jsx(y,{size:24,color:"#10b981"})})]}),t.jsxs("button",{type:"button",onClick:ae,style:z.clearButton,children:[t.jsx(f,{size:16})," Unterschrift löschen"]})]}),t.jsxs("div",{style:z.summaryBox,children:[t.jsx("h3",{style:z.summaryTitle,children:"Zusammenfassung"}),t.jsxs("div",{style:z.summaryRow,children:[t.jsx("span",{children:"Mitgliedschaftstyp:"}),t.jsx("strong",{children:"dojo"===M.typ?"Dojo-Mitgliedschaft":"Einzelmitgliedschaft"})]}),t.jsxs("div",{style:z.summaryRow,children:[t.jsx("span",{children:"dojo"===M.typ?"Dojo:":"Name:"}),t.jsx("strong",{children:"dojo"===M.typ?M.dojo_name:`${M.vorname} ${M.nachname}`})]}),t.jsxs("div",{style:z.summaryRow,children:[t.jsx("span",{children:"E-Mail:"}),t.jsx("strong",{children:"dojo"===M.typ?M.dojo_email:M.email})]}),t.jsxs("div",{style:z.summaryRow,children:[t.jsx("span",{children:"Zahlungsart:"}),t.jsx("strong",{children:"lastschrift"===M.zahlungsart?"SEPA-Lastschrift":"Rechnung"})]}),t.jsxs("div",{style:{...z.summaryRow,...z.summaryTotal},children:[t.jsx("span",{children:"Jahresbeitrag:"}),t.jsxs("strong",{style:{color:"#ffd700",fontSize:"1.2rem"},children:["dojo"===M.typ?A.preis_dojo||99:A.preis_einzel||49," €"]})]})]})]}),5===S&&t.jsxs("div",{style:z.successContent,children:[t.jsx("div",{style:z.successIcon,children:t.jsx(y,{size:80,color:"#10b981"})}),t.jsx("h2",{style:z.successTitle,children:"Anmeldung erfolgreich!"}),t.jsx("p",{style:z.successText,children:"Vielen Dank für Ihre Anmeldung bei der Tiger & Dragon Association International."}),t.jsxs("p",{style:z.successText,children:["Sie erhalten in Kürze eine Bestätigungs-E-Mail mit allen weiteren Informationen an ",t.jsx("strong",{children:"dojo"===M.typ?M.dojo_email:M.email}),"."]}),t.jsx("div",{style:z.successActions,children:t.jsx("button",{onClick:()=>v("/"),style:z.primaryButton,children:"Zur Startseite"})})]})]}),S>1&&S<5&&t.jsxs("div",{style:z.navigation,children:[t.jsxs("button",{onClick:()=>{k(e=>e-1),T("")},style:z.secondaryButton,children:[t.jsx(a,{size:20})," Zurück"]}),S<4?t.jsxs("button",{onClick:()=>{Q()&&(k(e=>e+1),T(""))},style:z.primaryButton,children:["Weiter ",t.jsx(o,{size:20})]}):t.jsx("button",{onClick:async()=>{if(Q()){C(!0),T("");try{const e={...M,unterschrift_digital:L,unterschrift_datum:(new Date).toISOString(),sumup_checkout_id:V||null,sumup_paid:K},t=await fetch(`${s.apiBaseUrl}/verbandsmitgliedschaften/public/anmeldung`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();r.success?(D(!0),k(5)):T(r.error||"Fehler bei der Anmeldung. Bitte versuchen Sie es erneut.")}catch(e){console.error("Fehler bei der Anmeldung:",e),T("Netzwerkfehler. Bitte versuchen Sie es später erneut.")}finally{C(!1)}}},disabled:B,style:z.primaryButton,children:B?t.jsxs(t.Fragment,{children:[t.jsx(d,{size:20,className:"spin"})," Wird gesendet..."]}):"Anmeldung abschließen"})]}),t.jsx("div",{style:z.footer,children:t.jsx("p",{children:"© 2026 Tiger & Dragon Association International"})})]})},z={container:{minHeight:"100vh",background:"linear-gradient(135deg, #1a1a2e 0%, #0f0f1a 50%, #1a0a0a 100%)",color:"#fff",padding:"2rem",fontFamily:"system-ui, -apple-system, sans-serif"},header:{textAlign:"center",marginBottom:"2rem"},logo:{width:"120px",height:"120px",objectFit:"contain",borderRadius:"50%",marginBottom:"1rem",border:"3px solid rgba(255, 215, 0, 0.5)",boxShadow:"0 0 30px rgba(255, 215, 0, 0.3)"},title:{fontSize:"1.8rem",fontWeight:"700",color:"#ffd700",margin:"0 0 0.5rem 0"},subtitle:{fontSize:"1.1rem",color:"rgba(255,255,255,0.7)",margin:0},progressBar:{display:"flex",justifyContent:"center",gap:"1rem",marginBottom:"2rem"},progressStep:{width:"40px",height:"40px",borderRadius:"50%",background:"rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"600",color:"#888",transition:"all 0.3s"},progressStepActive:{background:"linear-gradient(135deg, #ffd700, #ff8c00)",color:"#000"},content:{maxWidth:"900px",margin:"0 auto",background:"rgba(255,255,255,0.05)",borderRadius:"20px",padding:"2rem",border:"1px solid rgba(255,215,0,0.2)"},stepContent:{animation:"fadeIn 0.3s ease"},stepTitle:{fontSize:"1.5rem",fontWeight:"600",marginBottom:"0.5rem",color:"#fff"},stepSubtitle:{color:"rgba(255,255,255,0.6)",marginBottom:"2rem"},typCards:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},typCard:{background:"rgba(0,0,0,0.3)",borderRadius:"16px",padding:"2rem",border:"1px solid rgba(255,215,0,0.2)",cursor:"pointer",transition:"all 0.3s",textAlign:"center"},typIcon:{color:"#ffd700",marginBottom:"1rem"},typTitle:{fontSize:"1.3rem",fontWeight:"600",marginBottom:"0.5rem"},typPrice:{fontSize:"1.5rem",fontWeight:"700",color:"#ffd700",marginBottom:"0.5rem"},typDesc:{color:"rgba(255,255,255,0.6)",marginBottom:"1rem"},typFeatures:{listStyle:"none",padding:0,margin:"1rem 0",textAlign:"left"},typButton:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",width:"100%",padding:"1rem",background:"linear-gradient(135deg, #ffd700, #ff8c00)",border:"none",borderRadius:"10px",color:"#000",fontWeight:"600",cursor:"pointer",marginTop:"1rem"},formGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},formGroup:{marginBottom:"0.5rem"},formGroupRow:{display:"flex",gap:"1rem"},formGroupSmall:{flex:"0 0 100px"},formGroupLarge:{flex:1},label:{display:"block",fontSize:"0.9rem",color:"rgba(255,255,255,0.8)",marginBottom:"0.5rem"},input:{width:"100%",padding:"0.8rem 1rem",background:"rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"#fff",fontSize:"1rem",transition:"border-color 0.3s"},zahlungsarten:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},zahlungsartCard:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",padding:"1.5rem",background:"rgba(0,0,0,0.3)",border:"2px solid rgba(255,255,255,0.1)",borderRadius:"12px",cursor:"pointer",transition:"all 0.3s"},zahlungsartTitle:{fontWeight:"600",fontSize:"1rem"},zahlungsartDesc:{fontSize:"0.85rem",color:"rgba(255,255,255,0.6)"},sepaSection:{background:"rgba(0,0,0,0.2)",borderRadius:"12px",padding:"1.5rem",marginBottom:"1.5rem"},sumupSection:{background:"rgba(0, 181, 173, 0.1)",borderRadius:"12px",padding:"1.5rem",marginBottom:"1.5rem",border:"1px solid rgba(0, 181, 173, 0.3)"},sumupPaidBox:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.75rem",padding:"2rem",background:"rgba(16, 185, 129, 0.1)",borderRadius:"12px",border:"1px solid rgba(16, 185, 129, 0.3)",marginBottom:"1.5rem"},sectionTitle:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"1.1rem",fontWeight:"600",marginBottom:"1rem",color:"#ffd700"},preisSummary:{background:"rgba(255,215,0,0.1)",borderRadius:"12px",padding:"1.5rem",border:"1px solid rgba(255,215,0,0.3)"},preisRow:{display:"flex",justifyContent:"space-between",fontSize:"1.1rem"},checkboxGroup:{marginBottom:"2rem"},checkboxLabel:{display:"flex",alignItems:"flex-start",gap:"0.75rem",marginBottom:"1rem",cursor:"pointer"},checkbox:{width:"20px",height:"20px",accentColor:"#ffd700",marginTop:"2px"},link:{color:"#ffd700",textDecoration:"underline"},signatureSection:{marginBottom:"2rem"},signatureHint:{fontSize:"0.9rem",color:"rgba(255,255,255,0.6)",marginBottom:"1rem"},canvasWrapper:{position:"relative",display:"inline-block"},canvas:{border:"2px solid rgba(255,255,255,0.2)",borderRadius:"12px",background:"#fff",cursor:"crosshair",touchAction:"none",maxWidth:"100%"},signatureCheck:{position:"absolute",top:"10px",right:"10px"},clearButton:{display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.5rem",padding:"0.5rem 1rem",background:"transparent",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"8px",color:"#fff",cursor:"pointer"},summaryBox:{background:"rgba(0,0,0,0.3)",borderRadius:"12px",padding:"1.5rem"},summaryTitle:{fontSize:"1.1rem",fontWeight:"600",marginBottom:"1rem",paddingBottom:"0.5rem",borderBottom:"1px solid rgba(255,255,255,0.1)"},summaryRow:{display:"flex",justifyContent:"space-between",padding:"0.5rem 0",borderBottom:"1px solid rgba(255,255,255,0.05)"},summaryTotal:{marginTop:"0.5rem",paddingTop:"1rem",borderTop:"1px solid rgba(255,215,0,0.3)",borderBottom:"none"},navigation:{display:"flex",justifyContent:"space-between",maxWidth:"900px",margin:"2rem auto 0"},primaryButton:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"1rem 2rem",background:"linear-gradient(135deg, #ffd700, #ff8c00)",border:"none",borderRadius:"10px",color:"#000",fontWeight:"600",fontSize:"1rem",cursor:"pointer"},secondaryButton:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"1rem 2rem",background:"transparent",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"10px",color:"#fff",fontWeight:"600",fontSize:"1rem",cursor:"pointer"},successContent:{textAlign:"center",padding:"2rem"},successIcon:{marginBottom:"1.5rem"},successTitle:{fontSize:"2rem",fontWeight:"700",color:"#10b981",marginBottom:"1rem"},successText:{fontSize:"1.1rem",color:"rgba(255,255,255,0.8)",marginBottom:"1rem"},successActions:{marginTop:"2rem"},errorBox:{display:"flex",alignItems:"center",gap:"0.75rem",maxWidth:"900px",margin:"0 auto 1rem",padding:"1rem",background:"rgba(239, 68, 68, 0.2)",border:"1px solid rgba(239, 68, 68, 0.5)",borderRadius:"10px",color:"#fca5a5"},vorteileSection:{marginTop:"2rem",padding:"1.5rem",background:"rgba(255,215,0,0.05)",borderRadius:"12px",border:"1px solid rgba(255,215,0,0.2)"},vorteileTitle:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"1.1rem",fontWeight:"600",marginBottom:"1rem",color:"#ffd700"},vorteileGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},vorteilCard:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"1rem",background:"rgba(0,0,0,0.2)",borderRadius:"8px"},undVielesMehr:{textAlign:"center",marginTop:"1rem",color:"rgba(255, 215, 0, 0.8)",fontStyle:"italic",fontSize:"1.1rem"},footer:{textAlign:"center",marginTop:"3rem",padding:"1.5rem",color:"rgba(255,255,255,0.5)",fontSize:"0.9rem"}};export{v as default};
