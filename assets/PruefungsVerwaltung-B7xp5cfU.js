import{a as e,j as r}from"./query-Caj74EYQ.js";import{u as n}from"./index-BuAcXaay.js";/* empty css                  */import{C as t,o as i,a9 as a,A as s,p as l,a as o,b as d,a3 as g,a5 as c,_ as u,Q as m}from"./icons-eh0tbLFx.js";import"./vendor-router-B2AaIOtG.js";import"./charts-QHQg_ypW.js";const h=()=>{const{getDojoFilterParam:h,activeDojo:p}=n(),x="/api",[b,f]=e.useState([]),[y,j]=e.useState([]),[v,k]=e.useState("all"),[z,S]=e.useState(!1),[_,w]=e.useState(""),[B,C]=e.useState(""),[T,E]=e.useState("termine"),[A,W]=e.useState([]),[D,N]=e.useState("alle"),[$,I]=e.useState({pruefungsdatum:"",pruefungszeit:"10:00",pruefungsort:"",pruefungsgebuehr:"",anmeldefrist:"",gurtlaenge:"",bemerkungen:"",teilnahmebedingungen:"",ist_historisch:!1,historisch_bemerkung:""}),[P,R]=e.useState(!1),[M,F]=e.useState(null),[K,L]=e.useState({bestanden:!1,punktzahl:"",max_punktzahl:"",prueferkommentar:"",graduierung_nachher_index:0,graduierung_nachher_id:null,graduierung_nachher_name:"",graduierung_nachher_farbe:""}),[G,O]=e.useState([]),[Z,H]=e.useState([]),[U,V]=e.useState([]),[Y,J]=e.useState(null),[q,Q]=e.useState([]),[X,ee]=e.useState(!1),[re,ne]=e.useState(1),[te,ie]=e.useState({pruefungsdatum:"",pruefungszeit:"10:00",pruefungsort:"",pruefer_name:"",stil_id:"",pruefungsgebuehr:"",anmeldefrist:"",gurtlaenge:"",bemerkungen:"",teilnahmebedingungen:"",ist_historisch:!1,historisch_bemerkung:""}),[ae,se]=e.useState(!1),[le,oe]=e.useState(null),[de,ge]=e.useState({}),[ce,ue]=e.useState(!1),[me,he]=e.useState(null),[pe,xe]=e.useState({}),[be,fe]=e.useState("all"),[ye,je]=e.useState("all"),[ve,ke]=e.useState("all"),[ze,Se]=e.useState("all"),[_e,we]=e.useState({key:null,direction:"asc"});e.useEffect(()=>{Be()},[]),e.useEffect(()=>{"termine"===T?We():"kandidaten"===T?Ce():"zugelassen"===T?Te():"abgeschlossen"===T?Ee():"statistiken"===T&&(Ae(),Ce(),Te(),Ee())},[T,v]);const Be=async()=>{try{const e=await fetch(`${x}/stile?aktiv=true`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}}),r=await e.json();j(r||[])}catch(e){console.error("Fehler beim Laden der Stile:",e)}},Ce=async()=>{var e;S(!0),w("");try{const r=h(),n="all"!==v?`&stil_id=${v}`:"",t=await fetch(`${x}/pruefungen/kandidaten?${r}${n}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!t.ok)throw new Error("Fehler beim Laden der Kandidaten");const i=await t.json();console.log("ðŸŽ¯ Kandidaten-Daten:",i.kandidaten),console.log("ðŸ” Beispiel-Kandidat:",null==(e=i.kandidaten)?void 0:e[0]),f(i.kandidaten||[])}catch(r){w(r.message)}finally{S(!1)}},Te=async()=>{var e;S(!0);try{const r=h(),n="all"!==v?`&stil_id=${v}`:"",t=await fetch(`${x}/pruefungen?status=geplant&${r}${n}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}}),i=await t.json();console.log("ðŸ” Zugelassene PrÃ¼fungen API Response:",i),console.log("ðŸ” PrÃ¼fungen Array:",i.pruefungen),console.log("ðŸ” Beispiel-PrÃ¼fung:",null==(e=i.pruefungen)?void 0:e[0]),H(i.pruefungen||[])}catch(r){console.error("âŒ Fehler beim Laden zugelassener PrÃ¼fungen:",r),w(r.message)}finally{S(!1)}},Ee=async()=>{S(!0);try{const e=h(),r="all"!==v?`&stil_id=${v}`:"",n=await fetch(`${x}/pruefungen?status=bestanden&${e}${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}}),t=await n.json();V(t.pruefungen||[])}catch(e){w(e.message)}finally{S(!1)}},Ae=async()=>{S(!0);try{const e=h(),r=await fetch(`${x}/pruefungen/stats/statistiken?${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}}),n=await r.json();J(n.statistiken)}catch(e){w(e.message)}finally{S(!1)}},We=async()=>{S(!0);try{const e=h(),r="all"!==v?`&stil_id=${v}`:"",n=await fetch(`${x}/pruefungen?status=geplant&${e}${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}}),t=await n.json(),i=await fetch(`${x}/pruefungen/termine?${e}${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}}),a=await i.json(),s={};(t.pruefungen||[]).forEach(e=>{const r=e.pruefungsdatum?e.pruefungsdatum.split("T")[0]:"Kein Datum",n=`${r}_${e.stil_id}`;s[n]||(s[n]={datum:r,stil_id:e.stil_id,stil_name:e.stil_name,pruefungen:[]}),s[n].pruefungen.push(e)}),(a.termine||[]).forEach(e=>{const r=e.pruefungsdatum?e.pruefungsdatum.split("T")[0]:"Kein Datum",n=`${r}_${e.stil_id}`;s[n]||(s[n]={datum:r,stil_id:e.stil_id,stil_name:e.stil_name,pruefungen:[],isVorlage:!0}),s[n].isVorlage=!0,s[n].vorlageData={termin_id:e.termin_id,ort:e.pruefungsort,zeit:e.pruefungszeit,pruefer_name:e.pruefer_name,stil_id:e.stil_id,stil_name:e.stil_name,pruefungsgebuehr:e.pruefungsgebuehr,anmeldefrist:e.anmeldefrist?e.anmeldefrist.split("T")[0]:null,bemerkungen:e.bemerkungen,teilnahmebedingungen:e.teilnahmebedingungen}});const l=Object.keys(s).map(e=>{var r,n,t,i,a,l;const o=s[e];return{datum:o.datum,stil_id:o.stil_id,stil_name:o.stil_name,pruefungen:o.pruefungen,anzahl:o.pruefungen.length,ort:(null==(r=o.pruefungen[0])?void 0:r.pruefungsort)||(null==(n=o.vorlageData)?void 0:n.ort)||"Nicht festgelegt",zeit:(null==(t=o.pruefungen[0])?void 0:t.pruefungszeit)||(null==(i=o.vorlageData)?void 0:i.zeit)||"Nicht festgelegt",pruefer_name:(null==(a=o.pruefungen[0])?void 0:a.pruefer_name)||(null==(l=o.vorlageData)?void 0:l.pruefer_name)||"Nicht festgelegt",isVorlage:0===o.pruefungen.length&&o.vorlageData,vorlageData:o.vorlageData}}).sort((e,r)=>{const n=new Date(r.datum)-new Date(e.datum);return 0!==n?n:(e.stil_name||"").localeCompare(r.stil_name||"")});Q(l)}catch(e){w(e.message)}finally{S(!1)}},De=async(e,r=null)=>{try{if(!p||!p.id)return void w("Kein Dojo ausgewÃ¤hlt. Bitte wÃ¤hlen Sie ein Dojo aus.");const t=p.id;let i=r||$;if(!i.pruefungsdatum&&e.stil_id)try{const r=await fetch(`${x}/pruefungen/termine?stil_id=${e.stil_id}&dojo_id=${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(r.ok){const n=(await r.json()).termine||[];console.log("ðŸ“… PrÃ¼fungstermine geladen:",n);const t=new Date;t.setHours(0,0,0,0);const a=n.filter(e=>{const r=new Date(e.pruefungsdatum);return r.setHours(0,0,0,0),r>=t}).sort((e,r)=>new Date(e.pruefungsdatum)-new Date(r.pruefungsdatum))[0];if(!a)return void w(`Kein zukÃ¼nftiger PrÃ¼fungstermin fÃ¼r ${e.stil_name} gefunden. Bitte legen Sie zuerst einen Termin an.`);i={pruefungsdatum:a.pruefungsdatum,pruefungszeit:a.pruefungszeit||"10:00",pruefungsort:a.pruefungsort,pruefungsgebuehr:a.pruefungsgebuehr,anmeldefrist:a.anmeldefrist,gurtlaenge:a.gurtlaenge,bemerkungen:a.bemerkungen,teilnahmebedingungen:a.teilnahmebedingungen},console.log("âœ… NÃ¤chster PrÃ¼fungstermin gefunden:",a)}}catch(n){return console.error("Fehler beim Laden der Termine:",n),void w("Fehler beim Laden der PrÃ¼fungstermine.")}if(!i.pruefungsdatum)return void w("Kein PrÃ¼fungsdatum verfÃ¼gbar. Bitte legen Sie zuerst einen PrÃ¼fungstermin an.");let a=null;if(i.pruefungsdatum&&i.pruefungszeit){const e=i.pruefungsdatum.split("T")[0];a=`${e} ${i.pruefungszeit.includes(":")?2===i.pruefungszeit.split(":").length?`${i.pruefungszeit}:00`:i.pruefungszeit:`${i.pruefungszeit}:00:00`}`}else if(i.pruefungsdatum){a=i.pruefungsdatum.split("T")[0]}if(!(await fetch(`${x}/pruefungen/kandidaten/${e.mitglied_id}/zulassen`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({stil_id:e.stil_id,graduierung_nachher_id:e.naechste_graduierung_id,pruefungsdatum:a,pruefungsort:i.pruefungsort||null,pruefungsgebuehr:i.pruefungsgebuehr?parseFloat(i.pruefungsgebuehr):null,anmeldefrist:i.anmeldefrist||null,gurtlaenge:i.gurtlaenge||null,bemerkungen:i.bemerkungen||null,teilnahmebedingungen:i.teilnahmebedingungen||null,dojo_id:parseInt(t),pruefungszeit:i.pruefungszeit||"10:00"})})).ok)throw new Error("Fehler beim Zulassen");const s=new Date(i.pruefungsdatum).toLocaleDateString("de-DE");C(`${e.vorname} ${e.nachname} wurde zur PrÃ¼fung am ${s} zugelassen!`),Ce(),Te(),setTimeout(()=>C(""),3e3)}catch(t){w(t.message)}},Ne=async e=>{if(window.confirm(`MÃ¶chten Sie die Zulassung von ${e.vorname} ${e.nachname} wirklich entfernen?`))try{if(!(await fetch(`${x}/pruefungen/kandidaten/${e.mitglied_id}/zulassung/${e.pruefung_id}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).ok)throw new Error("Fehler beim Entfernen der Zulassung");C(`Zulassung von ${e.vorname} ${e.nachname} wurde entfernt.`),Te(),Ce(),setTimeout(()=>C(""),3e3)}catch(r){w(r.message)}},$e=async()=>{if(M)try{const e={bestanden:K.bestanden,punktzahl:K.punktzahl?parseFloat(K.punktzahl):null,max_punktzahl:K.max_punktzahl?parseFloat(K.max_punktzahl):null,prueferkommentar:K.prueferkommentar,status:K.bestanden?"bestanden":"nicht_bestanden",graduierung_nachher_id:K.graduierung_nachher_id};if(!(await fetch(`${x}/pruefungen/${M.pruefung_id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify(e)})).ok)throw new Error("Fehler beim Speichern des Ergebnisses");K.bestanden&&K.graduierung_nachher_id&&(await Re(M.mitglied_id,M.stil_id,K.graduierung_nachher_id),await Me(M.pruefung_id)),R(!1),F(null),L({bestanden:!1,punktzahl:"",max_punktzahl:"",prueferkommentar:"",graduierung_nachher_index:0,graduierung_nachher_id:null,graduierung_nachher_name:"",graduierung_nachher_farbe:""}),O([]),C("PrÃ¼fungsergebnis erfolgreich gespeichert!"),setTimeout(()=>C(""),3e3),Te()}catch(e){w(e.message)}},Ie=e=>{he(e);const r={};e.pruefungen.forEach(e=>{r[e.pruefung_id]={bestanden:!0,punktzahl:"",prueferkommentar:""}}),xe(r),ue(!0)},Pe=e=>{const r={...pe};Object.keys(r).forEach(n=>{r[n].bestanden=e}),xe(r)},Re=async(e,r,n)=>{try{await fetch(`${x}/mitglieder/${e}/stil/${r}/data`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({current_graduierung_id:n,letzte_pruefung:(new Date).toISOString().split("T")[0]})})}catch(t){console.error("Fehler beim Aktualisieren der Graduierung:",t)}},Me=async e=>{try{console.log("Urkunde fÃ¼r PrÃ¼fung",e,"wird generiert...")}catch(r){console.error("Fehler beim Generieren der Urkunde:",r)}},Fe=e=>{var r,n,t,i,a,s,l;const o=e=>{if(!e)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;if(e.includes("T"))return e.split("T")[0];try{const r=new Date(e),n=r.getUTCFullYear(),t=String(r.getUTCMonth()+1).padStart(2,"0");return`${n}-${t}-${String(r.getUTCDate()).padStart(2,"0")}`}catch(r){return console.error("Fehler beim Formatieren des Datums:",e,r),""}};oe({id:null==(r=e.vorlageData)?void 0:r.termin_id,datum:o(e.datum),pruefungsdatum:o(e.datum),pruefungszeit:e.zeit||"10:00",pruefungsort:e.ort||"",pruefer_name:(null==(n=e.vorlageData)?void 0:n.pruefer_name)||"",stil_id:(null==(t=e.vorlageData)?void 0:t.stil_id)||"",pruefungsgebuehr:(null==(i=e.vorlageData)?void 0:i.pruefungsgebuehr)||"",anmeldefrist:o(null==(a=e.vorlageData)?void 0:a.anmeldefrist),bemerkungen:(null==(s=e.vorlageData)?void 0:s.bemerkungen)||"",teilnahmebedingungen:(null==(l=e.vorlageData)?void 0:l.teilnahmebedingungen)||""}),se(!0)},Ke=e=>{ge(r=>({...r,[e]:!r[e]}))},Le=e=>{let r="asc";_e.key===e&&"asc"===_e.direction&&(r="desc"),we({key:e,direction:r})},Ge=({columnKey:e})=>_e.key!==e?r.jsx("span",{style:{marginLeft:"0.25rem",opacity:.3,fontSize:"0.75rem"},children:"â‡…"}):r.jsx("span",{style:{marginLeft:"0.25rem",color:"#EAB308",fontSize:"0.75rem"},children:"asc"===_e.direction?"â†‘":"â†“"}),Oe=(e,r,n)=>r?[...e].sort((e,t)=>{let i=e[r],a=t[r];return null==i?1:null==a?-1:("string"==typeof i&&"string"==typeof a&&(i=i.toLowerCase(),a=a.toLowerCase()),i<a?"asc"===n?-1:1:i>a?"asc"===n?1:-1:0)}):e,Ze=async e=>{var r;if(!(null==(r=e.vorlageData)?void 0:r.termin_id))return e.pruefungen&&e.pruefungen.length>0?void w(`Dieser Termin hat ${e.pruefungen.length} zugelassene Kandidaten. Bitte entfernen Sie zuerst alle Kandidaten Ã¼ber "Zugelassene PrÃ¼fungen".`):void w("Dieser Termin existiert nicht in der Datenbank. Bitte aktualisieren Sie die Seite.");if(window.confirm(`MÃ¶chten Sie den PrÃ¼fungstermin am ${new Date(e.datum).toLocaleDateString("de-DE")} wirklich lÃ¶schen?`))try{const r=await fetch(`${x}/pruefungen/termine/${e.vorlageData.termin_id}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}}),n=await r.json();if(!r.ok)throw new Error(n.error||"Fehler beim LÃ¶schen des Termins");C("PrÃ¼fungstermin wurde erfolgreich gelÃ¶scht!"),setTimeout(()=>C(""),3e3),We()}catch(n){w(n.message),setTimeout(()=>w(""),5e3)}},He=async e=>{try{const r=`${x}/pruefungen/termine/${e.datum}/pdf?stil_id=${e.stil_id}&dojo_id=${p.id}`;window.open(r,"_blank")}catch(r){w("Fehler beim Generieren der PDF: "+r.message),setTimeout(()=>w(""),5e3)}},Ue=e=>{if(!M||0===G.length)return;let r=K.graduierung_nachher_index;"up"===e?r=Math.min(r+1,G.length-1):"down"===e&&(r=Math.max(r-1,0));const n=G[r];n&&L({...K,graduierung_nachher_index:r,graduierung_nachher_id:n.graduierung_id,graduierung_nachher_name:n.name,graduierung_nachher_farbe:n.farbe_hex})};return e.useEffect(()=>{const e=e=>{P&&("ArrowUp"===e.key?(e.preventDefault(),Ue("up")):"ArrowDown"===e.key?(e.preventDefault(),Ue("down")):"Enter"===e.key&&e.ctrlKey&&(e.preventDefault(),$e()))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[P,K,M,G]),r.jsxs("div",{className:"content-card",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.25rem",marginBottom:"0.5rem"},children:[r.jsx("span",{style:{fontSize:"2.5rem",filter:"drop-shadow(0 2px 8px rgba(255, 215, 0, 0.3))",position:"relative",zIndex:10,lineHeight:1,display:"inline-block",flexShrink:0},children:"ðŸŽ“"}),r.jsx("h1",{style:{fontSize:"2.5rem",fontWeight:"700",color:"#FFD700",margin:0,textShadow:"none",WebkitTextFillColor:"#FFD700",background:"none",WebkitBackgroundClip:"initial",backgroundClip:"initial",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",letterSpacing:"0.5px",position:"relative",zIndex:2},children:"PrÃ¼fungsverwaltung"})]}),r.jsx("p",{children:"GurtprÃ¼fungen planen, durchfÃ¼hren und dokumentieren"})]}),r.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[r.jsxs("select",{value:v,onChange:e=>k(e.target.value),className:"form-select",style:{minWidth:"200px"},children:[r.jsx("option",{value:"all",children:"Alle Stile"}),y.map(e=>r.jsx("option",{value:e.stil_id,children:e.name},e.stil_id))]}),r.jsx("button",{onClick:()=>{"termine"===T?We():"zugelassen"===T?Te():"abgeschlossen"===T?Ee():"statistiken"===T&&Ae()},className:"logout-button",style:{padding:"12px 28px",minWidth:"160px"},children:"ðŸ”„ Aktualisieren"})]})]}),r.jsxs("div",{style:{marginBottom:"2rem",display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[r.jsxs("button",{onClick:()=>E("termine"),style:{background:"termine"===T?"linear-gradient(135deg, rgba(255, 215, 0, 0.4) 0%, rgba(255, 215, 0, 0.2) 50%, transparent 100%)":"linear-gradient(135deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 215, 0, 0.05) 50%, transparent 100%)",border:"none",color:"rgba(255, 255, 255, 0.95)",padding:"0.5rem 0.75rem",cursor:"pointer",transition:"all 0.3s ease",borderRadius:"6px",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.95rem",fontWeight:"600",boxShadow:"termine"===T?"0 4px 12px rgba(255, 215, 0, 0.3)":"0 2px 8px rgba(255, 215, 0, 0.15)",whiteSpace:"nowrap"},onMouseEnter:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 215, 0, 0.4) 0%, rgba(255, 215, 0, 0.2) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 4px 12px rgba(255, 215, 0, 0.3)"},onMouseLeave:e=>{"termine"!==T&&(e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 215, 0, 0.05) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 2px 8px rgba(255, 215, 0, 0.15)")},children:[r.jsx(t,{size:18}),"PrÃ¼fungstermine"]}),r.jsxs("button",{onClick:()=>E("kandidaten"),style:{background:"kandidaten"===T?"linear-gradient(135deg, rgba(255, 215, 0, 0.4) 0%, rgba(255, 215, 0, 0.2) 50%, transparent 100%)":"linear-gradient(135deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 215, 0, 0.05) 50%, transparent 100%)",border:"none",color:"rgba(255, 255, 255, 0.95)",padding:"0.5rem 0.75rem",cursor:"pointer",transition:"all 0.3s ease",borderRadius:"6px",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.95rem",fontWeight:"600",boxShadow:"kandidaten"===T?"0 4px 12px rgba(255, 215, 0, 0.3)":"0 2px 8px rgba(255, 215, 0, 0.15)",whiteSpace:"nowrap"},onMouseEnter:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 215, 0, 0.4) 0%, rgba(255, 215, 0, 0.2) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 4px 12px rgba(255, 215, 0, 0.3)"},onMouseLeave:e=>{"kandidaten"!==T&&(e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 215, 0, 0.05) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 2px 8px rgba(255, 215, 0, 0.15)")},children:[r.jsx(i,{size:18}),"PrÃ¼fungskandidaten"]}),r.jsxs("button",{onClick:()=>E("zugelassen"),style:{background:"zugelassen"===T?"linear-gradient(135deg, rgba(255, 215, 0, 0.4) 0%, rgba(255, 215, 0, 0.2) 50%, transparent 100%)":"linear-gradient(135deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 215, 0, 0.05) 50%, transparent 100%)",border:"none",color:"rgba(255, 255, 255, 0.95)",padding:"0.5rem 0.75rem",cursor:"pointer",transition:"all 0.3s ease",borderRadius:"6px",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.95rem",fontWeight:"600",boxShadow:"zugelassen"===T?"0 4px 12px rgba(255, 215, 0, 0.3)":"0 2px 8px rgba(255, 215, 0, 0.15)",whiteSpace:"nowrap"},onMouseEnter:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 215, 0, 0.4) 0%, rgba(255, 215, 0, 0.2) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 4px 12px rgba(255, 215, 0, 0.3)"},onMouseLeave:e=>{"zugelassen"!==T&&(e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 215, 0, 0.05) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 2px 8px rgba(255, 215, 0, 0.15)")},children:[r.jsx(a,{size:18}),"Zugelassene PrÃ¼fungen"]}),r.jsxs("button",{onClick:()=>E("abgeschlossen"),style:{background:"abgeschlossen"===T?"linear-gradient(135deg, rgba(255, 215, 0, 0.4) 0%, rgba(255, 215, 0, 0.2) 50%, transparent 100%)":"linear-gradient(135deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 215, 0, 0.05) 50%, transparent 100%)",border:"none",color:"rgba(255, 255, 255, 0.95)",padding:"0.5rem 0.75rem",cursor:"pointer",transition:"all 0.3s ease",borderRadius:"6px",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.95rem",fontWeight:"600",boxShadow:"abgeschlossen"===T?"0 4px 12px rgba(255, 215, 0, 0.3)":"0 2px 8px rgba(255, 215, 0, 0.15)",whiteSpace:"nowrap"},onMouseEnter:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 215, 0, 0.4) 0%, rgba(255, 215, 0, 0.2) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 4px 12px rgba(255, 215, 0, 0.3)"},onMouseLeave:e=>{"abgeschlossen"!==T&&(e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 215, 0, 0.05) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 2px 8px rgba(255, 215, 0, 0.15)")},children:[r.jsx(s,{size:18}),"Abgeschlossene PrÃ¼fungen"]}),r.jsxs("button",{onClick:()=>E("statistiken"),style:{background:"statistiken"===T?"linear-gradient(135deg, rgba(255, 215, 0, 0.4) 0%, rgba(255, 215, 0, 0.2) 50%, transparent 100%)":"linear-gradient(135deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 215, 0, 0.05) 50%, transparent 100%)",border:"none",color:"rgba(255, 255, 255, 0.95)",padding:"0.5rem 0.75rem",cursor:"pointer",transition:"all 0.3s ease",borderRadius:"6px",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.95rem",fontWeight:"600",boxShadow:"statistiken"===T?"0 4px 12px rgba(255, 215, 0, 0.3)":"0 2px 8px rgba(255, 215, 0, 0.15)",whiteSpace:"nowrap"},onMouseEnter:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 215, 0, 0.4) 0%, rgba(255, 215, 0, 0.2) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 4px 12px rgba(255, 215, 0, 0.3)"},onMouseLeave:e=>{"statistiken"!==T&&(e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 215, 0, 0.05) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 2px 8px rgba(255, 215, 0, 0.15)")},children:[r.jsx(l,{size:18}),"Statistiken"]})]}),B&&r.jsxs("div",{className:"alert alert-success",style:{marginBottom:"1rem"},children:["âœ… ",B]}),_&&r.jsxs("div",{className:"alert alert-error",style:{marginBottom:"1rem"},children:["âŒ ",_]}),"termine"===T&&r.jsxs("div",{children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[r.jsxs("div",{children:[r.jsxs("h2",{style:{margin:0,fontSize:"1.25rem"},children:["GEPLANTE PRÃœFUNGSTERMINE",r.jsxs("span",{style:{marginLeft:"0.5rem",color:"#EAB308",fontWeight:"bold"},children:["(",(()=>{const e=new Date;e.setHours(0,0,0,0);return q.filter(r=>{const n=new Date(r.datum);return n.setHours(0,0,0,0),n>=e}).length})()," ",(()=>{const e=new Date;e.setHours(0,0,0,0);return 1===q.filter(r=>{const n=new Date(r.datum);return n.setHours(0,0,0,0),n>=e}).length?"TERMIN":"TERMINE"})(),")"]})]}),r.jsx("p",{style:{margin:"0.25rem 0 0 0",fontSize:"0.875rem",color:"#6b7280"},children:"Ãœbersicht aller geplanten PrÃ¼fungen gruppiert nach Datum"})]}),r.jsxs("button",{onClick:()=>ee(!0),style:{background:"linear-gradient(135deg, rgba(255, 215, 0, 0.3) 0%, rgba(255, 215, 0, 0.1) 50%, transparent 100%)",border:"none",color:"rgba(255, 255, 255, 0.95)",padding:"0.5rem 0.75rem",cursor:"pointer",transition:"all 0.3s ease",borderRadius:"6px",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.95rem",fontWeight:"600",boxShadow:"0 2px 8px rgba(255, 215, 0, 0.2)"},onMouseEnter:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 215, 0, 0.4) 0%, rgba(255, 215, 0, 0.2) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 4px 12px rgba(255, 215, 0, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 215, 0, 0.3) 0%, rgba(255, 215, 0, 0.1) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 2px 8px rgba(255, 215, 0, 0.2)"},children:[r.jsx(t,{size:18}),"Neuer Termin"]})]}),z?r.jsxs("div",{style:{textAlign:"center",padding:"4rem",display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:[r.jsx("div",{className:"loading-spinner-large"}),r.jsx("p",{style:{color:"#6b7280"},children:"Termine werden geladen..."})]}):0===q.length?r.jsxs("div",{style:{textAlign:"center",padding:"3rem",backgroundColor:"rgba(255, 255, 255, 0.03)",borderRadius:"0.5rem",border:"1px dashed rgba(255, 255, 255, 0.1)"},children:[r.jsx(t,{size:48,style:{color:"rgba(255, 255, 255, 0.3)",marginBottom:"1rem"}}),r.jsx("h3",{style:{color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem"},children:"Keine PrÃ¼fungstermine geplant"}),r.jsx("p",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:"0.875rem"},children:"Aktuell gibt es keine geplanten PrÃ¼fungstermine. Lassen Sie Kandidaten zur PrÃ¼fung zu, um Termine zu erstellen."})]}):r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2rem"},children:[(()=>{const e=new Date;e.setHours(0,0,0,0);const n=q.filter(r=>{const n=new Date(r.datum);return n.setHours(0,0,0,0),n>=e});return 0===n.length?null:r.jsxs("div",{children:[r.jsxs("h3",{style:{marginBottom:"1rem",fontSize:"1.1rem",fontWeight:"700",color:"#EAB308",textTransform:"uppercase",letterSpacing:"0.05em"},children:["GEPLANTE PRÃœFUNGSTERMINE (",n.length," ",1===n.length?"TERMIN":"TERMINE",")"]}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:n.map((e,n)=>{const i=new Date(e.datum),l=e.datum===(new Date).toISOString().split("T")[0];return r.jsxs("div",{style:{backgroundColor:l?"rgba(59, 130, 246, 0.1)":"rgba(255, 255, 255, 0.05)",border:l?"1px solid rgba(59, 130, 246, 0.3)":"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"0.75rem",padding:"1.5rem",boxShadow:l?"0 4px 12px rgba(59, 130, 246, 0.15)":"0 2px 8px rgba(0, 0, 0, 0.1)",opacity:1},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem",paddingBottom:"1rem",borderBottom:"1px solid #e5e7eb"},children:[r.jsxs("div",{style:{flex:1,cursor:"pointer"},onClick:()=>Ke(`${e.datum}_${e.stil_id}`),children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[r.jsx(t,{size:24,style:{color:l?"#3b82f6":"#8b5cf6"}}),r.jsx("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:"700",color:l?"#3b82f6":"#EAB308"},children:i.toLocaleDateString("de-DE",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),de[`${e.datum}_${e.stil_id}`]?r.jsx(o,{size:24,style:{color:"#EAB308",transition:"transform 0.2s"}}):r.jsx(d,{size:24,style:{color:"#6b7280",transition:"transform 0.2s"}}),l&&r.jsx("span",{style:{padding:"0.25rem 0.75rem",backgroundColor:"#3b82f6",color:"white",borderRadius:"0.375rem",fontSize:"0.75rem",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Heute"}),!1]}),r.jsxs("div",{style:{display:"flex",gap:"2rem",fontSize:"0.875rem",color:"#6b7280"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("span",{style:{fontWeight:"600"},children:"â° Uhrzeit:"}),r.jsx("span",{children:e.zeit})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("span",{style:{fontWeight:"600"},children:"ðŸ¥‹ Stil:"}),r.jsx("span",{style:{padding:"0.125rem 0.5rem",backgroundColor:"#EAB308",color:"#1a1a1a",borderRadius:"0.375rem",fontWeight:"700"},children:e.stil_name})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("span",{style:{fontWeight:"600"},children:"ðŸ“ Ort:"}),r.jsx("span",{children:e.ort})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("span",{style:{fontWeight:"600"},children:"ðŸ‘¥ Teilnehmer:"}),r.jsx("span",{style:{padding:"0.125rem 0.5rem",backgroundColor:"#8b5cf6",color:"white",borderRadius:"0.375rem",fontWeight:"700"},children:e.anzahl})]})]})]}),r.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[r.jsx("button",{onClick:r=>{r.stopPropagation(),He(e)},className:"logout-button",style:{padding:"0.4rem 0.6rem",fontSize:"0.85rem"},title:"Teilnehmerliste als PDF drucken",children:"ðŸ“„ PDF"}),e.anzahl>0&&!e.isVorlage&&r.jsxs("button",{onClick:r=>{r.stopPropagation(),Ie(e)},className:"logout-button",style:{padding:"0.4rem 0.6rem",fontSize:"0.85rem",background:"linear-gradient(135deg, rgba(34, 197, 94, 0.3) 0%, rgba(34, 197, 94, 0.1) 50%, transparent 100%)",border:"none",color:"rgba(255, 255, 255, 0.95)",boxShadow:"0 2px 8px rgba(34, 197, 94, 0.2)"},onMouseEnter:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(34, 197, 94, 0.4) 0%, rgba(34, 197, 94, 0.2) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 4px 12px rgba(34, 197, 94, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(34, 197, 94, 0.3) 0%, rgba(34, 197, 94, 0.1) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 2px 8px rgba(34, 197, 94, 0.2)"},title:"Ergebnisse fuer alle Teilnehmer eintragen",children:[r.jsx(s,{size:16}),"Ergebnisse eintragen"]}),r.jsxs("button",{onClick:r=>{r.stopPropagation(),Fe(e)},className:"logout-button",style:{padding:"0.4rem 0.6rem",fontSize:"0.85rem"},title:"Termin bearbeiten",children:[r.jsx(g,{size:16}),"Bearbeiten"]}),r.jsxs("button",{onClick:r=>{r.stopPropagation(),Ze(e)},className:"logout-button",style:{padding:"0.4rem 0.6rem",fontSize:"0.85rem",background:"linear-gradient(135deg, rgba(220, 53, 69, 0.3) 0%, rgba(220, 53, 69, 0.1) 50%, transparent 100%)",border:"none",color:"rgba(255, 255, 255, 0.95)",boxShadow:"0 2px 8px rgba(220, 53, 69, 0.2)"},onMouseEnter:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(220, 53, 69, 0.4) 0%, rgba(220, 53, 69, 0.2) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 4px 12px rgba(220, 53, 69, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(220, 53, 69, 0.3) 0%, rgba(220, 53, 69, 0.1) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 2px 8px rgba(220, 53, 69, 0.2)"},title:"Termin lÃ¶schen",children:[r.jsx(c,{size:16}),"LÃ¶schen"]})]})]}),de[`${e.datum}_${e.stil_id}`]&&r.jsx(r.Fragment,{children:e.isVorlage?r.jsxs("div",{style:{padding:"2rem",textAlign:"center",backgroundColor:"rgba(245, 158, 11, 0.1)",borderRadius:"0.5rem",border:"1px dashed rgba(245, 158, 11, 0.3)"},children:[r.jsx(t,{size:48,style:{color:"#f59e0b",margin:"0 auto 1rem"}}),r.jsx("h4",{style:{color:"rgba(255, 255, 255, 0.9)",margin:"0 0 0.5rem 0"},children:"Termin ohne Teilnehmer"}),r.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.875rem",margin:0},children:["Dieser Termin wurde angelegt, hat aber noch keine zugelassenen Kandidaten.",r.jsx("br",{}),"Teilnehmer koennen ueber das Mitgliederprofil zu diesem Termin angemeldet werden."]})]}):r.jsx("div",{className:"table-container",style:{marginTop:"1rem"},children:r.jsxs("table",{className:"data-table",style:{fontSize:"0.875rem"},children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{style:{minWidth:"180px",color:"#EAB308"},children:"Name"}),r.jsx("th",{style:{minWidth:"110px",color:"#EAB308"},children:"Geburtsdatum"}),r.jsx("th",{style:{minWidth:"100px",color:"#EAB308"},children:"Stil"}),r.jsx("th",{style:{minWidth:"150px",color:"#EAB308"},children:"Aktueller Gurt"}),r.jsx("th",{style:{minWidth:"150px",color:"#EAB308"},children:"Angestrebter Gurt"}),r.jsx("th",{style:{minWidth:"140px",color:"#EAB308"},children:"Trainingsstunden"}),r.jsx("th",{style:{minWidth:"100px",color:"#EAB308"},children:"Wartezeit"}),r.jsx("th",{style:{minWidth:"130px",color:"#EAB308"},children:"Status"})]})}),r.jsx("tbody",{children:e.pruefungen.map((e,n)=>r.jsxs("tr",{style:{backgroundColor:"rgba(255, 215, 0, 0.05)",borderLeft:"3px solid rgba(255, 215, 0, 0.5)",transition:"all 0.2s ease"},className:"hover-row",children:[r.jsx("td",{children:r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.125rem"},children:[r.jsxs("span",{style:{fontWeight:"700",color:"rgba(255, 255, 255, 0.95)"},children:[e.vorname," ",e.nachname]}),r.jsxs("span",{style:{fontSize:"0.75rem",color:"#6b7280"},children:["ID: ",e.mitglied_id]})]})}),r.jsx("td",{children:r.jsx("span",{style:{color:"rgba(255, 255, 255, 0.8)"},children:e.geburtsdatum?new Date(e.geburtsdatum).toLocaleDateString("de-DE"):"â€”"})}),r.jsx("td",{children:r.jsx("span",{style:{display:"inline-block",padding:"0.25rem 0.75rem",backgroundColor:"rgba(139, 92, 246, 0.2)",color:"#a78bfa",borderRadius:"0.375rem",fontSize:"0.8125rem",fontWeight:"600",border:"1px solid rgba(139, 92, 246, 0.3)"},children:e.stil_name})}),r.jsx("td",{children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:e.farbe_vorher||"#6b7280",border:"2px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",flexShrink:0}}),r.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[r.jsx("span",{style:{fontWeight:"600",color:"rgba(255, 255, 255, 0.9)",fontSize:"0.8125rem"},children:e.graduierung_vorher||"Keine"}),r.jsx("span",{style:{fontSize:"0.6875rem",color:"#9ca3af"},children:"Ziel-Gurt"})]})]})}),r.jsx("td",{children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:e.farbe_nachher||"#EAB308",border:"2px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",flexShrink:0}}),r.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[r.jsx("span",{style:{fontWeight:"600",color:"rgba(255, 255, 255, 0.9)",fontSize:"0.8125rem"},children:e.graduierung_nachher}),r.jsx("span",{style:{fontSize:"0.6875rem",color:"#9ca3af"},children:"Ziel-Gurt"})]})]})}),r.jsx("td",{children:r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("span",{style:{fontWeight:"700",color:"#22c55e",fontSize:"1rem"},children:e.anwesenheiten_aktuell||0}),r.jsxs("span",{style:{color:"#6b7280",fontSize:"0.8125rem"},children:["/ ",e.min_trainingseinheiten||0]})]}),r.jsx("div",{style:{width:"100%",height:"6px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"3px",overflow:"hidden"},children:r.jsx("div",{style:{width:`${Math.min(100,(e.anwesenheiten_aktuell||0)/(e.min_trainingseinheiten||1)*100)}%`,height:"100%",backgroundColor:(e.anwesenheiten_aktuell||0)>=(e.min_trainingseinheiten||0)?"#22c55e":"#f59e0b",transition:"width 0.3s ease"}})}),r.jsxs("span",{style:{fontSize:"0.6875rem",color:"#9ca3af"},children:[(e.anwesenheiten_aktuell||0)>=(e.min_trainingseinheiten||0)?"100%":Math.round((e.anwesenheiten_aktuell||0)/(e.min_trainingseinheiten||1)*100)+"%"," erreicht"]})]})}),r.jsx("td",{children:r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[r.jsxs("span",{style:{fontWeight:"700",color:"#22c55e",fontSize:"0.9375rem"},children:[e.monate_seit_letzter_pruefung||0," Mon."]}),r.jsxs("span",{style:{fontSize:"0.6875rem",color:"#9ca3af"},children:["von ",e.min_wartezeit_monate||0]})]})}),r.jsx("td",{children:r.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.375rem",padding:"0.375rem 0.75rem",backgroundColor:"rgba(255, 215, 0, 0.2)",color:"#fbbf24",borderRadius:"0.375rem",fontSize:"0.8125rem",fontWeight:"600",border:"1px solid rgba(255, 215, 0, 0.3)"},children:[r.jsx(a,{size:14}),"Zugelassen"]})})]},n))})]})})})]},n)})})]})})(),(()=>{const e=new Date;e.setHours(0,0,0,0);const n=q.filter(r=>{const n=new Date(r.datum);return n.setHours(0,0,0,0),n<e});return 0===n.length?null:r.jsxs("div",{children:[r.jsxs("h3",{style:{marginBottom:"1rem",fontSize:"1.1rem",fontWeight:"700",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:["VERGANGENE PRÃœFUNGSTERMINE (",n.length," ",1===n.length?"TERMIN":"TERMINE",")"]}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:n.map((e,n)=>{const i=new Date(e.datum);return r.jsxs("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.03)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"0.75rem",padding:"1.5rem",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",opacity:.6},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem",paddingBottom:"1rem",borderBottom:"1px solid #e5e7eb"},children:[r.jsxs("div",{style:{flex:1,cursor:"pointer"},onClick:()=>Ke(`${e.datum}_${e.stil_id}`),children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[r.jsx(t,{size:24,style:{color:"#8b5cf6"}}),r.jsx("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:"700",color:"#EAB308"},children:i.toLocaleDateString("de-DE",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),de[`${e.datum}_${e.stil_id}`]?r.jsx(o,{size:24,style:{color:"#EAB308",transition:"transform 0.2s"}}):r.jsx(d,{size:24,style:{color:"#6b7280",transition:"transform 0.2s"}}),r.jsx("span",{style:{padding:"0.25rem 0.75rem",backgroundColor:"#6b7280",color:"white",borderRadius:"0.375rem",fontSize:"0.75rem",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Vergangen"})]}),r.jsxs("div",{style:{display:"flex",gap:"2rem",fontSize:"0.875rem",color:"#6b7280"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("span",{style:{fontWeight:"600"},children:"â° Uhrzeit:"}),r.jsx("span",{children:e.zeit})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("span",{style:{fontWeight:"600"},children:"ðŸ¥‹ Stil:"}),r.jsx("span",{style:{padding:"0.125rem 0.5rem",backgroundColor:"#EAB308",color:"#1a1a1a",borderRadius:"0.375rem",fontWeight:"700"},children:e.stil_name})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("span",{style:{fontWeight:"600"},children:"ðŸ“ Ort:"}),r.jsx("span",{children:e.ort})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("span",{style:{fontWeight:"600"},children:"ðŸ‘¥ Teilnehmer:"}),r.jsx("span",{style:{padding:"0.125rem 0.5rem",backgroundColor:"#8b5cf6",color:"white",borderRadius:"0.375rem",fontWeight:"700"},children:e.anzahl})]})]})]}),r.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[r.jsx("button",{onClick:r=>{r.stopPropagation(),He(e)},className:"logout-button",style:{padding:"0.4rem 0.6rem",fontSize:"0.85rem"},title:"Teilnehmerliste als PDF drucken",children:"ðŸ“„ PDF"}),e.anzahl>0&&!e.isVorlage&&r.jsxs("button",{onClick:r=>{r.stopPropagation(),Ie(e)},className:"logout-button",style:{padding:"0.4rem 0.6rem",fontSize:"0.85rem",background:"linear-gradient(135deg, rgba(34, 197, 94, 0.3) 0%, rgba(34, 197, 94, 0.1) 50%, transparent 100%)",border:"none",color:"rgba(255, 255, 255, 0.95)",boxShadow:"0 2px 8px rgba(34, 197, 94, 0.2)"},onMouseEnter:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(34, 197, 94, 0.4) 0%, rgba(34, 197, 94, 0.2) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 4px 12px rgba(34, 197, 94, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(34, 197, 94, 0.3) 0%, rgba(34, 197, 94, 0.1) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 2px 8px rgba(34, 197, 94, 0.2)"},title:"Ergebnisse fuer alle Teilnehmer eintragen",children:[r.jsx(s,{size:16}),"Ergebnisse eintragen"]}),r.jsxs("button",{onClick:r=>{r.stopPropagation(),Fe(e)},className:"logout-button",style:{padding:"0.4rem 0.6rem",fontSize:"0.85rem"},title:"Termin bearbeiten",children:[r.jsx(g,{size:16}),"Bearbeiten"]}),r.jsxs("button",{onClick:r=>{r.stopPropagation(),Ze(e)},className:"logout-button",style:{padding:"0.4rem 0.6rem",fontSize:"0.85rem",background:"linear-gradient(135deg, rgba(220, 53, 69, 0.3) 0%, rgba(220, 53, 69, 0.1) 50%, transparent 100%)",border:"none",color:"rgba(255, 255, 255, 0.95)",boxShadow:"0 2px 8px rgba(220, 53, 69, 0.2)"},onMouseEnter:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(220, 53, 69, 0.4) 0%, rgba(220, 53, 69, 0.2) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 4px 12px rgba(220, 53, 69, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(220, 53, 69, 0.3) 0%, rgba(220, 53, 69, 0.1) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 2px 8px rgba(220, 53, 69, 0.2)"},title:"Termin lÃ¶schen",children:[r.jsx(c,{size:16}),"LÃ¶schen"]})]})]}),de[`${e.datum}_${e.stil_id}`]&&r.jsx(r.Fragment,{children:e.isVorlage?r.jsxs("div",{style:{padding:"2rem",textAlign:"center",backgroundColor:"rgba(245, 158, 11, 0.1)",borderRadius:"0.5rem",border:"1px dashed rgba(245, 158, 11, 0.3)"},children:[r.jsx(t,{size:48,style:{color:"#f59e0b",margin:"0 auto 1rem"}}),r.jsx("h4",{style:{color:"rgba(255, 255, 255, 0.9)",margin:"0 0 0.5rem 0"},children:"Termin ohne Teilnehmer"}),r.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.875rem",margin:0},children:["Dieser Termin wurde angelegt, hat aber noch keine zugelassenen Kandidaten.",r.jsx("br",{}),"Teilnehmer koennen ueber das Mitgliederprofil zu diesem Termin angemeldet werden."]})]}):r.jsx("div",{className:"table-container",style:{marginTop:"1rem"},children:r.jsxs("table",{className:"data-table",style:{fontSize:"0.875rem"},children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{style:{minWidth:"180px",color:"#EAB308"},children:"Name"}),r.jsx("th",{style:{minWidth:"110px",color:"#EAB308"},children:"Geburtsdatum"}),r.jsx("th",{style:{minWidth:"100px",color:"#EAB308"},children:"Stil"}),r.jsx("th",{style:{minWidth:"150px",color:"#EAB308"},children:"Aktueller Gurt"}),r.jsx("th",{style:{minWidth:"150px",color:"#EAB308"},children:"Angestrebter Gurt"}),r.jsx("th",{style:{minWidth:"140px",color:"#EAB308"},children:"Trainingsstunden"}),r.jsx("th",{style:{minWidth:"100px",color:"#EAB308"},children:"Wartezeit"}),r.jsx("th",{style:{minWidth:"130px",color:"#EAB308"},children:"Status"})]})}),r.jsx("tbody",{children:e.pruefungen.map((e,n)=>r.jsxs("tr",{style:{backgroundColor:"rgba(255, 215, 0, 0.05)",borderLeft:"3px solid rgba(255, 215, 0, 0.5)",transition:"all 0.2s ease"},className:"hover-row",children:[r.jsx("td",{children:r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.125rem"},children:[r.jsxs("span",{style:{fontWeight:"700",color:"rgba(255, 255, 255, 0.95)"},children:[e.vorname," ",e.nachname]}),r.jsxs("span",{style:{fontSize:"0.75rem",color:"#6b7280"},children:["ID: ",e.mitglied_id]})]})}),r.jsx("td",{children:r.jsx("span",{style:{color:"rgba(255, 255, 255, 0.8)"},children:e.geburtsdatum?new Date(e.geburtsdatum).toLocaleDateString("de-DE"):"â€”"})}),r.jsx("td",{children:r.jsx("span",{style:{display:"inline-block",padding:"0.25rem 0.75rem",backgroundColor:"rgba(139, 92, 246, 0.2)",color:"#a78bfa",borderRadius:"0.375rem",fontSize:"0.8125rem",fontWeight:"600",border:"1px solid rgba(139, 92, 246, 0.3)"},children:e.stil_name})}),r.jsx("td",{children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:e.farbe_vorher||"#6b7280",border:"2px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",flexShrink:0}}),r.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[r.jsx("span",{style:{fontWeight:"600",color:"rgba(255, 255, 255, 0.9)",fontSize:"0.8125rem"},children:e.graduierung_vorher||"Keine"}),r.jsx("span",{style:{fontSize:"0.6875rem",color:"#9ca3af"},children:"Ziel-Gurt"})]})]})}),r.jsx("td",{children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:e.farbe_nachher||"#EAB308",border:"2px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",flexShrink:0}}),r.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[r.jsx("span",{style:{fontWeight:"600",color:"rgba(255, 255, 255, 0.9)",fontSize:"0.8125rem"},children:e.graduierung_nachher}),r.jsx("span",{style:{fontSize:"0.6875rem",color:"#9ca3af"},children:"Ziel-Gurt"})]})]})}),r.jsx("td",{children:r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("span",{style:{fontWeight:"700",color:"#22c55e",fontSize:"1rem"},children:e.anwesenheiten_aktuell||0}),r.jsxs("span",{style:{color:"#6b7280",fontSize:"0.8125rem"},children:["/ ",e.min_trainingseinheiten||0]})]}),r.jsx("div",{style:{width:"100%",height:"6px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"3px",overflow:"hidden"},children:r.jsx("div",{style:{width:`${Math.min(100,(e.anwesenheiten_aktuell||0)/(e.min_trainingseinheiten||1)*100)}%`,height:"100%",backgroundColor:(e.anwesenheiten_aktuell||0)>=(e.min_trainingseinheiten||0)?"#22c55e":"#f59e0b",transition:"width 0.3s ease"}})}),r.jsxs("span",{style:{fontSize:"0.6875rem",color:"#9ca3af"},children:[(e.anwesenheiten_aktuell||0)>=(e.min_trainingseinheiten||0)?"100%":Math.round((e.anwesenheiten_aktuell||0)/(e.min_trainingseinheiten||1)*100)+"%"," erreicht"]})]})}),r.jsx("td",{children:r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[r.jsxs("span",{style:{fontWeight:"700",color:"#22c55e",fontSize:"0.9375rem"},children:[e.monate_seit_letzter_pruefung||0," Mon."]}),r.jsxs("span",{style:{fontSize:"0.6875rem",color:"#9ca3af"},children:["von ",e.min_wartezeit_monate||0]})]})}),r.jsx("td",{children:r.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.375rem",padding:"0.375rem 0.75rem",backgroundColor:"rgba(255, 215, 0, 0.2)",color:"#fbbf24",borderRadius:"0.375rem",fontSize:"0.8125rem",fontWeight:"600",border:"1px solid rgba(255, 215, 0, 0.3)"},children:[r.jsx(a,{size:14}),"Zugelassen"]})})]},n))})]})})})]},n)})})]})})()]})]}),"kandidaten"===T&&(()=>{let e=b;return"berechtigt"===be?e=e.filter(e=>e.berechtigt):"nicht_berechtigt"===be&&(e=e.filter(e=>!e.berechtigt)),"all"!==ye&&(e=e.filter(e=>e.stil_id===parseInt(ye))),_e.key&&(e=Oe(e,_e.key,_e.direction)),r.jsxs("div",{children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",padding:"1rem",backgroundColor:"rgba(255, 255, 255, 0.03)",borderRadius:"0.5rem",border:"1px solid rgba(255, 215, 0, 0.2)"},children:[r.jsxs("div",{style:{flex:1},children:[r.jsxs("h2",{style:{margin:0,fontSize:"1rem",color:"rgba(255, 255, 255, 0.9)"},children:["PrÃ¼fungskandidaten",r.jsxs("span",{style:{marginLeft:"0.5rem",color:"#ffd700",fontWeight:"bold",fontSize:"0.875rem"},children:["(",e.filter(e=>e.berechtigt).length," berechtigt / ",e.length," angezeigt",("all"!==be||"all"!==ye)&&` von ${b.length} gesamt`,")"]})]}),r.jsx("p",{style:{margin:"0.125rem 0 0 0",fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)"},children:A.length>0?`${A.length} Kandidat${A.length>1?"en":""} ausgewÃ¤hlt`:"WÃ¤hlen Sie Kandidaten aus, um sie zur PrÃ¼fung zuzulassen"}),r.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"0.75rem",alignItems:"center",flexWrap:"wrap"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("span",{style:{fontSize:"0.875rem",color:"rgba(255, 255, 255, 0.7)",fontWeight:"500"},children:"Berechtigung:"}),r.jsxs("div",{style:{display:"flex",gap:"0.25rem",backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:"0.375rem",padding:"0.125rem"},children:[r.jsx("button",{onClick:()=>fe("all"),style:{padding:"0.375rem 0.75rem",fontSize:"0.875rem",backgroundColor:"all"===be?"#EAB308":"transparent",color:"all"===be?"#1a1a1a":"rgba(255, 255, 255, 0.7)",border:"none",borderRadius:"0.25rem",cursor:"pointer",fontWeight:"all"===be?"600":"400",transition:"all 0.2s"},children:"Alle"}),r.jsx("button",{onClick:()=>fe("berechtigt"),style:{padding:"0.375rem 0.75rem",fontSize:"0.875rem",backgroundColor:"berechtigt"===be?"#EAB308":"transparent",color:"berechtigt"===be?"#1a1a1a":"rgba(255, 255, 255, 0.7)",border:"none",borderRadius:"0.25rem",cursor:"pointer",fontWeight:"berechtigt"===be?"600":"400",transition:"all 0.2s"},children:"Berechtigt"}),r.jsx("button",{onClick:()=>fe("nicht_berechtigt"),style:{padding:"0.375rem 0.75rem",fontSize:"0.875rem",backgroundColor:"nicht_berechtigt"===be?"#EAB308":"transparent",color:"nicht_berechtigt"===be?"#1a1a1a":"rgba(255, 255, 255, 0.7)",border:"none",borderRadius:"0.25rem",cursor:"pointer",fontWeight:"nicht_berechtigt"===be?"600":"400",transition:"all 0.2s"},children:"Nicht berechtigt"})]})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("span",{style:{fontSize:"0.875rem",color:"rgba(255, 255, 255, 0.7)",fontWeight:"500"},children:"Stil:"}),r.jsxs("select",{value:ye,onChange:e=>je(e.target.value),style:{padding:"0.375rem 0.75rem",fontSize:"0.875rem",backgroundColor:"#1a1a1a",color:"rgba(255, 255, 255, 0.9)",border:"1px solid rgba(234, 179, 8, 0.3)",borderRadius:"0.375rem",cursor:"pointer",fontWeight:"500",outline:"none"},children:[r.jsx("option",{value:"all",style:{backgroundColor:"#1a1a1a",color:"rgba(255, 255, 255, 0.9)"},children:"Alle Stile"}),y.map(e=>r.jsx("option",{value:e.stil_id,style:{backgroundColor:"#1a1a1a",color:"rgba(255, 255, 255, 0.9)"},children:e.name},e.stil_id))]})]})]})]}),A.length>0&&r.jsxs("button",{onClick:()=>{A.forEach(e=>De(e)),W([])},className:"btn btn-primary",style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",fontSize:"1rem",fontWeight:"600"},children:[r.jsx(a,{size:20}),A.length," Kandidat",A.length>1?"en":""," zulassen"]})]}),z?r.jsxs("div",{style:{textAlign:"center",padding:"4rem",display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:[r.jsx("div",{className:"loading-spinner-large"}),r.jsx("p",{style:{color:"rgba(255, 255, 255, 0.6)"},children:"Kandidaten werden geladen..."})]}):0===b.length?r.jsxs("div",{style:{textAlign:"center",padding:"3rem",backgroundColor:"rgba(255, 255, 255, 0.03)",borderRadius:"0.5rem",border:"2px dashed rgba(255, 215, 0, 0.2)"},children:[r.jsx(i,{size:48,style:{color:"rgba(255, 255, 255, 0.3)",marginBottom:"1rem"}}),r.jsx("h3",{style:{color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem"},children:"Keine Kandidaten gefunden"}),r.jsx("p",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:"0.875rem"},children:"Aktuell gibt es keine Mitglieder, die die Voraussetzungen fÃ¼r eine PrÃ¼fung erfÃ¼llen."})]}):0===e.length?r.jsxs("div",{style:{textAlign:"center",padding:"3rem",backgroundColor:"rgba(255, 255, 255, 0.03)",borderRadius:"0.5rem",border:"2px dashed rgba(255, 215, 0, 0.2)"},children:[r.jsx(i,{size:48,style:{color:"rgba(255, 255, 255, 0.3)",marginBottom:"1rem"}}),r.jsx("h3",{style:{color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem"},children:"Keine Kandidaten mit den aktuellen Filtern"}),r.jsx("p",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:"0.875rem"},children:"Passen Sie die Filter an, um andere Kandidaten anzuzeigen."})]}):r.jsx("div",{className:"table-container",children:r.jsxs("table",{className:"data-table",style:{fontSize:"0.8125rem"},children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{style:{width:"40px",textAlign:"center",color:"#EAB308"},children:r.jsx("input",{type:"checkbox",style:{width:"18px",height:"18px",cursor:"pointer",accentColor:"#ffd700"},onChange:r=>{r.target.checked?W(e.filter(e=>e.berechtigt&&!e.bereits_zugelassen)):W([])},checked:e.filter(e=>e.berechtigt&&!e.bereits_zugelassen).length>0&&A.length===e.filter(e=>e.berechtigt&&!e.bereits_zugelassen).length})}),r.jsxs("th",{style:{minWidth:"140px",color:"#EAB308",cursor:"pointer",userSelect:"none",fontSize:"0.8125rem",padding:"0.5rem"},onClick:()=>Le("name"),children:["Name ",r.jsx(Ge,{columnKey:"name"})]}),r.jsxs("th",{style:{minWidth:"90px",color:"#EAB308",cursor:"pointer",userSelect:"none",fontSize:"0.8125rem",padding:"0.5rem"},onClick:()=>Le("geburtsdatum"),children:["Geb.datum ",r.jsx(Ge,{columnKey:"geburtsdatum"})]}),r.jsxs("th",{style:{minWidth:"80px",color:"#EAB308",cursor:"pointer",userSelect:"none",fontSize:"0.8125rem",padding:"0.5rem"},onClick:()=>Le("stil_name"),children:["Stil ",r.jsx(Ge,{columnKey:"stil_name"})]}),r.jsxs("th",{style:{minWidth:"120px",color:"#EAB308",cursor:"pointer",userSelect:"none",fontSize:"0.8125rem",padding:"0.5rem"},onClick:()=>Le("graduierung_vorher_name"),children:["Aktuell ",r.jsx(Ge,{columnKey:"graduierung_vorher_name"})]}),r.jsxs("th",{style:{minWidth:"120px",color:"#EAB308",cursor:"pointer",userSelect:"none",fontSize:"0.8125rem",padding:"0.5rem"},onClick:()=>Le("graduierung_nachher_name"),children:["Ziel ",r.jsx(Ge,{columnKey:"graduierung_nachher_name"})]}),r.jsx("th",{style:{minWidth:"110px",color:"#EAB308",fontSize:"0.8125rem",padding:"0.5rem"},children:"Stunden"}),r.jsx("th",{style:{minWidth:"80px",color:"#EAB308",fontSize:"0.8125rem",padding:"0.5rem"},children:"Monate"}),r.jsx("th",{style:{minWidth:"100px",color:"#EAB308",fontSize:"0.8125rem",padding:"0.5rem"},children:"Status"}),r.jsx("th",{style:{minWidth:"100px",textAlign:"center",color:"#EAB308",fontSize:"0.8125rem",padding:"0.5rem"},children:"Aktion"})]})}),r.jsx("tbody",{children:e.map((e,n)=>r.jsxs("tr",{style:{backgroundColor:e.bereits_zugelassen?"rgba(255, 215, 0, 0.05)":e.berechtigt?"rgba(34, 197, 94, 0.05)":"transparent",opacity:e.bereits_zugelassen?.7:1,transition:"all 0.2s ease",borderLeft:e.berechtigt&&!e.bereits_zugelassen?"3px solid rgba(34, 197, 94, 0.5)":e.bereits_zugelassen?"3px solid rgba(255, 215, 0, 0.5)":"3px solid transparent"},className:"hover-row",children:[r.jsx("td",{style:{textAlign:"center"},children:e.berechtigt&&!e.bereits_zugelassen?r.jsx("input",{type:"checkbox",style:{width:"18px",height:"18px",cursor:"pointer",accentColor:"#ffd700"},checked:A.some(r=>r.mitglied_id===e.mitglied_id&&r.stil_id===e.stil_id),onChange:r=>{r.target.checked?W([...A,e]):W(A.filter(r=>!(r.mitglied_id===e.mitglied_id&&r.stil_id===e.stil_id)))}}):r.jsx("span",{style:{color:"#d1d5db"},children:"â€”"})}),r.jsx("td",{children:r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.125rem"},children:[r.jsxs("strong",{style:{color:"rgba(255, 255, 255, 0.95)"},children:[e.vorname," ",e.nachname]}),r.jsxs("span",{style:{fontSize:"0.75rem",color:"#9ca3af"},children:["ID: ",e.mitglied_id]})]})}),r.jsx("td",{style:{color:"rgba(255, 255, 255, 0.6)"},children:new Date(e.geburtsdatum).toLocaleDateString("de-DE")}),r.jsx("td",{children:r.jsx("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.4rem",padding:"0.4rem 0.6rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"6px",fontSize:"0.85rem",fontWeight:"500",color:"rgba(255, 255, 255, 0.8)",border:"1px solid rgba(255, 215, 0, 0.2)"},children:e.stil_name})}),r.jsx("td",{children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:e.aktuelle_farbe||"rgba(255, 255, 255, 0.1)",border:"2px solid rgba(255, 255, 255, 0.3)",flexShrink:0},title:e.aktuelle_graduierung||"Keine"}),r.jsx("span",{style:{fontSize:"0.875rem",color:"rgba(255, 255, 255, 0.8)",fontWeight:"500"},children:e.aktuelle_graduierung||"Keine"})]})}),r.jsx("td",{children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:e.naechste_farbe||"rgba(255, 255, 255, 0.1)",border:"2px solid rgba(34, 197, 94, 0.5)",flexShrink:0},title:e.naechste_graduierung}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.125rem"},children:[r.jsx("span",{style:{fontSize:"0.875rem",color:"rgba(255, 255, 255, 0.9)",fontWeight:"600"},children:e.naechste_graduierung}),r.jsx("span",{style:{fontSize:"0.7rem",color:"rgba(255, 255, 255, 0.5)",fontWeight:"400"},children:"Ziel-Gurt"})]})]})}),r.jsx("td",{children:r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.375rem"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("span",{style:{fontSize:"0.8125rem",fontWeight:"600",color:e.absolvierte_stunden>=e.benoetigte_stunden?"#10b981":"#ef4444"},children:e.absolvierte_stunden}),r.jsxs("span",{style:{fontSize:"0.75rem",color:"#9ca3af"},children:["/ ",e.benoetigte_stunden]})]}),r.jsx("div",{style:{width:"100%",height:"6px",backgroundColor:"#e5e7eb",borderRadius:"3px",overflow:"hidden"},children:r.jsx("div",{style:{width:`${Math.min(e.fortschritt_prozent,100)}%`,height:"100%",backgroundColor:e.fortschritt_prozent>=100?"#10b981":"#f59e0b",transition:"width 0.3s ease"}})}),r.jsxs("span",{style:{fontSize:"0.6875rem",color:"#9ca3af"},children:[e.fortschritt_prozent,"% erreicht"]})]})}),r.jsxs("td",{children:[r.jsxs("div",{style:{fontSize:"0.8125rem",fontWeight:"600",color:e.monate_seit_letzter_pruefung>=e.benoetigte_monate?"#10b981":"#ef4444"},children:[e.monate_seit_letzter_pruefung," Mon."]}),r.jsxs("div",{style:{fontSize:"0.75rem",color:"#9ca3af"},children:["von ",e.benoetigte_monate]})]}),r.jsx("td",{children:e.bereits_zugelassen?r.jsxs("span",{className:"badge badge-warning",style:{display:"inline-flex",alignItems:"center",gap:"0.3rem",fontSize:"0.75rem"},children:[r.jsx(a,{size:14}),"Zugelassen"]}):e.berechtigt?r.jsxs("span",{className:"badge badge-success",style:{display:"inline-flex",alignItems:"center",gap:"0.3rem",fontSize:"0.75rem"},children:[r.jsx(a,{size:14}),"Berechtigt"]}):r.jsxs("span",{className:"badge badge-neutral",style:{display:"inline-flex",alignItems:"center",gap:"0.3rem",fontSize:"0.75rem"},children:[r.jsx(u,{size:14}),"Noch nicht"]})}),r.jsx("td",{style:{textAlign:"center"},children:e.bereits_zugelassen?r.jsxs("button",{onClick:()=>{e.pruefung_id?Ne({pruefung_id:e.pruefung_id,mitglied_id:e.mitglied_id,vorname:e.vorname,nachname:e.nachname}):w("Keine PrÃ¼fung-ID gefunden. Bitte aktualisieren Sie die Seite.")},className:"btn btn-sm btn-danger",style:{display:"inline-flex",alignItems:"center",gap:"0.375rem",padding:"0.5rem 1rem",fontSize:"0.8125rem",fontWeight:"600"},title:"Zulassung widerrufen",children:[r.jsx(u,{size:16}),"Entfernen"]}):e.berechtigt?r.jsxs("button",{onClick:()=>De(e),className:"btn btn-sm btn-success",style:{display:"inline-flex",alignItems:"center",gap:"0.375rem",padding:"0.5rem 1rem",fontSize:"0.8125rem",fontWeight:"600"},children:[r.jsx(a,{size:16}),"Zulassen"]}):r.jsxs("button",{onClick:()=>(async e=>{window.confirm(`${e.vorname} ${e.nachname} erfÃ¼llt die zeitlichen Voraussetzungen noch nicht.\n\nMÃ¶chten Sie eine Ausnahme-Zulassung erteilen?`)&&await De(e,null)})(e),className:"btn btn-sm btn-warning",style:{display:"inline-flex",alignItems:"center",gap:"0.375rem",padding:"0.5rem 1rem",fontSize:"0.8125rem",fontWeight:"600"},title:"Ausnahme-Zulassung fÃ¼r Kandidaten ohne zeitliche Voraussetzungen",children:[r.jsx(a,{size:16}),"Ausnahme"]})})]},`${e.mitglied_id}-${e.stil_id}-${n}`))})]})}),b.length>0&&r.jsx("div",{style:{marginTop:"1.5rem",padding:"1rem",backgroundColor:"rgba(255, 255, 255, 0.03)",borderRadius:"0.5rem",border:"1px solid rgba(255, 215, 0, 0.15)"},children:r.jsxs("div",{style:{display:"flex",gap:"2rem",flexWrap:"wrap",fontSize:"0.875rem"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("div",{style:{width:"20px",height:"4px",backgroundColor:"rgba(34, 197, 94, 0.5)",borderRadius:"2px"}}),r.jsx("span",{style:{color:"rgba(255, 255, 255, 0.7)"},children:"Berechtigt zur PrÃ¼fung"})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("div",{style:{width:"20px",height:"4px",backgroundColor:"rgba(255, 215, 0, 0.5)",borderRadius:"2px"}}),r.jsx("span",{style:{color:"rgba(255, 255, 255, 0.7)"},children:"Bereits zugelassen"})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("div",{style:{width:"20px",height:"4px",backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:"2px"}}),r.jsx("span",{style:{color:"rgba(255, 255, 255, 0.7)"},children:"Noch nicht berechtigt"})]})]})})]})})(),"zugelassen"===T&&r.jsxs("div",{children:[r.jsxs("div",{style:{marginBottom:"1.5rem"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[r.jsxs("h2",{children:["Zugelassene PrÃ¼fungen (",Z.length,")"]}),r.jsxs("div",{className:"btn-toggle-group",children:[r.jsx("button",{onClick:()=>N("alle"),className:"btn-toggle "+("alle"===D?"active":""),children:"Alle"}),r.jsx("button",{onClick:()=>N("zukuenftig"),className:"btn-toggle "+("zukuenftig"===D?"active":""),children:"ZukÃ¼nftig"}),r.jsx("button",{onClick:()=>N("vergangen"),className:"btn-toggle "+("vergangen"===D?"active":""),children:"Vergangen"})]})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("span",{style:{fontSize:"0.875rem",color:"rgba(255, 255, 255, 0.7)",fontWeight:"500"},children:"Stil:"}),r.jsxs("select",{value:ve,onChange:e=>ke(e.target.value),style:{padding:"0.375rem 0.75rem",fontSize:"0.875rem",backgroundColor:"#1a1a1a",color:"rgba(255, 255, 255, 0.9)",border:"1px solid rgba(234, 179, 8, 0.3)",borderRadius:"0.375rem",cursor:"pointer",fontWeight:"500",outline:"none"},children:[r.jsx("option",{value:"all",style:{backgroundColor:"#1a1a1a",color:"rgba(255, 255, 255, 0.9)"},children:"Alle Stile"}),y.map(e=>r.jsx("option",{value:e.stil_id,style:{backgroundColor:"#1a1a1a",color:"rgba(255, 255, 255, 0.9)"},children:e.name},e.stil_id))]})]})]}),z?r.jsx("div",{style:{textAlign:"center",padding:"3rem"},children:"LÃ¤dt..."}):r.jsx("div",{className:"table-container",children:r.jsxs("table",{className:"data-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsxs("th",{style:{color:"#EAB308",cursor:"pointer",userSelect:"none"},onClick:()=>Le("name"),children:["Name ",r.jsx(Ge,{columnKey:"name"})]}),r.jsxs("th",{style:{color:"#EAB308",cursor:"pointer",userSelect:"none"},onClick:()=>Le("stil_name"),children:["Stil ",r.jsx(Ge,{columnKey:"stil_name"})]}),r.jsxs("th",{style:{color:"#EAB308",cursor:"pointer",userSelect:"none"},onClick:()=>Le("graduierung_nachher_name"),children:["Angestrebt ",r.jsx(Ge,{columnKey:"graduierung_nachher_name"})]}),r.jsxs("th",{style:{color:"#EAB308",cursor:"pointer",userSelect:"none"},onClick:()=>Le("pruefungsdatum"),children:["PrÃ¼fungsdatum ",r.jsx(Ge,{columnKey:"pruefungsdatum"})]}),r.jsx("th",{style:{color:"#EAB308"},children:"Aktionen"})]})}),r.jsx("tbody",{children:(()=>{const e=new Date;e.setHours(0,0,0,0);let n=Z.filter(r=>{if("all"!==ve&&r.stil_id!==parseInt(ve))return!1;if(!r.pruefungsdatum)return!0;const n=new Date(r.pruefungsdatum);return n.setHours(0,0,0,0),"zukuenftig"===D?n>=e:"vergangen"!==D||n<e});return _e.key?n=Oe(n,_e.key,_e.direction):n.sort((r,n)=>{if(!r.pruefungsdatum&&!n.pruefungsdatum)return 0;if(!r.pruefungsdatum)return 1;if(!n.pruefungsdatum)return-1;const t=new Date(r.pruefungsdatum),i=new Date(n.pruefungsdatum);t.setHours(0,0,0,0),i.setHours(0,0,0,0);const a=t>=e,s=i>=e;return a&&s?t-i:a||s?a?-1:1:i-t}),n.map(e=>r.jsxs("tr",{children:[r.jsx("td",{children:r.jsxs("strong",{children:[e.vorname," ",e.nachname]})}),r.jsx("td",{children:r.jsx("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.4rem",padding:"0.4rem 0.6rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"6px",fontSize:"0.85rem",fontWeight:"500",color:"rgba(255, 255, 255, 0.8)",border:"1px solid rgba(255, 215, 0, 0.2)"},children:e.stil_name})}),r.jsx("td",{children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:e.farbe_nachher||"rgba(255, 255, 255, 0.1)",border:"2px solid rgba(255, 255, 255, 0.3)",flexShrink:0},title:e.graduierung_nachher}),r.jsx("span",{style:{fontSize:"0.875rem",color:"rgba(255, 255, 255, 0.9)",fontWeight:"600"},children:e.graduierung_nachher})]})}),r.jsx("td",{children:e.pruefungsdatum?new Date(e.pruefungsdatum).toLocaleDateString("de-DE"):"Nicht festgelegt"}),r.jsx("td",{children:r.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[r.jsx("button",{onClick:async()=>{if(!e.stil_id)return void w("Stil-ID fehlt fÃ¼r diese PrÃ¼fung");F(e);const r=await(async e=>{try{const r=await fetch(`${x}/stile/${e}/graduierungen`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}}),n=await r.json();return O(n.graduierungen||[]),n.graduierungen||[]}catch(r){return console.error("Fehler beim Laden der Graduierungen:",r),[]}})(e.stil_id),n=r.findIndex(r=>r.graduierung_id===e.graduierung_nachher_id),t=r[n]||r[0];L({bestanden:!1,punktzahl:"",max_punktzahl:"100",prueferkommentar:"",graduierung_nachher_index:n>=0?n:0,graduierung_nachher_id:(null==t?void 0:t.graduierung_id)||null,graduierung_nachher_name:(null==t?void 0:t.name)||"",graduierung_nachher_farbe:(null==t?void 0:t.farbe_hex)||""}),R(!0)},className:"btn btn-sm btn-primary",children:"ðŸ“ Ergebnis eintragen"}),r.jsxs("button",{onClick:()=>Ne(e),className:"btn btn-sm btn-danger",style:{display:"inline-flex",alignItems:"center",gap:"0.375rem"},children:[r.jsx(u,{size:16}),"Entfernen"]})]})})]},e.pruefung_id))})()})]})})]}),"abgeschlossen"===T&&r.jsxs("div",{children:[r.jsxs("div",{style:{marginBottom:"1.5rem"},children:[r.jsxs("h2",{style:{marginBottom:"1rem"},children:["Abgeschlossene PrÃ¼fungen (",U.length,")"]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("span",{style:{fontSize:"0.875rem",color:"rgba(255, 255, 255, 0.7)",fontWeight:"500"},children:"Stil:"}),r.jsxs("select",{value:ze,onChange:e=>Se(e.target.value),style:{padding:"0.375rem 0.75rem",fontSize:"0.875rem",backgroundColor:"#1a1a1a",color:"rgba(255, 255, 255, 0.9)",border:"1px solid rgba(234, 179, 8, 0.3)",borderRadius:"0.375rem",cursor:"pointer",fontWeight:"500",outline:"none"},children:[r.jsx("option",{value:"all",style:{backgroundColor:"#1a1a1a",color:"rgba(255, 255, 255, 0.9)"},children:"Alle Stile"}),y.map(e=>r.jsx("option",{value:e.stil_id,style:{backgroundColor:"#1a1a1a",color:"rgba(255, 255, 255, 0.9)"},children:e.name},e.stil_id))]})]})]}),z?r.jsx("div",{style:{textAlign:"center",padding:"3rem"},children:"LÃ¤dt..."}):r.jsx("div",{className:"table-container",children:r.jsxs("table",{className:"data-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsxs("th",{style:{color:"#EAB308",cursor:"pointer",userSelect:"none"},onClick:()=>Le("name"),children:["Name ",r.jsx(Ge,{columnKey:"name"})]}),r.jsxs("th",{style:{color:"#EAB308",cursor:"pointer",userSelect:"none"},onClick:()=>Le("stil_name"),children:["Stil ",r.jsx(Ge,{columnKey:"stil_name"})]}),r.jsxs("th",{style:{color:"#EAB308",cursor:"pointer",userSelect:"none"},onClick:()=>Le("graduierung_nachher"),children:["Graduierung ",r.jsx(Ge,{columnKey:"graduierung_nachher"})]}),r.jsxs("th",{style:{color:"#EAB308",cursor:"pointer",userSelect:"none"},onClick:()=>Le("pruefungsdatum"),children:["Datum ",r.jsx(Ge,{columnKey:"pruefungsdatum"})]}),r.jsxs("th",{style:{color:"#EAB308",cursor:"pointer",userSelect:"none"},onClick:()=>Le("bestanden"),children:["Ergebnis ",r.jsx(Ge,{columnKey:"bestanden"})]}),r.jsx("th",{style:{color:"#EAB308"},children:"Aktionen"})]})}),r.jsx("tbody",{children:(()=>{let e=U;return"all"!==ze&&(e=e.filter(e=>e.stil_id===parseInt(ze))),_e.key&&(e=Oe(e,_e.key,_e.direction)),e.map(e=>r.jsxs("tr",{children:[r.jsx("td",{children:r.jsxs("strong",{children:[e.vorname," ",e.nachname]})}),r.jsx("td",{children:r.jsx("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.4rem",padding:"0.4rem 0.6rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"6px",fontSize:"0.85rem",fontWeight:"500",color:"rgba(255, 255, 255, 0.8)",border:"1px solid rgba(255, 215, 0, 0.2)"},children:e.stil_name})}),r.jsx("td",{children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:e.farbe_nachher||"rgba(255, 255, 255, 0.1)",border:"2px solid rgba(255, 255, 255, 0.3)",flexShrink:0},title:e.graduierung_nachher}),r.jsx("span",{style:{fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.9)",fontWeight:"500"},children:e.graduierung_nachher})]})}),r.jsx("td",{children:new Date(e.pruefungsdatum).toLocaleDateString("de-DE")}),r.jsx("td",{children:r.jsxs("div",{children:[e.bestanden?r.jsx("span",{className:"badge badge-success",children:"âœ“ Bestanden"}):r.jsx("span",{className:"badge badge-danger",children:"âœ— Nicht bestanden"}),e.punktzahl&&r.jsxs("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.5)",marginTop:"0.25rem"},children:[e.punktzahl," / ",e.max_punktzahl," Pkt."]})]})}),r.jsx("td",{children:r.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[r.jsxs("button",{className:"btn btn-sm btn-secondary",children:[r.jsx(m,{size:16})," Urkunde"]}),r.jsxs("button",{onClick:()=>(async e=>{const r=!e.bestanden,n=r?"bestanden":"nicht bestanden";let t=`MÃ¶chten Sie den Status von ${e.vorname} ${e.nachname} wirklich auf "${n}" Ã¤ndern?`;if(r||(t+="\n\nHinweis: Die Graduierung des Mitglieds wird auf den Stand vor der PrÃ¼fung zurÃ¼ckgesetzt."),window.confirm(t))try{const t=await fetch(`${x}/pruefungen/${e.pruefung_id}/status-aendern`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({bestanden:r,mitglied_id:e.mitglied_id,stil_id:e.stil_id,graduierung_vorher_id:e.graduierung_vorher_id,graduierung_nachher_id:e.graduierung_nachher_id})});if(!t.ok){const e=await t.json();throw new Error(e.error||"Fehler beim Ã„ndern des Status")}C(`Status von ${e.vorname} ${e.nachname} wurde auf "${n}" geÃ¤ndert.`),Ee(),Ce(),setTimeout(()=>C(""),3e3)}catch(i){w(i.message)}})(e),className:"btn btn-sm btn-warning",style:{display:"inline-flex",alignItems:"center",gap:"0.375rem"},children:[r.jsx(g,{size:16}),"Status Ã¤ndern"]})]})})]},e.pruefung_id))})()})]})})]}),"statistiken"===T&&Y&&r.jsxs("div",{children:[r.jsx("h2",{style:{fontSize:"1.25rem",marginBottom:"1rem"},children:"PrÃ¼fungsstatistiken"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"0.75rem",marginBottom:"1.5rem"},children:[r.jsxs("div",{className:"stat-card",style:{padding:"0.75rem"},children:[r.jsx("h3",{style:{fontSize:"0.75rem",margin:"0 0 0.375rem 0",color:"rgba(255, 255, 255, 0.7)"},children:"Gesamt"}),r.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#8b5cf6"},children:Y.gesamt.gesamt}),r.jsx("div",{style:{fontSize:"0.625rem",color:"rgba(255, 255, 255, 0.5)"},children:"PrÃ¼fungen"})]}),r.jsxs("div",{className:"stat-card",style:{padding:"0.75rem"},children:[r.jsx("h3",{style:{fontSize:"0.75rem",margin:"0 0 0.375rem 0",color:"rgba(255, 255, 255, 0.7)"},children:"Bestanden"}),r.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#10b981"},children:Y.gesamt.bestanden}),r.jsx("div",{style:{fontSize:"0.625rem",color:"rgba(255, 255, 255, 0.5)"},children:Y.gesamt.gesamt>0?`${Math.round(Y.gesamt.bestanden/Y.gesamt.gesamt*100)}% Quote`:"0% Quote"})]}),r.jsxs("div",{className:"stat-card",style:{padding:"0.75rem"},children:[r.jsx("h3",{style:{fontSize:"0.75rem",margin:"0 0 0.375rem 0",color:"rgba(255, 255, 255, 0.7)"},children:"Nicht bestanden"}),r.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#ef4444"},children:Y.gesamt.nicht_bestanden}),r.jsx("div",{style:{fontSize:"0.625rem",color:"rgba(255, 255, 255, 0.5)"},children:Y.gesamt.gesamt>0?`${Math.round(Y.gesamt.nicht_bestanden/Y.gesamt.gesamt*100)}%`:"0%"})]}),r.jsxs("div",{className:"stat-card",style:{padding:"0.75rem"},children:[r.jsx("h3",{style:{fontSize:"0.75rem",margin:"0 0 0.375rem 0",color:"rgba(255, 255, 255, 0.7)"},children:"Geplant"}),r.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#f59e0b"},children:Y.gesamt.geplant}),r.jsx("div",{style:{fontSize:"0.625rem",color:"rgba(255, 255, 255, 0.5)"},children:"Anstehend"})]}),r.jsxs("div",{className:"stat-card",style:{padding:"0.75rem"},children:[r.jsx("h3",{style:{fontSize:"0.75rem",margin:"0 0 0.375rem 0",color:"rgba(255, 255, 255, 0.7)"},children:"Kandidaten"}),r.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#3b82f6"},children:b.length}),r.jsxs("div",{style:{fontSize:"0.625rem",color:"rgba(255, 255, 255, 0.5)"},children:[b.filter(e=>e.berechtigt).length," berechtigt"]})]}),r.jsxs("div",{className:"stat-card",style:{padding:"0.75rem"},children:[r.jsx("h3",{style:{fontSize:"0.75rem",margin:"0 0 0.375rem 0",color:"rgba(255, 255, 255, 0.7)"},children:"Ã˜ Punktzahl"}),r.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#8b5cf6"},children:[(()=>{const e=U.filter(e=>e.bestanden&&e.punktzahl&&e.max_punktzahl);return(e.length>0?e.reduce((e,r)=>e+r.punktzahl/r.max_punktzahl*100,0)/e.length:0).toFixed(0)})(),"%"]}),r.jsx("div",{style:{fontSize:"0.625rem",color:"rgba(255, 255, 255, 0.5)"},children:"Bestanden"})]}),r.jsxs("div",{className:"stat-card",style:{padding:"0.75rem"},children:[r.jsx("h3",{style:{fontSize:"0.75rem",margin:"0 0 0.375rem 0",color:"rgba(255, 255, 255, 0.7)"},children:"Ã˜ Training"}),r.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#10b981"},children:[(b.length>0?b.reduce((e,r)=>e+(r.trainingsstunden||0),0)/b.length:0).toFixed(0),"h"]}),r.jsx("div",{style:{fontSize:"0.625rem",color:"rgba(255, 255, 255, 0.5)"},children:"Kandidaten"})]}),r.jsxs("div",{className:"stat-card",style:{padding:"0.75rem"},children:[r.jsx("h3",{style:{fontSize:"0.75rem",margin:"0 0 0.375rem 0",color:"rgba(255, 255, 255, 0.7)"},children:"Ã˜ Monate"}),r.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#06b6d4"},children:(b.length>0?b.reduce((e,r)=>e+(r.monate_seit_letzter||0),0)/b.length:0).toFixed(0)}),r.jsx("div",{style:{fontSize:"0.625rem",color:"rgba(255, 255, 255, 0.5)"},children:"Seit letzter"})]})]}),r.jsx("h3",{children:"Nach Stil"}),r.jsx("div",{className:"table-container",children:r.jsxs("table",{className:"data-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{style:{color:"#EAB308"},children:"Stil"}),r.jsx("th",{style:{color:"#EAB308"},children:"Anzahl PrÃ¼fungen"}),r.jsx("th",{style:{color:"#EAB308"},children:"Bestanden"}),r.jsx("th",{style:{color:"#EAB308"},children:"Erfolgsquote"})]})}),r.jsx("tbody",{children:Y.nach_stil.map((e,n)=>r.jsxs("tr",{children:[r.jsx("td",{children:r.jsx("strong",{children:e.stil_name})}),r.jsx("td",{children:e.anzahl}),r.jsx("td",{children:e.bestanden}),r.jsx("td",{children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("div",{style:{flex:1,height:"8px",backgroundColor:"#e5e7eb",borderRadius:"4px",overflow:"hidden"},children:r.jsx("div",{style:{width:e.bestanden/e.anzahl*100+"%",height:"100%",backgroundColor:"#10b981"}})}),r.jsxs("span",{style:{fontWeight:"bold"},children:[Math.round(e.bestanden/e.anzahl*100),"%"]})]})})]},n))})]})}),r.jsxs("div",{style:{marginTop:"2rem"},children:[r.jsx("h3",{style:{marginBottom:"1rem"},children:"PrÃ¼fungen nach Graduierung"}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:(()=>{const e={};return U.forEach(r=>{const n=r.graduierung_nachher||"Unbekannt";e[n]||(e[n]={gesamt:0,bestanden:0,farbe:r.farbe_nachher}),e[n].gesamt++,r.bestanden&&e[n].bestanden++}),Object.entries(e).sort((e,r)=>r[1].gesamt-e[1].gesamt).slice(0,6).map(([e,n])=>r.jsxs("div",{className:"stat-card",style:{padding:"1rem"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[r.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",backgroundColor:n.farbe||"rgba(255, 255, 255, 0.1)",border:"2px solid rgba(255, 255, 255, 0.3)"}}),r.jsx("h4",{style:{margin:0,fontSize:"0.875rem"},children:e})]}),r.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#EAB308",marginBottom:"0.25rem"},children:n.gesamt}),r.jsxs("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)"},children:[n.bestanden," bestanden (",Math.round(n.bestanden/n.gesamt*100),"%)"]})]},e))})()})]}),Y.gurtverteilung&&Y.gurtverteilung.length>0&&r.jsxs("div",{style:{marginTop:"2rem"},children:[r.jsx("h3",{style:{marginBottom:"1rem"},children:"Aktuelle Gurtverteilung"}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:Y.gurtverteilung.map((e,n)=>r.jsxs("div",{className:"stat-card",style:{padding:"1rem"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.75rem"},children:[r.jsx("div",{style:{width:"50px",height:"18px",backgroundColor:e.farbe||"#CCCCCC",borderRadius:"9px",boxShadow:"0 3px 10px rgba(0, 0, 0, 0.4)",flexShrink:0,border:"1.5px solid rgba(0, 0, 0, 0.2)"}}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.125rem"},children:[r.jsx("h4",{style:{margin:0,fontSize:"1rem",fontWeight:"600",color:"rgba(255, 255, 255, 0.95)"},children:e.graduierung_name}),r.jsx("span",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.5)"},children:e.stil_name})]})]}),r.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#EAB308",marginBottom:"0.25rem"},children:e.anzahl}),r.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)"},children:1===e.anzahl?"Mitglied":"Mitglieder"})]},n))})]}),r.jsxs("div",{style:{marginTop:"2rem"},children:[r.jsx("h3",{style:{marginBottom:"1rem"},children:"PrÃ¼fungen der letzten 12 Monate"}),r.jsx("div",{className:"table-container",children:r.jsxs("table",{className:"data-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{style:{color:"#EAB308"},children:"Monat"}),r.jsx("th",{style:{color:"#EAB308"},children:"Gesamt"}),r.jsx("th",{style:{color:"#EAB308"},children:"Bestanden"}),r.jsx("th",{style:{color:"#EAB308"},children:"Nicht bestanden"}),r.jsx("th",{style:{color:"#EAB308"},children:"Erfolgsquote"})]})}),r.jsx("tbody",{children:(()=>{const e={},n=new Date;for(let r=11;r>=0;r--){const t=new Date(n.getFullYear(),n.getMonth()-r,1),i=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`;e[i]={monat:t.toLocaleDateString("de-DE",{month:"long",year:"numeric"}),gesamt:0,bestanden:0,nichtBestanden:0}}return U.forEach(r=>{if(r.pruefungsdatum){const n=new Date(r.pruefungsdatum),t=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}`;e[t]&&(e[t].gesamt++,r.bestanden?e[t].bestanden++:e[t].nichtBestanden++)}}),Object.values(e).map((e,n)=>r.jsxs("tr",{children:[r.jsx("td",{children:r.jsx("strong",{children:e.monat})}),r.jsx("td",{children:e.gesamt}),r.jsx("td",{style:{color:"#10b981"},children:e.bestanden}),r.jsx("td",{style:{color:"#ef4444"},children:e.nichtBestanden}),r.jsx("td",{children:e.gesamt>0?r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("div",{style:{flex:1,height:"6px",backgroundColor:"#e5e7eb",borderRadius:"3px",overflow:"hidden"},children:r.jsx("div",{style:{width:e.bestanden/e.gesamt*100+"%",height:"100%",backgroundColor:"#10b981"}})}),r.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"600"},children:[Math.round(e.bestanden/e.gesamt*100),"%"]})]}):r.jsx("span",{style:{color:"rgba(255, 255, 255, 0.4)"},children:"-"})})]},n))})()})]})})]}),r.jsxs("div",{style:{marginTop:"2rem"},children:[r.jsx("h3",{style:{marginBottom:"1rem"},children:"PrÃ¼fungs-Insights"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1rem"},children:[r.jsxs("div",{className:"stat-card",children:[r.jsx("h4",{style:{margin:"0 0 1rem 0",fontSize:"0.9rem",color:"#EAB308"},children:"ðŸ† Beste Erfolgsquote"}),(()=>{const e=Y.nach_stil.length>0?Y.nach_stil.reduce((e,r)=>r.bestanden/r.anzahl>e.bestanden/e.anzahl?r:e):null;return e?r.jsxs(r.Fragment,{children:[r.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"rgba(255, 255, 255, 0.9)",marginBottom:"0.5rem"},children:e.stil_name}),r.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#10b981"},children:[Math.round(e.bestanden/e.anzahl*100),"%"]}),r.jsxs("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.5)",marginTop:"0.5rem"},children:[e.bestanden," von ",e.anzahl," PrÃ¼fungen bestanden"]})]}):r.jsx("div",{style:{color:"rgba(255, 255, 255, 0.5)"},children:"Keine Daten vorhanden"})})()]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("h4",{style:{margin:"0 0 1rem 0",fontSize:"0.9rem",color:"#EAB308"},children:"ðŸ“Š Aktivster Monat"}),(()=>{const e={};U.forEach(r=>{if(r.pruefungsdatum){const n=new Date(r.pruefungsdatum).toLocaleDateString("de-DE",{month:"long",year:"numeric"});e[n]=(e[n]||0)+1}});const n=Object.entries(e).sort((e,r)=>r[1]-e[1])[0];return n?r.jsxs(r.Fragment,{children:[r.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"rgba(255, 255, 255, 0.9)",marginBottom:"0.5rem"},children:n[0]}),r.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#8b5cf6"},children:n[1]}),r.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.5)",marginTop:"0.5rem"},children:"PrÃ¼fungen durchgefÃ¼hrt"})]}):r.jsx("div",{style:{color:"rgba(255, 255, 255, 0.5)"},children:"Keine Daten vorhanden"})})()]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("h4",{style:{margin:"0 0 1rem 0",fontSize:"0.9rem",color:"#EAB308"},children:"ðŸ“… NÃ¤chste PrÃ¼fung"}),(()=>{const e=new Date;e.setHours(0,0,0,0);const n=Z.filter(r=>{if(!r.pruefungsdatum)return!1;const n=new Date(r.pruefungsdatum);return n.setHours(0,0,0,0),n>=e});if(0===n.length)return r.jsx("div",{style:{color:"rgba(255, 255, 255, 0.5)"},children:"Keine geplanten PrÃ¼fungen"});const t={};n.forEach(e=>{const r=`${e.pruefungsdatum}_${e.stil_name||"Unbekannt"}`;t[r]||(t[r]={datum:e.pruefungsdatum,stil:e.stil_name||"Unbekannt",anzahl:0}),t[r].anzahl++});const i=Object.values(t).sort((e,r)=>new Date(e.datum)-new Date(r.datum))[0];return r.jsxs(r.Fragment,{children:[r.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"rgba(255, 255, 255, 0.9)",marginBottom:"0.5rem"},children:new Date(i.datum).toLocaleDateString("de-DE",{day:"2-digit",month:"long",year:"numeric"})}),r.jsx("div",{style:{fontSize:"1rem",color:"#f59e0b",marginTop:"0.5rem"},children:i.stil}),r.jsxs("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.5)",marginTop:"0.5rem"},children:[i.anzahl," Teilnehmer"]})]})})()]})]})]})]}),P&&M&&r.jsx("div",{className:"modal-overlay",onClick:()=>R(!1),children:r.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"600px"},children:[r.jsx("h2",{children:"PrÃ¼fungsergebnis eintragen"}),r.jsxs("p",{style:{marginBottom:"1.5rem",color:"#6b7280"},children:[r.jsxs("strong",{style:{color:"rgba(255, 255, 255, 0.95)"},children:[M.vorname," ",M.nachname]})," - ",M.stil_name]}),r.jsx("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:r.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"1rem",backgroundColor:K.bestanden?"#d1fae5":"#fee2e2",borderRadius:"0.5rem",border:"2px solid "+(K.bestanden?"#10b981":"#ef4444"),cursor:"pointer",transition:"all 0.3s ease"},children:[r.jsx("input",{type:"checkbox",checked:K.bestanden,onChange:e=>L({...K,bestanden:e.target.checked}),style:{width:"20px",height:"20px",cursor:"pointer",accentColor:"#10b981"}}),r.jsx("div",{style:{flex:1},children:r.jsx("strong",{style:{fontSize:"1.1rem",color:K.bestanden?"#065f46":"#991b1b"},children:K.bestanden?"âœ“ PrÃ¼fung bestanden":"âœ— PrÃ¼fung nicht bestanden"})})]})}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Erreichte Punktzahl"}),r.jsx("input",{type:"number",step:"0.5",value:K.punktzahl,onChange:e=>L({...K,punktzahl:e.target.value}),className:"form-input",placeholder:"0"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Max. Punktzahl"}),r.jsx("input",{type:"number",step:"0.5",value:K.max_punktzahl,onChange:e=>L({...K,max_punktzahl:e.target.value}),className:"form-input",placeholder:"100"})]})]}),r.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[r.jsxs("label",{style:{marginBottom:"0.5rem",display:"block",fontWeight:"600"},children:["Gurt nach PrÃ¼fung",r.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"normal",color:"#6b7280",marginLeft:"0.5rem"},children:"(â†‘â†“ Pfeiltasten zum Navigieren)"})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"1rem",backgroundColor:"#f9fafb",borderRadius:"0.5rem",border:"2px solid #e5e7eb"},children:[r.jsx("button",{type:"button",onClick:()=>Ue("down"),className:"btn btn-sm btn-secondary",style:{padding:"0.5rem",minWidth:"auto",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},disabled:0===K.graduierung_nachher_index,children:r.jsx(d,{size:20})}),r.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",gap:"1rem",padding:"0.75rem 1rem",background:"linear-gradient(135deg, #ffffff 0%, #f3f4f6 100%)",borderRadius:"0.5rem",border:"2px solid #d1d5db",minHeight:"60px"},children:[r.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:K.graduierung_nachher_farbe||"#e5e7eb",border:"3px solid #fff",boxShadow:"0 3px 12px rgba(0,0,0,0.2), inset 0 2px 4px rgba(255,255,255,0.4)",flexShrink:0,position:"relative"},children:r.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"28px",height:"28px",borderRadius:"50%",background:"radial-gradient(circle at 30% 30%, rgba(255,255,255,0.5), transparent)",pointerEvents:"none"}})}),r.jsxs("div",{style:{flex:1},children:[r.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"700",color:"#111827",marginBottom:"0.25rem"},children:K.graduierung_nachher_name||"Keine Auswahl"}),r.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:G.length>0?`Graduierung ${K.graduierung_nachher_index+1} von ${G.length}`:"Keine Graduierungen verfÃ¼gbar"})]})]}),r.jsx("button",{type:"button",onClick:()=>Ue("up"),className:"btn btn-sm btn-secondary",style:{padding:"0.5rem",minWidth:"auto",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},disabled:K.graduierung_nachher_index===G.length-1,children:r.jsx(o,{size:20})})]})]}),r.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[r.jsx("label",{children:"PrÃ¼fer-Kommentar"}),r.jsx("textarea",{value:K.prueferkommentar,onChange:e=>L({...K,prueferkommentar:e.target.value}),className:"form-input",rows:"3",placeholder:"Bemerkungen zur PrÃ¼fung, StÃ¤rken, Verbesserungspotenzial..."})]}),r.jsxs("div",{style:{padding:"0.75rem",backgroundColor:"#eff6ff",borderRadius:"0.5rem",border:"1px solid #bfdbfe",marginBottom:"1.5rem"},children:[r.jsx("div",{style:{fontSize:"0.875rem",color:"#1e40af"},children:r.jsx("strong",{children:"âŒ¨ï¸ Tastenkombinationen:"})}),r.jsx("div",{style:{fontSize:"0.8125rem",color:"#3b82f6",marginTop:"0.25rem"},children:"â†‘â†“ Pfeiltasten = Gurt wechseln â€¢ Strg+Enter = Speichern"})]}),r.jsxs("div",{className:"modal-actions",children:[r.jsx("button",{onClick:()=>R(!1),className:"btn btn-secondary",children:"Abbrechen"}),r.jsxs("button",{onClick:$e,className:"btn btn-primary",children:[r.jsx(a,{size:18,style:{marginRight:"0.5rem"}}),"Speichern (Strg+Enter)"]})]})]})}),ce&&me&&r.jsx("div",{className:"modal-overlay",onClick:()=>ue(!1),children:r.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[r.jsx("h2",{style:{marginBottom:"0.5rem"},children:"Pruefungsergebnisse eintragen"}),r.jsxs("p",{style:{marginBottom:"1rem",color:"#6b7280"},children:[r.jsx("strong",{style:{color:"rgba(255, 255, 255, 0.95)"},children:new Date(me.datum).toLocaleDateString("de-DE",{weekday:"long",day:"2-digit",month:"long",year:"numeric"})})," - ",r.jsx("span",{style:{color:"#EAB308"},children:me.stil_name})," - ",me.anzahl," Teilnehmer"]}),r.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginBottom:"1.5rem",padding:"0.75rem",backgroundColor:"rgba(255, 215, 0, 0.1)",borderRadius:"0.5rem",border:"1px solid rgba(255, 215, 0, 0.3)"},children:[r.jsx("span",{style:{color:"rgba(255, 255, 255, 0.8)",marginRight:"0.5rem"},children:"Schnellauswahl:"}),r.jsxs("button",{onClick:()=>Pe(!0),className:"btn btn-sm",style:{backgroundColor:"rgba(34, 197, 94, 0.3)",color:"#22c55e",border:"1px solid rgba(34, 197, 94, 0.5)",padding:"0.25rem 0.75rem",fontSize:"0.8125rem"},children:[r.jsx(a,{size:14,style:{marginRight:"0.25rem"}}),"Alle bestanden"]}),r.jsxs("button",{onClick:()=>Pe(!1),className:"btn btn-sm",style:{backgroundColor:"rgba(239, 68, 68, 0.3)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.5)",padding:"0.25rem 0.75rem",fontSize:"0.8125rem"},children:[r.jsx(u,{size:14,style:{marginRight:"0.25rem"}}),"Alle nicht bestanden"]})]}),r.jsx("div",{className:"table-container",children:r.jsxs("table",{className:"data-table",style:{fontSize:"0.875rem"},children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{style:{minWidth:"200px",color:"#EAB308"},children:"Name"}),r.jsx("th",{style:{minWidth:"120px",color:"#EAB308"},children:"Aktueller Gurt"}),r.jsx("th",{style:{minWidth:"120px",color:"#EAB308"},children:"Neuer Gurt"}),r.jsx("th",{style:{minWidth:"130px",color:"#EAB308",textAlign:"center"},children:"Ergebnis"}),r.jsx("th",{style:{minWidth:"100px",color:"#EAB308"},children:"Punkte"}),r.jsx("th",{style:{minWidth:"180px",color:"#EAB308"},children:"Kommentar"})]})}),r.jsx("tbody",{children:me.pruefungen.map(e=>{const n=pe[e.pruefung_id]||{bestanden:!0,punktzahl:"",prueferkommentar:""};return r.jsxs("tr",{style:{backgroundColor:n.bestanden?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)"},children:[r.jsx("td",{children:r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.125rem"},children:[r.jsxs("span",{style:{fontWeight:"700",color:"rgba(255, 255, 255, 0.95)"},children:[e.vorname," ",e.nachname]}),r.jsxs("span",{style:{fontSize:"0.75rem",color:"#6b7280"},children:["ID: ",e.mitglied_id]})]})}),r.jsx("td",{children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",backgroundColor:e.farbe_vorher||"#6b7280",border:"2px solid rgba(255, 255, 255, 0.3)"}}),r.jsx("span",{style:{fontSize:"0.8125rem",color:"rgba(255, 255, 255, 0.8)"},children:e.graduierung_vorher||"Keine"})]})}),r.jsx("td",{children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",backgroundColor:n.bestanden?e.farbe_nachher||"#EAB308":"#6b7280",border:"2px solid rgba(255, 255, 255, 0.3)",opacity:n.bestanden?1:.5}}),r.jsx("span",{style:{fontSize:"0.8125rem",color:n.bestanden?"rgba(255, 255, 255, 0.9)":"rgba(255, 255, 255, 0.5)",textDecoration:n.bestanden?"none":"line-through"},children:e.graduierung_nachher})]})}),r.jsx("td",{style:{textAlign:"center"},children:r.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.375rem 0.75rem",backgroundColor:n.bestanden?"#d1fae5":"#fee2e2",borderRadius:"0.375rem",border:"2px solid "+(n.bestanden?"#10b981":"#ef4444"),cursor:"pointer",transition:"all 0.2s ease"},children:[r.jsx("input",{type:"checkbox",checked:n.bestanden,onChange:r=>{xe({...pe,[e.pruefung_id]:{...n,bestanden:r.target.checked}})},style:{width:"16px",height:"16px",cursor:"pointer",accentColor:"#10b981"}}),r.jsx("span",{style:{fontWeight:"600",fontSize:"0.8125rem",color:n.bestanden?"#065f46":"#991b1b"},children:n.bestanden?"Bestanden":"Nicht bestanden"})]})}),r.jsx("td",{children:r.jsx("input",{type:"number",step:"0.5",value:n.punktzahl,onChange:r=>{xe({...pe,[e.pruefung_id]:{...n,punktzahl:r.target.value}})},className:"form-input",style:{padding:"0.375rem",fontSize:"0.8125rem"},placeholder:"Punkte"})}),r.jsx("td",{children:r.jsx("input",{type:"text",value:n.prueferkommentar,onChange:r=>{xe({...pe,[e.pruefung_id]:{...n,prueferkommentar:r.target.value}})},className:"form-input",style:{padding:"0.375rem",fontSize:"0.8125rem"},placeholder:"Kommentar..."})})]},e.pruefung_id)})})]})}),r.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"0.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs("div",{style:{display:"flex",gap:"2rem"},children:[r.jsxs("div",{children:[r.jsx("span",{style:{color:"#22c55e",fontWeight:"700",fontSize:"1.25rem"},children:Object.values(pe).filter(e=>e.bestanden).length}),r.jsx("span",{style:{color:"#6b7280",marginLeft:"0.5rem"},children:"Bestanden"})]}),r.jsxs("div",{children:[r.jsx("span",{style:{color:"#ef4444",fontWeight:"700",fontSize:"1.25rem"},children:Object.values(pe).filter(e=>!e.bestanden).length}),r.jsx("span",{style:{color:"#6b7280",marginLeft:"0.5rem"},children:"Nicht bestanden"})]})]}),r.jsxs("div",{style:{color:"#6b7280",fontSize:"0.875rem"},children:["Bestehensquote: ",Math.round(Object.values(pe).filter(e=>e.bestanden).length/Object.values(pe).length*100),"%"]})]}),r.jsxs("div",{className:"modal-actions",style:{marginTop:"1.5rem"},children:[r.jsx("button",{onClick:()=>ue(!1),className:"btn btn-secondary",children:"Abbrechen"}),r.jsx("button",{onClick:async()=>{if(me){S(!0);try{let r=0,n=0;for(const t of me.pruefungen){const i=pe[t.pruefung_id];if(!i)continue;const a={bestanden:i.bestanden,punktzahl:i.punktzahl?parseFloat(i.punktzahl):null,prueferkommentar:i.prueferkommentar||null,status:i.bestanden?"bestanden":"nicht_bestanden",graduierung_nachher_id:i.bestanden?t.graduierung_nachher_id:null};try{(await fetch(`${x}/pruefungen/${t.pruefung_id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify(a)})).ok?(i.bestanden&&t.graduierung_nachher_id&&await Re(t.mitglied_id,t.stil_id,t.graduierung_nachher_id),r++):n++}catch(e){n++,console.error("Fehler bei Pruefung",t.pruefung_id,e)}}ue(!1),he(null),xe({}),C(0===n?`Alle ${r} Pruefungsergebnisse erfolgreich gespeichert!`:`${r} Ergebnisse gespeichert, ${n} Fehler aufgetreten.`),setTimeout(()=>C(""),5e3),We(),Te(),Ee()}catch(r){w(r.message)}finally{S(!1)}}},className:"btn btn-primary",disabled:z,children:z?r.jsx(r.Fragment,{children:"Speichern..."}):r.jsxs(r.Fragment,{children:[r.jsx(a,{size:18,style:{marginRight:"0.5rem"}}),"Alle Ergebnisse speichern"]})})]})]})}),X&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",zIndex:99999,display:"flex",alignItems:"flex-start",justifyContent:"center",overflowY:"auto"},onClick:()=>{ee(!1),ne(1)},children:r.jsxs("div",{onClick:e=>e.stopPropagation(),style:{background:"#1a1a1a",borderRadius:"0 0 12px 12px",boxShadow:"0 10px 40px rgba(0,0,0,0.5)",border:"1px solid #333",borderTop:"none",maxWidth:"750px",width:"90%",margin:"0 auto 20px",color:"#e5e5e5"},children:[r.jsx("div",{style:{padding:"1.5rem 2rem 1rem",borderBottom:"1px solid #333"},children:r.jsx("h2",{style:{margin:0,fontSize:"1.4rem",fontWeight:"700",color:"#EAB308"},children:"Neuer PrÃ¼fungstermin"})}),r.jsx("div",{style:{display:"flex",padding:"1.5rem 2rem",background:"#0a0a0a",borderBottom:"1px solid #333"},children:[{num:1,label:"Grunddaten"},{num:2,label:"Organisation"},{num:3,label:"Zusatzinfos"}].map((e,n)=>r.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",position:"relative"},children:[n>0&&r.jsx("div",{style:{position:"absolute",top:"15px",left:"-50%",right:"50%",height:"2px",background:re>e.num-1?"#EAB308":"#333"}}),r.jsx("div",{style:{width:"30px",height:"30px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",background:re>=e.num?"#EAB308":"#2a2a2a",color:re>=e.num?"#000":"#666",fontWeight:"700",fontSize:"0.9rem",border:"2px solid "+(re>=e.num?"#EAB308":"#333"),position:"relative",zIndex:2},children:e.num}),r.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.75rem",color:re===e.num?"#EAB308":"#999",fontWeight:re===e.num?"600":"400",textAlign:"center"},children:e.label})]},e.num))}),r.jsxs("div",{style:{padding:"2rem",minHeight:"300px"},children:[1===re&&r.jsxs("div",{children:[r.jsxs("div",{style:{marginBottom:"1rem"},children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"0.9rem"},children:"Kampfkunst-Stil *"}),r.jsxs("select",{value:te.stil_id,onChange:e=>ie({...te,stil_id:e.target.value}),style:{padding:"0.6rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.95rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5"},children:[r.jsx("option",{value:"",style:{background:"#2a2a2a",color:"#e5e5e5"},children:"Bitte wÃ¤hlen..."}),y.map(e=>r.jsx("option",{value:e.stil_id,style:{background:"#2a2a2a",color:"#e5e5e5"},children:e.name},e.stil_id))]})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"0.9rem"},children:"PrÃ¼fungsdatum *"}),r.jsx("input",{type:"date",value:te.pruefungsdatum,onChange:e=>ie({...te,pruefungsdatum:e.target.value}),style:{padding:"0.6rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.95rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5"}})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"0.9rem"},children:"Uhrzeit"}),r.jsx("input",{type:"time",value:te.pruefungszeit,onChange:e=>ie({...te,pruefungszeit:e.target.value}),style:{padding:"0.6rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.95rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5"}})]})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"0.9rem"},children:"PrÃ¼fungsort"}),r.jsx("input",{type:"text",value:te.pruefungsort,onChange:e=>ie({...te,pruefungsort:e.target.value}),placeholder:"z.B. Dojo Haupthalle",style:{padding:"0.6rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.95rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5"}})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"0.9rem"},children:"PrÃ¼fer"}),r.jsx("input",{type:"text",value:te.pruefer_name,onChange:e=>ie({...te,pruefer_name:e.target.value}),placeholder:"z.B. Meister Schmidt",style:{padding:"0.6rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.95rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5"}})]})]})]}),2===re&&r.jsxs("div",{children:[r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"0.9rem"},children:"PrÃ¼fungsgebÃ¼hr (â‚¬)"}),r.jsx("input",{type:"number",step:"0.01",value:te.pruefungsgebuehr,onChange:e=>ie({...te,pruefungsgebuehr:e.target.value}),placeholder:"0.00",style:{padding:"0.6rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.95rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5"}})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"0.9rem"},children:"Anmeldefrist"}),r.jsx("input",{type:"date",value:te.anmeldefrist,onChange:e=>ie({...te,anmeldefrist:e.target.value}),style:{padding:"0.6rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.95rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5"}})]})]}),te.anmeldefrist&&te.pruefungsdatum&&new Date(te.anmeldefrist)>new Date(te.pruefungsdatum)&&r.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"#4a1515",border:"1px solid #8b2020",borderRadius:"6px",color:"#ff6b6b",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("span",{style:{fontSize:"1.2rem"},children:"âš ï¸"}),r.jsx("span",{children:"Die Anmeldefrist muss vor dem PrÃ¼fungsdatum liegen. Bitte passen Sie das Datum an."})]})]}),3===re&&r.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"0.9rem"},children:"Bemerkungen"}),r.jsx("textarea",{value:te.bemerkungen,onChange:e=>ie({...te,bemerkungen:e.target.value}),placeholder:"ZusÃ¤tzliche Informationen...",rows:"3",style:{padding:"0.6rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.95rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5",fontFamily:"inherit",resize:"vertical"}})]}),r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"0.9rem"},children:"Teilnahmebedingungen"}),r.jsx("textarea",{value:te.teilnahmebedingungen,onChange:e=>ie({...te,teilnahmebedingungen:e.target.value}),placeholder:"Bedingungen fÃ¼r Teilnehmer...",rows:"4",style:{padding:"0.6rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.95rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5",fontFamily:"inherit",resize:"vertical"}})]})]})]}),r.jsxs("div",{style:{padding:"1rem 2rem",borderTop:"1px solid #333",display:"flex",gap:"0.5rem",justifyContent:"space-between"},children:[r.jsx("button",{onClick:()=>{ee(!1),ne(1)},style:{padding:"0.6rem 1.2rem",border:"1px solid #555",borderRadius:"6px",background:"#2a2a2a",color:"#e5e5e5",cursor:"pointer",fontSize:"0.9rem"},children:"Abbrechen"}),r.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[re>1&&r.jsx("button",{onClick:()=>ne(re-1),style:{padding:"0.6rem 1.2rem",border:"1px solid #555",borderRadius:"6px",background:"#2a2a2a",color:"#e5e5e5",cursor:"pointer",fontSize:"0.9rem"},children:"ZurÃ¼ck"}),re<3?r.jsx("button",{onClick:()=>ne(re+1),disabled:1===re&&(!te.stil_id||!te.pruefungsdatum)||2===re&&te.anmeldefrist&&te.pruefungsdatum&&new Date(te.anmeldefrist)>new Date(te.pruefungsdatum),style:{padding:"0.6rem 1.2rem",border:"none",borderRadius:"6px",background:1===re&&(!te.stil_id||!te.pruefungsdatum)||2===re&&te.anmeldefrist&&te.pruefungsdatum&&new Date(te.anmeldefrist)>new Date(te.pruefungsdatum)?"#555":"#EAB308",color:1===re&&(!te.stil_id||!te.pruefungsdatum)||2===re&&te.anmeldefrist&&te.pruefungsdatum&&new Date(te.anmeldefrist)>new Date(te.pruefungsdatum)?"#888":"#000",cursor:1===re&&(!te.stil_id||!te.pruefungsdatum)||2===re&&te.anmeldefrist&&te.pruefungsdatum&&new Date(te.anmeldefrist)>new Date(te.pruefungsdatum)?"not-allowed":"pointer",fontSize:"0.9rem",fontWeight:"600"},children:"Weiter"}):r.jsxs("button",{onClick:()=>{(async()=>{if(te.pruefungsdatum)if(te.stil_id)if(p&&p.id)try{const e={datum:te.pruefungsdatum,zeit:te.pruefungszeit,ort:te.pruefungsort,pruefer_name:te.pruefer_name||null,stil_id:te.stil_id,pruefungsgebuehr:te.pruefungsgebuehr?parseFloat(te.pruefungsgebuehr):null,anmeldefrist:te.anmeldefrist||null,bemerkungen:te.bemerkungen||null,teilnahmebedingungen:te.teilnahmebedingungen||null,dojo_id:p.id},r=await fetch(`${x}/pruefungen/termine`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify(e)});if(!r.ok){const e=await r.json();if(409===r.status)throw new Error(e.message||e.error||"ZeitÃ¼berschneidung");throw new Error(e.error||"Fehler beim Erstellen des Termins")}C(`PrÃ¼fungstermin fÃ¼r ${new Date(te.pruefungsdatum).toLocaleDateString("de-DE")} wurde erstellt!`),setTimeout(()=>C(""),3e3),ee(!1),ie({pruefungsdatum:"",pruefungszeit:"10:00",pruefungsort:"",pruefer_name:"",stil_id:"",pruefungsgebuehr:"",anmeldefrist:"",gurtlaenge:"",bemerkungen:"",teilnahmebedingungen:"",ist_historisch:!1,historisch_bemerkung:""}),We()}catch(e){w(e.message)}else w("Kein Dojo ausgewÃ¤hlt");else w("Bitte wÃ¤hlen Sie einen Stil aus");else w("Bitte geben Sie ein PrÃ¼fungsdatum an")})(),ne(1)},style:{padding:"0.6rem 1.2rem",border:"none",borderRadius:"6px",background:"#EAB308",color:"#000",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:[r.jsx(t,{size:18,style:{marginRight:"0.5rem",display:"inline"}}),"Termin erstellen"]})]})]})]})}),ae&&le&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",zIndex:9999,display:"flex",alignItems:"flex-start",justifyContent:"center",paddingTop:"0",overflowY:"auto"},onClick:()=>se(!1),children:r.jsxs("div",{onClick:e=>e.stopPropagation(),style:{background:"#1a1a1a",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0,0,0,0.5)",border:"1px solid #333",maxWidth:"850px",width:"90%",maxHeight:"90vh",overflowY:"auto",padding:"2rem",margin:"0 auto 20px",color:"#e5e5e5"},children:[r.jsx("h2",{style:{marginBottom:"0.5rem",fontSize:"1.5rem",fontWeight:"700",color:"#e5e5e5"},children:"PrÃ¼fungstermin bearbeiten"}),r.jsx("p",{style:{marginBottom:"2rem",color:"#999",fontSize:"0.9rem"},children:"Bearbeiten Sie die Details des PrÃ¼fungstermins."}),r.jsx("h3",{style:{color:"#EAB308",marginTop:"0",marginBottom:"1rem",fontSize:"1.1rem",borderBottom:"2px solid #EAB308",paddingBottom:"0.5rem",fontWeight:"600",background:"transparent"},children:"Grunddaten"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.8rem 1rem",marginBottom:"1.5rem"},children:[r.jsxs("div",{style:{gridColumn:"1 / -1"},children:[r.jsx("label",{style:{fontWeight:600,marginBottom:"0.4rem",color:"#e5e5e5",fontSize:"0.85rem",display:"block"},children:"Kampfkunst-Stil *"}),r.jsxs("select",{value:le.stil_id,onChange:e=>oe({...le,stil_id:e.target.value}),style:{padding:"0.5rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.9rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5"},required:!0,children:[r.jsx("option",{value:"",children:"Bitte wÃ¤hlen..."}),y.map(e=>r.jsx("option",{value:e.stil_id,children:e.name},e.stil_id))]})]}),r.jsxs("div",{children:[r.jsx("label",{style:{fontWeight:600,marginBottom:"0.4rem",color:"#e5e5e5",fontSize:"0.85rem",display:"block"},children:"PrÃ¼fungsdatum *"}),r.jsx("input",{type:"date",value:le.pruefungsdatum,onChange:e=>oe({...le,pruefungsdatum:e.target.value}),style:{padding:"0.5rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.9rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5"},required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{style:{fontWeight:600,marginBottom:"0.4rem",color:"#e5e5e5",fontSize:"0.85rem",display:"block"},children:"Uhrzeit"}),r.jsx("input",{type:"time",value:le.pruefungszeit,onChange:e=>oe({...le,pruefungszeit:e.target.value}),style:{padding:"0.5rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.9rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5"}})]}),r.jsxs("div",{style:{gridColumn:"1 / -1"},children:[r.jsx("label",{style:{fontWeight:600,marginBottom:"0.4rem",color:"#e5e5e5",fontSize:"0.85rem",display:"block"},children:"PrÃ¼fungsort"}),r.jsx("input",{type:"text",value:le.pruefungsort,onChange:e=>oe({...le,pruefungsort:e.target.value}),style:{padding:"0.5rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.9rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5"},placeholder:"z.B. Dojo Haupthalle, Sporthalle XYZ"})]})]}),r.jsx("h3",{style:{color:"#EAB308",marginTop:"1.5rem",marginBottom:"1rem",fontSize:"1.1rem",borderBottom:"2px solid #EAB308",paddingBottom:"0.5rem",fontWeight:"600",background:"transparent"},children:"Organisatorisches"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.8rem 1rem",marginBottom:"1.5rem"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{fontWeight:600,marginBottom:"0.4rem",color:"#e5e5e5",fontSize:"0.85rem",display:"block"},children:"PrÃ¼fungsgebÃ¼hr (â‚¬)"}),r.jsx("input",{type:"number",step:"0.01",value:le.pruefungsgebuehr,onChange:e=>oe({...le,pruefungsgebuehr:e.target.value}),style:{padding:"0.5rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.9rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5"},placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx("label",{style:{fontWeight:600,marginBottom:"0.4rem",color:"#e5e5e5",fontSize:"0.85rem",display:"block"},children:"Anmeldefrist"}),r.jsx("input",{type:"date",value:le.anmeldefrist,onChange:e=>oe({...le,anmeldefrist:e.target.value}),style:{padding:"0.5rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.9rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5"}})]})]}),r.jsx("h3",{style:{color:"#EAB308",marginTop:"1.5rem",marginBottom:"1rem",fontSize:"1.1rem",borderBottom:"2px solid #EAB308",paddingBottom:"0.5rem",fontWeight:"600",background:"transparent"},children:"ZusÃ¤tzliche Informationen"}),r.jsxs("div",{style:{display:"grid",gap:"0.8rem",marginBottom:"1.5rem"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{fontWeight:600,marginBottom:"0.4rem",color:"#e5e5e5",fontSize:"0.85rem",display:"block"},children:"Bemerkungen"}),r.jsx("textarea",{value:le.bemerkungen,onChange:e=>oe({...le,bemerkungen:e.target.value}),style:{padding:"0.5rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.9rem",width:"100%",minHeight:"70px",resize:"vertical",background:"#2a2a2a",color:"#e5e5e5",fontFamily:"inherit"},rows:"2",placeholder:"ZusÃ¤tzliche Informationen zur PrÃ¼fung..."})]}),r.jsxs("div",{children:[r.jsx("label",{style:{fontWeight:600,marginBottom:"0.4rem",color:"#e5e5e5",fontSize:"0.85rem",display:"block"},children:"Teilnahmebedingungen"}),r.jsx("textarea",{value:le.teilnahmebedingungen,onChange:e=>oe({...le,teilnahmebedingungen:e.target.value}),style:{padding:"0.5rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.9rem",width:"100%",minHeight:"90px",resize:"vertical",background:"#2a2a2a",color:"#e5e5e5",fontFamily:"inherit"},rows:"3",placeholder:"Beispiel:\n- VollstÃ¤ndige TrainingsausrÃ¼stung mitbringen\n- PÃ¼nktliches Erscheinen erforderlich\n- PrÃ¼fungsgebÃ¼hr vorab Ã¼berweisen"})]})]}),r.jsxs("div",{style:{marginTop:"1.5rem",display:"flex",gap:"0.5rem",justifyContent:"flex-end",background:"transparent"},children:[r.jsx("button",{onClick:()=>se(!1),style:{padding:"0.5rem 1rem",border:"1px solid #555",borderRadius:"6px",background:"#2a2a2a",color:"#e5e5e5",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.2s"},onMouseOver:e=>e.target.style.background="#333",onMouseOut:e=>e.target.style.background="#2a2a2a",children:"Abbrechen"}),r.jsxs("button",{onClick:async()=>{if(le&&le.pruefungsdatum)if(le.id)try{const e=await fetch(`${x}/pruefungen/termine/${le.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({datum:le.pruefungsdatum,zeit:le.pruefungszeit,ort:le.pruefungsort,pruefer_name:le.pruefer_name||null,stil_id:le.stil_id,pruefungsgebuehr:le.pruefungsgebuehr?parseFloat(le.pruefungsgebuehr):null,anmeldefrist:le.anmeldefrist||null,bemerkungen:le.bemerkungen||null,teilnahmebedingungen:le.teilnahmebedingungen||null})}),r=await e.json();if(!e.ok)throw new Error(r.error||"Fehler beim Aktualisieren des Termins");C("PrÃ¼fungstermin wurde erfolgreich aktualisiert!"),setTimeout(()=>C(""),3e3),se(!1),oe(null),We()}catch(e){w(e.message),setTimeout(()=>w(""),5e3)}else w("Termin-ID fehlt");else w("Bitte geben Sie ein PrÃ¼fungsdatum an")},disabled:!le.pruefungsdatum,style:{padding:"0.5rem 1rem",border:"none",borderRadius:"6px",background:le.pruefungsdatum?"#EAB308":"#555",color:le.pruefungsdatum?"#000":"#888",cursor:le.pruefungsdatum?"pointer":"not-allowed",fontSize:"0.9rem",fontWeight:"600",display:"flex",alignItems:"center",transition:"all 0.2s"},onMouseOver:e=>{e.target.disabled||(e.target.style.background="#F59E0B")},onMouseOut:e=>{e.target.disabled||(e.target.style.background="#EAB308")},children:[r.jsx(g,{size:18,style:{marginRight:"0.5rem"}}),"Ã„nderungen speichern"]})]})]})})]})};export{h as default};
