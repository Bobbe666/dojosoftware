import{j as e}from"./animation-1wuIdCBS.js";import{r,g as a,u as n}from"./vendor-router-BhMXg4Z-.js";import{R as s,F as t,A as i}from"./AdminVerwaltung-CWVrKqDi.js";import{a as l,b as o,u as d,f as c,k as g,c as h}from"./index-DUnH23_2.js";import{k as u,e as m,P as p,Y as x,$ as v,D as j,v as b,g as _,K as f,bn as k,bj as y,V as N,be as z,N as w}from"./icons-D7rg4pDH.js";import"./vendor-react-DtuzQOD1.js";import"./query-Bs1dTGah.js";const C=({dojoId:a})=>{const[n,s]=r.useState([]),[t,i]=r.useState(null),[o,d]=r.useState(!1),[c,g]=r.useState(""),[h,_]=r.useState(!1),[f,k]=r.useState({bank_name:"",bank_typ:"bank",ist_aktiv:!0,ist_standard:!1,iban:"",bic:"",kontoinhaber:"",sepa_glaeubiger_id:"",stripe_publishable_key:"",stripe_secret_key:"",stripe_account_id:"",paypal_email:"",paypal_client_id:"",paypal_client_secret:"",notizen:""});r.useEffect(()=>{a&&y()},[a]);const y=async()=>{try{d(!0);const e=await l.get(`/dojo-banken/${a}`);if(0===e.data.length){await l.post(`/dojo-banken/${a}/init-defaults`);const e=await l.get(`/dojo-banken/${a}`);s(e.data),e.data.length>0&&(i(e.data[0].id),N(e.data[0]))}else if(s(e.data),!t&&e.data.length>0)i(e.data[0].id),N(e.data[0]);else if(t){const r=e.data.find(e=>e.id===t);r&&N(r)}}catch(e){console.error("Fehler beim Laden der Banken:",e),g("Fehler beim Laden der Banken")}finally{d(!1)}},N=e=>{k({bank_name:e.bank_name||"",bank_typ:e.bank_typ||"bank",ist_aktiv:e.ist_aktiv||!1,ist_standard:e.ist_standard||!1,iban:e.iban||"",bic:e.bic||"",kontoinhaber:e.kontoinhaber||"",sepa_glaeubiger_id:e.sepa_glaeubiger_id||"",stripe_publishable_key:e.stripe_publishable_key||"",stripe_secret_key:e.stripe_secret_key||"",stripe_account_id:e.stripe_account_id||"",paypal_email:e.paypal_email||"",paypal_client_id:e.paypal_client_id||"",paypal_client_secret:e.paypal_client_secret||"",notizen:e.notizen||""})},z=(r=!1)=>{if(!r){if(!n.find(e=>e.id===t))return null}return e.jsxs("div",{className:"bank-form",children:[e.jsxs("div",{className:"form-section-three-column",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Allgemeine Infos"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bankname *"}),e.jsx("input",{type:"text",value:f.bank_name,onChange:e=>k({...f,bank_name:e.target.value}),placeholder:"z.B. Sparkasse Stuttgart"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Typ"}),e.jsxs("select",{value:f.bank_typ,onChange:e=>k({...f,bank_typ:e.target.value}),children:[e.jsx("option",{value:"bank",children:"Bank / SEPA"}),e.jsx("option",{value:"stripe",children:"Stripe"}),e.jsx("option",{value:"paypal",children:"PayPal"}),e.jsx("option",{value:"sonstige",children:"Sonstige"})]})]}),e.jsx("div",{className:"form-group",children:e.jsxs("button",{type:"button",onClick:()=>k({...f,ist_aktiv:!f.ist_aktiv}),className:"logout-button checkbox-button "+(f.ist_aktiv?"active":""),style:{width:"100%",justifyContent:"flex-start",background:f.ist_aktiv?"linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 215, 0, 0.1))":"transparent",borderColor:f.ist_aktiv?"#ffd700":"rgba(255, 215, 0, 0.2)",color:f.ist_aktiv?"#ffd700":"rgba(255, 255, 255, 0.7)"},children:[e.jsx("div",{className:"checkbox-indicator",style:{width:"18px",height:"18px",border:"2px solid",borderColor:f.ist_aktiv?"#ffd700":"rgba(255, 215, 0, 0.4)",borderRadius:"4px",background:f.ist_aktiv?"#ffd700":"transparent",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"10px",transition:"all 0.2s"},children:f.ist_aktiv&&e.jsx(x,{size:12,color:"#1a1a2e",style:{strokeWidth:3}})}),e.jsx("span",{children:"AKTIV (SICHTBAR FÃœR MITGLIEDER)"})]})}),e.jsx("div",{className:"form-group",children:e.jsxs("button",{type:"button",onClick:()=>k({...f,ist_standard:!f.ist_standard}),className:"logout-button checkbox-button "+(f.ist_standard?"active":""),style:{width:"100%",justifyContent:"flex-start",background:f.ist_standard?"linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 215, 0, 0.1))":"transparent",borderColor:f.ist_standard?"#ffd700":"rgba(255, 215, 0, 0.2)",color:f.ist_standard?"#ffd700":"rgba(255, 255, 255, 0.7)"},children:[e.jsx("div",{className:"checkbox-indicator",style:{width:"18px",height:"18px",border:"2px solid",borderColor:f.ist_standard?"#ffd700":"rgba(255, 215, 0, 0.4)",borderRadius:"4px",background:f.ist_standard?"#ffd700":"transparent",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"10px",transition:"all 0.2s"},children:f.ist_standard&&e.jsx(x,{size:12,color:"#1a1a2e",style:{strokeWidth:3}})}),e.jsx("span",{children:"STANDARD-KONTO"}),e.jsx(m,{size:16,fill:f.ist_standard?"#ffd700":"none",color:"#ffd700",style:{marginLeft:"8px"}})]})})]}),"bank"===f.bank_typ&&e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"SEPA / Bankverbindung"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"IBAN"}),e.jsx("input",{type:"text",value:f.iban,onChange:e=>k({...f,iban:e.target.value.toUpperCase()}),placeholder:"DE89370400440532013000"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"BIC"}),e.jsx("input",{type:"text",value:f.bic,onChange:e=>k({...f,bic:e.target.value.toUpperCase()}),placeholder:"COBADEFFXXX"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Kontoinhaber"}),e.jsx("input",{type:"text",value:f.kontoinhaber,onChange:e=>k({...f,kontoinhaber:e.target.value}),placeholder:"Dojo Name e.V."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"SEPA GlÃ¤ubiger-ID"}),e.jsx("input",{type:"text",value:f.sepa_glaeubiger_id,onChange:e=>k({...f,sepa_glaeubiger_id:e.target.value}),placeholder:"DE98ZZZ09999999999"})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Notizen"}),e.jsx("div",{className:"form-group",children:e.jsx("textarea",{value:f.notizen,onChange:e=>k({...f,notizen:e.target.value}),placeholder:"Interne Notizen, Hinweise...",rows:"6"})})]})]}),"stripe"===f.bank_typ&&e.jsxs("div",{className:"form-section-three-column",children:[e.jsx("div",{}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Stripe Zugangsdaten"}),e.jsxs("div",{className:"form-row-compact",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Publishable Key"}),e.jsx("input",{type:"text",value:f.stripe_publishable_key,onChange:e=>k({...f,stripe_publishable_key:e.target.value}),placeholder:"pk_live_..."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Secret Key"}),e.jsx("input",{type:"password",value:f.stripe_secret_key,onChange:e=>k({...f,stripe_secret_key:e.target.value}),placeholder:"sk_live_..."})]})]}),e.jsx("div",{className:"form-row-compact",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Account ID (optional)"}),e.jsx("input",{type:"text",value:f.stripe_account_id,onChange:e=>k({...f,stripe_account_id:e.target.value}),placeholder:"acct_..."})]})})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Notizen"}),e.jsx("div",{className:"form-group",children:e.jsx("textarea",{value:f.notizen,onChange:e=>k({...f,notizen:e.target.value}),placeholder:"Interne Notizen, Hinweise...",rows:"6"})})]})]}),"paypal"===f.bank_typ&&e.jsxs("div",{className:"form-section-three-column",children:[e.jsx("div",{}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"PayPal Zugangsdaten"}),e.jsxs("div",{className:"form-row-compact",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PayPal E-Mail"}),e.jsx("input",{type:"email",value:f.paypal_email,onChange:e=>k({...f,paypal_email:e.target.value}),placeholder:"business@example.com"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Client ID"}),e.jsx("input",{type:"text",value:f.paypal_client_id,onChange:e=>k({...f,paypal_client_id:e.target.value}),placeholder:"PayPal Client ID"})]})]}),e.jsx("div",{className:"form-row-compact",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Client Secret"}),e.jsx("input",{type:"password",value:f.paypal_client_secret,onChange:e=>k({...f,paypal_client_secret:e.target.value}),placeholder:"PayPal Client Secret"})]})})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Notizen"}),e.jsx("div",{className:"form-group",children:e.jsx("textarea",{value:f.notizen,onChange:e=>k({...f,notizen:e.target.value}),placeholder:"Interne Notizen, Hinweise...",rows:"6"})})]})]})]})};return e.jsxs("div",{className:"bank-tabs-container",children:[c&&e.jsxs("div",{className:"message "+(c.includes("Fehler")?"error":"success"),children:[e.jsx(u,{size:16}),c]}),e.jsxs("div",{className:"tabs-header",children:[n.map(r=>{return e.jsxs("div",{className:`tab ${t===r.id?"active":""} ${r.ist_aktiv?"":"inactive"}`,onClick:()=>{i(r.id),N(r)},children:[(a=r.bank_typ,"stripe"===a?e.jsx(b,{size:16}):e.jsx(j,{size:16})),e.jsx("span",{children:r.bank_name}),r.ist_standard&&e.jsx(m,{size:14,fill:"#ffd700",color:"#ffd700"})]},r.id);var a}),e.jsxs("button",{type:"button",className:"tab tab-add",onClick:()=>{k({bank_name:"",bank_typ:"bank",ist_aktiv:!0,ist_standard:!1,iban:"",bic:"",kontoinhaber:"",sepa_glaeubiger_id:"",stripe_publishable_key:"",stripe_secret_key:"",stripe_account_id:"",paypal_email:"",paypal_client_id:"",paypal_client_secret:"",notizen:""}),_(!0)},children:[e.jsx(p,{size:16}),"Neue Bank"]})]}),e.jsx("div",{className:"tabs-content",children:o?e.jsx("div",{className:"loading",children:"LÃ¤dt..."}):h?e.jsxs("div",{className:"bank-form",children:[e.jsx("h2",{className:"bank-form-title",children:"NEUE BANKVERBINDUNG HINZUFÃœGEN"}),z(!0),e.jsxs("div",{className:"form-actions",children:[e.jsxs("button",{type:"button",onClick:async()=>{if(f.bank_name)try{d(!0);const e=await l.post(`/dojo-banken/${a}`,{...f,ist_aktiv:!0});g("Bank erfolgreich hinzugefÃ¼gt"),_(!1),await y(),i(e.data.id),setTimeout(()=>g(""),3e3)}catch(e){console.error("Fehler beim HinzufÃ¼gen:",e),g("Fehler beim HinzufÃ¼gen der Bank")}finally{d(!1)}else g("Bankname ist erforderlich")},className:"logout-button",children:[e.jsx(p,{size:16}),"Speichern"]}),e.jsx("button",{type:"button",onClick:()=>_(!1),className:"logout-button",children:"Abbrechen"})]})]}):e.jsxs("div",{className:"bank-form",children:[z(),e.jsxs("div",{className:"form-actions",children:[e.jsxs("button",{type:"button",onClick:async()=>{var e,r,n;if(console.log("ðŸ”„ handleSaveBank aufgerufen",{dojoId:a,activeTab:t,formData:f}),f.bank_name){if(!a||!t)return console.error("âŒ dojoId oder activeTab fehlt:",{dojoId:a,activeTab:t}),void g("Fehler: Dojo oder Bank nicht ausgewÃ¤hlt");try{d(!0);const e=`/dojo-banken/${a}/${t}`;console.log("ðŸ“¤ PUT Request an:",e,"mit Daten:",f);const r=await l.put(e,f);console.log("âœ… Speichern erfolgreich:",r.data),g("Bank erfolgreich gespeichert"),y(),setTimeout(()=>g(""),3e3)}catch(s){console.error("âŒ Fehler beim Speichern:",(null==(e=s.response)?void 0:e.data)||s.message),g("Fehler beim Speichern der Bank: "+((null==(n=null==(r=s.response)?void 0:r.data)?void 0:n.error)||s.message))}finally{d(!1)}}else g("Bankname ist erforderlich")},disabled:o,className:"logout-button",children:[e.jsx(x,{size:16}),"Speichern"]}),n.length>2&&e.jsxs("button",{type:"button",onClick:()=>(async e=>{if(confirm("MÃ¶chten Sie diese Bankverbindung wirklich lÃ¶schen?"))try{d(!0),await l.delete(`/dojo-banken/${a}/${e}`),g("Bank erfolgreich gelÃ¶scht"),await y(),setTimeout(()=>g(""),3e3)}catch(r){console.error("Fehler beim LÃ¶schen:",r),g("Fehler beim LÃ¶schen der Bank")}finally{d(!1)}})(t),disabled:o,className:"logout-button",style:{background:"rgba(239, 68, 68, 0.1)",borderColor:"rgba(239, 68, 68, 0.4)",color:"#ef4444"},children:[e.jsx(v,{size:16}),"LÃ¶schen"]}),e.jsx("button",{type:"button",onClick:()=>{if(t){const e=n.find(e=>e.id===t);e&&N(e)}},disabled:o,className:"logout-button",children:"Abbrechen"})]})]})})]})},S=({dojoId:a})=>{const[n,s]=r.useState({}),[t,i]=r.useState(!1),[o,d]=r.useState(null),[c,g]=r.useState({type:"",text:""});r.useEffect(()=>{a&&"new"!==a&&h()},[a]);const h=async()=>{try{i(!0);const e=await l.get(`/dojos/${a}/logos`),r={};e.data.forEach(e=>{r[e.logo_type]=e}),s(r)}catch(e){console.error("Fehler beim Laden der Logos:",e),x("error","Fehler beim Laden der Logos")}finally{i(!1)}},m=async(e,r)=>{if(!r)return;if(r.size>2097152)return void x("error","Datei zu groÃŸ. Maximum: 2 MB");["image/png","image/jpeg","image/jpg","image/svg+xml","image/webp"].includes(r.type)?await p(e,r):x("error","UngÃ¼ltiges Format. Erlaubt: PNG, JPG, SVG, WebP")},p=async(e,r)=>{var n,s;try{d(e);const n=new FormData;n.append("logo",r);const s=await l.post(`/dojos/${a}/logos/${e}`,n,{headers:{"Content-Type":"multipart/form-data"}});x("success",s.data.message||"Logo erfolgreich hochgeladen"),await h()}catch(t){console.error("Fehler beim Hochladen:",t),x("error",(null==(s=null==(n=t.response)?void 0:n.data)?void 0:s.error)||"Fehler beim Hochladen")}finally{d(null)}},x=(e,r)=>{g({type:e,text:r}),setTimeout(()=>g({type:"",text:""}),5e3)},v=e=>{e.preventDefault(),e.stopPropagation()};return"new"===a?e.jsxs("div",{className:"logo-section-disabled",children:[e.jsx(u,{size:48,color:"#ffd700"}),e.jsx("p",{children:"Logo-Verwaltung ist nur fÃ¼r gespeicherte Dojos verfÃ¼gbar."}),e.jsx("p",{className:"hint",children:"Bitte speichern Sie zuerst die Grunddaten."})]}):e.jsxs("div",{className:"dojo-logos-container",children:[c.text&&e.jsxs("div",{className:`message-banner ${c.type}`,children:["success"===c.type?e.jsx(_,{size:20}):e.jsx(u,{size:20}),e.jsx("span",{children:c.text})]}),e.jsx("div",{className:"logos-grid",children:[{key:"haupt",label:"Haupt-Logo",description:"PrimÃ¤res Dojo-Logo"},{key:"alternativ",label:"Alternatives Logo",description:"Alternative Version"},{key:"partner1",label:"Partner-Logo 1",description:"Erster Partner"},{key:"partner2",label:"Partner-Logo 2",description:"Zweiter Partner"},{key:"social",label:"Social Media Logo",description:"FÃ¼r Social Media"}].map(r=>{const d=n[r.key],c=o===r.key;return e.jsxs("div",{className:"logo-upload-card",children:[e.jsxs("div",{className:"logo-card-header",children:[e.jsx("h3",{children:r.label}),e.jsx("span",{className:"logo-description",children:r.description})]}),e.jsx("div",{className:`logo-dropzone ${d?"has-logo":""} ${c?"uploading":""}`,onDragOver:v,onDrop:e=>((e,r)=>{e.preventDefault(),e.stopPropagation();const a=e.dataTransfer.files[0];m(r,a)})(e,r.key),children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"logo-preview",children:e.jsx("img",{src:d.url,alt:r.label,className:"logo-image"})}),e.jsxs("div",{className:"logo-info",children:[e.jsx("p",{className:"logo-filename",children:d.file_name}),e.jsxs("p",{className:"logo-size",children:[(d.file_size/1024).toFixed(1)," KB"]})]}),e.jsxs("button",{className:"btn-delete-logo",onClick:()=>(async(e,r)=>{if(window.confirm("Logo wirklich lÃ¶schen?"))try{i(!0),await l.delete(`/dojos/${a}/logos/${e}`),x("success","Logo erfolgreich gelÃ¶scht");const t={...n};delete t[r],s(t)}catch(t){console.error("Fehler beim LÃ¶schen:",t),x("error","Fehler beim LÃ¶schen des Logos")}finally{i(!1)}})(d.logo_id,r.key),disabled:t,children:[e.jsx(f,{size:18}),"LÃ¶schen"]})]}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"file",id:`file-${r.key}`,accept:"image/png,image/jpeg,image/jpg,image/svg+xml,image/webp",onChange:e=>m(r.key,e.target.files[0]),className:"file-input",disabled:c}),e.jsx("label",{htmlFor:`file-${r.key}`,className:"upload-label",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Wird hochgeladen..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{size:48,color:"rgba(255, 215, 0, 0.4)"}),e.jsx("p",{className:"upload-title",children:"Logo hochladen"}),e.jsx("p",{className:"upload-hint",children:"Klicken oder Drag & Drop"}),e.jsx("p",{className:"upload-format",children:"PNG, JPG, SVG, WebP â€¢ Max 2 MB"})]})})]})})]},r.key)})}),e.jsxs("div",{className:"logos-info-box",children:[e.jsx(y,{size:20,color:"#ffd700"}),e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"UnterstÃ¼tzte Formate:"})," PNG, JPG, SVG, WebP"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Maximale GrÃ¶ÃŸe:"})," 2 MB pro Logo"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Verwendung:"})," Logos werden automatisch im System verfÃ¼gbar gemacht"]})]})]})]})},B=()=>{const{id:l}=a(),m=n(),{updateDojo:p}=o(),{isAdmin:x}=d(),{theme:v,setTheme:j,currentTheme:b,themes:_,isDarkMode:f}=c(),[k,y]=r.useState(!1),[B,D]=r.useState(""),[T,I]=r.useState("grunddaten"),[A,F]=r.useState(!1),[V,E]=r.useState(null),[P,R]=r.useState(null),[L,G]=r.useState(null),[M,U]=r.useState(!1),[$,H]=r.useState(!1),[K,W]=r.useState(!1),[O,Z]=r.useState(""),[J,q]=r.useState(!1),X="new"===l,Y=Object.values(_),Q=[{key:"grunddaten",label:"Grunddaten",icon:"ðŸ¯"},{key:"kontakt",label:"Kontakt",icon:"ðŸ“"},{key:"raeume",label:"RÃ¤ume",icon:"ðŸšª"},{key:"steuer",label:"Steuern",icon:"âš–ï¸"},{key:"rechtliches",label:"Rechtliches",icon:"ðŸ“œ"},{key:"bank",label:"Bank",icon:"ðŸ¦"},{key:"versicherungen",label:"Versicherungen",icon:"ðŸ›¡ï¸"},{key:"vertraege",label:"VertrÃ¤ge",icon:"ðŸ“"},{key:"sport",label:"Sport",icon:"ðŸ¥‹"},{key:"social",label:"Social Media",icon:"ðŸ“±"},{key:"betrieb",label:"Betrieb & Kontakte",icon:"â˜Žï¸"},{key:"dokumente",label:"Dokumente",icon:"ðŸ“„"},{key:"logos",label:"Logos",icon:"ðŸ–¼ï¸"},{key:"admins",label:"Admin-Accounts",icon:"ðŸ”"},{key:"api",label:"API-Zugang",icon:"ðŸ”—",adminOnly:!0},{key:"system",label:"System",icon:"âš™ï¸"},{key:"design",label:"Design",icon:"ðŸŽ¨"}].filter(e=>!e.adminOnly||x),[ee,re]=r.useState({dojoname:"",inhaber:"",untertitel:"",vertreter:"",gruendungsjahr:"",rechtsform:"Verein",strasse:"",hausnummer:"",plz:"",ort:"",land:"Deutschland",telefon:"",mobil:"",fax:"",email:"",email_info:"",email_anmeldung:"",internet:"",whatsapp_nummer:"",steuer_status:"kleinunternehmer",ust_satz:0,kleinunternehmer_grenze:22e3,steuernummer:"",ust_id:"",umsatzsteuer_id:"",finanzamt_name:"",finanzamt:null,steuerberater:"",steuerberater_telefon:"",umsatzsteuerpflichtig:!1,kleinunternehmer:!1,gemeinnuetzig:!1,freistellungsbescheid_datum:"",vereinsregister_nr:"",amtsgericht:"",handelsregister_nr:"",geschaeftsfuehrer:"",vorstand_1_vorsitzender:"",vorstand_2_vorsitzender:"",vorstand_kassenwart:"",vorstand_schriftfuehrer:"",sepa_glaeubiger_id:"",iban:"",bic:"",bank:"",bank_inhaber:"",bank_verwendungszweck:"",paypal_email:"",lastschrift_aktiv:!1,haftpflicht_versicherung:"",haftpflicht_police_nr:"",haftpflicht_ablauf:"",unfallversicherung:"",unfallversicherung_police_nr:"",gebaeudeversicherung:"",kuendigungsfrist_monate:3,mindestlaufzeit_monate:12,probezeit_tage:14,kuendigung_nur_monatsende:!0,kuendigung_schriftlich:!0,automatische_verlaengerung:!0,verlaengerung_monate:12,kuendigung_erstlaufzeit_monate:3,kuendigung_verlaengerung_monate:1,vertragsmodell:"gesetzlich",beitragsgarantie_bei_nichtverlaengerung:"aktueller_tarif",verlaengerung_erinnerung_tage:60,verlaengerung_erinnerung2_tage:30,verlaengerung_erinnerung3_tage:14,verlaengerung_email_text:"",vertrag_3_monate_preis:"",vertrag_6_monate_preis:"",vertrag_12_monate_preis:"",vertrag_3_monate_aktiv:!0,vertrag_6_monate_aktiv:!0,vertrag_12_monate_aktiv:!0,jahresbeitrag:"",familienrabatt_prozent:"",schuelerrabatt_prozent:"",vereinsmitglied_rabatt_prozent:"",mehrfachtraining_rabatt_prozent:"",beitrag_erwachsene:"",beitrag_kinder:"",beitrag_familien:"",aufnahmegebuehr:"",mahnung_gebuehr:5,kampfkunst_stil:"",verband:"",verband_mitgliedsnummer:"",lizenz_trainer_a:0,lizenz_trainer_b:0,lizenz_trainer_c:0,notfallkontakt_name:"",notfallkontakt_telefon:"",hausmeister_kontakt:"",feiertage_geschlossen:!0,ferien_geschlossen:!1,facebook_url:"",instagram_url:"",youtube_url:"",twitter_url:"",google_maps_url:"",newsletter_aktiv:!1,agb_text:"",agb_version:"1.0",agb_letzte_aenderung:null,dsgvo_text:"",dsgvo_version:"1.0",dsgvo_letzte_aenderung:null,dojo_regeln_text:"",hausordnung_text:"",haftungsausschluss_text:"",widerrufsbelehrung_text:"",impressum_text:"",vertragsbedingungen_text:"",farbe:"#FFD700",logo_url:"",theme_scheme:"default",sprache:"de",zeitzone:"Europe/Berlin",waehrung:"EUR",dsgvo_beauftragte:"",max_mitglieder:500});r.useEffect(()=>{X||ae()},[l,X]);const ae=async()=>{y(!0);try{const e=await g(`${h.apiBaseUrl}/dojos/${l}`);if(!e.ok)throw new Error("Fehler beim Laden des Dojos");const r=await e.json();re({dojoname:r.dojoname||"",inhaber:r.inhaber||"",untertitel:r.untertitel||"",vertreter:r.vertreter||"",gruendungsjahr:r.gruendungsjahr||"",rechtsform:r.rechtsform||"Verein",strasse:r.strasse||"",hausnummer:r.hausnummer||"",plz:r.plz||"",ort:r.ort||"",land:r.land||"Deutschland",telefon:r.telefon||"",mobil:r.mobil||"",fax:r.fax||"",email:r.email||"",email_info:r.email_info||"",email_anmeldung:r.email_anmeldung||"",internet:r.internet||"",whatsapp_nummer:r.whatsapp_nummer||"",steuer_status:r.steuer_status||"kleinunternehmer",ust_satz:r.ust_satz||0,kleinunternehmer_grenze:r.kleinunternehmer_grenze||22e3,steuernummer:r.steuernummer||"",ust_id:r.ust_id||"",finanzamt_name:r.finanzamt_name||"",finanzamt:r.finanzamt||null,steuerberater:r.steuerberater||"",umsatzsteuerpflichtig:r.umsatzsteuerpflichtig||!1,kleinunternehmer:r.kleinunternehmer||!1,gemeinnuetzig:r.gemeinnuetzig||!1,vereinsregister_nr:r.vereinsregister_nr||"",amtsgericht:r.amtsgericht||"",handelsregister_nr:r.handelsregister_nr||"",geschaeftsfuehrer:r.geschaeftsfuehrer||"",vorstand_1_vorsitzender:r.vorstand_1_vorsitzender||"",vorstand_2_vorsitzender:r.vorstand_2_vorsitzender||"",vorstand_kassenwart:r.vorstand_kassenwart||"",vorstand_schriftfuehrer:r.vorstand_schriftfuehrer||"",sepa_glaeubiger_id:r.sepa_glaeubiger_id||"",iban:r.iban||"",bic:r.bic||"",bank:r.bank||"",bank_inhaber:r.bank_inhaber||"",bank_verwendungszweck:r.bank_verwendungszweck||"",paypal_email:r.paypal_email||"",lastschrift_aktiv:r.lastschrift_aktiv??!1,haftpflicht_versicherung:r.haftpflicht_versicherung||"",haftpflicht_police_nr:r.haftpflicht_police_nr||"",haftpflicht_ablauf:r.haftpflicht_ablauf||"",unfallversicherung:r.unfallversicherung||"",unfallversicherung_police_nr:r.unfallversicherung_police_nr||"",gebaeudeversicherung:r.gebaeudeversicherung||"",kuendigungsfrist_monate:r.kuendigungsfrist_monate||3,mindestlaufzeit_monate:r.mindestlaufzeit_monate||12,probezeit_tage:r.probezeit_tage||14,kuendigung_nur_monatsende:r.kuendigung_nur_monatsende??!0,kuendigung_schriftlich:r.kuendigung_schriftlich??!0,automatische_verlaengerung:r.automatische_verlaengerung??!0,verlaengerung_monate:r.verlaengerung_monate||12,kuendigung_erstlaufzeit_monate:r.kuendigung_erstlaufzeit_monate||3,kuendigung_verlaengerung_monate:r.kuendigung_verlaengerung_monate||1,vertragsmodell:r.vertragsmodell||"gesetzlich",beitragsgarantie_bei_nichtverlaengerung:r.beitragsgarantie_bei_nichtverlaengerung||"aktueller_tarif",verlaengerung_erinnerung_tage:r.verlaengerung_erinnerung_tage||60,verlaengerung_erinnerung2_tage:r.verlaengerung_erinnerung2_tage||30,verlaengerung_erinnerung3_tage:r.verlaengerung_erinnerung3_tage||14,verlaengerung_email_text:r.verlaengerung_email_text||"",vertrag_3_monate_preis:r.vertrag_3_monate_preis||"",vertrag_6_monate_preis:r.vertrag_6_monate_preis||"",vertrag_12_monate_preis:r.vertrag_12_monate_preis||"",vertrag_3_monate_aktiv:r.vertrag_3_monate_aktiv??!0,vertrag_6_monate_aktiv:r.vertrag_6_monate_aktiv??!0,vertrag_12_monate_aktiv:r.vertrag_12_monate_aktiv??!0,jahresbeitrag:r.jahresbeitrag||"",familienrabatt_prozent:r.familienrabatt_prozent||"",schuelerrabatt_prozent:r.schuelerrabatt_prozent||"",vereinsmitglied_rabatt_prozent:r.vereinsmitglied_rabatt_prozent||"",mehrfachtraining_rabatt_prozent:r.mehrfachtraining_rabatt_prozent||"",beitrag_erwachsene:r.beitrag_erwachsene||"",beitrag_kinder:r.beitrag_kinder||"",beitrag_familien:r.beitrag_familien||"",aufnahmegebuehr:r.aufnahmegebuehr||"",mahnung_gebuehr:r.mahnung_gebuehr||5,kampfkunst_stil:r.kampfkunst_stil||"",verband:r.verband||"",verband_mitgliedsnummer:r.verband_mitgliedsnummer||"",lizenz_trainer_a:r.lizenz_trainer_a||0,lizenz_trainer_b:r.lizenz_trainer_b||0,lizenz_trainer_c:r.lizenz_trainer_c||0,notfallkontakt_name:r.notfallkontakt_name||"",notfallkontakt_telefon:r.notfallkontakt_telefon||"",hausmeister_kontakt:r.hausmeister_kontakt||"",feiertage_geschlossen:r.feiertage_geschlossen??!0,ferien_geschlossen:r.ferien_geschlossen??!1,facebook_url:r.facebook_url||"",instagram_url:r.instagram_url||"",youtube_url:r.youtube_url||"",twitter_url:r.twitter_url||"",google_maps_url:r.google_maps_url||"",newsletter_aktiv:r.newsletter_aktiv??!1,agb_text:r.agb_text||"",agb_version:r.agb_version||"1.0",agb_letzte_aenderung:r.agb_letzte_aenderung||null,dsgvo_text:r.dsgvo_text||"",dsgvo_version:r.dsgvo_version||"1.0",dsgvo_letzte_aenderung:r.dsgvo_letzte_aenderung||null,dojo_regeln_text:r.dojo_regeln_text||"",hausordnung_text:r.hausordnung_text||"",haftungsausschluss_text:r.haftungsausschluss_text||"",widerrufsbelehrung_text:r.widerrufsbelehrung_text||"",impressum_text:r.impressum_text||"",vertragsbedingungen_text:r.vertragsbedingungen_text||"",farbe:r.farbe||"#FFD700",logo_url:r.logo_url||"",theme_scheme:r.theme_scheme||"default",sprache:r.sprache||"de",zeitzone:r.zeitzone||"Europe/Berlin",waehrung:r.waehrung||"EUR",dsgvo_beauftragte:r.dsgvo_beauftragte||"",max_mitglieder:r.max_mitglieder||500})}catch(e){D("Fehler beim Laden des Dojos"),console.error(e)}finally{y(!1)}},ne=async()=>{if(X)return void D("âš ï¸ Bitte speichern Sie das Dojo zuerst, bevor Sie einen API-Token generieren.");const e=V?"âš ï¸ WARNUNG: Dies wird Ihren bestehenden API-Token ungÃ¼ltig machen!\n\nAlle TDA-Turniere, die den alten Token verwenden, mÃ¼ssen aktualisiert werden.\n\nMÃ¶chten Sie wirklich einen neuen Token generieren?":"MÃ¶chten Sie einen neuen API-Token generieren?";if(window.confirm(e)){U(!0);try{const e=await g(`${h.apiBaseUrl}/dojos/${l}/generate-api-token`,{method:"POST",headers:{"Content-Type":"application/json"}}),r=await e.json();if(!r.success)throw new Error(r.error||"Token-Generierung fehlgeschlagen");E(r.token),R(r.created_at),G(null),D("âœ… API-Token erfolgreich generiert!"),setTimeout(()=>D(""),3e3)}catch(r){console.error("Error generating API token:",r),D("âŒ Fehler beim Generieren des Tokens: "+r.message)}finally{U(!1)}}},se=(e,r)=>{navigator.clipboard.writeText(e),D(`âœ… ${r} kopiert!`),setTimeout(()=>D(""),2e3)},te=e=>{if(!e)return"1.1";const r=e.split("."),a=parseInt(r[1]||"0")+1;return`${r[0]}.${a}`},ie=async(e=!1)=>{if(X)Z("Bitte speichern Sie das Dojo zuerst.");else{H(!0),Z("");try{const r=e?te(ee.agb_version):ee.agb_version,a=e?te(ee.dsgvo_version):ee.dsgvo_version,n=await g(`${h.apiBaseUrl}/agb/${l}/update`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({agb_text:ee.agb_text,agb_version:r,dsgvo_text:ee.dsgvo_text,dsgvo_version:a,sendNotification:K})}),s=await n.json();if(!s.success)throw new Error(s.error||"Speichern fehlgeschlagen");{re(e=>({...e,agb_version:r,dsgvo_version:a,agb_letzte_aenderung:(new Date).toISOString(),dsgvo_letzte_aenderung:(new Date).toISOString()}));let e="AGB & Datenschutz erfolgreich gespeichert!";s.notifications&&(e+=` (${s.notifications.sent}/${s.notifications.total} E-Mails gesendet)`),Z(e),W(!1),setTimeout(()=>Z(""),5e3)}}catch(r){console.error("Error saving AGB:",r),Z("Fehler: "+r.message)}finally{H(!1)}}};r.useEffect(()=>{X||"api"!==T||(async()=>{if(!X)try{const e=await g(`${h.apiBaseUrl}/dojos/${l}/api-token`),r=await e.json();r.success&&r.token&&(E(r.token),R(r.created_at),G(r.last_used))}catch(e){console.error("Error loading API token:",e)}})()},[l,X,T]);return e.jsxs("div",{className:"dojo-edit-page",children:[e.jsxs("div",{className:"dojo-edit-header",children:[e.jsxs("button",{className:"back-button",onClick:()=>m("/dashboard/dojos"),children:[e.jsx(N,{size:20}),"ZurÃ¼ck"]}),e.jsx("h1",{children:X?"Neues Dojo hinzufÃ¼gen":"Dojo bearbeiten"}),ee.dojoname&&e.jsx("span",{className:"dojo-name-header",children:ee.dojoname})]}),B&&e.jsxs("div",{className:"message "+(B.includes("Fehler")?"error":"success"),children:[B.includes("Fehler")?e.jsx(u,{size:20}):null,B]}),e.jsxs("div",{className:"dojo-edit-layout",children:[e.jsxs("aside",{className:"dojo-sidebar "+(A?"collapsed":""),children:[e.jsx("button",{className:"tab-vertical-btn sidebar-toggle-btn active",onClick:()=>F(!A),title:A?"Sidebar Ã¶ffnen":"Sidebar schlieÃŸen",children:e.jsx("span",{className:"tab-icon",children:A?"Â»":"Â«"})}),e.jsxs("div",{className:"mitglied-header",children:[e.jsx("div",{className:"mitglied-avatar",style:{fontSize:"2.5rem"},children:"ðŸ¯"}),!A&&e.jsx("div",{className:"mitglied-name",children:ee.dojoname||"Dojo-Einstellungen"})]}),e.jsx("nav",{className:"tabs-vertical","aria-label":"Dojo Tabs",children:Q.map(r=>e.jsxs("button",{className:"tab-vertical-btn "+(T===r.key?"active":""),onClick:()=>I(r.key),title:A?r.label:"",type:"button",children:[e.jsx("span",{className:"tab-icon",children:r.icon}),!A&&e.jsx("span",{className:"tab-label",children:r.label})]},r.key))})]}),e.jsx("div",{className:"dojo-content "+(A?"collapsed":""),children:e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),y(!0);try{const e=X?`${h.apiBaseUrl}/dojos`:`${h.apiBaseUrl}/dojos/${l}`,r=X?"POST":"PUT",a={...ee,ust_satz:"regelbesteuerung"===ee.steuer_status?19:0,finanzamt:ee.finanzamt?JSON.stringify(ee.finanzamt):null},n=await g(e,{method:r,headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!n.ok){const e=await n.json();throw new Error(e.error||"Fehler beim Speichern")}D(`Dojo erfolgreich ${X?"erstellt":"aktualisiert"}!`),setTimeout(()=>{m("/dashboard/dojos")},1500)}catch(r){D(`Fehler: ${r.message}`)}finally{y(!1)}},className:"dojo-form",children:[e.jsxs("div",{className:"form-content",children:["grunddaten"===T&&e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Grunddaten"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Dojo-Name *"}),e.jsx("input",{type:"text",value:ee.dojoname,onChange:e=>re({...ee,dojoname:e.target.value}),required:!0,placeholder:"z.B. Tiger & Dragon Dojo"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Untertitel"}),e.jsx("input",{type:"text",value:ee.untertitel,onChange:e=>re({...ee,untertitel:e.target.value}),placeholder:"z.B. Traditionelles Karate seit 1985"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Inhaber/Dojo-Leiter *"}),e.jsx("input",{type:"text",value:ee.inhaber,onChange:e=>re({...ee,inhaber:e.target.value}),required:!0,placeholder:"Vor- und Nachname"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Stellvertreter"}),e.jsx("input",{type:"text",value:ee.vertreter,onChange:e=>re({...ee,vertreter:e.target.value}),placeholder:"2. Vorsitzender/Stellvertreter"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"GrÃ¼ndungsjahr"}),e.jsx("input",{type:"number",value:ee.gruendungsjahr,onChange:e=>re({...ee,gruendungsjahr:e.target.value}),placeholder:"z.B. 1985",min:"1900",max:"2030"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Rechtsform"}),e.jsxs("select",{value:ee.rechtsform,onChange:e=>re({...ee,rechtsform:e.target.value}),children:[e.jsx("option",{value:"Verein",children:"Eingetragener Verein (e.V.)"}),e.jsx("option",{value:"GmbH",children:"GmbH"}),e.jsx("option",{value:"Einzelunternehmen",children:"Einzelunternehmen"}),e.jsx("option",{value:"GbR",children:"GbR"}),e.jsx("option",{value:"UG",children:"UG (haftungsbeschrÃ¤nkt)"}),e.jsx("option",{value:"AG",children:"AG"})]})]})]}),e.jsx("h4",{style:{marginTop:"1.5rem",marginBottom:"1rem",color:"#ffd700"},children:"Adresse"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"StraÃŸe"}),e.jsx("input",{type:"text",value:ee.strasse,onChange:e=>re({...ee,strasse:e.target.value}),placeholder:"StraÃŸenname"})]}),e.jsxs("div",{className:"form-group",style:{maxWidth:"120px"},children:[e.jsx("label",{children:"Hausnummer"}),e.jsx("input",{type:"text",value:ee.hausnummer,onChange:e=>re({...ee,hausnummer:e.target.value}),placeholder:"123a"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",style:{maxWidth:"150px"},children:[e.jsx("label",{children:"PLZ"}),e.jsx("input",{type:"text",value:ee.plz,onChange:e=>re({...ee,plz:e.target.value}),placeholder:"12345"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Ort"}),e.jsx("input",{type:"text",value:ee.ort,onChange:e=>re({...ee,ort:e.target.value}),placeholder:"Musterstadt"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Land"}),e.jsx("input",{type:"text",value:ee.land,onChange:e=>re({...ee,land:e.target.value}),placeholder:"Deutschland"})]})]})]}),"kontakt"===T&&e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Kontaktdaten"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Telefon (Festnetz)"}),e.jsx("input",{type:"tel",value:ee.telefon,onChange:e=>re({...ee,telefon:e.target.value}),placeholder:"+49 123 456789"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Mobil"}),e.jsx("input",{type:"tel",value:ee.mobil,onChange:e=>re({...ee,mobil:e.target.value}),placeholder:"+49 170 1234567"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Fax"}),e.jsx("input",{type:"tel",value:ee.fax,onChange:e=>re({...ee,fax:e.target.value}),placeholder:"+49 123 456788"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"WhatsApp Nummer"}),e.jsx("input",{type:"tel",value:ee.whatsapp_nummer,onChange:e=>re({...ee,whatsapp_nummer:e.target.value}),placeholder:"+49 170 1234567"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"E-Mail (Haupt)"}),e.jsx("input",{type:"email",value:ee.email,onChange:e=>re({...ee,email:e.target.value}),placeholder:"kontakt@dojo.de"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"E-Mail (Info)"}),e.jsx("input",{type:"email",value:ee.email_info,onChange:e=>re({...ee,email_info:e.target.value}),placeholder:"info@dojo.de"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"E-Mail (Anmeldungen)"}),e.jsx("input",{type:"email",value:ee.email_anmeldung,onChange:e=>re({...ee,email_anmeldung:e.target.value}),placeholder:"anmeldung@dojo.de"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Webseite"}),e.jsx("input",{type:"url",value:ee.internet,onChange:e=>re({...ee,internet:e.target.value}),placeholder:"https://www.dojo.de"})]})]})]}),"raeume"===T&&e.jsx("div",{className:"form-section",style:{padding:0,background:"transparent"},children:e.jsx(s,{})}),"rechtliches"===T&&e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Rechtliche Informationen"}),e.jsx("h4",{style:{marginTop:"1.5rem",marginBottom:"1rem",color:"#ffd700"},children:"Register & BehÃ¶rden"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Vereinsregister-Nr."}),e.jsx("input",{type:"text",value:ee.vereinsregister_nr,onChange:e=>re({...ee,vereinsregister_nr:e.target.value}),placeholder:"VR 12345"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Amtsgericht"}),e.jsx("input",{type:"text",value:ee.amtsgericht,onChange:e=>re({...ee,amtsgericht:e.target.value}),placeholder:"z.B. Amtsgericht MÃ¼nchen"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Handelsregister-Nr."}),e.jsx("input",{type:"text",value:ee.handelsregister_nr,onChange:e=>re({...ee,handelsregister_nr:e.target.value}),placeholder:"HRB 12345"})]}),e.jsx("h4",{style:{marginTop:"1.5rem",marginBottom:"1rem",color:"#ffd700"},children:"Vorstand (fÃ¼r Vereine)"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"1. Vorsitzender"}),e.jsx("input",{type:"text",value:ee.vorstand_1_vorsitzender,onChange:e=>re({...ee,vorstand_1_vorsitzender:e.target.value}),placeholder:"Vor- und Nachname"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"2. Vorsitzender"}),e.jsx("input",{type:"text",value:ee.vorstand_2_vorsitzender,onChange:e=>re({...ee,vorstand_2_vorsitzender:e.target.value}),placeholder:"Vor- und Nachname"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Kassenwart"}),e.jsx("input",{type:"text",value:ee.vorstand_kassenwart,onChange:e=>re({...ee,vorstand_kassenwart:e.target.value}),placeholder:"Vor- und Nachname"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"SchriftfÃ¼hrer"}),e.jsx("input",{type:"text",value:ee.vorstand_schriftfuehrer,onChange:e=>re({...ee,vorstand_schriftfuehrer:e.target.value}),placeholder:"Vor- und Nachname"})]}),"Verein"!==ee.rechtsform&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"GeschÃ¤ftsfÃ¼hrer"}),e.jsx("input",{type:"text",value:ee.geschaeftsfuehrer,onChange:e=>re({...ee,geschaeftsfuehrer:e.target.value}),placeholder:"Vor- und Nachname"})]})]}),"versicherungen"===T&&e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Versicherungen"}),e.jsx("h4",{style:{marginTop:"1.5rem",marginBottom:"1rem",color:"#ffd700"},children:"Haftpflichtversicherung"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Versicherungsgesellschaft"}),e.jsx("input",{type:"text",value:ee.haftpflicht_versicherung,onChange:e=>re({...ee,haftpflicht_versicherung:e.target.value}),placeholder:"z.B. ARAG Sportversicherung"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Policen-Nr."}),e.jsx("input",{type:"text",value:ee.haftpflicht_police_nr,onChange:e=>re({...ee,haftpflicht_police_nr:e.target.value}),placeholder:"123456789"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Ablaufdatum"}),e.jsx("input",{type:"date",value:ee.haftpflicht_ablauf,onChange:e=>re({...ee,haftpflicht_ablauf:e.target.value})})]}),e.jsx("h4",{style:{marginTop:"1.5rem",marginBottom:"1rem",color:"#ffd700"},children:"Weitere Versicherungen"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Unfallversicherung"}),e.jsx("input",{type:"text",value:ee.unfallversicherung,onChange:e=>re({...ee,unfallversicherung:e.target.value}),placeholder:"Versicherungsgesellschaft"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Policen-Nr."}),e.jsx("input",{type:"text",value:ee.unfallversicherung_police_nr,onChange:e=>re({...ee,unfallversicherung_police_nr:e.target.value}),placeholder:"123456789"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"GebÃ¤udeversicherung"}),e.jsx("input",{type:"text",value:ee.gebaeudeversicherung,onChange:e=>re({...ee,gebaeudeversicherung:e.target.value}),placeholder:"Versicherung und Policen-Nr."})]})]}),"vertraege"===T&&e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Vertragsmodell & Einstellungen"}),e.jsx("p",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.6)",marginBottom:"1.5rem"},children:"WÃ¤hlen Sie das Vertragsmodell und konfigurieren Sie die Standardeinstellungen fÃ¼r neue VertrÃ¤ge"}),e.jsx("h4",{style:{marginTop:"1rem",marginBottom:"1rem",color:"#ffd700"},children:"ðŸ”„ Vertragsmodell auswÃ¤hlen"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginBottom:"1.5rem"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"1rem",padding:"1rem",background:"gesetzlich"===ee.vertragsmodell?"rgba(16, 185, 129, 0.15)":"rgba(255,255,255,0.05)",border:"gesetzlich"===ee.vertragsmodell?"2px solid #10b981":"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s ease"},children:[e.jsx("input",{type:"radio",name:"vertragsmodell",value:"gesetzlich",checked:"gesetzlich"===ee.vertragsmodell,onChange:e=>re({...ee,vertragsmodell:e.target.value}),style:{marginTop:"4px"}}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"600",color:"#fff",marginBottom:"0.25rem"},children:"ðŸ“œ Gesetzliche VerlÃ¤ngerung (Standard)"}),e.jsxs("div",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.6)",lineHeight:"1.5"},children:["Vertrag verlÃ¤ngert sich automatisch. Nach der VerlÃ¤ngerung kann das Mitglied jederzeit mit ",e.jsx("strong",{children:"1 Monat Frist"})," kÃ¼ndigen (gemÃ¤ÃŸ Gesetz fÃ¼r faire VerbrauchervertrÃ¤ge 2022)."]})]})]}),e.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"1rem",padding:"1rem",background:"beitragsgarantie"===ee.vertragsmodell?"rgba(20, 184, 166, 0.15)":"rgba(255,255,255,0.05)",border:"beitragsgarantie"===ee.vertragsmodell?"2px solid #14b8a6":"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s ease"},children:[e.jsx("input",{type:"radio",name:"vertragsmodell",value:"beitragsgarantie",checked:"beitragsgarantie"===ee.vertragsmodell,onChange:e=>re({...ee,vertragsmodell:e.target.value}),style:{marginTop:"4px"}}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"600",color:"#fff",marginBottom:"0.25rem"},children:"ðŸ’° Beitragsgarantie-Modell"}),e.jsxs("div",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.6)",lineHeight:"1.5"},children:["Mitglied muss ",e.jsx("strong",{children:"aktiv verlÃ¤ngern"}),", um seinen aktuellen Beitrag zu behalten. Bei Nicht-VerlÃ¤ngerung gilt automatisch der aktuelle Tarifpreis oder der Vertrag endet."]})]})]})]}),"beitragsgarantie"===ee.vertragsmodell&&e.jsxs("div",{style:{background:"rgba(20, 184, 166, 0.1)",border:"1px solid rgba(20, 184, 166, 0.3)",borderRadius:"12px",padding:"1.5rem",marginBottom:"1.5rem"},children:[e.jsx("h4",{style:{color:"#14b8a6",marginBottom:"1rem"},children:"âš™ï¸ Beitragsgarantie-Einstellungen"}),e.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[e.jsx("label",{children:"Bei Nicht-VerlÃ¤ngerung"}),e.jsxs("select",{value:ee.beitragsgarantie_bei_nichtverlaengerung,onChange:e=>re({...ee,beitragsgarantie_bei_nichtverlaengerung:e.target.value}),children:[e.jsx("option",{value:"aktueller_tarif",children:"Automatisch aktueller Tarifpreis"}),e.jsx("option",{value:"vertrag_endet",children:"Vertrag endet"})]})]}),e.jsx("h5",{style:{marginTop:"1rem",marginBottom:"0.75rem",color:"#fff"},children:"ðŸ“§ Erinnerungs-E-Mails"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"1. Erinnerung (Tage vorher)"}),e.jsx("input",{type:"number",value:ee.verlaengerung_erinnerung_tage,onChange:e=>re({...ee,verlaengerung_erinnerung_tage:parseInt(e.target.value)}),min:"14",max:"90"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"2. Erinnerung (Tage vorher)"}),e.jsx("input",{type:"number",value:ee.verlaengerung_erinnerung2_tage,onChange:e=>re({...ee,verlaengerung_erinnerung2_tage:parseInt(e.target.value)}),min:"0",max:"60"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Letzte Erinnerung (Tage vorher)"}),e.jsx("input",{type:"number",value:ee.verlaengerung_erinnerung3_tage,onChange:e=>re({...ee,verlaengerung_erinnerung3_tage:parseInt(e.target.value)}),min:"0",max:"30"})]})]})]}),e.jsx("h4",{style:{marginTop:"1.5rem",marginBottom:"1rem",color:"#ffd700"},children:"ðŸ“ Allgemeine Einstellungen"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"KÃ¼ndigungsfrist (Monate)"}),e.jsx("input",{type:"number",value:ee.kuendigungsfrist_monate,onChange:e=>re({...ee,kuendigungsfrist_monate:parseInt(e.target.value)}),min:"0",max:"12",placeholder:"z.B. 3"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Mindestlaufzeit (Monate)"}),e.jsx("input",{type:"number",value:ee.mindestlaufzeit_monate,onChange:e=>re({...ee,mindestlaufzeit_monate:parseInt(e.target.value)}),min:"0",max:"24",placeholder:"z.B. 12"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"VerlÃ¤ngerung (Monate)"}),e.jsx("input",{type:"number",value:ee.verlaengerung_monate,onChange:e=>re({...ee,verlaengerung_monate:parseInt(e.target.value)}),min:"1",max:"24",placeholder:"z.B. 12"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Probezeit (Tage)"}),e.jsx("input",{type:"number",value:ee.probezeit_tage,onChange:e=>re({...ee,probezeit_tage:parseInt(e.target.value)}),min:"0",max:"90",placeholder:"z.B. 14"})]}),e.jsxs("div",{className:"form-row",style:{marginTop:"1rem"},children:[e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:ee.kuendigung_nur_monatsende,onChange:e=>re({...ee,kuendigung_nur_monatsende:e.target.checked})}),e.jsx("span",{children:"KÃ¼ndigung nur zum Monatsende"})]})}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:ee.kuendigung_schriftlich,onChange:e=>re({...ee,kuendigung_schriftlich:e.target.checked})}),e.jsx("span",{children:"KÃ¼ndigung muss schriftlich erfolgen"})]})})]}),e.jsx("h4",{style:{marginTop:"2rem",marginBottom:"1rem",color:"#ffd700"},children:"ðŸ’¶ Vertragslaufzeiten & Preise"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:ee.vertrag_3_monate_aktiv,onChange:e=>re({...ee,vertrag_3_monate_aktiv:e.target.checked})}),e.jsx("span",{children:"3-Monats-Vertrag aktiv"})]}),ee.vertrag_3_monate_aktiv&&e.jsx("input",{type:"number",step:"0.01",value:ee.vertrag_3_monate_preis,onChange:e=>re({...ee,vertrag_3_monate_preis:e.target.value}),placeholder:"Preis in EUR",style:{marginTop:"0.5rem"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:ee.vertrag_6_monate_aktiv,onChange:e=>re({...ee,vertrag_6_monate_aktiv:e.target.checked})}),e.jsx("span",{children:"6-Monats-Vertrag aktiv"})]}),ee.vertrag_6_monate_aktiv&&e.jsx("input",{type:"number",step:"0.01",value:ee.vertrag_6_monate_preis,onChange:e=>re({...ee,vertrag_6_monate_preis:e.target.value}),placeholder:"Preis in EUR",style:{marginTop:"0.5rem"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:ee.vertrag_12_monate_aktiv,onChange:e=>re({...ee,vertrag_12_monate_aktiv:e.target.checked})}),e.jsx("span",{children:"12-Monats-Vertrag aktiv"})]}),ee.vertrag_12_monate_aktiv&&e.jsx("input",{type:"number",step:"0.01",value:ee.vertrag_12_monate_preis,onChange:e=>re({...ee,vertrag_12_monate_preis:e.target.value}),placeholder:"Preis in EUR",style:{marginTop:"0.5rem"}})]})]}),e.jsx("h4",{style:{marginTop:"2rem",marginBottom:"1rem",color:"#ffd700"},children:"ðŸ·ï¸ Rabatte"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Familienrabatt (%)"}),e.jsx("input",{type:"number",step:"0.01",value:ee.familienrabatt_prozent,onChange:e=>re({...ee,familienrabatt_prozent:e.target.value}),placeholder:"z.B. 10",min:"0",max:"100"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"SchÃ¼lerrabatt (%)"}),e.jsx("input",{type:"number",step:"0.01",value:ee.schuelerrabatt_prozent,onChange:e=>re({...ee,schuelerrabatt_prozent:e.target.value}),placeholder:"z.B. 15",min:"0",max:"100"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Vereinsmitglied-Rabatt (%)"}),e.jsx("input",{type:"number",step:"0.01",value:ee.vereinsmitglied_rabatt_prozent,onChange:e=>re({...ee,vereinsmitglied_rabatt_prozent:e.target.value}),placeholder:"z.B. 5",min:"0",max:"100"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Mehrfachtraining-Rabatt (%)"}),e.jsx("input",{type:"number",step:"0.01",value:ee.mehrfachtraining_rabatt_prozent,onChange:e=>re({...ee,mehrfachtraining_rabatt_prozent:e.target.value}),placeholder:"z.B. 10",min:"0",max:"100"})]})]}),e.jsx("div",{style:{background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"12px",padding:"1rem",marginTop:"2rem"},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[e.jsx("span",{style:{fontSize:"1.5rem"},children:"â„¹ï¸"}),e.jsxs("div",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.8)",lineHeight:"1.6"},children:[e.jsx("strong",{children:"Hinweis zum deutschen Verbraucherrecht:"}),e.jsx("br",{}),"Seit MÃ¤rz 2022 kÃ¶nnen Verbraucher nach automatischer VertragsverlÃ¤ngerung jederzeit mit 1 Monat Frist kÃ¼ndigen. Das Beitragsgarantie-Modell bietet eine faire Alternative: Mitglieder behalten ihren Preis, wenn sie aktiv verlÃ¤ngern."]})]})})]}),"sport"===T&&e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Sport & Verband"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Kampfkunst-Stil"}),e.jsx("input",{type:"text",value:ee.kampfkunst_stil,onChange:e=>re({...ee,kampfkunst_stil:e.target.value}),placeholder:"z.B. Shotokan Karate, Taekwondo, Jiu-Jitsu"})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Verband"}),e.jsx("input",{type:"text",value:ee.verband,onChange:e=>re({...ee,verband:e.target.value}),placeholder:"z.B. DKV, DOSB, DTB"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Verbands-Mitgliedsnummer"}),e.jsx("input",{type:"text",value:ee.verband_mitgliedsnummer,onChange:e=>re({...ee,verband_mitgliedsnummer:e.target.value}),placeholder:"123456"})]})]}),e.jsx("h4",{style:{marginTop:"1.5rem",marginBottom:"1rem",color:"#ffd700"},children:"Trainer-Lizenzen"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"A-Lizenz Trainer"}),e.jsx("input",{type:"number",value:ee.lizenz_trainer_a,onChange:e=>re({...ee,lizenz_trainer_a:parseInt(e.target.value)||0}),min:"0",placeholder:"Anzahl"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"B-Lizenz Trainer"}),e.jsx("input",{type:"number",value:ee.lizenz_trainer_b,onChange:e=>re({...ee,lizenz_trainer_b:parseInt(e.target.value)||0}),min:"0",placeholder:"Anzahl"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"C-Lizenz Trainer"}),e.jsx("input",{type:"number",value:ee.lizenz_trainer_c,onChange:e=>re({...ee,lizenz_trainer_c:parseInt(e.target.value)||0}),min:"0",placeholder:"Anzahl"})]})]})]}),"social"===T&&e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Social Media & Online-PrÃ¤senz"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Facebook URL"}),e.jsx("input",{type:"url",value:ee.facebook_url,onChange:e=>re({...ee,facebook_url:e.target.value}),placeholder:"https://facebook.com/ihr-dojo"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Instagram URL"}),e.jsx("input",{type:"url",value:ee.instagram_url,onChange:e=>re({...ee,instagram_url:e.target.value}),placeholder:"https://instagram.com/ihr-dojo"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"YouTube URL"}),e.jsx("input",{type:"url",value:ee.youtube_url,onChange:e=>re({...ee,youtube_url:e.target.value}),placeholder:"https://youtube.com/@ihr-dojo"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Twitter/X URL"}),e.jsx("input",{type:"url",value:ee.twitter_url,onChange:e=>re({...ee,twitter_url:e.target.value}),placeholder:"https://twitter.com/ihr-dojo"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Google Maps URL"}),e.jsx("input",{type:"url",value:ee.google_maps_url,onChange:e=>re({...ee,google_maps_url:e.target.value}),placeholder:"https://maps.google.com/?cid=..."}),e.jsx("p",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.5)",marginTop:"0.5rem"},children:"Link zu Ihrem Google Maps Eintrag fÃ¼r Standort-Anzeige"})]}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:ee.newsletter_aktiv,onChange:e=>re({...ee,newsletter_aktiv:e.target.checked})}),e.jsx("span",{children:"Newsletter-Funktion aktiv"})]})})]}),"betrieb"===T&&e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Betrieb & Kontakte"}),e.jsx("h4",{style:{marginTop:"1.5rem",marginBottom:"1rem",color:"#ffd700"},children:"Notfallkontakte"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Notfallkontakt Name"}),e.jsx("input",{type:"text",value:ee.notfallkontakt_name,onChange:e=>re({...ee,notfallkontakt_name:e.target.value}),placeholder:"Vor- und Nachname"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Notfallkontakt Telefon"}),e.jsx("input",{type:"tel",value:ee.notfallkontakt_telefon,onChange:e=>re({...ee,notfallkontakt_telefon:e.target.value}),placeholder:"+49 170 1234567"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Hausmeister Kontakt"}),e.jsx("input",{type:"text",value:ee.hausmeister_kontakt,onChange:e=>re({...ee,hausmeister_kontakt:e.target.value}),placeholder:"Name und Telefon des Hausmeisters"})]}),e.jsx("h4",{style:{marginTop:"1.5rem",marginBottom:"1rem",color:"#ffd700"},children:"Betriebszeiten"}),e.jsxs("div",{className:"form-row",children:[e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:ee.feiertage_geschlossen,onChange:e=>re({...ee,feiertage_geschlossen:e.target.checked})}),e.jsx("span",{children:"An Feiertagen geschlossen"})]})}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:ee.ferien_geschlossen,onChange:e=>re({...ee,ferien_geschlossen:e.target.checked})}),e.jsx("span",{children:"In den Schulferien geschlossen"})]})})]})]}),"dokumente"===T&&e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Rechtliche Dokumente"}),e.jsx("div",{style:{background:"linear-gradient(135deg, #DBEAFE 0%, #BFDBFE 100%)",border:"2px solid #3B82F6",borderRadius:"12px",padding:"1.5rem",marginBottom:"2rem",boxShadow:"0 4px 6px rgba(59, 130, 246, 0.1)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem"},children:[e.jsx("div",{style:{fontSize:"2rem"},children:"â„¹ï¸"}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#1E3A8A",fontSize:"1.1rem",fontWeight:"700"},children:"Versionierte Dokumentenverwaltung"}),e.jsxs("p",{style:{margin:"0 0 0.75rem 0",color:"#1E40AF",fontSize:"0.95rem",lineHeight:"1.6"},children:["Ihre rechtlichen Dokumente (AGB, DatenschutzerklÃ¤rung) werden jetzt ",e.jsx("strong",{children:"versioniert"})," in der Datenbank gespeichert. Dies ermÃ¶glicht:"]}),e.jsxs("ul",{style:{margin:"0",paddingLeft:"1.5rem",color:"#1E40AF",fontSize:"0.9rem",lineHeight:"1.6"},children:[e.jsx("li",{children:"Automatische Versionsverwaltung (z.B. Version 1.0, 1.1, 2.0)"}),e.jsx("li",{children:"Zeitstempel fÃ¼r jede DokumentenÃ¤nderung"}),e.jsx("li",{children:"Nachvollziehbarkeit: Welche AGB-Version wurde bei Vertragsabschluss akzeptiert?"}),e.jsx("li",{children:"GÃ¼ltigkeit von/bis Datum fÃ¼r jede Version"})]}),e.jsxs("p",{style:{margin:"1rem 0 0 0",color:"#1E40AF",fontSize:"0.85rem",fontStyle:"italic"},children:["ðŸ’¡ ",e.jsx("strong",{children:"Hinweis:"})," Standard-Dokumente (AGB v1.0, Datenschutz v1.0) wurden bereits automatisch fÃ¼r Ihr Dojo erstellt. Die Dokumente werden beim Vertragsabschluss automatisch mit Zeitstempel erfasst."]})]})]})}),e.jsxs("div",{style:{background:"rgba(255, 215, 0, 0.05)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px",padding:"1.5rem",marginBottom:"2rem"},children:[e.jsx("h4",{style:{color:"#FFD700",marginBottom:"1rem"},children:"AGB & Datenschutz (mit Versionierung)"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem",padding:"1rem",background:"rgba(0,0,0,0.2)",borderRadius:"6px"},children:[e.jsxs("div",{children:[e.jsx("span",{style:{color:"rgba(255,255,255,0.6)",fontSize:"0.85rem"},children:"AGB Version:"}),e.jsxs("strong",{style:{marginLeft:"0.5rem",color:"#FFD700"},children:["v",ee.agb_version]}),ee.agb_letzte_aenderung&&e.jsxs("span",{style:{marginLeft:"0.5rem",color:"rgba(255,255,255,0.5)",fontSize:"0.8rem"},children:["(geaendert: ",new Date(ee.agb_letzte_aenderung).toLocaleDateString("de-DE"),")"]})]}),e.jsxs("div",{children:[e.jsx("span",{style:{color:"rgba(255,255,255,0.6)",fontSize:"0.85rem"},children:"Datenschutz Version:"}),e.jsxs("strong",{style:{marginLeft:"0.5rem",color:"#FFD700"},children:["v",ee.dsgvo_version]}),ee.dsgvo_letzte_aenderung&&e.jsxs("span",{style:{marginLeft:"0.5rem",color:"rgba(255,255,255,0.5)",fontSize:"0.8rem"},children:["(geaendert: ",new Date(ee.dsgvo_letzte_aenderung).toLocaleDateString("de-DE"),")"]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"AGB (Allgemeine Geschaeftsbedingungen)"}),e.jsx("textarea",{value:ee.agb_text,onChange:e=>re({...ee,agb_text:e.target.value}),rows:"8",placeholder:"Ihre AGB...",style:{fontFamily:"monospace",fontSize:"0.9rem"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"DSGVO / Datenschutzerklaerung"}),e.jsx("textarea",{value:ee.dsgvo_text,onChange:e=>re({...ee,dsgvo_text:e.target.value}),rows:"8",placeholder:"Ihre Datenschutzerklaerung...",style:{fontFamily:"monospace",fontSize:"0.9rem"}})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"1rem",marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid rgba(255,255,255,0.1)"},children:[e.jsxs("label",{className:"checkbox-label",style:{margin:0},children:[e.jsx("input",{type:"checkbox",checked:K,onChange:e=>W(e.target.checked)}),e.jsx("span",{children:"Mitglieder per E-Mail benachrichtigen"})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{type:"button",onClick:()=>ie(!1),disabled:$||X,style:{padding:"0.6rem 1rem",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"6px",color:"#fff",cursor:$?"wait":"pointer"},children:$?"Speichere...":"Speichern"}),e.jsx("button",{type:"button",onClick:()=>ie(!0),disabled:$||X,style:{padding:"0.6rem 1rem",background:"#FFD700",border:"none",borderRadius:"6px",color:"#000",fontWeight:"600",cursor:$?"wait":"pointer"},children:$?"Speichere...":"Speichern + Version erhoehen"})]})]}),O&&e.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem 1rem",borderRadius:"6px",background:O.includes("Fehler")?"rgba(239, 68, 68, 0.2)":"rgba(34, 197, 94, 0.2)",color:O.includes("Fehler")?"#FCA5A5":"#86EFAC",fontSize:"0.9rem"},children:O})]}),e.jsx("h4",{style:{color:"rgba(255,255,255,0.7)",marginBottom:"1rem"},children:"Weitere Dokumente"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Dojo-Regeln"}),e.jsx("textarea",{value:ee.dojo_regeln_text,onChange:e=>re({...ee,dojo_regeln_text:e.target.value}),rows:"6",placeholder:"Ihre Dojo-Regeln (Etikette, Verhaltensregeln, etc.)..."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Hausordnung"}),e.jsx("textarea",{value:ee.hausordnung_text,onChange:e=>re({...ee,hausordnung_text:e.target.value}),rows:"6",placeholder:"Ihre Hausordnung..."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Haftungsausschluss"}),e.jsx("textarea",{value:ee.haftungsausschluss_text,onChange:e=>re({...ee,haftungsausschluss_text:e.target.value}),rows:"6",placeholder:"Ihr Haftungsausschluss..."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Widerrufsbelehrung"}),e.jsx("textarea",{value:ee.widerrufsbelehrung_text,onChange:e=>re({...ee,widerrufsbelehrung_text:e.target.value}),rows:"6",placeholder:"Ihre Widerrufsbelehrung..."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Impressum"}),e.jsx("textarea",{value:ee.impressum_text,onChange:e=>re({...ee,impressum_text:e.target.value}),rows:"6",placeholder:"Ihr Impressum..."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Vertragsbedingungen"}),e.jsx("textarea",{value:ee.vertragsbedingungen_text,onChange:e=>re({...ee,vertragsbedingungen_text:e.target.value}),rows:"6",placeholder:"Ihre Vertragsbedingungen..."})]})]}),"steuer"===T&&e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Steuereinstellungen"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Steuerstatus"}),e.jsxs("select",{value:ee.steuer_status,onChange:e=>re({...ee,steuer_status:e.target.value,ust_satz:"regelbesteuerung"===e.target.value?19:0}),children:[e.jsx("option",{value:"kleinunternehmer",children:"Kleinunternehmer (Paragraph 19 UStG)"}),e.jsx("option",{value:"regelbesteuerung",children:"Regelbesteuerung (19% USt)"})]})]}),"kleinunternehmer"===ee.steuer_status&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Kleinunternehmer-Grenze (EUR)"}),e.jsx("input",{type:"number",value:ee.kleinunternehmer_grenze,onChange:e=>re({...ee,kleinunternehmer_grenze:parseFloat(e.target.value)})})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Finanzamt"}),e.jsx(t,{value:ee.finanzamt,onChange:e=>re({...ee,finanzamt:e,finanzamt_name:e?`${e.name}, ${e.ort}`:""}),placeholder:"Finanzamt suchen..."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Steuernummer"}),e.jsx("input",{type:"text",value:ee.steuernummer,onChange:e=>re({...ee,steuernummer:e.target.value})})]})]}),"regelbesteuerung"===ee.steuer_status&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"USt-IdNr."}),e.jsx("input",{type:"text",value:ee.ust_id,onChange:e=>re({...ee,ust_id:e.target.value}),placeholder:"DE123456789"})]})]}),"bank"===T&&!X&&e.jsx(C,{dojoId:l}),"bank"===T&&X&&e.jsx("div",{className:"form-section",children:e.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"rgba(255, 255, 255, 0.6)",background:"rgba(255, 215, 0, 0.05)",borderRadius:"12px",border:"1px dashed rgba(255, 215, 0, 0.3)"},children:[e.jsx(u,{size:48,style:{marginBottom:"16px",color:"#ffd700"}}),e.jsx("h3",{style:{color:"#ffd700",marginBottom:"8px"},children:"Dojo zuerst speichern"}),e.jsx("p",{children:"Bankverbindungen kÃ¶nnen nach dem Erstellen des Dojos hinzugefÃ¼gt werden."})]})}),"logos"===T&&e.jsx("div",{className:"form-section",style:{padding:0,background:"transparent"},children:e.jsx(S,{dojoId:l})}),"admins"===T&&e.jsx("div",{className:"form-section",style:{padding:0,background:"transparent"},children:e.jsx(i,{})}),"api"===T&&e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"ðŸ”— API-Token fÃ¼r TDA-Turnierverwaltung"}),e.jsx("div",{className:"api-info-box",children:e.jsxs("p",{children:[e.jsx("strong",{children:"â„¹ï¸ Sicherer API-Zugang"}),e.jsx("br",{}),"Jedes Dojo hat einen eindeutigen API-Token fÃ¼r die sichere Verbindung zur TDA-Turnierverwaltung. Dieser Token ermÃ¶glicht den automatischen Import Ihrer Mitglieder."]})}),e.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:e.jsx("span",{children:"ðŸŒ API Base URL"})}),e.jsxs("div",{className:"api-input-group",children:[e.jsx("input",{type:"text",value:window.location.origin+"/api",readOnly:!0,className:"api-input-readonly"}),e.jsx("button",{type:"button",onClick:()=>se(window.location.origin+"/api","API URL"),className:"api-copy-btn",children:"ðŸ“‹ Kopieren"})]}),e.jsx("small",{className:"api-hint",children:"Diese URL verwenden Sie im Schritt 2 der TDA-Registrierung"})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[e.jsx("span",{children:"ðŸ”‘ API-Token"}),V&&e.jsx("span",{className:"api-status-badge",children:"âœ“ Aktiv"})]}),V?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"api-input-group",style:{marginBottom:"1rem"},children:[e.jsx("input",{type:"text",value:V,readOnly:!0,className:"api-input-token"}),e.jsx("button",{type:"button",onClick:()=>se(V,"API-Token"),className:"api-copy-btn api-copy-btn-green",children:"ðŸ“‹ Kopieren"})]}),e.jsx("div",{className:"api-metadata-box",children:e.jsxs("div",{className:"api-metadata-grid",children:[e.jsxs("div",{children:[e.jsx("span",{className:"api-metadata-label",children:"Erstellt am:"}),e.jsx("div",{className:"api-metadata-value",children:P?new Date(P).toLocaleString("de-DE"):"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"api-metadata-label",children:"Zuletzt verwendet:"}),e.jsx("div",{className:"api-metadata-value",children:L?new Date(L).toLocaleString("de-DE"):"Noch nie"})]})]})}),e.jsx("button",{type:"button",onClick:ne,disabled:M,className:"api-regenerate-btn",children:M?"â³ Generiere...":"ðŸ”„ Token regenerieren"}),e.jsx("small",{className:"api-warning-text",children:"âš ï¸ Warnung: Das Regenerieren macht den alten Token ungÃ¼ltig!"})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"api-empty-state",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Kein API-Token vorhanden"}),e.jsx("br",{}),"Generieren Sie einen Token, um die TDA-Integration zu nutzen."]}),e.jsx("button",{type:"button",onClick:ne,disabled:M||X,className:"api-generate-btn",children:M?"â³ Generiere...":"ðŸ”‘ API-Token generieren"}),X&&e.jsx("small",{className:"api-save-hint",children:"Bitte speichern Sie das Dojo zuerst"})]})})]}),e.jsxs("div",{className:"api-instructions",children:[e.jsx("h4",{children:"ðŸ“ So verwenden Sie den API-Token:"}),e.jsxs("ol",{children:[e.jsx("li",{children:"Generieren Sie einen API-Token (falls noch nicht vorhanden)"}),e.jsx("li",{children:"Ã–ffnen Sie die TDA-Turnierverwaltung Registrierung"}),e.jsxs("li",{children:["Geben Sie im ",e.jsx("strong",{children:"Schritt 2"})," folgende Daten ein:",e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"API-URL:"})," ",window.location.origin,"/api"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"API-Token:"})," Ihr generierter Token (kopieren Sie ihn mit dem Button)"]})]})]}),e.jsx("li",{children:'Klicken Sie auf "Verbindung testen"'}),e.jsx("li",{children:"WÃ¤hlen Sie Ihre Dojos aus, die Sie synchronisieren mÃ¶chten"}),e.jsx("li",{children:"SchlieÃŸen Sie die Registrierung ab"})]})]}),e.jsx("div",{className:"api-security-note",children:e.jsxs("p",{children:[e.jsx("strong",{children:"ðŸ”’ Sicherheitshinweise:"}),e.jsx("br",{}),"â€¢ Jedes Dojo hat einen eindeutigen, sicheren Token",e.jsx("br",{}),"â€¢ Geben Sie Ihren Token niemals an Dritte weiter",e.jsx("br",{}),"â€¢ Bei Verdacht auf Kompromittierung: Token sofort regenerieren",e.jsx("br",{}),"â€¢ Der alte Token wird ungÃ¼ltig, sobald Sie einen neuen generieren"]})})]}),"system"===T&&e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"System-Einstellungen"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Sprache"}),e.jsxs("select",{value:ee.sprache,onChange:e=>re({...ee,sprache:e.target.value}),children:[e.jsx("option",{value:"de",children:"Deutsch"}),e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"fr",children:"FranÃ§ais"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Zeitzone"}),e.jsxs("select",{value:ee.zeitzone,onChange:e=>re({...ee,zeitzone:e.target.value}),children:[e.jsx("option",{value:"Europe/Berlin",children:"Europa/Berlin"}),e.jsx("option",{value:"Europe/Vienna",children:"Europa/Wien"}),e.jsx("option",{value:"Europe/Zurich",children:"Europa/ZÃ¼rich"})]})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"WÃ¤hrung"}),e.jsxs("select",{value:ee.waehrung,onChange:e=>re({...ee,waehrung:e.target.value}),children:[e.jsx("option",{value:"EUR",children:"EUR (â‚¬)"}),e.jsx("option",{value:"USD",children:"USD ($)"}),e.jsx("option",{value:"CHF",children:"CHF"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Max. Mitglieder"}),e.jsx("input",{type:"number",min:"1",max:"10000",value:ee.max_mitglieder,onChange:e=>re({...ee,max_mitglieder:parseInt(e.target.value)}),placeholder:"500"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"DSGVO-Beauftragter"}),e.jsx("input",{type:"text",value:ee.dsgvo_beauftragte,onChange:e=>re({...ee,dsgvo_beauftragte:e.target.value}),placeholder:"Name des Datenschutzbeauftragten"})]})]}),"design"===T&&e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Design & Theme"}),e.jsx("h4",{style:{marginTop:"1rem",marginBottom:"1rem",color:"#ffd700"},children:"ðŸŽ¨ Theme-Auswahl"}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"1rem",background:"rgba(255,255,255,0.05)",borderRadius:"12px",marginBottom:"1rem"},children:[e.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"8px",background:(null==b?void 0:b.preview)||"linear-gradient(135deg, #0f0f23, #16213e)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:f?"ðŸŒ™":"â˜€ï¸"}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"600",color:"#fff"},children:(null==b?void 0:b.name)||"Midnight Blue"}),e.jsx("div",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.6)"},children:null==b?void 0:b.description}),e.jsx("span",{style:{display:"inline-block",marginTop:"0.25rem",padding:"0.15rem 0.5rem",fontSize:"0.75rem",borderRadius:"4px",background:f?"rgba(139, 92, 246, 0.2)":"rgba(251, 191, 36, 0.2)",color:f?"#a78bfa":"#fbbf24"},children:f?"Dark Mode":"Light Mode"})]}),e.jsxs("button",{type:"button",onClick:()=>q(!J),style:{marginLeft:"auto",padding:"0.5rem 1rem",background:"#ffd700",border:"none",borderRadius:"8px",color:"#000",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(z,{size:18}),"Theme wechseln"]})]}),J&&e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"1rem",marginTop:"1rem"},children:Y.map(r=>e.jsxs("div",{onClick:()=>(e=>{var r;j(e),q(!1);const a=(null==(r=_[e])?void 0:r.name)||e;D(`âœ… Theme zu "${a}" geÃ¤ndert!`),setTimeout(()=>D(""),3e3)})(r.id),style:{padding:"1rem",background:v===r.id?"rgba(255, 215, 0, 0.15)":"rgba(255,255,255,0.05)",border:v===r.id?"2px solid #ffd700":"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s ease"},children:[e.jsx("div",{style:{width:"100%",height:"40px",borderRadius:"6px",background:r.preview,marginBottom:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center"},children:r.isDark?"ðŸŒ™":"â˜€ï¸"}),e.jsx("div",{style:{fontWeight:"600",color:"#fff",fontSize:"0.9rem"},children:r.name}),e.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.5)"},children:r.description}),v===r.id&&e.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.75rem",color:"#ffd700",fontWeight:"600"},children:"âœ“ Aktiv"})]},r.id))})]}),e.jsx("h4",{style:{marginTop:"1.5rem",marginBottom:"1rem",color:"#ffd700"},children:"ðŸŽ¯ Dojo-Farbe"}),e.jsxs("div",{className:"form-group",children:[e.jsx("p",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.6)",marginBottom:"1rem"},children:"Diese Farbe wird zur visuellen Kennzeichnung des Dojos verwendet (z.B. im Switcher, Dashboards, etc.)"}),e.jsxs("div",{className:"color-picker-wrapper",children:[e.jsx("input",{type:"color",value:ee.farbe,onChange:e=>re({...ee,farbe:e.target.value})}),e.jsx("div",{className:"color-preview",style:{backgroundColor:ee.farbe},children:e.jsx("span",{children:ee.farbe})})]})]}),e.jsxs("div",{className:"color-suggestions",children:[e.jsx("p",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.6)",marginBottom:"0.5rem"},children:"VorschlÃ¤ge:"}),e.jsx("div",{className:"color-buttons",children:["#FFD700","#FF6B35","#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899"].map(r=>e.jsx("button",{type:"button",className:"color-button",style:{backgroundColor:r},onClick:()=>re({...ee,farbe:r}),title:r},r))})]})]})]}),e.jsxs("div",{className:"form-actions-sticky",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>m("/dashboard/dojos"),children:"Abbrechen"}),e.jsxs("button",{type:"submit",className:"btn-primary",disabled:k,children:[e.jsx(w,{size:20}),k?"Speichern...":"Speichern"]})]})]})})]})]})};export{B as default};
