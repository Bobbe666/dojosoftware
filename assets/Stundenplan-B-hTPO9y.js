import{a as e,j as s}from"./query-Caj74EYQ.js";import{D as n,e as a,a as t}from"./index-CREwepoQ.js";import"./vendor-router-Co3o87Zc.js";import"./icons-DiLw-1i5.js";import"./charts-C1Gv3M_c.js";const r=()=>{const{kurse:r}=e.useContext(n),{standorte:i,activeStandort:l,hasMultipleLocations:d}=a(),[c,o]=e.useState([]),[h,m]=e.useState([]),[u,p]=e.useState(!0),[x,g]=e.useState(""),[j,v]=e.useState({tag:"",uhrzeit_start:"",uhrzeit_ende:"",kurs_id:"",raum_id:""}),[f,b]=e.useState({key:null,direction:"asc"}),[N,_]=e.useState(null),[y,z]=e.useState({}),[k,S]=e.useState("Wochen√ºbersicht"),[C,w]=e.useState(!1),[E,F]=e.useState({}),K=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"];e.useEffect(()=>{W()},[]);const W=async()=>{try{const[e,s]=await Promise.all([t.get("/stundenplan"),t.get("/raeume")]);o(e.data),m(s.data.data||s.data||[])}catch(e){console.error("Fehler beim Laden:",e),g("Fehler beim Laden der Daten")}finally{p(!1)}},T=c.filter(e=>"all"===l||(!e.standort_id||e.standort_id===l)),I=[...T].sort((e,s)=>{var n,a,t,r;if(!f.key)return 0;const i=(null==(a=null==(n=e[f.key])?void 0:n.toLowerCase)?void 0:a.call(n))||"",l=(null==(r=null==(t=s[f.key])?void 0:t.toLowerCase)?void 0:r.call(t))||"";return"asc"===f.direction?i.localeCompare(l):l.localeCompare(i)}),$=async e=>{var s,n;if(y.tag&&y.uhrzeit_start&&y.uhrzeit_ende&&y.kurs_id)try{await t.put(`/stundenplan/${e}`,{tag:y.tag,uhrzeit_start:y.uhrzeit_start,uhrzeit_ende:y.uhrzeit_ende,kurs_id:parseInt(y.kurs_id)}),_(null),W(),alert("Stundenplan-Eintrag erfolgreich aktualisiert!")}catch(a){console.error("Fehler beim Speichern:",a),alert("Fehler beim Speichern: "+((null==(n=null==(s=a.response)?void 0:s.data)?void 0:n.error)||a.message))}else alert("Bitte alle Felder ausf√ºllen.")},B=async e=>{var s,n;if(window.confirm("Soll dieser Stundenplan-Eintrag wirklich gel√∂scht werden?"))try{await t.delete(`/stundenplan/${e}`),o(c.filter(s=>s.id!==e)),alert("Stundenplan-Eintrag erfolgreich gel√∂scht!")}catch(a){console.error("Fehler beim L√∂schen:",a),alert("Fehler beim L√∂schen: "+((null==(n=null==(s=a.response)?void 0:s.data)?void 0:n.error)||a.message))}},D=e=>e?e.substring(0,5):"",L=(()=>{const e={};return K.forEach(s=>{e[s]=T.filter(e=>e.tag===s).sort((e,s)=>e.uhrzeit_start.localeCompare(s.uhrzeit_start))}),e})(),R=((e=c)=>{const s=[];for(let n=0;n<e.length;n++)for(let a=n+1;a<e.length;a++){const t=e[n],r=e[a];if(t.tag===r.tag){const e=new Date(`2000-01-01 ${t.uhrzeit_start}`),n=new Date(`2000-01-01 ${t.uhrzeit_ende}`),a=new Date(`2000-01-01 ${r.uhrzeit_start}`);e<new Date(`2000-01-01 ${r.uhrzeit_ende}`)&&a<n&&s.push({a:t,b:r})}}return s})(T);return u?s.jsx("div",{className:"stundenplan-container-modern",children:"Lade Stundenplan..."}):x?s.jsx("div",{className:"stundenplan-container-modern error",children:x}):s.jsxs("div",{className:"stundenplan-container-modern",children:[s.jsxs("div",{className:"stundenplan-header",children:[s.jsx("h2",{children:"üìã Stundenplan-Verwaltung"}),s.jsx("p",{className:"stundenplan-subtitle",children:"Kurszeiten und Trainingsplan verwalten"})]}),s.jsx("div",{className:"stundenplan-controls",children:s.jsx("button",{className:"export-button-modern",onClick:()=>{const e=[["Tag","Startzeit","Endzeit","Gruppe","Stil","Trainer"],...c.map(e=>[e.tag,e.uhrzeit_start,e.uhrzeit_ende,e.kursname||"Unbekannt",e.stil||"?",`${e.trainer_vorname||"?"} ${e.trainer_nachname||""}`])].map(e=>e.join(";")).join("\n"),s=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(s),a=document.createElement("a");a.setAttribute("href",n),a.setAttribute("download","stundenplan.csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a)},children:"üìä CSV Export"})}),s.jsxs("div",{className:"stundenplan-stats",children:[s.jsxs("div",{className:"stat-card",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginBottom:"0.1rem"},children:[s.jsx("span",{style:{fontSize:"1.2rem"},children:"üìÖ"}),s.jsx("span",{style:{fontSize:"1.3rem",fontWeight:"bold",color:"#ffffff"},children:T.length})]}),s.jsx("div",{style:{fontSize:"0.7rem",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Eintr√§ge"})]}),s.jsxs("div",{className:"stat-card",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginBottom:"0.1rem"},children:[s.jsx("span",{style:{fontSize:"1.2rem"},children:"üèÉ‚Äç‚ôÇÔ∏è"}),s.jsx("span",{style:{fontSize:"1.3rem",fontWeight:"bold",color:"#ffffff"},children:new Set(T.map(e=>e.tag)).size})]}),s.jsx("div",{style:{fontSize:"0.7rem",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Trainingstage"})]}),s.jsxs("div",{className:"stat-card",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginBottom:"0.1rem"},children:[s.jsx("span",{style:{fontSize:"1.2rem"},children:"ü•ã"}),s.jsx("span",{style:{fontSize:"1.3rem",fontWeight:"bold",color:"#ffffff"},children:new Set(T.map(e=>e.kurs_id)).size})]}),s.jsx("div",{style:{fontSize:"0.7rem",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Kurse"})]}),s.jsxs("div",{className:"stat-card",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginBottom:"0.1rem"},children:[s.jsx("span",{style:{fontSize:"1.2rem"},children:"‚è∞"}),s.jsx("span",{style:{fontSize:"1.3rem",fontWeight:"bold",color:"#ffffff"},children:T.length>0?D(T.reduce((e,s)=>s.uhrzeit_start<e?s.uhrzeit_start:e,T[0].uhrzeit_start)):"--"})]}),s.jsx("div",{style:{fontSize:"0.7rem",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Fr√ºhester Start"})]}),s.jsxs("div",{className:"stat-card",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginBottom:"0.1rem"},children:[s.jsx("span",{style:{fontSize:"1.2rem"},children:"üåô"}),s.jsx("span",{style:{fontSize:"1.3rem",fontWeight:"bold",color:"#ffffff"},children:T.length>0?D(T.reduce((e,s)=>s.uhrzeit_ende>e?s.uhrzeit_ende:e,T[0].uhrzeit_ende)):"--"})]}),s.jsx("div",{style:{fontSize:"0.7rem",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Sp√§testes Ende"})]}),s.jsxs("div",{className:"stat-card",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginBottom:"0.1rem"},children:[s.jsx("span",{style:{fontSize:"1.2rem"},children:"üìä"}),s.jsx("span",{style:{fontSize:"1.3rem",fontWeight:"bold",color:"#ffffff"},children:T.filter(e=>"Montag"===e.tag).length})]}),s.jsx("div",{style:{fontSize:"0.7rem",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Montags"})]}),s.jsxs("div",{className:"stat-card",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginBottom:"0.1rem"},children:[s.jsx("span",{style:{fontSize:"1.2rem"},children:"üéâ"}),s.jsx("span",{style:{fontSize:"1.3rem",fontWeight:"bold",color:"#ffffff"},children:T.filter(e=>"Samstag"===e.tag||"Sonntag"===e.tag).length})]}),s.jsx("div",{style:{fontSize:"0.7rem",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Wochenende"})]})]}),R.length>0&&s.jsxs("div",{className:"overlap-warning",children:[s.jsx("div",{className:"warning-icon",children:"‚ö†Ô∏è"}),s.jsxs("div",{className:"warning-content",children:[s.jsx("h3",{children:"Kurs√ºberschneidungen gefunden!"}),s.jsxs("p",{children:[R.length," √úberschneidung(en) erkannt. Bitte pr√ºfen Sie die Zeiten:"]}),s.jsx("ul",{children:R.map((e,n)=>s.jsxs("li",{children:[s.jsxs("strong",{children:[e.a.tag,":"]})," ",e.a.kursname||"Kurs"," (",D(e.a.uhrzeit_start),"-",D(e.a.uhrzeit_ende),") ‚Üî ",e.b.kursname||"Kurs"," (",D(e.b.uhrzeit_start),"-",D(e.b.uhrzeit_ende),")"]},n))})]})]}),s.jsxs("div",{className:"week-accordion-container",children:[s.jsxs("div",{className:"accordion-tabs",children:[s.jsxs("button",{onClick:()=>S("Wochen√ºbersicht"),className:"accordion-tab "+("Wochen√ºbersicht"===k?"active":""),children:[s.jsx("span",{className:"tab-name",children:"üìä Woche"}),s.jsx("span",{className:"tab-count",children:T.length})]}),K.map(e=>s.jsxs("button",{onClick:()=>S(e),className:"accordion-tab "+(k===e?"active":""),children:[s.jsx("span",{className:"tab-name",children:e}),s.jsx("span",{className:"tab-count",children:L[e].length})]},e))]}),s.jsx("div",{className:"accordion-content",children:"Wochen√ºbersicht"===k?s.jsx("div",{className:"weekly-overview-content",children:s.jsx("div",{className:"weekly-grid",children:K.map((e,n)=>s.jsxs("div",{className:"day-column",style:{animationDelay:.1*n+"s"},children:[s.jsxs("div",{className:"day-header",children:[s.jsx("div",{className:"day-name",children:e}),s.jsxs("div",{className:"day-count",children:[L[e].length," Kurse"]})]}),s.jsx("div",{className:"day-classes",children:0===L[e].length?s.jsx("div",{className:"no-day-classes",children:"Kein Kurs"}):L[e].map((e,n)=>s.jsxs("div",{className:"mini-class-card",children:[s.jsxs("div",{className:"mini-time",children:[D(e.uhrzeit_start)," - ",D(e.uhrzeit_ende)]}),s.jsx("div",{className:"mini-style",children:e.stil}),s.jsx("div",{className:"mini-name",children:e.kursname}),e.raumname&&s.jsxs("div",{className:"mini-raum",children:["üè¢ ",e.raumname]}),d&&e.standort_name&&s.jsxs("div",{className:"mini-standort",style:{background:e.standort_farbe||"#4F46E5",color:"white",padding:"3px 8px",fontSize:"0.65rem",fontWeight:"600",borderRadius:"4px",marginTop:"4px",display:"flex",alignItems:"center",gap:"4px"},children:[s.jsx("span",{style:{fontSize:"0.75rem"},children:"üìç"}),s.jsx("span",{children:e.standort_name})]})]},`${e.id}-${n}`))})]},e))})}):s.jsxs("div",{className:"day-content-expanded",children:[s.jsxs("div",{className:"expanded-header",children:[s.jsxs("h3",{children:["üìÖ ",k]}),s.jsxs("span",{className:"day-stats",children:[L[k].length," Kurse",R.some(e=>L[k].some(s=>e.a.id===s.id||e.b.id===s.id))&&s.jsx("span",{className:"has-conflicts",children:"‚ö†Ô∏è"})]})]}),0===L[k].length?s.jsxs("div",{className:"no-classes-expanded",children:[s.jsx("div",{className:"no-classes-icon",children:"üèÆ"}),s.jsxs("h4",{children:["Keine Kurse am ",k]}),s.jsx("p",{children:"An diesem Tag sind keine Trainingszeiten geplant."})]}):s.jsx("div",{className:"time-slots-expanded",children:L[k].map(e=>{const n=R.some(s=>s.a.id===e.id||s.b.id===e.id);return s.jsxs("div",{className:"time-slot-expanded "+(n?"overlap":""),children:[s.jsx("div",{className:"slot-left",children:s.jsxs("div",{className:"time-range-big",children:[D(e.uhrzeit_start)," - ",D(e.uhrzeit_ende)]})}),s.jsx("div",{className:"slot-center",children:s.jsxs("div",{className:"course-info-expanded",children:[s.jsx("div",{className:"course-name-big",children:e.kursname||"Unbekannt"}),s.jsxs("div",{className:"course-details-expanded",children:[s.jsxs("span",{className:"course-style-big",children:["ü•ã ",e.stil||"?"]}),s.jsxs("span",{className:"course-trainer-big",children:["üë®‚Äçüè´ ",e.trainer_vorname||"?"," ",e.trainer_nachname||""]}),d&&e.standort_name&&s.jsxs("span",{style:{background:e.standort_farbe||"#4F46E5",color:"white",padding:"4px 10px",fontSize:"0.75rem",fontWeight:"600",borderRadius:"5px",display:"inline-flex",alignItems:"center",gap:"5px"},children:[s.jsx("span",{children:"üìç"}),s.jsx("span",{children:e.standort_name})]})]})]})}),s.jsxs("div",{className:"slot-right",children:[N===e.id?s.jsxs("div",{className:"edit-actions-expanded",children:[s.jsx("button",{onClick:()=>$(),className:"save-btn-big",children:"üíæ Speichern"}),s.jsx("button",{onClick:()=>_(null),className:"cancel-btn-big",children:"‚ùå Abbrechen"})]}):s.jsxs("div",{className:"slot-actions-expanded",children:[s.jsx("button",{onClick:()=>(e=>{F({id:e.id,tag:e.tag,uhrzeit_start:e.uhrzeit_start,uhrzeit_ende:e.uhrzeit_ende,kurs_id:e.kurs_id||"",raum_id:e.raum_id||"",kursname:e.kursname,stil:e.stil,trainer_vorname:e.trainer_vorname,trainer_nachname:e.trainer_nachname,raumname:e.raumname}),w(!0)})(e),className:"edit-btn-big",children:"‚úèÔ∏è Bearbeiten"}),s.jsx("button",{onClick:()=>B(e.id),className:"delete-btn-big",children:"üóëÔ∏è L√∂schen"})]}),n&&s.jsx("div",{className:"overlap-indicator-big",children:"‚ö†Ô∏è √úberschneidung"})]})]},e.id)})})]})})]}),C&&s.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:s.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h3",{children:"üìù Stundenplan-Eintrag bearbeiten"}),s.jsx("button",{className:"modal-close",onClick:()=>w(!1),children:"‚ùå"})]}),s.jsxs("div",{className:"modal-body",children:[s.jsxs("div",{className:"course-preview",children:[s.jsxs("h4",{children:[E.kursname," - ",E.stil]}),s.jsxs("p",{children:["Trainer: ",E.trainer_vorname," ",E.trainer_nachname]})]}),s.jsxs("div",{className:"modal-form",children:[s.jsx("div",{className:"form-row",children:s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Wochentag:"}),s.jsx("select",{value:E.tag||"",onChange:e=>F({...E,tag:e.target.value}),children:K.map(e=>s.jsx("option",{value:e,children:e},e))})]})}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Startzeit:"}),s.jsx("input",{type:"time",value:E.uhrzeit_start||"",onChange:e=>F({...E,uhrzeit_start:e.target.value})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Endzeit:"}),s.jsx("input",{type:"time",value:E.uhrzeit_ende||"",onChange:e=>F({...E,uhrzeit_ende:e.target.value})})]})]}),s.jsx("div",{className:"form-row",children:s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Kurs:"}),s.jsxs("select",{value:E.kurs_id||"",onChange:e=>F({...E,kurs_id:e.target.value}),children:[s.jsx("option",{value:"",children:"Kurs w√§hlen..."}),r.map(e=>s.jsxs("option",{value:e.kurs_id,children:[e.gruppenname," - ",e.stil]},e.kurs_id))]})]})}),s.jsx("div",{className:"form-row",children:s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Raum:"}),s.jsxs("select",{value:E.raum_id||"",onChange:e=>F({...E,raum_id:e.target.value}),children:[s.jsx("option",{value:"",children:"Kein Raum"}),h.filter(e=>e.aktiv).map(e=>s.jsxs("option",{value:e.id,children:[e.name," ",e.groesse?`(${e.groesse})`:""]},e.id))]})]})})]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{className:"btn-secondary",onClick:()=>w(!1),children:"Abbrechen"}),s.jsx("button",{className:"btn-primary",onClick:async()=>{var e,s;try{await t.put(`/stundenplan/${E.id}`,{tag:E.tag,uhrzeit_start:E.uhrzeit_start,uhrzeit_ende:E.uhrzeit_ende,kurs_id:parseInt(E.kurs_id),raum_id:E.raum_id?parseInt(E.raum_id):null}),w(!1),F({}),W(),E.tag!==k&&S(E.tag),alert("Stundenplan-Eintrag erfolgreich aktualisiert!")}catch(n){console.error("Fehler beim Speichern:",n),alert("Fehler beim Speichern: "+((null==(s=null==(e=n.response)?void 0:e.data)?void 0:s.error)||n.message))}},children:"üíæ Speichern"})]})]})}),s.jsx("div",{className:"stundenplan-grid",style:{display:"none"},children:I.length>0?I.map((e,n)=>s.jsxs("div",{className:"stundenplan-card",style:{animationDelay:.1*n+"s"},children:[s.jsxs("div",{className:"stundenplan-card-header",children:[s.jsx("div",{className:"tag-badge",children:N===e.id?s.jsx("select",{className:"edit-select-small",value:y.tag,onChange:e=>z({...y,tag:e.target.value}),children:K.map(e=>s.jsx("option",{value:e,children:e},e))}):e.tag}),s.jsx("div",{className:"stundenplan-actions",children:N===e.id?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"action-btn save-btn",onClick:()=>$(e.id),title:"√Ñnderungen speichern",children:"‚úÖ"}),s.jsx("button",{className:"action-btn cancel-btn",onClick:()=>_(null),title:"Bearbeitung abbrechen",children:"‚ùå"})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"action-btn edit-btn",onClick:()=>(e=>{_(e.id),z({tag:e.tag,uhrzeit_start:e.uhrzeit_start,uhrzeit_ende:e.uhrzeit_ende,kurs_id:e.kurs_id})})(e),title:"Eintrag bearbeiten",children:"‚úèÔ∏è"}),s.jsx("button",{className:"action-btn delete-btn",onClick:()=>B(e.id),title:"Eintrag l√∂schen",children:"üóëÔ∏è"})]})})]}),s.jsxs("div",{className:"stundenplan-card-content",children:[s.jsxs("div",{className:"stundenplan-field",children:[s.jsx("label",{children:"üïê Zeit:"}),N===e.id?s.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[s.jsx("input",{type:"time",className:"edit-input-small",value:y.uhrzeit_start,onChange:e=>z({...y,uhrzeit_start:e.target.value})}),s.jsx("span",{style:{color:"#ffffff"},children:"bis"}),s.jsx("input",{type:"time",className:"edit-input-small",value:y.uhrzeit_ende,onChange:e=>z({...y,uhrzeit_ende:e.target.value})})]}):s.jsxs("span",{className:"stundenplan-value time-value",children:[D(e.uhrzeit_start)," - ",D(e.uhrzeit_ende)]})]}),s.jsxs("div",{className:"stundenplan-field",children:[s.jsx("label",{children:"ü•ã Kurs:"}),N===e.id?s.jsxs("select",{className:"edit-select",value:y.kurs_id,onChange:e=>z({...y,kurs_id:e.target.value}),children:[s.jsx("option",{value:"",children:"Kurs ausw√§hlen"}),r.map(e=>s.jsxs("option",{value:e.kurs_id,children:[e.gruppenname," (",e.stil,")"]},e.kurs_id))]}):s.jsxs("div",{children:[s.jsx("span",{className:"stundenplan-value kurs-name",children:e.kursname||"Unbekannt"}),s.jsx("div",{className:"stil-tag",children:e.stil||"?"})]})]}),s.jsxs("div",{className:"stundenplan-field",children:[s.jsx("label",{children:"üë®‚Äçüè´ Trainer:"}),s.jsx("span",{className:"stundenplan-value trainer-name",children:`${e.trainer_vorname||"?"} ${e.trainer_nachname||""}`.trim()})]})]})]},e.id)):s.jsx("div",{className:"no-stundenplan-message",children:s.jsxs("div",{className:"empty-state",children:[s.jsx("div",{className:"empty-icon",children:"üìÖ"}),s.jsx("h3",{children:"Kein Stundenplan vorhanden"}),s.jsx("p",{children:"F√ºgen Sie unten den ersten Stundenplan-Eintrag hinzu."})]})})}),s.jsxs("div",{className:"neuer-stundenplan-card",style:{animationDelay:.1*I.length+.3+"s",backdropFilter:"none",WebkitBackdropFilter:"none",background:"rgba(30, 30, 50, 0.95)"},children:[s.jsx("div",{className:"card-header",children:s.jsx("h3",{style:{backdropFilter:"none",WebkitBackdropFilter:"none",filter:"none",textShadow:"0 2px 10px rgba(255, 215, 0, 0.3)"},children:"‚ûï Neuen Stundenplan-Eintrag hinzuf√ºgen"})}),s.jsxs("div",{className:"stundenplan-form-modern",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"üìÖ Wochentag:"}),s.jsxs("select",{className:"form-select",value:j.tag,onChange:e=>v({...j,tag:e.target.value}),children:[s.jsx("option",{value:"",children:"Tag ausw√§hlen"}),K.map(e=>s.jsx("option",{value:e,children:e},e))]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"üïê Startzeit:"}),s.jsx("input",{type:"time",className:"form-input",value:j.uhrzeit_start,onChange:e=>v({...j,uhrzeit_start:e.target.value})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"üïë Endzeit:"}),s.jsx("input",{type:"time",className:"form-input",value:j.uhrzeit_ende,onChange:e=>v({...j,uhrzeit_ende:e.target.value})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"ü•ã Kurs:"}),s.jsxs("select",{className:"form-select",value:j.kurs_id,onChange:e=>v({...j,kurs_id:e.target.value}),children:[s.jsx("option",{value:"",children:"Kurs ausw√§hlen"}),r.map(e=>s.jsxs("option",{value:e.kurs_id,children:[e.gruppenname," (",e.stil,")"]},e.kurs_id))]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"üè¢ Raum:"}),s.jsxs("select",{className:"form-select",value:j.raum_id,onChange:e=>v({...j,raum_id:e.target.value}),children:[s.jsx("option",{value:"",children:"Kein Raum"}),h.filter(e=>e.aktiv).map(e=>s.jsxs("option",{value:e.id,children:[e.name," ",e.groesse?`(${e.groesse})`:""]},e.id))]})]}),s.jsxs("button",{className:"add-button-modern",onClick:async()=>{var e,s;const{tag:n,uhrzeit_start:a,uhrzeit_ende:r,kurs_id:i,raum_id:l}=j;if(n&&a&&r&&i)try{const e=await t.post("/stundenplan",{tag:n,uhrzeit_start:a,uhrzeit_ende:r,kurs_id:parseInt(i),raum_id:l?parseInt(l):null});o([...c,e.data]),v({tag:"",uhrzeit_start:"",uhrzeit_ende:"",kurs_id:"",raum_id:""}),alert("Stundenplan-Eintrag erfolgreich hinzugef√ºgt!")}catch(d){console.error("Fehler beim Hinzuf√ºgen:",d),alert("Fehler beim Hinzuf√ºgen des Eintrags: "+((null==(s=null==(e=d.response)?void 0:e.data)?void 0:s.error)||d.message))}else alert("Alle Felder ausf√ºllen.")},children:[s.jsx("span",{className:"btn-icon",children:"‚ûï"}),"Stundenplan-Eintrag hinzuf√ºgen"]})]})]})]})};export{r as default};
