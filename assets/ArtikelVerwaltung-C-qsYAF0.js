import{a as e,j as s}from"./query-Caj74EYQ.js";import{f as a,c as n}from"./index-B0gO-Ppw.js";/* empty css                                   *//* empty css                        */import{u as l}from"./vendor-router-B2AaIOtG.js";import"./icons-eh0tbLFx.js";import"./charts-QHQg_ypW.js";const i=()=>{var l,i;const[r,t]=e.useState([]),[d,o]=e.useState([]),[c,h]=e.useState(!0),[m,u]=e.useState(null),[x,p]=e.useState(!1),[g,j]=e.useState(!1),[b,f]=e.useState(null),[k,v]=e.useState(!1),[N,_]=e.useState({lieferant_name:"Pakistan Supplier",lieferant_land:"Pakistan",lieferant_email:"",lieferant_telefon:"",bemerkungen:"",positionen:[]}),y=async(e,s={})=>{try{const l=await a(`${n.apiBaseUrl}/artikel-bestellungen${e}`,{headers:{"Content-Type":"application/json",...s.headers},...s});if(!l.ok){const e=await l.json().catch(()=>({}));throw new Error(e.error||`HTTP error! status: ${l.status}`)}return await l.json()}catch(l){throw console.error("API Error:",l),l}},w=e.useCallback(async()=>{try{const e=await y("/low-stock");t(e.data||[])}catch(e){console.error("Fehler beim Laden der Low-Stock-Artikel:",e)}},[]),S=e.useCallback(async()=>{try{const e=await y("");o(e.data||[])}catch(e){console.error("Fehler beim Laden der Bestellungen:",e),u("Fehler beim Laden der Bestellungen")}},[]),C=e.useCallback(async()=>{h(!0),await Promise.all([w(),S()]),h(!1)},[w,S]);e.useEffect(()=>{C()},[C]);const z=e=>{if(N.positionen.findIndex(s=>s.artikel_id===e.artikel_id)>=0)return;const s=[];e.varianten_groessen&&e.varianten_groessen.length>0?s.push(...e.varianten_groessen):e.hat_preiskategorien&&(e.groessen_kids&&s.push(...e.groessen_kids),e.groessen_erwachsene&&s.push(...e.groessen_erwachsene));const a=s.length>0?s:["S","M","L","XL","XXL"],n={};a.forEach(s=>{var a;const l=(null==(a=e.varianten_bestand)?void 0:a[s])||0;n[s]=l<2?Math.max(10-l,5):0});const l={artikel_id:e.artikel_id,artikel_name:e.artikel_name,artikel_nummer:e.artikel_nummer,groessen_mengen:n,stueckpreis_euro:e.einkaufspreis_euro||0,bemerkung:""};_(e=>({...e,positionen:[...e.positionen,l]}))},F=async e=>{try{v(!0);const s=await a(`${n.apiBaseUrl}/artikel-bestellungen/${e}/pdf`,{method:"POST"});if(!s.ok)throw new Error("PDF-Generierung fehlgeschlagen");{const a=await s.blob(),n=window.URL.createObjectURL(a),l=document.createElement("a");l.href=n,l.download=`order_${e}.pdf`,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(n)}}catch(s){u("Fehler beim Generieren des PDFs: "+s.message)}finally{v(!1)}},E=async e=>{try{const s=await y(`/${e}`);s.success&&(f(s.data),j(!0))}catch(s){u("Fehler beim Laden der Bestellung")}},A=async(e,s)=>{try{await y(`/${e}/status`,{method:"POST",body:JSON.stringify({status:s})}),S(),(null==b?void 0:b.bestellung_id)===e&&E(e)}catch(a){u("Fehler beim Aendern des Status")}},L=e=>{const a={entwurf:{label:"Entwurf",color:"#6b7280"},gesendet:{label:"Gesendet",color:"#f59e0b"},bestaetigt:{label:"Bestaetigt",color:"#3b82f6"},versendet:{label:"Versendet",color:"#8b5cf6"},geliefert:{label:"Geliefert",color:"#10b981"},storniert:{label:"Storniert",color:"#ef4444"}}[e]||{label:e,color:"#6b7280"};return s.jsx("span",{className:"status-badge",style:{backgroundColor:a.color},children:a.label})};return c&&0===d.length?s.jsx("div",{className:"bestellungen-tab",children:s.jsxs("div",{className:"loading-container",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{children:"Daten werden geladen..."})]})}):s.jsxs("div",{className:"bestellungen-tab",children:[m&&s.jsxs("div",{className:"error-message",children:[s.jsx("span",{children:m}),s.jsx("button",{onClick:()=>u(null),children:"x"})]}),r.length>0&&s.jsxs("div",{className:"low-stock-warning",children:[s.jsxs("div",{className:"warning-header",children:[s.jsx("span",{className:"warning-icon",children:"!"}),s.jsx("h3",{children:"Niedriger Lagerbestand - Nachbestellung empfohlen"}),s.jsxs("span",{className:"warning-count",children:[r.length," Artikel"]})]}),s.jsx("div",{className:"low-stock-grid",children:r.slice(0,6).map(e=>s.jsxs("div",{className:"low-stock-item",children:[s.jsxs("div",{className:"item-info",children:[s.jsx("span",{className:"item-name",children:e.artikel_name}),e.artikel_nummer&&s.jsxs("span",{className:"item-number",children:["#",e.artikel_nummer]})]}),s.jsx("div",{className:"item-stock",children:e.hat_varianten&&e.low_sizes?s.jsxs("div",{className:"size-stock",children:[e.low_sizes.slice(0,3).map(({size:e,qty:a})=>s.jsxs("span",{className:"size-badge critical",children:[e,": ",a]},e)),e.low_sizes.length>3&&s.jsxs("span",{className:"size-badge more",children:["+",e.low_sizes.length-3]})]}):s.jsxs("span",{className:"stock-count critical",children:["Bestand: ",e.lagerbestand]})}),s.jsx("button",{className:"add-to-order-btn",onClick:()=>{z(e),p(!0)},title:"Zur Bestellung hinzufuegen",children:"+"})]},e.artikel_id))}),r.length>6&&s.jsxs("button",{className:"show-all-btn",onClick:()=>p(!0),children:["Alle ",r.length," Artikel anzeigen"]})]}),s.jsxs("div",{className:"bestellungen-header",children:[s.jsx("h2",{children:"Bestellungen"}),s.jsx("button",{className:"new-order-btn",onClick:()=>p(!0),children:"+ Neue Bestellung"})]}),s.jsx("div",{className:"bestellungen-table-container",children:s.jsxs("table",{className:"bestellungen-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Bestellnummer"}),s.jsx("th",{children:"Lieferant"}),s.jsx("th",{children:"Positionen"}),s.jsx("th",{children:"Betrag"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Erstellt"}),s.jsx("th",{children:"Aktionen"})]})}),s.jsx("tbody",{children:0===d.length?s.jsx("tr",{children:s.jsx("td",{colSpan:"7",className:"empty-row",children:"Keine Bestellungen vorhanden"})}):d.map(e=>{var a;return s.jsxs("tr",{children:[s.jsx("td",{className:"order-number",children:e.bestellnummer}),s.jsxs("td",{children:[e.lieferant_name,s.jsx("br",{}),s.jsx("small",{children:e.lieferant_land})]}),s.jsxs("td",{children:[e.anzahl_positionen," Artikel"]}),s.jsxs("td",{className:"amount",children:[null==(a=e.gesamtbetrag_euro)?void 0:a.toFixed(2)," EUR"]}),s.jsx("td",{children:L(e.status)}),s.jsx("td",{children:new Date(e.erstellt_am).toLocaleDateString("de-DE")}),s.jsxs("td",{className:"actions",children:[s.jsx("button",{className:"action-btn view",onClick:()=>E(e.bestellung_id),title:"Details",children:"Details"}),s.jsx("button",{className:"action-btn pdf",onClick:()=>F(e.bestellung_id),disabled:k,title:"PDF",children:"PDF"})]})]},e.bestellung_id)})})]})}),x&&s.jsx("div",{className:"modal-overlay",onClick:()=>p(!1),children:s.jsxs("div",{className:"modal-content order-modal",onClick:e=>e.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{children:"Neue Bestellung erstellen"}),s.jsx("button",{className:"close-btn",onClick:()=>p(!1),children:"x"})]}),s.jsxs("div",{className:"modal-body",children:[s.jsxs("div",{className:"form-section",children:[s.jsx("h3",{children:"Supplier Information"}),s.jsxs("div",{className:"form-grid",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Supplier Name"}),s.jsx("input",{type:"text",value:N.lieferant_name,onChange:e=>_(s=>({...s,lieferant_name:e.target.value}))})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Country"}),s.jsx("input",{type:"text",value:N.lieferant_land,onChange:e=>_(s=>({...s,lieferant_land:e.target.value}))})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Email"}),s.jsx("input",{type:"email",value:N.lieferant_email,onChange:e=>_(s=>({...s,lieferant_email:e.target.value}))})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Phone"}),s.jsx("input",{type:"text",value:N.lieferant_telefon,onChange:e=>_(s=>({...s,lieferant_telefon:e.target.value}))})]})]})]}),s.jsxs("div",{className:"form-section",children:[s.jsx("h3",{children:"Low Stock Items (Add to Order)"}),s.jsx("div",{className:"low-stock-select",children:r.map(e=>{const a=N.positionen.some(s=>s.artikel_id===e.artikel_id);return s.jsxs("div",{className:"selectable-item "+(a?"selected":""),onClick:()=>!a&&z(e),children:[s.jsx("span",{className:"item-name",children:e.artikel_name}),s.jsxs("span",{className:"item-stock",children:["Stock: ",e.lagerbestand]}),a&&s.jsx("span",{className:"check-mark",children:"OK"})]},e.artikel_id)})})]}),N.positionen.length>0&&s.jsxs("div",{className:"form-section",children:[s.jsx("h3",{children:"Order Items"}),N.positionen.map((e,a)=>s.jsxs("div",{className:"position-card",children:[s.jsxs("div",{className:"position-header",children:[s.jsx("span",{className:"position-name",children:e.artikel_name}),e.artikel_nummer&&s.jsxs("span",{className:"position-number",children:["#",e.artikel_nummer]}),s.jsx("button",{className:"remove-btn",onClick:()=>{return e=a,void _(s=>({...s,positionen:s.positionen.filter((s,a)=>a!==e)}));var e},children:"x"})]}),s.jsx("div",{className:"size-quantity-grid",children:Object.entries(e.groessen_mengen).map(([e,n])=>s.jsxs("div",{className:"size-input-group",children:[s.jsx("label",{children:e}),s.jsx("input",{type:"number",min:"0",value:n,onChange:s=>((e,s,a)=>{const n=[...N.positionen];n[e].groessen_mengen[s]=parseInt(a)||0,_(e=>({...e,positionen:n}))})(a,e,s.target.value)})]},e))}),s.jsxs("div",{className:"position-price",children:[s.jsx("label",{children:"Unit Price (EUR):"}),s.jsx("input",{type:"number",step:"0.01",value:e.stueckpreis_euro,onChange:e=>{const s=[...N.positionen];s[a].stueckpreis_euro=parseFloat(e.target.value)||0,_(e=>({...e,positionen:s}))}})]}),s.jsxs("div",{className:"position-note",children:[s.jsx("label",{children:"Note:"}),s.jsx("input",{type:"text",placeholder:"Special instructions...",value:e.bemerkung,onChange:e=>{const s=[...N.positionen];s[a].bemerkung=e.target.value,_(e=>({...e,positionen:s}))}})]})]},a))]}),s.jsxs("div",{className:"form-section",children:[s.jsx("h3",{children:"Remarks"}),s.jsx("textarea",{rows:"4",placeholder:"Additional remarks for the supplier...",value:N.bemerkungen,onChange:e=>_(s=>({...s,bemerkungen:e.target.value}))})]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{className:"cancel-btn",onClick:()=>p(!1),children:"Cancel"}),s.jsx("button",{className:"submit-btn",onClick:async()=>{if(0!==N.positionen.length)try{h(!0);const e=await y("",{method:"POST",body:JSON.stringify(N)});e.success&&(p(!1),_({lieferant_name:"Pakistan Supplier",lieferant_land:"Pakistan",lieferant_email:"",lieferant_telefon:"",bemerkungen:"",positionen:[]}),C(),e.bestellung_id&&F(e.bestellung_id))}catch(e){u("Fehler beim Erstellen der Bestellung: "+e.message)}finally{h(!1)}else alert("Bitte mindestens einen Artikel hinzufuegen")},disabled:0===N.positionen.length,children:"Create Order & Generate PDF"})]})]})}),g&&b&&s.jsx("div",{className:"modal-overlay",onClick:()=>j(!1),children:s.jsxs("div",{className:"modal-content detail-modal",onClick:e=>e.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsxs("h2",{children:["Order ",b.bestellnummer]}),s.jsx("button",{className:"close-btn",onClick:()=>j(!1),children:"x"})]}),s.jsxs("div",{className:"modal-body",children:[s.jsxs("div",{className:"detail-section",children:[s.jsxs("div",{className:"status-row",children:[s.jsx("span",{children:"Status:"}),L(b.status)]}),s.jsxs("div",{className:"status-actions",children:["entwurf"===b.status&&s.jsx("button",{onClick:()=>A(b.bestellung_id,"gesendet"),children:"Mark as Sent"}),"gesendet"===b.status&&s.jsx("button",{onClick:()=>A(b.bestellung_id,"bestaetigt"),children:"Mark as Confirmed"}),"bestaetigt"===b.status&&s.jsx("button",{onClick:()=>A(b.bestellung_id,"versendet"),children:"Mark as Shipped"}),"versendet"===b.status&&s.jsx("button",{onClick:()=>A(b.bestellung_id,"geliefert"),children:"Mark as Delivered"})]})]}),s.jsxs("div",{className:"detail-section",children:[s.jsx("h3",{children:"Supplier"}),s.jsx("p",{children:s.jsx("strong",{children:b.lieferant_name})}),s.jsx("p",{children:b.lieferant_land}),b.lieferant_email&&s.jsxs("p",{children:["Email: ",b.lieferant_email]}),b.lieferant_telefon&&s.jsxs("p",{children:["Phone: ",b.lieferant_telefon]})]}),s.jsxs("div",{className:"detail-section",children:[s.jsx("h3",{children:"Order Items"}),s.jsxs("table",{className:"detail-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Article"}),s.jsx("th",{children:"Sizes & Quantities"}),s.jsx("th",{children:"Total Qty"}),s.jsx("th",{children:"Unit Price"}),s.jsx("th",{children:"Subtotal"})]})}),s.jsx("tbody",{children:null==(l=b.positionen)?void 0:l.map((e,a)=>{var n,l;return s.jsxs("tr",{children:[s.jsxs("td",{children:[e.artikel_name,e.artikel_nummer&&s.jsxs("small",{children:[" #",e.artikel_nummer]})]}),s.jsx("td",{children:s.jsx("div",{className:"size-list",children:Object.entries(e.groessen_mengen||{}).filter(([e,s])=>s>0).map(([e,a])=>s.jsxs("span",{className:"size-badge",children:[e,": ",a]},e))})}),s.jsx("td",{children:e.gesamt_menge}),s.jsxs("td",{children:[null==(n=e.stueckpreis_euro)?void 0:n.toFixed(2)," EUR"]}),s.jsxs("td",{children:[null==(l=e.positions_preis_euro)?void 0:l.toFixed(2)," EUR"]})]},a)})}),s.jsx("tfoot",{children:s.jsxs("tr",{children:[s.jsx("td",{colSpan:"4",className:"total-label",children:"TOTAL:"}),s.jsxs("td",{className:"total-value",children:[null==(i=b.gesamtbetrag_euro)?void 0:i.toFixed(2)," EUR"]})]})})]})]}),b.bemerkungen&&s.jsxs("div",{className:"detail-section",children:[s.jsx("h3",{children:"Remarks"}),s.jsx("p",{children:b.bemerkungen})]}),s.jsxs("div",{className:"detail-section dates",children:[s.jsxs("div",{children:["Created: ",new Date(b.erstellt_am).toLocaleString("de-DE")]}),b.gesendet_am&&s.jsxs("div",{children:["Sent: ",new Date(b.gesendet_am).toLocaleString("de-DE")]}),b.geliefert_am&&s.jsxs("div",{children:["Delivered: ",new Date(b.geliefert_am).toLocaleString("de-DE")]})]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{className:"close-btn-footer",onClick:()=>j(!1),children:"Close"}),s.jsx("button",{className:"pdf-btn",onClick:()=>F(b.bestellung_id),disabled:k,children:k?"Generating...":"Download PDF"})]})]})})]})},r=()=>{const r=l(),[t,d]=e.useState("artikel"),[o,c]=e.useState(0),[h,m]=e.useState([]),[u,x]=e.useState([]),[p,g]=e.useState([]),[j,b]=e.useState(!0),[f,k]=e.useState(null),[v,N]=e.useState(!1),[_,y]=e.useState("create"),[w,S]=e.useState(null),[C,z]=e.useState(""),[F,E]=e.useState(""),[A,L]=e.useState(!1),[B,R]=e.useState("basis"),[P,T]=e.useState({kategorie_id:"",artikelgruppe_id:"",name:"",beschreibung:"",ean_code:"",artikel_nummer:"",einkaufspreis_euro:"",zusatzkosten_euro:"",marge_prozent:"",verkaufspreis_euro:"",mwst_prozent:19,lagerbestand:0,mindestbestand:0,lager_tracking:!0,farbe_hex:"#FFFFFF",aktiv:!0,sichtbar_kasse:!0}),[D,O]=e.useState({bewegungsart:"eingang",menge:"",grund:""}),K=async(e,s={})=>{try{const l=await a(`${n.apiBaseUrl}/artikel${e}`,{headers:{"Content-Type":"application/json",...s.headers},...s});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);return await l.json()}catch(l){throw console.error("API Error:",l),l}},U=async()=>{try{b(!0);const e=new URLSearchParams;F&&e.append("kategorie_id",F),A&&e.append("aktiv","true");const s=await K(`?${e.toString()}`);m(s.data||[])}catch(e){k("Fehler beim Laden der Artikel: "+e.message)}finally{b(!1)}},I=async()=>{try{const e="create"===_?"":`/${w.artikel_id}`,s="create"===_?"POST":"PUT",a=await K(e,{method:s,body:JSON.stringify(P)});a.success?(N(!1),M(),U(),k(null)):k(a.error||"Fehler beim Speichern")}catch(e){k("Fehler beim Speichern: "+e.message)}},$=async()=>{try{const e=await K(`/${w.artikel_id}/lager`,{method:"POST",body:JSON.stringify(D)});e.success?(N(!1),O({bewegungsart:"eingang",menge:"",grund:""}),U(),k(null)):k(e.error||"Fehler beim Aktualisieren des Lagerbestands")}catch(e){k("Fehler beim Aktualisieren: "+e.message)}},W=()=>{r("/dashboard/artikel/neu")},M=()=>{T({kategorie_id:"",name:"",beschreibung:"",ean_code:"",artikel_nummer:"",einkaufspreis_euro:"",zusatzkosten_euro:"",marge_prozent:"",verkaufspreis_euro:"",mwst_prozent:19,lagerbestand:0,mindestbestand:0,lager_tracking:!0,farbe_hex:"#FFFFFF",aktiv:!0,sichtbar_kasse:!0})},V=e=>{const{name:s,value:a,type:n,checked:l}=e.target;T(e=>({...e,[s]:"checkbox"===n?l:a}))},G=e=>{const{name:s,value:a}=e.target;O(e=>({...e,[s]:a}))},q=[{id:"basis",label:"ğŸ“‹ Basis",icon:"ğŸ“‹"},{id:"preise",label:"ğŸ’° Preise",icon:"ğŸ’°"},{id:"lager",label:"ğŸ“¦ Lager",icon:"ğŸ“¦"},{id:"einstellungen",label:"âš™ï¸ Einstellungen",icon:"âš™ï¸"}],H=h.filter(e=>{var s,a;const n=e.name.toLowerCase().includes(C.toLowerCase())||(null==(s=e.artikel_nummer)?void 0:s.toLowerCase().includes(C.toLowerCase()))||(null==(a=e.ean_code)?void 0:a.toLowerCase().includes(C.toLowerCase())),l=!F||e.kategorie_id==F;return n&&l}),Z=e.useCallback(async()=>{try{const e=await a(`${n.apiBaseUrl}/artikel-bestellungen/low-stock`),s=await e.json();s.success&&c(s.count||0)}catch(e){console.error("Fehler beim Laden des Low-Stock-Counts:",e)}},[]);e.useEffect(()=>{(async()=>{try{const e=await K("/kategorien");x(e.data||[])}catch(e){console.error("Fehler beim Laden der Kategorien:",e)}})(),(async()=>{try{const e=await a(`${n.apiBaseUrl}/artikelgruppen`),s=await e.json();s.success&&g(s.data||[])}catch(e){console.error("Fehler beim Laden der Artikelgruppen:",e)}})(),U(),Z()},[F,A,Z]);const J=()=>s.jsx("div",{className:"tab-content-section",children:s.jsxs("div",{className:"form-grid",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Artikelgruppe *"}),s.jsxs("select",{name:"artikelgruppe_id",value:P.artikelgruppe_id,onChange:V,required:!0,className:"form-select",children:[s.jsx("option",{value:"",children:"WÃ¤hlen Sie eine Artikelgruppe..."}),p.map(e=>s.jsx("option",{value:e.id,children:e.vollstaendiger_name||e.name},e.id))]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Kategorie"}),s.jsxs("select",{name:"kategorie_id",value:P.kategorie_id,onChange:V,className:"form-select",children:[s.jsx("option",{value:"",children:"WÃ¤hlen Sie eine Kategorie..."}),u.map(e=>s.jsx("option",{value:e.kategorie_id,children:e.name},e.kategorie_id))]})]}),s.jsxs("div",{className:"form-group full-width",children:[s.jsx("label",{children:"Artikelname *"}),s.jsx("input",{type:"text",name:"name",value:P.name,onChange:V,required:!0,className:"form-input",placeholder:"z.B. Proteinriegel Schokolade 50g"})]}),s.jsxs("div",{className:"form-group full-width",children:[s.jsx("label",{children:"Beschreibung"}),s.jsx("textarea",{name:"beschreibung",value:P.beschreibung,onChange:V,rows:"3",className:"form-textarea",placeholder:"Detaillierte Beschreibung..."})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"EAN-Code"}),s.jsx("input",{type:"text",name:"ean_code",value:P.ean_code,onChange:V,className:"form-input",placeholder:"z.B. 1234567890123",maxLength:"13"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Artikel-Nummer"}),s.jsx("input",{type:"text",name:"artikel_nummer",value:P.artikel_nummer,onChange:V,className:"form-input",placeholder:"z.B. PRO-001"})]})]})}),X=()=>{switch(B){case"basis":default:return J();case"preise":return(()=>{const e=parseFloat(P.einkaufspreis_euro)||0,a=parseFloat(P.zusatzkosten_euro)||0,n=parseFloat(P.marge_prozent)||0,l=parseFloat(P.verkaufspreis_euro)||0,i=parseFloat(P.mwst_prozent)||19,r=e+a,t=l*i/100,d=l+t,o=r>0&&n>0?r*n/100:l-r,c=l-r,h=r>0?c/r*100:0,m=r+o,u=s=>{const{name:n,value:l}=s.target;if(V(s),"marge_prozent"===n){const s=parseFloat(l)||0,n=e+a;if(n>0){const e=n+n*s/100;T(s=>({...s,verkaufspreis_euro:e.toFixed(2)}))}}};return s.jsx("div",{className:"tab-content-section",style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:s.jsxs("div",{className:"preiskalkulation-container",style:{height:"100%",overflow:"hidden",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[s.jsxs("div",{className:"preis-eingabe-section",style:{overflowY:"auto",maxHeight:"100%",padding:"0.85rem",background:"rgba(0, 0, 0, 0.3)",border:"2px solid rgba(255, 215, 0, 0.2)",borderRadius:"8px"},children:[s.jsx("h3",{style:{marginBottom:"1rem",fontSize:"1.1rem",fontWeight:600},children:"ğŸ“ Eingabe"}),s.jsxs("div",{className:"form-grid",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"EINKAUFSPREIS (â‚¬)"}),s.jsx("input",{type:"number",name:"einkaufspreis_euro",value:P.einkaufspreis_euro,onChange:u,step:"0.01",min:"0",className:"form-input",placeholder:"0.00"}),s.jsx("small",{style:{color:"#888",fontSize:"0.85rem"},children:"Herstellpreis/Einkaufspreis netto"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"ZUSATZKOSTEN (â‚¬)"}),s.jsx("input",{type:"number",name:"zusatzkosten_euro",value:P.zusatzkosten_euro,onChange:u,step:"0.01",min:"0",className:"form-input",placeholder:"0.00"}),s.jsx("small",{style:{color:"#888",fontSize:"0.85rem"},children:"Versand, Verpackung, etc."})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"MARGE (%)"}),s.jsx("input",{type:"number",name:"marge_prozent",value:P.marge_prozent,onChange:u,step:"0.01",min:"0",className:"form-input",placeholder:"0.00"}),s.jsx("small",{style:{color:"#888",fontSize:"0.85rem"},children:"Gewinnaufschlag in %"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"VERKAUFSPREIS (â‚¬) *"}),s.jsx("input",{type:"number",name:"verkaufspreis_euro",value:P.verkaufspreis_euro,onChange:V,step:"0.01",min:"0",required:!0,className:"form-input",placeholder:"0.00"}),s.jsx("small",{style:{color:"#888",fontSize:"0.85rem"},children:"Netto-Verkaufspreis"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"MWST. (%)"}),s.jsxs("select",{name:"mwst_prozent",value:P.mwst_prozent,onChange:V,className:"form-select",children:[s.jsx("option",{value:"7.00",children:"7% (ermÃ¤ÃŸigt)"}),s.jsx("option",{value:"19.00",children:"19% (normal)"})]})]})]})]}),s.jsxs("div",{className:"preis-kalkulation-section",style:{overflowY:"auto",maxHeight:"100%",padding:"0.85rem",background:"rgba(255, 215, 0, 0.05)",border:"2px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px"},children:[s.jsx("h3",{style:{marginBottom:"1rem",fontSize:"1.1rem",fontWeight:600},children:"ğŸ“Š Kalkulation"}),s.jsxs("div",{className:"kalkulation-table",style:{display:"flex",flexDirection:"column",gap:"0.35rem"},children:[s.jsxs("div",{className:"kalkulation-row",style:{padding:"0.4rem 0.7rem",fontSize:"0.85rem"},children:[s.jsx("span",{className:"kalkulation-label",children:"Einkaufspreis (Netto)"}),s.jsxs("span",{className:"kalkulation-value",children:[e.toFixed(2)," â‚¬"]})]}),s.jsxs("div",{className:"kalkulation-row",style:{padding:"0.4rem 0.7rem",fontSize:"0.85rem"},children:[s.jsx("span",{className:"kalkulation-label",children:"+ Zusatzkosten"}),s.jsxs("span",{className:"kalkulation-value",children:[a.toFixed(2)," â‚¬"]})]}),s.jsxs("div",{className:"kalkulation-row total",style:{padding:"0.5rem 0.7rem",fontSize:"0.85rem"},children:[s.jsx("span",{className:"kalkulation-label",children:s.jsx("strong",{children:"= Zwischensumme"})}),s.jsx("span",{className:"kalkulation-value",children:s.jsxs("strong",{children:[r.toFixed(2)," â‚¬"]})})]}),s.jsxs("div",{className:"kalkulation-row highlight",style:{padding:"0.4rem 0.7rem",fontSize:"0.85rem"},children:[s.jsxs("span",{className:"kalkulation-label",children:["+ Marge (",n.toFixed(1),"%)"]}),s.jsxs("span",{className:"kalkulation-value",children:[o.toFixed(2)," â‚¬"]})]}),n>0&&s.jsxs("div",{className:"kalkulation-row info",style:{padding:"0.4rem 0.7rem",fontSize:"0.85rem"},children:[s.jsx("span",{className:"kalkulation-label",children:"â†’ Kalkulierter VK (Netto)"}),s.jsxs("span",{className:"kalkulation-value",children:[m.toFixed(2)," â‚¬"]})]}),s.jsxs("div",{className:"kalkulation-row total",style:{padding:"0.5rem 0.7rem",fontSize:"0.85rem"},children:[s.jsx("span",{className:"kalkulation-label",children:s.jsx("strong",{children:"= Verkaufspreis (Netto)"})}),s.jsx("span",{className:"kalkulation-value",children:s.jsxs("strong",{children:[l.toFixed(2)," â‚¬"]})})]}),s.jsxs("div",{className:"kalkulation-row",style:{padding:"0.4rem 0.7rem",fontSize:"0.85rem"},children:[s.jsxs("span",{className:"kalkulation-label",children:["+ MwSt. (",i,"%)"]}),s.jsxs("span",{className:"kalkulation-value",children:[t.toFixed(2)," â‚¬"]})]}),s.jsxs("div",{className:"kalkulation-row final",style:{padding:"0.6rem 0.7rem",fontSize:"0.9rem"},children:[s.jsx("span",{className:"kalkulation-label",children:s.jsx("strong",{children:"= VERKAUFSPREIS (BRUTTO)"})}),s.jsx("span",{className:"kalkulation-value final-price",children:s.jsxs("strong",{children:[d.toFixed(2)," â‚¬"]})})]}),s.jsx("div",{className:"kalkulation-divider",style:{margin:"0.5rem 0",height:"1px"}}),s.jsxs("div",{className:"kalkulation-row profit",style:{padding:"0.4rem 0.7rem",fontSize:"0.85rem"},children:[s.jsx("span",{className:"kalkulation-label",children:"ğŸ’° Gewinn pro StÃ¼ck"}),s.jsxs("span",{className:"kalkulation-value",style:{color:c>=0?"#10b981":"#ef4444"},children:[c.toFixed(2)," â‚¬"]})]}),s.jsxs("div",{className:"kalkulation-row profit",style:{padding:"0.4rem 0.7rem",fontSize:"0.85rem"},children:[s.jsx("span",{className:"kalkulation-label",children:"ğŸ“ˆ Gewinnspanne"}),s.jsxs("span",{className:"kalkulation-value",style:{color:h>=0?"#10b981":"#ef4444"},children:[h.toFixed(1)," %"]})]})]})]})]})})})();case"lager":return s.jsx("div",{className:"tab-content-section",children:s.jsxs("div",{className:"form-grid",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Aktueller Bestand"}),s.jsx("input",{type:"number",name:"lagerbestand",value:P.lagerbestand,onChange:V,min:"0",className:"form-input",placeholder:"0",disabled:!P.lager_tracking})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Mindestbestand"}),s.jsx("input",{type:"number",name:"mindestbestand",value:P.mindestbestand,onChange:V,min:"0",className:"form-input",placeholder:"0",disabled:!P.lager_tracking})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Farbe"}),s.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[s.jsx("input",{type:"color",name:"farbe_hex",value:P.farbe_hex,onChange:V,style:{width:"60px",height:"42px",cursor:"pointer"}}),s.jsx("input",{type:"text",value:P.farbe_hex,onChange:e=>T(s=>({...s,farbe_hex:e.target.value})),className:"form-input",placeholder:"#FFFFFF"})]})]}),s.jsx("div",{className:"form-group full-width",children:s.jsxs("label",{className:"checkbox-label",children:[s.jsx("input",{type:"checkbox",name:"lager_tracking",checked:P.lager_tracking,onChange:V}),"Lagerbestand verfolgen"]})})]})});case"einstellungen":return s.jsx("div",{className:"tab-content-section",children:s.jsxs("div",{className:"settings-grid",children:[s.jsxs("label",{className:"checkbox-label",children:[s.jsx("input",{type:"checkbox",name:"aktiv",checked:P.aktiv,onChange:V}),"Artikel ist aktiv"]}),s.jsxs("label",{className:"checkbox-label",children:[s.jsx("input",{type:"checkbox",name:"sichtbar_kasse",checked:P.sichtbar_kasse,onChange:V}),"In Kasse sichtbar"]})]})})}};return j&&"artikel"===t?s.jsx("div",{className:"artikel-verwaltung",children:s.jsxs("div",{className:"loading-container",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{children:"Artikel werden geladen..."})]})}):s.jsxs("div",{className:"artikel-verwaltung",children:[s.jsxs("div",{className:"page-header",children:[s.jsx("h1",{children:"Artikelverwaltung"}),s.jsx("p",{children:"Verwalten Sie Ihr Sortiment und LagerbestÃ¤nde"})]}),s.jsxs("div",{className:"main-tabs-navigation",children:[s.jsx("button",{className:"main-tab-btn "+("artikel"===t?"active":""),onClick:()=>d("artikel"),children:"Artikel"}),s.jsxs("button",{className:"main-tab-btn "+("bestellungen"===t?"active":""),onClick:()=>d("bestellungen"),children:["Bestellungen",o>0&&s.jsx("span",{className:"low-stock-badge",children:o})]})]}),"bestellungen"===t&&s.jsx(i,{}),"artikel"===t&&s.jsxs(s.Fragment,{children:[f&&s.jsxs("div",{className:"error-message",children:[s.jsx("span",{children:f}),s.jsx("button",{onClick:()=>k(null),children:"x"})]}),s.jsxs("div",{className:"controls-section",children:[s.jsxs("div",{className:"search-filters",children:[s.jsxs("div",{className:"search-box",children:[s.jsx("input",{type:"text",placeholder:"Artikel suchen...",value:C,onChange:e=>z(e.target.value)}),s.jsx("span",{className:"search-icon",children:"ğŸ”"})]}),s.jsxs("select",{value:F,onChange:e=>E(e.target.value),children:[s.jsx("option",{value:"",children:"Alle Kategorien"}),u.map(e=>s.jsx("option",{value:e.kategorie_id,children:e.name},e.kategorie_id))]}),s.jsxs("label",{className:"checkbox-label",children:[s.jsx("input",{type:"checkbox",checked:A,onChange:e=>L(e.target.checked)}),"Nur aktive Artikel"]})]}),s.jsx("button",{className:"sub-tab-btn",onClick:W,children:"â• Neuer Artikel"})]}),s.jsxs("div",{className:"artikel-table-container",children:[s.jsxs("table",{className:"artikel-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Artikel"}),s.jsx("th",{children:"Artikelgruppe"}),s.jsx("th",{children:"Kategorie"}),s.jsx("th",{children:"EK"}),s.jsx("th",{children:"VK Netto"}),s.jsx("th",{children:"VK Brutto"}),s.jsx("th",{children:"MwSt"}),s.jsx("th",{children:"Lager"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Aktionen"})]})}),s.jsx("tbody",{children:H.map(e=>{var a,n,l,i,t;return s.jsxs("tr",{className:e.aktiv?"":"artikel-archiviert",children:[s.jsxs("td",{className:"artikel-info",children:[s.jsx("div",{className:"artikel-name",children:e.name}),s.jsxs("div",{className:"artikel-details",children:[e.artikel_nummer&&`#${e.artikel_nummer}`,e.ean_code&&` â€¢ EAN: ${e.ean_code}`]})]}),s.jsx("td",{children:s.jsx("span",{className:"artikelgruppe-badge",children:e.artikelgruppe_name||"Keine Gruppe"})}),s.jsx("td",{children:s.jsx("span",{className:"kategorie-badge",children:e.kategorie_name||"-"})}),s.jsx("td",{className:"preis-cell",children:e.hat_preiskategorien?s.jsxs("div",{className:"preis-kategorien",children:[s.jsxs("div",{className:"preis-kids",children:["Kids: ",(null==(a=e.listeneinkaufspreis_kids_euro)?void 0:a.toFixed(2))||"-","â‚¬"]}),s.jsxs("div",{className:"preis-erw",children:["Erw: ",(null==(n=e.listeneinkaufspreis_erwachsene_euro)?void 0:n.toFixed(2))||"-","â‚¬"]})]}):e.einkaufspreis_euro>0?`${e.einkaufspreis_euro.toFixed(2)}â‚¬`:"-"}),s.jsx("td",{className:"preis-cell",children:e.hat_preiskategorien?s.jsxs("div",{className:"preis-kategorien",children:[s.jsxs("div",{className:"preis-kids",children:["Kids: ",(null==(l=e.preis_kids_euro)?void 0:l.toFixed(2))||"-","â‚¬"]}),s.jsxs("div",{className:"preis-erw",children:["Erw: ",(null==(i=e.preis_erwachsene_euro)?void 0:i.toFixed(2))||"-","â‚¬"]})]}):e.verkaufspreis_euro>0?`${e.verkaufspreis_euro.toFixed(2)}â‚¬`:"-"}),s.jsx("td",{className:"preis-cell",children:e.hat_preiskategorien?s.jsxs("div",{className:"preis-kategorien",children:[s.jsxs("div",{className:"preis-kids",children:["Kids: ",(e.preis_kids_euro*(1+(e.mwst_satz||19)/100)).toFixed(2),"â‚¬"]}),s.jsxs("div",{className:"preis-erw",children:["Erw: ",(e.preis_erwachsene_euro*(1+(e.mwst_satz||19)/100)).toFixed(2),"â‚¬"]})]}):e.verkaufspreis_euro>0?`${(e.verkaufspreis_euro*(1+(e.mwst_satz||19)/100)).toFixed(2)}â‚¬`:"-"}),s.jsxs("td",{className:"preis-cell",children:[e.mwst_satz||19,"%"]}),s.jsxs("td",{className:"lager-info",children:[s.jsx("div",{className:"lagerbestand",children:e.lager_tracking?e.lagerbestand:"âˆ"}),e.lager_tracking&&e.mindestbestand>0&&s.jsxs("div",{className:"mindestbestand",children:["Min: ",e.mindestbestand]})]}),s.jsx("td",{children:(t=e,t.aktiv?t.lager_tracking?0===t.lagerbestand?s.jsx("span",{className:"lager-status out-of-stock",children:"Ausverkauft"}):t.lagerbestand<=t.mindestbestand?s.jsx("span",{className:"lager-status low-stock",children:"Nachbestellen"}):s.jsx("span",{className:"lager-status in-stock",children:"VerfÃ¼gbar"}):s.jsx("span",{className:"lager-status unlimited",children:"âˆ Unbegrenzt"}):s.jsx("span",{className:"lager-status archived",children:"Archiviert"}))}),s.jsxs("td",{className:"actions",children:[s.jsx("button",{className:"sub-tab-btn",onClick:()=>(e=>{r(`/dashboard/artikel/bearbeiten/${e.artikel_id}`)})(e),title:"Bearbeiten",style:{fontSize:"0.85rem",padding:"0.5rem 1rem"},children:"âœï¸"}),e.lager_tracking&&s.jsx("button",{className:"sub-tab-btn",onClick:()=>(e=>{y("lager"),S(e),O({bewegungsart:"eingang",menge:"",grund:""}),N(!0)})(e),title:"Lagerbestand Ã¤ndern",style:{fontSize:"0.85rem",padding:"0.5rem 1rem"},children:"ğŸ“¦"}),s.jsx("button",{className:"sub-tab-btn",onClick:()=>(async e=>{if(window.confirm("Artikel wirklich deaktivieren?"))try{const s=await K(`/${e}`,{method:"DELETE"});s.success?(U(),k(null)):k(s.error||"Fehler beim LÃ¶schen")}catch(s){k("Fehler beim LÃ¶schen: "+s.message)}})(e.artikel_id),title:"Deaktivieren",style:{fontSize:"0.85rem",padding:"0.5rem 1rem"},children:"ğŸ—‘ï¸"})]})]},e.artikel_id)})})]}),0===H.length&&s.jsxs("div",{className:"empty-state",children:[s.jsx("p",{children:"Keine Artikel gefunden"}),s.jsx("button",{className:"sub-tab-btn",onClick:W,children:"Ersten Artikel erstellen"})]})]})]}),(()=>{if(!v)return null;if("lager"===_){console.log("LAGER MODAL GERENDERT - NEUE VERSION");const e="dark"===document.documentElement.getAttribute("data-theme");console.log("isDark:",e);const a={maxWidth:"420px",width:"420px",borderRadius:"4px",overflow:"hidden",boxShadow:e?"0 8px 30px rgba(0,0,0,0.4)":"0 8px 30px rgba(0,0,0,0.15)",padding:"0",background:e?"#1a1a2e":"#ffffff",border:e?"1px solid #2d2d44":"1px solid #dee2e6",animation:"none",backdropFilter:"none"},n={padding:"14px 16px",background:e?"#1a1a2e":"#ffffff",borderBottom:e?"1px solid #2d2d44":"1px solid #dee2e6",display:"flex",justifyContent:"space-between",alignItems:"center"},l={fontSize:"14px",margin:"0",color:e?"#ffffff":"#2c3e50",fontWeight:"600",background:"none",WebkitTextFillColor:e?"#ffffff":"#2c3e50",textTransform:"uppercase",letterSpacing:"0.5px"},i={padding:"16px",background:e?"#1a1a2e":"#ffffff"},r={background:e?"#252540":"#f8f9fa",border:e?"1px solid #2d2d44":"1px solid #dee2e6",borderRadius:"4px",padding:"12px 14px",marginBottom:"16px"},t={margin:"0 0 10px 0",fontSize:"14px",fontWeight:"600",color:e?"#ffffff":"#2c3e50"},d={position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},o={background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",color:e?"#a0a0a0":"#6c757d",padding:"0",lineHeight:"1"},c={padding:"14px 16px",background:e?"#1a1a2e":"#ffffff",borderTop:e?"1px solid #2d2d44":"1px solid #dee2e6",display:"flex",justifyContent:"flex-end",gap:"12px"},h={padding:"10px 18px",borderRadius:"4px",fontSize:"13px",background:e?"#252540":"#f8f9fa",border:e?"1px solid #2d2d44":"1px solid #dee2e6",color:e?"#ffffff":"#495057",cursor:"pointer",fontWeight:"500"},m={padding:"10px 18px",borderRadius:"4px",fontSize:"13px",background:e?"#d4a017":"#007bff",border:"none",color:"#ffffff",cursor:"pointer",fontWeight:"500"},u={padding:"10px 12px",border:e?"1px solid #2d2d44":"1px solid #dee2e6",borderRadius:"4px",fontSize:"14px",background:e?"#252540":"#ffffff",color:e?"#ffffff":"#2c3e50",height:"40px",width:"100%",boxSizing:"border-box",appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},x={padding:"10px 12px",border:e?"1px solid #2d2d44":"1px solid #dee2e6",borderRadius:"4px",fontSize:"14px",background:e?"#252540":"#ffffff",color:e?"#ffffff":"#2c3e50",height:"40px",width:"100%",boxSizing:"border-box"},p={padding:"10px 12px",border:e?"1px solid #2d2d44":"1px solid #dee2e6",borderRadius:"4px",fontSize:"14px",background:e?"#252540":"#ffffff",color:e?"#ffffff":"#2c3e50",height:"40px",width:"100%",boxSizing:"border-box"},g={flex:"1",background:e?"#252540":"#f8f9fa",border:e?"1px solid #2d2d44":"1px solid #dee2e6",borderRadius:"4px",padding:"10px",textAlign:"center"};return s.jsx("div",{style:d,onClick:()=>N(!1),children:s.jsxs("div",{onClick:e=>e.stopPropagation(),style:a,children:[s.jsxs("div",{style:n,children:[s.jsx("h2",{style:l,children:"Lagerbestand Ã¤ndern"}),s.jsx("button",{onClick:()=>N(!1),style:o,children:"Ã—"})]}),s.jsxs("div",{style:i,children:[s.jsxs("div",{style:r,children:[s.jsx("h4",{style:t,children:null==w?void 0:w.name}),s.jsxs("div",{style:{display:"flex",gap:"12px"},children:[s.jsxs("div",{style:g,children:[s.jsx("div",{style:{fontSize:"11px",color:e?"#a0a0a0":"#666",marginBottom:"4px"},children:"Aktueller Bestand"}),s.jsx("div",{style:{fontSize:"18px",fontWeight:"600",color:e?"#fff":"#2c3e50"},children:null==w?void 0:w.lagerbestand})]}),s.jsxs("div",{style:g,children:[s.jsx("div",{style:{fontSize:"11px",color:e?"#a0a0a0":"#666",marginBottom:"4px"},children:"Mindestbestand"}),s.jsx("div",{style:{fontSize:"18px",fontWeight:"600",color:e?"#fff":"#2c3e50"},children:null==w?void 0:w.mindestbestand})]})]})]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"14px"},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"14px"},children:[s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[s.jsx("label",{style:{fontSize:"11px",fontWeight:"500",color:e?"#a0a0a0":"#666",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Bewegungsart"}),s.jsxs("select",{name:"bewegungsart",value:D.bewegungsart,onChange:G,style:u,children:[s.jsx("option",{value:"eingang",children:"Eingang (+)"}),s.jsx("option",{value:"ausgang",children:"Ausgang (-)"})]})]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[s.jsx("label",{style:{fontSize:"11px",fontWeight:"500",color:e?"#a0a0a0":"#666",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Menge"}),s.jsx("input",{type:"number",name:"menge",value:D.menge,onChange:G,min:"1",required:!0,placeholder:"Anzahl",style:x})]})]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[s.jsx("label",{style:{fontSize:"11px",fontWeight:"500",color:e?"#a0a0a0":"#666",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Grund"}),s.jsx("input",{type:"text",name:"grund",value:D.grund,onChange:G,placeholder:"z.B. Lieferung, Verkauf, Inventur",style:p})]})]})]}),s.jsxs("div",{style:c,children:[s.jsx("button",{onClick:()=>N(!1),style:h,children:"Abbrechen"}),s.jsx("button",{onClick:$,style:m,children:"Aktualisieren"})]})]})})}return s.jsx("div",{className:"modal-overlay fullscreen-modal",onClick:()=>N(!1),style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.8)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsxs("div",{className:"modal-content artikel-modal",onClick:e=>e.stopPropagation(),style:{maxWidth:"100%",maxHeight:"100vh",height:"100vh",width:"100%",display:"flex",flexDirection:"column",overflow:"hidden",background:"#1a1a2e"},children:[s.jsxs("div",{className:"modal-header artikel-modal-header",children:[s.jsxs("div",{className:"modal-header-content",children:[s.jsx("h2",{className:"modal-title",children:"create"===_?"ğŸ†• ARTIKEL ERSTELLEN":"âœï¸ ARTIKEL BEARBEITEN"}),"edit"===_&&w&&s.jsx("p",{className:"modal-subtitle",children:w.name})]}),s.jsx("button",{className:"close-btn",onClick:()=>N(!1),children:"Ã—"})]}),s.jsx("div",{className:"sub-tabs",children:q.map(e=>s.jsx("button",{className:"sub-tab-btn "+(B===e.id?"active":""),onClick:()=>R(e.id),children:e.label},e.id))}),s.jsx("div",{className:"modal-body",style:{flex:1,overflowY:"hidden",overflowX:"hidden",padding:"1rem",display:"flex",flexDirection:"column"},children:X()}),s.jsxs("div",{className:"modal-footer sub-tabs",children:[s.jsx("button",{className:"sub-tab-btn",onClick:()=>N(!1),children:"âŒ Abbrechen"}),s.jsx("button",{className:"sub-tab-btn",onClick:I,children:"create"===_?"âœ… Erstellen":"ğŸ’¾ Speichern"})]})]})})})()]})};export{r as default};
