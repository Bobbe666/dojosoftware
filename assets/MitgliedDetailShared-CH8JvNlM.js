import{j as A,a as e,b as t,u as r,d as n}from"./query-Caj74EYQ.js";import{a as i,c as s,u as a,b as l,N as o,l as d,V as c}from"./index-D4wQygnO.js";import{p as g,n as u,A as h,an as B,a2 as m,a5 as p,_ as f,k as w,Q as x,ao as b,X as Q,K as y,g as C,F,C as v,q as U,t as j,ap as E,aq as k,d as S,ar as H,as as I,at as D,Z as K,au as L,o as z,av as N,aw as _,ax as T,e as M}from"./icons-eh0tbLFx.js";import{Q as R}from"./index-wRQyZq66.js";import{f as G,u as V}from"./vendor-router-B2AaIOtG.js";import{A as O,m as W}from"./animation-zADEEVmT.js";import"./charts-QHQg_ypW.js";const P=({variant:e="text",width:t,height:r,className:n="",count:i=1,style:s={}})=>{const a="skeleton",l=`skeleton-${e}`,o={...s,...t&&{width:t},...r&&{height:r}};return i>1?A.jsx("div",{className:"skeleton-group",children:Array.from({length:i}).map((e,t)=>A.jsx("div",{className:`${a} ${l} ${n}`,style:o},t))}):A.jsx("div",{className:`${a} ${l} ${n}`,style:o})},J=()=>A.jsxs("div",{className:"skeleton-profile",children:[A.jsxs("div",{className:"skeleton-profile-header",children:[A.jsx(P,{variant:"avatar",width:"120px",height:"120px"}),A.jsxs("div",{className:"skeleton-profile-info",children:[A.jsx(P,{variant:"title",width:"200px"}),A.jsx(P,{variant:"text",width:"150px"}),A.jsx(P,{variant:"text",width:"180px"})]})]}),A.jsxs("div",{className:"skeleton-profile-stats",children:[A.jsx(P,{variant:"card",width:"100px",height:"60px"}),A.jsx(P,{variant:"card",width:"100px",height:"60px"}),A.jsx(P,{variant:"card",width:"100px",height:"60px"})]}),A.jsx("div",{className:"skeleton-profile-content",children:A.jsx(P,{variant:"text",count:5})})]}),X=({mitgliedId:t,readOnly:r=!1})=>{const[n,s]=e.useState([]),[a,l]=e.useState([]),[o,d]=e.useState([]),[c,w]=e.useState([]),[x,b]=e.useState([]),[Q,y]=e.useState(!0),[C,F]=e.useState("skills"),[v,U]=e.useState(!1),[j,E]=e.useState(null),[k,S]=e.useState(!1),[H,I]=e.useState([]),[D,K]=e.useState(null),L=e.useRef(null);e.useEffect(()=>{if(v&&L.current){const A=L.current;A.style.position="fixed",A.style.top="50%",A.style.left="50%",A.style.transform="translate(-50%, -50%)",A.style.zIndex="2147483647"}},[v]),e.useEffect(()=>{if(k){const A=document.querySelector("[data-history-modal]");A&&(A.style.position="fixed",A.style.top="50%",A.style.left="50%",A.style.transform="translate(-50%, -50%)",A.style.zIndex="2147483647")}},[k]);const[z,N]=e.useState({kategorie_id:"",skill_name:"",beschreibung:"",fortschritt_prozent:0,status:"nicht_gestartet",prioritaet:"mittel",schwierigkeit:"anfaenger"}),[_,T]=e.useState({titel:"",beschreibung:"",start_datum:(new Date).toISOString().split("T")[0],ziel_datum:"",prioritaet:"mittel"}),[M,R]=e.useState({titel:"",beschreibung:"",typ:"achievement",ziel_datum:""});e.useEffect(()=>{t&&G()},[t]);const G=async()=>{y(!0);try{const[A,e,r,n,a]=await Promise.all([i.get(`/fortschritt/mitglied/${t}`),i.get(`/fortschritt/mitglied/${t}/ziele`),i.get(`/fortschritt/mitglied/${t}/meilensteine`),i.get("/fortschritt/kategorien"),i.get(`/badges/mitglied/${t}`)]);s(A.data),l(e.data),d(r.data),b(n.data),w(a.data||[])}catch(A){console.error("âŒ Fehler beim Laden der Fortschritts-Daten:",A)}finally{y(!1)}},V=()=>{N({kategorie_id:"",skill_name:"",beschreibung:"",fortschritt_prozent:0,status:"nicht_gestartet",prioritaet:"mittel",schwierigkeit:"anfaenger"})},O=()=>{T({titel:"",beschreibung:"",start_datum:(new Date).toISOString().split("T")[0],ziel_datum:"",prioritaet:"mittel"})},W=()=>{R({titel:"",beschreibung:"",typ:"achievement",ziel_datum:""})},P=A=>({nicht_gestartet:"#6B7280",in_arbeit:"#3B82F6",gemeistert:"#10B981",auf_eis:"#F59E0B"}[A]||"#6B7280");return Q?A.jsxs("div",{className:"fortschritt-loading",children:[A.jsx("div",{className:"loading-spinner"}),A.jsx("p",{children:"Lade Fortschritts-Daten..."})]}):A.jsxs("div",{className:"mitglied-fortschritt",children:[A.jsxs("div",{className:"fortschritt-header",children:[A.jsxs("div",{className:"fortschritt-tabs",children:[A.jsxs("button",{className:"tab-btn "+("skills"===C?"active":""),onClick:()=>F("skills"),children:[A.jsx(g,{size:18}),A.jsx("span",{children:"Skills & Techniken"}),A.jsx("span",{className:"tab-badge",children:n.length})]}),A.jsxs("button",{className:"tab-btn "+("ziele"===C?"active":""),onClick:()=>F("ziele"),children:[A.jsx(u,{size:18}),A.jsx("span",{children:"Ziele"}),A.jsx("span",{className:"tab-badge",children:a.filter(A=>"aktiv"===A.status).length})]}),A.jsxs("button",{className:"tab-btn "+("meilensteine"===C?"active":""),onClick:()=>F("meilensteine"),children:[A.jsx(h,{size:18}),A.jsx("span",{children:"Meilensteine"}),A.jsx("span",{className:"tab-badge",children:o.filter(A=>A.erreicht).length})]}),A.jsxs("button",{className:"tab-btn "+("badges"===C?"active":""),onClick:()=>F("badges"),children:[A.jsx(B,{size:18}),A.jsx("span",{children:"Auszeichnungen"}),A.jsx("span",{className:"tab-badge",children:c.length})]})]}),!r&&A.jsxs("button",{className:"add-btn",onClick:()=>U(!0),children:[A.jsx(m,{size:18}),A.jsx("span",{children:"HinzufÃ¼gen"})]})]}),A.jsxs("div",{className:"fortschritt-content",children:["skills"===C&&A.jsx("div",{className:"skills-grid",children:0===n.length?A.jsxs("div",{className:"empty-state",children:[A.jsx(g,{size:48}),A.jsx("p",{children:"Noch keine Skills erfasst"}),!r&&A.jsx("button",{className:"btn-primary",onClick:()=>U(!0),children:"Ersten Skill hinzufÃ¼gen"})]}):n.map(e=>{return A.jsxs("div",{className:"skill-card",children:[A.jsxs("div",{className:"skill-header",children:[A.jsx("div",{className:"skill-kategorie",style:{color:e.kategorie_farbe},children:e.kategorie_name}),!r&&A.jsx("div",{className:"skill-actions",children:A.jsx("button",{className:"icon-btn",onClick:()=>(async A=>{if(confirm("MÃ¶chten Sie diesen Fortschritt wirklich lÃ¶schen?"))try{await i.delete(`/fortschritt/${A}`),G()}catch(e){console.error("âŒ Fehler beim LÃ¶schen:",e)}})(e.fortschritt_id),children:A.jsx(p,{size:16})})})]}),A.jsx("h3",{className:"skill-name",children:e.skill_name}),e.beschreibung&&A.jsx("p",{className:"skill-desc",children:e.beschreibung}),A.jsxs("div",{className:"skill-progress",children:[A.jsx("div",{className:"progress-bar",children:A.jsx("div",{className:"progress-fill",style:{width:`${e.fortschritt_prozent}%`,backgroundColor:P(e.status)}})}),A.jsxs("span",{className:"progress-text",children:[e.fortschritt_prozent,"%"]})]}),A.jsxs("div",{className:"skill-footer",children:[A.jsxs("div",{className:"skill-badges",children:[A.jsx("span",{className:"badge badge-status",style:{backgroundColor:P(e.status)},children:e.status.replace("_"," ")}),A.jsx("span",{className:"badge badge-priority",style:{backgroundColor:(t=e.prioritaet,{niedrig:"#10B981",mittel:"#3B82F6",hoch:"#F59E0B",kritisch:"#EF4444"}[t]||"#3B82F6")},children:e.prioritaet}),A.jsx("span",{className:"badge badge-diff",children:e.schwierigkeit})]}),!r&&A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"8px",flexWrap:"wrap"},children:[A.jsxs("span",{style:{fontSize:"12px",color:"#ffd700",fontWeight:"bold",minWidth:"35px"},children:[e.fortschritt_prozent,"%"]}),A.jsx("input",{type:"range",min:"0",max:"100",value:e.fortschritt_prozent,onChange:A=>{const t=parseInt(A.target.value);s(A=>A.map(A=>A.fortschritt_id===e.fortschritt_id?{...A,fortschritt_prozent:t}:A))},onMouseUp:A=>{const t=parseInt(A.target.value);(async(A,e)=>{var t;try{console.log("Updating skill:",A,e);const t={...e,updated_by:localStorage.getItem("userId")||"unknown",updated_by_name:localStorage.getItem("userName")||"Unbekannt",update_reason:"slider_change"};console.log("Sending update:",t);const r=await i.put(`/fortschritt/${A}`,t);console.log("Update response:",r.data),s(t=>t.map(t=>t.fortschritt_id===A?{...t,...e}:t))}catch(r){console.error("âŒ Fehler beim Aktualisieren:",r),console.error("Error details:",null==(t=r.response)?void 0:t.data)}})(e.fortschritt_id,{...e,fortschritt_prozent:t,status:100===t?"gemeistert":"in_arbeit"})},className:"skill-slider",style:{flex:1,minWidth:"200px"}}),A.jsx("button",{onClick:()=>(async A=>{try{const e=await i.get(`/fortschritt/${A}/history`);I(e.data),K(A),S(!0)}catch(e){console.error("âŒ Fehler beim Laden der Historie:",e)}})(e.fortschritt_id),style:{padding:"6px 10px",fontSize:"12px",background:"rgba(255, 215, 0, 0.2)",border:"1px solid rgba(255, 215, 0, 0.5)",borderRadius:"6px",color:"#ffd700",cursor:"pointer",fontWeight:"bold",transition:"all 0.2s",minWidth:"80px",flexShrink:0},onMouseEnter:A=>{A.target.style.background="rgba(255, 215, 0, 0.3)",A.target.style.borderColor="rgba(255, 215, 0, 0.7)"},onMouseLeave:A=>{A.target.style.background="rgba(255, 215, 0, 0.2)",A.target.style.borderColor="rgba(255, 215, 0, 0.5)"},children:"ğŸ“Š Historie"})]})]})]},e.fortschritt_id);var t})}),"ziele"===C&&A.jsx("div",{className:"ziele-list",children:0===a.length?A.jsxs("div",{className:"empty-state",children:[A.jsx(u,{size:48}),A.jsx("p",{children:"Noch keine Ziele definiert"}),!r&&A.jsx("button",{className:"btn-primary",onClick:()=>U(!0),children:"Erstes Ziel erstellen"})]}):a.map(e=>A.jsxs("div",{className:`ziel-card ziel-${e.status}`,children:[A.jsxs("div",{className:"ziel-header",children:[A.jsx("h3",{children:e.titel}),A.jsx("span",{className:`ziel-status status-${e.status}`,children:e.status})]}),e.beschreibung&&A.jsx("p",{className:"ziel-desc",children:e.beschreibung}),A.jsxs("div",{className:"ziel-dates",children:[A.jsxs("span",{children:["Start: ",new Date(e.start_datum).toLocaleDateString("de-DE")]}),A.jsxs("span",{children:["Ziel: ",new Date(e.ziel_datum).toLocaleDateString("de-DE")]})]}),e.fortschritt_prozent>0&&A.jsxs("div",{className:"ziel-progress",children:[A.jsx("div",{className:"progress-bar",children:A.jsx("div",{className:"progress-fill",style:{width:`${e.fortschritt_prozent}%`}})}),A.jsxs("span",{children:[e.fortschritt_prozent,"%"]})]})]},e.ziel_id))}),"meilensteine"===C&&A.jsx("div",{className:"meilensteine-grid",children:0===o.length?A.jsxs("div",{className:"empty-state",children:[A.jsx(h,{size:48}),A.jsx("p",{children:"Noch keine Meilensteine erreicht"}),!r&&A.jsx("button",{className:"btn-primary",onClick:()=>U(!0),children:"Ersten Meilenstein erstellen"})]}):o.map(e=>A.jsxs("div",{className:"meilenstein-card "+(e.erreicht?"erreicht":""),children:[A.jsx("div",{className:"meilenstein-icon",children:e.erreicht?A.jsx(h,{size:32,color:"#ffd700"}):A.jsx(u,{size:32})}),A.jsx("h3",{children:e.titel}),e.beschreibung&&A.jsx("p",{children:e.beschreibung}),A.jsxs("div",{className:"meilenstein-footer",children:[A.jsx("span",{className:"meilenstein-typ",children:e.typ}),e.erreicht&&e.erreicht_am&&A.jsx("span",{className:"meilenstein-date",children:new Date(e.erreicht_am).toLocaleDateString("de-DE")})]}),!r&&A.jsx("button",{className:"meilenstein-toggle "+(e.erreicht?"btn-undo":"btn-complete"),onClick:()=>(async(A,e)=>{try{await i.put(`/fortschritt/meilensteine/${A}/erreicht`,{erreicht:!e}),G()}catch(t){console.error("âŒ Fehler beim Aktualisieren:",t)}})(e.meilenstein_id,e.erreicht),children:e.erreicht?"ZurÃ¼cksetzen":"Als erreicht markieren"})]},e.meilenstein_id))}),"badges"===C&&A.jsx("div",{className:"badges-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px",padding:"8px 0"},children:0===c.length?A.jsxs("div",{className:"empty-state",children:[A.jsx(B,{size:48}),A.jsx("p",{children:"Noch keine Auszeichnungen erhalten"}),A.jsx("p",{style:{fontSize:"14px",color:"#888",marginTop:"8px"},children:"Auszeichnungen werden fÃ¼r besondere Leistungen vergeben."})]}):c.map(e=>{const t={award:"ğŸ…",star:"â­",trophy:"ğŸ†",medal:"ğŸ–ï¸",crown:"ğŸ‘‘",flame:"ğŸ”¥",target:"ğŸ¯",heart:"â¤ï¸",users:"ğŸ‘¥",swords:"âš”ï¸",zap:"âš¡","trending-up":"ğŸ“ˆ",footprints:"ğŸ‘£",layers:"ğŸ“š",brain:"ğŸ§ ",shield:"ğŸ›¡ï¸"}[e.icon]||"ğŸ…";return A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",border:`2px solid ${e.farbe||"#ffd700"}`,borderRadius:"12px",padding:"20px",textAlign:"center",transition:"all 0.3s ease",cursor:"default"},onMouseEnter:A=>{A.currentTarget.style.transform="translateY(-4px)",A.currentTarget.style.boxShadow=`0 8px 24px ${e.farbe||"#ffd700"}40`},onMouseLeave:A=>{A.currentTarget.style.transform="translateY(0)",A.currentTarget.style.boxShadow="none"},children:[A.jsx("div",{style:{width:"64px",height:"64px",margin:"0 auto 12px",background:`linear-gradient(135deg, ${e.farbe||"#ffd700"}40, ${e.farbe||"#ffd700"}20)`,border:`2px solid ${e.farbe||"#ffd700"}`,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"32px",boxShadow:`0 4px 12px ${e.farbe||"#ffd700"}30`},children:t}),A.jsx("h3",{style:{color:e.farbe||"#ffd700",fontSize:"16px",fontWeight:"bold",margin:"0 0 8px 0"},children:e.name}),e.beschreibung&&A.jsx("p",{style:{color:"#ccc",fontSize:"13px",margin:"0 0 12px 0",lineHeight:"1.4"},children:e.beschreibung}),A.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",flexWrap:"wrap"},children:[e.kategorie&&A.jsx("span",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"4px 8px",borderRadius:"12px",fontSize:"11px",color:"#aaa"},children:e.kategorie}),e.verliehen_am&&A.jsx("span",{style:{background:"rgba(34, 197, 94, 0.2)",color:"#22c55e",padding:"4px 8px",borderRadius:"12px",fontSize:"11px"},children:new Date(e.verliehen_am).toLocaleDateString("de-DE")})]})]},e.badge_id)})})]}),v&&A.jsx("div",{ref:L,style:{position:"fixed !important",top:"0 !important",left:"0 !important",right:"0 !important",bottom:"0 !important",width:"100vw !important",height:"100vh !important",background:"rgba(0, 0, 0, 0.9) !important",backdropFilter:"blur(12px) !important",display:"flex !important",alignItems:"center !important",justifyContent:"center !important",zIndex:"2147483647 !important",padding:"20px !important",margin:"0 !important",boxSizing:"border-box !important",isolation:"isolate !important",transform:"none !important",overflow:"hidden !important"},onClick:()=>U(!1),children:A.jsxs("div",{style:{position:"relative",background:"#1a1a2e",border:"3px solid #ffd700",borderRadius:"16px",padding:0,width:"450px",maxWidth:"450px",minWidth:"450px",height:"auto",maxHeight:"80vh",overflow:"hidden",zIndex:2147483647,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.8), 0 0 40px rgba(255, 215, 0, 0.3)",display:"flex",flexDirection:"column",boxSizing:"border-box",margin:0,transform:"none",top:"auto",left:"auto",right:"auto",bottom:"auto"},onClick:A=>A.stopPropagation(),children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px 20px",background:"rgba(255, 215, 0, 0.1)",borderBottom:"1px solid rgba(255, 215, 0, 0.3)",flexShrink:0,boxSizing:"border-box"},children:[A.jsxs("h2",{style:{margin:0,color:"#ffd700",fontSize:"16px",fontWeight:700,lineHeight:1.2},children:["skills"===C&&"Neuer Skill","ziele"===C&&"Neues Ziel","meilensteine"===C&&"Neuer Meilenstein"]}),A.jsx("button",{style:{width:"24px",height:"24px",padding:0,background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"4px",color:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold",transition:"all 0.2s",boxSizing:"border-box"},onClick:()=>U(!1),onMouseEnter:A=>{A.target.style.background="rgba(239, 68, 68, 0.3)",A.target.style.borderColor="#ef4444",A.target.style.color="#ef4444"},onMouseLeave:A=>{A.target.style.background="rgba(255, 255, 255, 0.1)",A.target.style.borderColor="rgba(255, 255, 255, 0.3)",A.target.style.color="#fff"},children:A.jsx(f,{size:16})})]}),A.jsxs("div",{style:{padding:"24px",overflowY:"auto",overflowX:"hidden",flex:1,maxHeight:"calc(80vh - 120px)",boxSizing:"border-box"},children:["skills"===C&&A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",margin:0},children:[A.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px",margin:0},children:[A.jsx("label",{style:{margin:0,fontSize:"13px",fontWeight:600,color:"#ffd700",lineHeight:1.3},children:"Kategorie"}),A.jsxs("select",{style:{padding:"10px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"14px",fontFamily:"inherit",height:"36px",minHeight:"36px",maxHeight:"36px",boxSizing:"border-box",transition:"all 0.2s"},value:z.kategorie_id,onChange:A=>N({...z,kategorie_id:A.target.value}),children:[A.jsx("option",{value:"",style:{background:"#1a1a2e",color:"#fff"},children:"WÃ¤hlen..."}),x.map(e=>A.jsx("option",{value:e.kategorie_id,style:{background:"#1a1a2e",color:"#fff"},children:e.name},e.kategorie_id))]})]}),A.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px",margin:0},children:[A.jsx("label",{style:{margin:0,fontSize:"13px",fontWeight:600,color:"#ffd700",lineHeight:1.3},children:"Skill Name *"}),A.jsx("input",{type:"text",style:{padding:"10px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"14px",fontFamily:"inherit",height:"36px",minHeight:"36px",maxHeight:"36px",boxSizing:"border-box",transition:"all 0.2s"},value:z.skill_name,onChange:A=>N({...z,skill_name:A.target.value}),placeholder:"z.B. Frontkick"})]}),A.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px",margin:0,gridColumn:"1 / -1"},children:[A.jsx("label",{style:{margin:0,fontSize:"13px",fontWeight:600,color:"#ffd700",lineHeight:1.3},children:"Beschreibung"}),A.jsx("textarea",{style:{padding:"10px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"14px",fontFamily:"inherit",height:"70px",minHeight:"70px",maxHeight:"100px",boxSizing:"border-box",transition:"all 0.2s",resize:"vertical"},value:z.beschreibung,onChange:A=>N({...z,beschreibung:A.target.value}),rows:3})]}),A.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px",margin:0},children:[A.jsx("label",{style:{margin:0,fontSize:"13px",fontWeight:600,color:"#ffd700",lineHeight:1.3},children:"PrioritÃ¤t"}),A.jsxs("select",{style:{padding:"10px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"14px",fontFamily:"inherit",height:"36px",minHeight:"36px",maxHeight:"36px",boxSizing:"border-box",transition:"all 0.2s"},value:z.prioritaet,onChange:A=>N({...z,prioritaet:A.target.value}),children:[A.jsx("option",{value:"niedrig",style:{background:"#1a1a2e",color:"#fff"},children:"Niedrig"}),A.jsx("option",{value:"mittel",style:{background:"#1a1a2e",color:"#fff"},children:"Mittel"}),A.jsx("option",{value:"hoch",style:{background:"#1a1a2e",color:"#fff"},children:"Hoch"}),A.jsx("option",{value:"kritisch",style:{background:"#1a1a2e",color:"#fff"},children:"Kritisch"})]})]}),A.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px",margin:0},children:[A.jsx("label",{style:{margin:0,fontSize:"13px",fontWeight:600,color:"#ffd700",lineHeight:1.3},children:"Schwierigkeit"}),A.jsxs("select",{style:{padding:"10px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"14px",fontFamily:"inherit",height:"36px",minHeight:"36px",maxHeight:"36px",boxSizing:"border-box",transition:"all 0.2s"},value:z.schwierigkeit,onChange:A=>N({...z,schwierigkeit:A.target.value}),children:[A.jsx("option",{value:"anfaenger",style:{background:"#1a1a2e",color:"#fff"},children:"AnfÃ¤nger"}),A.jsx("option",{value:"fortgeschritten",style:{background:"#1a1a2e",color:"#fff"},children:"Fortgeschritten"}),A.jsx("option",{value:"experte",style:{background:"#1a1a2e",color:"#fff"},children:"Experte"}),A.jsx("option",{value:"meister",style:{background:"#1a1a2e",color:"#fff"},children:"Meister"})]})]})]}),"ziele"===C&&A.jsxs("div",{className:"form-grid",children:[A.jsxs("div",{className:"form-group full-width",children:[A.jsx("label",{children:"Titel *"}),A.jsx("input",{type:"text",value:_.titel,onChange:A=>T({..._,titel:A.target.value})})]}),A.jsxs("div",{className:"form-group full-width",children:[A.jsx("label",{children:"Beschreibung"}),A.jsx("textarea",{value:_.beschreibung,onChange:A=>T({..._,beschreibung:A.target.value}),rows:3})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Startdatum"}),A.jsx("input",{type:"date",value:_.start_datum,onChange:A=>T({..._,start_datum:A.target.value})})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Zieldatum *"}),A.jsx("input",{type:"date",value:_.ziel_datum,onChange:A=>T({..._,ziel_datum:A.target.value})})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"PrioritÃ¤t"}),A.jsxs("select",{value:_.prioritaet,onChange:A=>T({..._,prioritaet:A.target.value}),children:[A.jsx("option",{value:"niedrig",children:"Niedrig"}),A.jsx("option",{value:"mittel",children:"Mittel"}),A.jsx("option",{value:"hoch",children:"Hoch"})]})]})]}),"meilensteine"===C&&A.jsxs("div",{className:"form-grid",children:[A.jsxs("div",{className:"form-group full-width",children:[A.jsx("label",{children:"Titel *"}),A.jsx("input",{type:"text",value:M.titel,onChange:A=>R({...M,titel:A.target.value})})]}),A.jsxs("div",{className:"form-group full-width",children:[A.jsx("label",{children:"Beschreibung"}),A.jsx("textarea",{value:M.beschreibung,onChange:A=>R({...M,beschreibung:A.target.value}),rows:3})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Typ"}),A.jsxs("select",{value:M.typ,onChange:A=>R({...M,typ:A.target.value}),children:[A.jsx("option",{value:"achievement",children:"Achievement"}),A.jsx("option",{value:"pruefung",children:"PrÃ¼fung"}),A.jsx("option",{value:"turnier",children:"Turnier"}),A.jsx("option",{value:"persoenlich",children:"PersÃ¶nlich"}),A.jsx("option",{value:"sonstiges",children:"Sonstiges"})]})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Zieldatum"}),A.jsx("input",{type:"date",value:M.ziel_datum,onChange:A=>R({...M,ziel_datum:A.target.value})})]})]})]}),A.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"8px",padding:"16px 20px",background:"rgba(0, 0, 0, 0.2)",borderTop:"1px solid rgba(255, 215, 0, 0.3)",flexShrink:0,boxSizing:"border-box"},children:[A.jsx("button",{style:{padding:"8px 16px",borderRadius:"4px",fontSize:"13px",fontWeight:600,cursor:"pointer",border:"1px solid rgba(255, 255, 255, 0.3)",background:"rgba(255, 255, 255, 0.1)",color:"#fff",transition:"all 0.2s",boxSizing:"border-box",minWidth:"60px"},onClick:()=>U(!1),onMouseEnter:A=>{A.target.style.background="rgba(255, 255, 255, 0.2)",A.target.style.borderColor="rgba(255, 255, 255, 0.5)"},onMouseLeave:A=>{A.target.style.background="rgba(255, 255, 255, 0.1)",A.target.style.borderColor="rgba(255, 255, 255, 0.3)"},children:"Abbrechen"}),A.jsx("button",{style:{padding:"8px 16px",borderRadius:"4px",fontSize:"13px",fontWeight:600,cursor:"pointer",border:"none",background:"#ffd700",color:"#1a1a2e",transition:"all 0.2s",boxSizing:"border-box",minWidth:"60px"},onClick:()=>{"skills"===C?(async()=>{try{await i.post(`/fortschritt/mitglied/${t}`,z),G(),U(!1),V()}catch(A){console.error("âŒ Fehler beim Erstellen des Skills:",A)}})():"ziele"===C?(async()=>{try{await i.post(`/fortschritt/mitglied/${t}/ziele`,_),G(),U(!1),O()}catch(A){console.error("âŒ Fehler beim Erstellen des Ziels:",A)}})():"meilensteine"===C&&(async()=>{try{await i.post(`/fortschritt/mitglied/${t}/meilensteine`,M),G(),U(!1),W()}catch(A){console.error("âŒ Fehler beim Erstellen des Meilensteins:",A)}})()},onMouseEnter:A=>{A.target.style.background="#ffed4e",A.target.style.transform="translateY(-1px)"},onMouseLeave:A=>{A.target.style.background="#ffd700",A.target.style.transform="translateY(0)"},children:"HinzufÃ¼gen"})]})]})}),k&&A.jsx("div",{"data-history-modal":!0,style:{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.9)",backdropFilter:"blur(12px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2147483647,padding:"20px",margin:0,boxSizing:"border-box",isolation:"isolate"},onClick:()=>S(!1),children:A.jsxs("div",{style:{position:"relative",background:"#1a1a2e",border:"3px solid #ffd700",borderRadius:"16px",padding:0,width:"600px",maxWidth:"90vw",height:"auto",maxHeight:"80vh",overflow:"hidden",zIndex:2147483647,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.8), 0 0 40px rgba(255, 215, 0, 0.3)",display:"flex",flexDirection:"column",boxSizing:"border-box",margin:0,transform:"none",top:"auto",left:"auto",right:"auto",bottom:"auto"},onClick:A=>A.stopPropagation(),children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px 20px",background:"rgba(255, 215, 0, 0.1)",borderBottom:"1px solid rgba(255, 215, 0, 0.3)",flexShrink:0,boxSizing:"border-box"},children:[A.jsx("h2",{style:{margin:0,color:"#ffd700",fontSize:"18px",fontWeight:700,lineHeight:1.2},children:"ğŸ“Š Ã„nderungshistorie"}),A.jsx("button",{style:{width:"24px",height:"24px",padding:0,background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"4px",color:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold",transition:"all 0.2s",boxSizing:"border-box"},onClick:()=>S(!1),children:A.jsx(f,{size:16})})]}),A.jsx("div",{style:{padding:"20px",overflowY:"auto",overflowX:"hidden",flex:1,maxHeight:"calc(80vh - 120px)",boxSizing:"border-box"},children:0===H.length?A.jsx("p",{style:{color:"#fff",textAlign:"center",margin:"20px 0"},children:"Keine Ã„nderungen vorhanden"}):A.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:H.map((e,t)=>A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 215, 0, 0.2)",borderRadius:"8px",padding:"12px",color:"#fff"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[A.jsx("span",{style:{fontWeight:"bold",color:"#ffd700"},children:e.skill_name}),A.jsx("span",{style:{fontSize:"12px",color:"#ccc"},children:new Date(e.update_timestamp).toLocaleString("de-DE")})]}),A.jsx("div",{style:{display:"flex",gap:"16px",fontSize:"14px"},children:A.jsxs("div",{children:[A.jsx("span",{style:{color:"#ccc"},children:"Fortschritt: "}),A.jsxs("span",{style:{color:"#ff6b35"},children:[e.alter_fortschritt,"%"]}),A.jsx("span",{style:{color:"#fff",margin:"0 8px"},children:"â†’"}),A.jsxs("span",{style:{color:"#22c55e"},children:[e.neuer_fortschritt,"%"]})]})}),A.jsx("div",{style:{display:"flex",gap:"16px",fontSize:"14px",marginTop:"4px"},children:A.jsxs("div",{children:[A.jsx("span",{style:{color:"#ccc"},children:"Status: "}),A.jsx("span",{style:{color:"#ff6b35"},children:e.alter_status}),A.jsx("span",{style:{color:"#fff",margin:"0 8px"},children:"â†’"}),A.jsx("span",{style:{color:"#22c55e"},children:e.neuer_status})]})}),e.notiz&&A.jsxs("div",{style:{marginTop:"8px",fontSize:"13px",color:"#ccc"},children:[A.jsx("span",{style:{color:"#ffd700"},children:"Notiz: "}),e.notiz]}),e.aktualisiert_von_name&&A.jsxs("div",{style:{marginTop:"8px",fontSize:"13px",color:"#ccc"},children:[A.jsx("span",{style:{color:"#ffd700"},children:"GeÃ¤ndert von: "}),e.aktualisiert_von_name]})]},t))})})]})})]})},Y=({mitgliedId:t,readOnly:r=!1})=>{const[n,s]=e.useState([]),[a,l]=e.useState(!0),[o,d]=e.useState(null),[c,g]=e.useState(!1),[u,h]=e.useState(""),[B,m]=e.useState(""),[p,y]=e.useState(!1),[C,F]=e.useState({stil_name:"",graduierung_name:"",pruefungsdatum:"",bemerkung:""}),[v,U]=e.useState([]);e.useEffect(()=>{t&&(j(),H())},[t]);const j=async()=>{var A,e;try{l(!0),d(null),console.log("ğŸ”„ Lade PrÃ¼fungsdaten fÃ¼r Mitglied:",t);const r=(null==(A=(await i.get(`/mitglieder/${t}/stile`)).data)?void 0:A.stile)||[];if(console.log("ğŸ“Œ Dem Mitglied zugewiesene Stile:",r),0===r.length)return console.log("âš ï¸ Keine Stile zugewiesen"),s([]),void l(!1);const n=await i.get(`/pruefungen/mitglied/${t}/historie`),a=(null==(e=n.data)?void 0:e.historie)||n.data||[],o=(await i.get(`/anwesenheitProtokoll/pruefung/${t}`)).data||{};console.log("ğŸ“Š Geladene Daten:",{zugewieseneStile:null==r?void 0:r.length,zugewieseneStileNamen:null==r?void 0:r.map(A=>A.stil_name),historie:null==a?void 0:a.length,trainings:o,trainingsKeys:Object.keys(o||{}),trainingsType:typeof o,trainingsStile:o.stile,trainingsStatistiken:o.statistiken});const c=r.map(A=>{var e;const t=a.filter(e=>e.stil_id===A.stil_id),r=(null==(e=o.stile)?void 0:e[A.stil_name])||o.statistiken||o||{};console.log(`ğŸ” Stil ${A.stil_name} (ID: ${A.stil_id}):`,{historie:t.length,trainings:r,trainingsKeys:Object.keys(r||{}),stileDaten:o.stile});const n=t.filter(A=>!0===A.bestanden||"bestanden"===A.status).sort((A,e)=>new Date(e.pruefungsdatum)-new Date(A.pruefungsdatum))[0],i=t.find(A=>"geplant"===A.status);return{stil_id:A.stil_id,stil_name:A.stil_name,stil_farbe:"#FFD700",historie:t,trainingsstunden:r,letztePruefung:n,naechstePruefung:i,aktuelleGraduierung:(null==n?void 0:n.graduierung_nachher)||A.graduierung_name||"AnfÃ¤nger",graduierungFarbe:(null==n?void 0:n.farbe_nachher)||A.farbe||"#FFFFFF"}});console.log("ğŸ¯ Verarbeitete Stildaten:",c.map(A=>({stil_id:A.stil_id,stil_name:A.stil_name,historie_anzahl:A.historie.length,aktuelle_graduierung:A.aktuelleGraduierung,trainingsstunden_vorhanden:!!A.trainingsstunden}))),s(c)}catch(r){console.error("Fehler beim Laden der PrÃ¼fungsdaten:",r),d("Fehler beim Laden der Daten")}finally{l(!1)}},E=A=>A?new Date(A).toLocaleDateString("de-DE"):"-",k=A=>{var e;if(!A.trainingsstunden)return 0;const t=parseInt(A.trainingsstunden.anwesend_stunden||A.trainingsstunden.total_stunden||0),r=parseInt((null==(e=A.trainingsstunden.requirements)?void 0:e.min_stunden)||20);return Math.round(t/r*100)},S=async A=>{try{const e=await i.get(`/pruefungen/${A}/urkunde/download`,{responseType:"blob"}),t=window.URL.createObjectURL(new Blob([e.data])),r=document.createElement("a");r.href=t,r.setAttribute("download",`urkunde_${A}.pdf`),document.body.appendChild(r),r.click(),r.remove()}catch(e){console.error("Fehler beim Download der Urkunde:",e)}},H=async()=>{var A;try{const e=await i.get("/pruefungen-historisch/mitglied/"+t);U((null==(A=e.data)?void 0:A.data)||[])}catch(e){console.error("Fehler beim Laden historischer PrÃ¼fungen:",e)}},I=async A=>{if(window.confirm("Wirklich lÃ¶schen?"))try{await i.delete("/pruefungen-historisch/"+A),H()}catch(e){console.error("Fehler beim LÃ¶schen:",e)}};return a?A.jsx("div",{className:"pruefungsstatus-container",children:A.jsxs("div",{className:"loading-spinner",children:[A.jsx("div",{className:"spinner"}),A.jsx("p",{children:"Lade PrÃ¼fungsdaten..."})]})}):o?A.jsx("div",{className:"pruefungsstatus-container",children:A.jsxs("div",{className:"error-message",children:[A.jsx(w,{size:24}),A.jsx("p",{children:o})]})}):A.jsxs("div",{className:"pruefungsstatus-wrapper",children:[0===n.length?A.jsx("div",{className:"grid-container",children:A.jsxs("div",{className:"field-group card",children:[A.jsx("h3",{children:"ğŸ“ PrÃ¼fungsstatus"}),A.jsx("p",{style:{textAlign:"center",color:"#999",padding:"2rem"},children:r?"Ihnen wurden noch keine Stile zugewiesen.":'Diesem Mitglied wurden noch keine Stile zugewiesen. Weisen Sie im Tab "Stile" einen Stil zu.'})]})}):n.map(e=>{var t,n,i,s,a,l,o,d,c,g,u,h,B;return A.jsxs("div",{className:"stil-pruefung-section",children:[A.jsx("div",{className:"stil-titel-header",children:A.jsxs("h2",{style:{color:"#FFD700",fontSize:"1.5rem",marginBottom:"1.5rem"},children:["ğŸ¥‹ ",e.stil_name]})}),A.jsxs("div",{className:"grid-container zwei-spalten",children:[A.jsxs("div",{className:"field-group card",children:[A.jsx("h3",{children:"ğŸ–ï¸ Aktuelle Graduierung"}),A.jsxs("div",{children:[A.jsx("label",{children:"Gurtfarbe:"}),A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginTop:"0.5rem"},children:[A.jsx("div",{style:{width:"80px",height:"24px",backgroundColor:e.graduierungFarbe,borderRadius:"4px",border:"2px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.3)"}}),A.jsx("span",{style:{fontSize:"1rem",fontWeight:"600",color:"#fff"},children:e.aktuelleGraduierung})]})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Letzte PrÃ¼fung:"}),A.jsx("span",{children:E(null==(t=e.letztePruefung)?void 0:t.pruefungsdatum)})]}),"bestanden"===(null==(n=e.letztePruefung)?void 0:n.status)&&A.jsx("div",{children:A.jsxs("button",{className:"download-urkunde-btn",onClick:()=>S(e.letztePruefung.pruefung_id),style:{background:"linear-gradient(135deg, #FFD700, #FFA500)",border:"none",padding:"0.5rem 1rem",borderRadius:"6px",color:"#000",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.5rem"},children:[A.jsx(x,{size:16}),"Urkunde herunterladen"]})})]}),A.jsxs("div",{className:"field-group card",children:[A.jsx("h3",{children:"ğŸ“Š Trainingsstunden"}),A.jsxs("div",{children:[A.jsx("label",{children:"Absolviert:"}),A.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:"600",color:"#22c55e"},children:[(null==(i=e.trainingsstunden)?void 0:i.anwesend_stunden)||(null==(s=e.trainingsstunden)?void 0:s.total_stunden)||0," Stunden"]})]}),A.jsxs("div",{children:[A.jsx("label",{children:"BenÃ¶tigt fÃ¼r nÃ¤chste PrÃ¼fung:"}),A.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:"600",color:"#3b82f6"},children:[(null==(l=null==(a=e.trainingsstunden)?void 0:a.requirements)?void 0:l.min_stunden)||20," Stunden"]})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Noch benÃ¶tigt:"}),A.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:"600",color:"#ef4444"},children:[Math.max(0,((null==(d=null==(o=e.trainingsstunden)?void 0:o.requirements)?void 0:d.min_stunden)||20)-parseInt((null==(c=e.trainingsstunden)?void 0:c.anwesend_stunden)||(null==(g=e.trainingsstunden)?void 0:g.total_stunden)||0))," Stunden"]})]}),A.jsxs("div",{style:{marginTop:"1rem"},children:[A.jsx("label",{children:"Fortschritt:"}),A.jsx("div",{style:{width:"100%",height:"24px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"12px",overflow:"hidden",position:"relative",marginTop:"0.5rem"},children:A.jsx("div",{style:{height:"100%",width:`${k(e)}%`,background:k(e)>=80?"linear-gradient(90deg, #22c55e, #16a34a)":k(e)>=60?"linear-gradient(90deg, #f59e0b, #d97706)":"linear-gradient(90deg, #ef4444, #dc2626)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"width 0.3s ease",minWidth:"40px"},children:A.jsxs("span",{style:{color:"#fff",fontWeight:"700",fontSize:"0.85rem",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)"},children:[k(e),"%"]})})}),A.jsx("div",{style:{textAlign:"center",marginTop:"0.5rem",fontSize:"0.9rem",fontWeight:"600",color:"#FFD700"},children:(B=k(e),B>=80?"Bereit fÃ¼r PrÃ¼fung":B>=60?"Gut auf dem Weg":B>=40?"Fortschritt sichtbar":"Mehr Training nÃ¶tig")})]})]}),A.jsxs("div",{className:"field-group card",children:[A.jsx("h3",{children:"ğŸ“… NÃ¤chste PrÃ¼fung"}),A.jsxs("div",{children:[A.jsx("label",{children:"Geplantes Datum:"}),A.jsx("span",{style:{fontSize:"1rem",fontWeight:"600"},children:E(null==(u=e.naechstePruefung)?void 0:u.pruefungsdatum)||"Keine PrÃ¼fung geplant"})]}),e.naechstePruefung&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{children:[A.jsx("label",{children:"Ziel-Graduierung:"}),A.jsx("span",{children:(null==(h=e.naechstePruefung)?void 0:h.graduierung)||"-"})]}),A.jsx("div",{children:A.jsxs("button",{className:"edit-pruefung-btn",onClick:()=>setShowPruefungModal(!0),style:{background:"rgba(255, 215, 0, 0.2)",border:"1px solid #FFD700",padding:"0.5rem 1rem",borderRadius:"6px",color:"#FFD700",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.5rem"},children:[A.jsx(b,{size:16}),"PrÃ¼fung bearbeiten"]})})]})]}),A.jsxs("div",{className:"field-group card",style:{gridColumn:"1 / -1"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[A.jsx("h3",{style:{margin:0},children:"ğŸ“‹ PrÃ¼fungshistorie"}),!r&&A.jsx("button",{onClick:()=>(F({stil_name:"",graduierung_name:"",pruefungsdatum:"",bemerkung:""}),void y(!0)),style:{padding:"0.5rem 1rem",background:"linear-gradient(135deg, #3b82f6, #2563eb)",border:"none",borderRadius:"6px",color:"#fff",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer"},children:"+ Historische PrÃ¼fung"})]}),e.historie.length>0?A.jsx("div",{style:{overflowX:"auto",marginTop:"1rem"},children:A.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem"},children:[A.jsx("thead",{children:A.jsxs("tr",{style:{borderBottom:"2px solid rgba(255, 215, 0, 0.3)",backgroundColor:"rgba(255, 255, 255, 0.02)"},children:[A.jsx("th",{style:{padding:"0.75rem",textAlign:"left",color:"#FFD700"},children:"Datum"}),A.jsx("th",{style:{padding:"0.75rem",textAlign:"left",color:"#FFD700"},children:"Graduierung"}),A.jsx("th",{style:{padding:"0.75rem",textAlign:"left",color:"#FFD700"},children:"Status"}),A.jsx("th",{style:{padding:"0.75rem",textAlign:"left",color:"#FFD700"},children:"Punkte"}),A.jsx("th",{style:{padding:"0.75rem",textAlign:"center",color:"#FFD700"},children:"Aktion"})]})}),A.jsx("tbody",{children:e.historie.map((e,t)=>A.jsxs("tr",{style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)",backgroundColor:t%2==0?"transparent":"rgba(255, 255, 255, 0.02)"},children:[A.jsx("td",{style:{padding:"0.75rem"},children:E(e.pruefungsdatum)}),A.jsx("td",{style:{padding:"0.75rem"},children:e.graduierung_nachher}),A.jsx("td",{style:{padding:"0.75rem"},children:A.jsxs("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"0.8rem",fontWeight:"600",background:"bestanden"===e.status?"rgba(34, 197, 94, 0.2)":"geplant"===e.status?"rgba(59, 130, 246, 0.2)":"rgba(239, 68, 68, 0.2)",color:"bestanden"===e.status?"#22c55e":"geplant"===e.status?"#3b82f6":"#ef4444"},children:[e.status,e.ist_historisch&&" (hist.)"]})}),A.jsx("td",{style:{padding:"0.75rem"},children:e.punktzahl||"-"}),A.jsx("td",{style:{padding:"0.75rem",textAlign:"center"},children:A.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center"},children:["bestanden"===e.status&&!e.ist_historisch&&A.jsx("button",{onClick:()=>S(e.pruefung_id),style:{background:"rgba(255, 215, 0, 0.2)",border:"1px solid #FFD700",padding:"0.25rem 0.5rem",borderRadius:"4px",color:"#FFD700",cursor:"pointer",fontSize:"0.8rem"},title:"Urkunde herunterladen",children:A.jsx(x,{size:14})}),e.ist_historisch&&!r&&A.jsx("button",{onClick:()=>I(e.pruefung_id),style:{background:"rgba(239, 68, 68, 0.2)",border:"1px solid #ef4444",padding:"0.25rem 0.5rem",borderRadius:"4px",color:"#ef4444",cursor:"pointer",fontSize:"0.8rem"},title:"Historische PrÃ¼fung lÃ¶schen",children:A.jsx(f,{size:14})})]})})]},e.pruefung_id))})]})}):A.jsx("p",{style:{color:"rgba(255,255,255,0.6)",textAlign:"center",padding:"1rem"},children:'Noch keine PrÃ¼fungen dokumentiert. Klicken Sie auf "+ Historische PrÃ¼fung" um vergangene PrÃ¼fungen zu erfassen.'})]})]})]},e.stil_id)}),c&&A.jsx("div",{className:"modal-overlay",onClick:()=>g(!1),children:A.jsxs("div",{className:"modal-content",onClick:A=>A.stopPropagation(),children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem 1.5rem",borderBottom:"1px solid rgba(255, 215, 0, 0.2)"},children:[A.jsx("h3",{children:"PrÃ¼fungsanmerkungen bearbeiten"}),A.jsx("button",{className:"close-btn",onClick:()=>g(!1),children:A.jsx(f,{size:20})})]}),A.jsx("div",{className:"modal-body",children:A.jsx("textarea",{value:B,onChange:A=>m(A.target.value),placeholder:"Anmerkungen zur PrÃ¼fung...",rows:4})}),A.jsxs("div",{className:"modal-footer",children:[A.jsx("button",{className:"btn-secondary",onClick:()=>g(!1),children:"Abbrechen"}),A.jsxs("button",{className:"btn-primary",onClick:async()=>{var A;try{const e=null==(A=n.find(A=>A.letztePruefung))?void 0:A.letztePruefung;e&&(await i.put(`/pruefungen/${e.pruefung_id}`,{anmerkungen:B}),h(B),g(!1),j())}catch(e){console.error("Fehler beim Speichern der Anmerkungen:",e)}},children:[A.jsx(Q,{size:16}),"Speichern"]})]})]})}),p&&A.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:()=>y(!1),children:A.jsxs("div",{onClick:A=>A.stopPropagation(),style:{background:"linear-gradient(145deg, #1a1a2e 0%, #16213e 100%)",borderRadius:"16px",width:"90%",maxWidth:"450px",maxHeight:"80vh",overflowY:"auto",border:"1px solid rgba(255, 215, 0, 0.3)",boxShadow:"0 20px 60px rgba(0,0,0,0.5)"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem 1.5rem",borderBottom:"1px solid rgba(255, 215, 0, 0.2)"},children:[A.jsx("h3",{style:{color:"#FFD700"},children:"ğŸ“œ Historische PrÃ¼fung"}),A.jsx("button",{onClick:()=>y(!1),style:{background:"transparent",border:"none",color:"#fff",cursor:"pointer",padding:"0.5rem"},children:A.jsx(f,{size:20})})]}),A.jsxs("div",{className:"modal-body",style:{padding:"1.5rem"},children:[A.jsxs("div",{style:{marginBottom:"1rem"},children:[A.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"rgba(255,255,255,0.8)"},children:"Stil *"}),A.jsx("input",{type:"text",value:C.stil_name,onChange:A=>F({...C,stil_name:A.target.value}),placeholder:"z.B. Karate, Judo, Taekwondo...",style:{width:"100%",padding:"0.75rem",background:"#1a1a1a",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px",color:"#fff"}})]}),A.jsxs("div",{style:{marginBottom:"1rem"},children:[A.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"rgba(255,255,255,0.8)"},children:"Graduierung *"}),A.jsx("input",{type:"text",value:C.graduierung_name,onChange:A=>F({...C,graduierung_name:A.target.value}),placeholder:"z.B. Gelbgurt, 5. Kyu, 1. Dan...",style:{width:"100%",padding:"0.75rem",background:"#1a1a1a",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px",color:"#fff"}})]}),A.jsxs("div",{style:{marginBottom:"1rem"},children:[A.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"rgba(255,255,255,0.8)"},children:"Datum *"}),A.jsx("input",{type:"date",value:C.pruefungsdatum,onChange:A=>F({...C,pruefungsdatum:A.target.value}),style:{width:"100%",padding:"0.75rem",background:"#1a1a1a",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px",color:"#fff"}})]}),A.jsxs("div",{style:{marginBottom:"1rem"},children:[A.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"rgba(255,255,255,0.8)"},children:"Bemerkung (optional)"}),A.jsx("input",{type:"text",value:C.bemerkung,onChange:A=>F({...C,bemerkung:A.target.value}),placeholder:"Optional...",style:{width:"100%",padding:"0.75rem",background:"#1a1a1a",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px",color:"#fff"}})]})]}),A.jsxs("div",{className:"modal-footer",style:{display:"flex",gap:"1rem",justifyContent:"flex-end",padding:"1rem 1.5rem"},children:[A.jsx("button",{onClick:()=>y(!1),style:{padding:"0.75rem 1.5rem",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#fff",cursor:"pointer"},children:"Abbrechen"}),A.jsx("button",{onClick:async()=>{if(C.stil_name&&C.graduierung_name&&C.pruefungsdatum)try{await i.post("/pruefungen-historisch",{mitglied_id:t,...C}),y(!1),H()}catch(A){console.error("Fehler beim Speichern:",A),alert("Fehler beim Speichern")}else alert("Bitte Stil, Graduierung und Datum eingeben")},style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #FFD700, #FFA500)",border:"none",borderRadius:"8px",color:"#000",fontWeight:"600",cursor:"pointer"},children:"Speichern"})]})]})}),v.length>0&&A.jsxs("div",{className:"field-group card",style:{marginTop:"1rem"},children:[A.jsx("h3",{children:"ğŸ“œ Vergangene PrÃ¼fungen (vor SystemeinfÃ¼hrung)"}),A.jsx("div",{style:{overflowX:"auto",marginTop:"1rem"},children:A.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem"},children:[A.jsx("thead",{children:A.jsxs("tr",{style:{borderBottom:"2px solid rgba(255, 215, 0, 0.3)"},children:[A.jsx("th",{style:{padding:"0.75rem",textAlign:"left",color:"#FFD700"},children:"Datum"}),A.jsx("th",{style:{padding:"0.75rem",textAlign:"left",color:"#FFD700"},children:"Stil"}),A.jsx("th",{style:{padding:"0.75rem",textAlign:"left",color:"#FFD700"},children:"Graduierung"}),A.jsx("th",{style:{padding:"0.75rem",textAlign:"left",color:"#FFD700"},children:"Bemerkung"}),A.jsx("th",{style:{padding:"0.75rem",textAlign:"center",color:"#FFD700"},children:"Aktion"})]})}),A.jsx("tbody",{children:v.map(e=>A.jsxs("tr",{style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[A.jsx("td",{style:{padding:"0.75rem"},children:new Date(e.pruefungsdatum).toLocaleDateString("de-DE")}),A.jsx("td",{style:{padding:"0.75rem"},children:e.stil_name}),A.jsx("td",{style:{padding:"0.75rem"},children:e.graduierung_name}),A.jsx("td",{style:{padding:"0.75rem",color:"rgba(255,255,255,0.6)"},children:e.bemerkung||"-"}),A.jsx("td",{style:{padding:"0.75rem",textAlign:"center"},children:!r&&A.jsx("button",{onClick:()=>I(e.id),style:{background:"rgba(239, 68, 68, 0.2)",border:"1px solid #ef4444",padding:"0.25rem 0.5rem",borderRadius:"4px",color:"#ef4444",cursor:"pointer",fontSize:"0.8rem"},children:A.jsx(f,{size:14})})})]},e.id))})]})})]})]})},Z=({mitgliedId:t,mitglied:r,isAdmin:n=!1})=>{const[s,a]=e.useState([]),[l,o]=e.useState([]),[d,c]=e.useState(!0),[g,u]=e.useState(!1),[h,B]=e.useState(null),[m,f]=e.useState([]),[w,x]=e.useState(!1),[b,Q]=e.useState(!1),[E,k]=e.useState(!1),[S,H]=e.useState(null),[I,D]=e.useState(null),[K,L]=e.useState({tarif_id:"",gekauft_am:(new Date).toISOString().split("T")[0],einheiten_gesamt:10});e.useEffect(()=>{t&&(z(),N())},[t]);const z=async()=>{try{c(!0);const A=await i.get(`/mitglieder/${t}/zehnerkarten`);A.data.success&&a(A.data.data||[])}catch(A){console.error("Fehler beim Laden der 10er-Karten:",A)}finally{c(!1)}},N=async()=>{var A;try{const e=await i.get("/tarife"),t=((null==(A=e.data)?void 0:A.data)||e.data||[]).filter(A=>A.name&&A.name.toLowerCase().includes("10er karte"));o(t)}catch(e){console.error("Fehler beim Laden der Tarife:",e)}},_=async A=>{try{x(!0);const e=await i.get(`/zehnerkarten/${A}/buchungen`);e.data.success&&f(e.data.data||[])}catch(e){console.error("Fehler beim Laden der Buchungen:",e)}finally{x(!1)}},T=e=>{switch(e){case"aktiv":return A.jsx(C,{size:20,color:"#10b981"});case"aufgebraucht":return A.jsx(j,{size:20,color:"#ef4444"});case"abgelaufen":return A.jsx(U,{size:20,color:"#f59e0b"});default:return A.jsx(y,{size:20})}},M=A=>{switch(A){case"aktiv":return"#10b981";case"aufgebraucht":return"#ef4444";case"abgelaufen":return"#f59e0b";default:return"#6b7280"}},R=A=>{if(!A)return"N/A";return new Date(A).toLocaleDateString("de-DE")};return d?A.jsxs("div",{style:{padding:"2rem",textAlign:"center"},children:[A.jsx("div",{className:"loading-spinner"}),A.jsx("p",{children:"Lade 10er-Karten..."})]}):A.jsxs("div",{style:{marginBottom:"2rem",background:"linear-gradient(135deg, rgba(30, 30, 40, 0.95) 0%, rgba(20, 20, 30, 0.98) 100%)",borderRadius:"16px",padding:"2rem",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.05)"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"2px solid rgba(255, 215, 0, 0.2)"},children:[A.jsx("h3",{style:{margin:0,fontSize:"1.8rem",fontWeight:"700",background:"linear-gradient(135deg, #FFD700 0%, #FFA500 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"10er-Karten Verwaltung"}),n&&A.jsx("button",{className:"neue-zehnerkarte-button",onClick:()=>u(!0),children:"â• Neue 10er-Karte"})]}),g&&n&&A.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.08)",border:"2px solid rgba(16, 185, 129, 0.3)",borderRadius:"12px",padding:"1.5rem",marginBottom:"2rem"},children:[A.jsx("h4",{style:{color:"#10B981",marginTop:0,marginBottom:"1rem"},children:"Neue 10er-Karte erstellen"}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[A.jsxs("div",{children:[A.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.9)"},children:"Tarif *"}),A.jsxs("select",{value:K.tarif_id,onChange:A=>L({...K,tarif_id:A.target.value}),style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.05)",color:"white",fontSize:"0.9rem"},children:[A.jsx("option",{value:"",children:"Tarif auswÃ¤hlen"}),l.map(e=>A.jsxs("option",{value:e.id,children:[e.name," - â‚¬",(e.price_cents/100).toFixed(2)]},e.id))]})]}),A.jsxs("div",{children:[A.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.9)"},children:"Kaufdatum"}),A.jsx("input",{type:"date",value:K.gekauft_am,onChange:A=>L({...K,gekauft_am:A.target.value}),style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.05)",color:"white",fontSize:"0.9rem"}})]}),A.jsxs("div",{children:[A.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.9)"},children:"Anzahl Einheiten"}),A.jsx("input",{type:"number",value:K.einheiten_gesamt,onChange:A=>L({...K,einheiten_gesamt:parseInt(A.target.value)||10}),min:"1",style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.05)",color:"white",fontSize:"0.9rem"}})]})]}),A.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[A.jsx("button",{onClick:async()=>{if(K.tarif_id)try{(await i.post(`/mitglieder/${t}/zehnerkarten`,K)).data.success&&(await z(),u(!1),L({tarif_id:"",gekauft_am:(new Date).toISOString().split("T")[0],einheiten_gesamt:10}),alert("âœ… 10er-Karte erfolgreich erstellt!"))}catch(A){console.error("Fehler beim Erstellen der 10er-Karte:",A),alert("âŒ Fehler beim Erstellen der 10er-Karte")}else alert("Bitte wÃ¤hlen Sie einen Tarif aus")},style:{background:"#10B981",color:"white",border:"none",borderRadius:"8px",padding:"0.75rem 1.5rem",fontSize:"0.9rem",fontWeight:"600",cursor:"pointer"},children:"Erstellen"}),A.jsx("button",{onClick:()=>u(!1),style:{background:"transparent",color:"#ef4444",border:"1px solid #ef4444",borderRadius:"8px",padding:"0.75rem 1.5rem",fontSize:"0.9rem",fontWeight:"600",cursor:"pointer"},children:"Abbrechen"})]})]}),0===s.length?A.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"rgba(255, 255, 255, 0.6)"},children:[A.jsx(y,{size:64,style:{opacity:.3,marginBottom:"1rem"}}),A.jsx("p",{style:{fontSize:"1.1rem",margin:0},children:"Keine 10er-Karten vorhanden"}),n&&A.jsx("p",{style:{fontSize:"0.9rem",marginTop:"0.5rem"},children:'Klicken Sie auf "Neue 10er-Karte", um eine zu erstellen'})]}):A.jsx("div",{style:{display:"grid",gap:"1.5rem"},children:s.map(e=>{const t=(e.einheiten_gesamt-e.einheiten_verbleibend)/e.einheiten_gesamt*100;new Date(e.gueltig_bis);const r=h===e.id;return A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.03)",border:`2px solid ${M(e.status)}`,borderRadius:"12px",padding:"1.5rem",transition:"all 0.3s ease"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[T(e.status),A.jsxs("div",{children:[A.jsx("h4",{style:{margin:0,fontSize:"1.2rem",color:"#10B981",fontWeight:"700"},children:e.tarif_name||"Unbekannter Tarif"}),A.jsxs("p",{style:{margin:"0.25rem 0 0 0",fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.6)"},children:["Gekauft am ",R(e.gekauft_am)," â€¢ GÃ¼ltig bis ",R(e.gueltig_bis)]})]})]}),A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[A.jsx("span",{style:{padding:"0.4rem 1rem",borderRadius:"20px",fontSize:"0.85rem",fontWeight:"600",background:`${M(e.status)}20`,color:M(e.status),border:`1px solid ${M(e.status)}`},children:e.status.toUpperCase()}),n&&"aktiv"===e.status&&A.jsxs("button",{onClick:()=>(async A=>{var e,t;if(window.confirm("MÃ¶chten Sie einen Check-in fÃ¼r heute durchfÃ¼hren?"))try{const e=await i.post(`/zehnerkarten/${A}/checkin`,{buchungsdatum:(new Date).toISOString().split("T")[0],notiz:"Check-in"});if(e.data.success)if(await z(),h===A&&await _(A),e.data.isLastUnit){const e=s.find(e=>e.id===A);e&&(H(e.tarif_id),Q(!0))}else alert(e.data.message||"âœ… Check-in erfolgreich!")}catch(r){console.error("Fehler beim Check-in:",r),alert((null==(t=null==(e=r.response)?void 0:e.data)?void 0:t.error)||"âŒ Fehler beim Check-in")}})(e.id),title:"Check-in durchfÃ¼hren",style:{background:"#10B981",color:"white",border:"none",borderRadius:"8px",padding:"0.5rem 1rem",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[A.jsx(C,{size:16}),"Check-in"]}),A.jsxs("button",{onClick:()=>(async A=>{h===A?(B(null),f([])):(B(A),await _(A))})(e.id),style:{background:"transparent",color:"#10B981",border:"1px solid #10B981",borderRadius:"8px",padding:"0.5rem 1rem",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[A.jsx(F,{size:16}),r?"Verbergen":"Historie"]}),n&&A.jsx("button",{onClick:()=>(async A=>{var e,t;if(window.confirm("MÃ¶chten Sie diese 10er-Karte wirklich lÃ¶schen? Dies ist nur mÃ¶glich, wenn noch keine Buchungen vorhanden sind."))try{(await i.delete(`/zehnerkarten/${A}`)).data.success&&(await z(),h===A&&(B(null),f([])),alert("âœ… 10er-Karte erfolgreich gelÃ¶scht"))}catch(r){console.error("Fehler beim LÃ¶schen:",r),alert((null==(t=null==(e=r.response)?void 0:e.data)?void 0:t.error)||"âŒ Fehler beim LÃ¶schen der 10er-Karte")}})(e.id),title:"LÃ¶schen",style:{background:"transparent",color:"#ef4444",border:"1px solid #ef4444",borderRadius:"8px",padding:"0.5rem",cursor:"pointer"},children:A.jsx(p,{size:16})})]})]}),A.jsxs("div",{style:{marginBottom:"1rem"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[A.jsxs("span",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.8)"},children:["Verbleibend: ",e.einheiten_verbleibend," / ",e.einheiten_gesamt]}),A.jsxs("span",{style:{fontSize:"0.9rem",color:"#10B981",fontWeight:"600"},children:[Math.round(t),"% genutzt"]})]}),A.jsx("div",{style:{width:"100%",height:"12px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"6px",overflow:"hidden"},children:A.jsx("div",{style:{width:`${t}%`,height:"100%",background:"aktiv"===e.status?"linear-gradient(90deg, #10B981 0%, #34D399 100%)":"aufgebraucht"===e.status?"linear-gradient(90deg, #ef4444 0%, #f87171 100%)":"linear-gradient(90deg, #f59e0b 0%, #fbbf24 100%)",transition:"width 0.5s ease",borderRadius:"6px"}})})]}),r&&A.jsxs("div",{style:{marginTop:"1.5rem",paddingTop:"1.5rem",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:[A.jsx("h5",{style:{margin:"0 0 1rem 0",fontSize:"1rem",color:"#10B981",fontWeight:"600"},children:"ğŸ“… Check-in Historie"}),w?A.jsx("div",{style:{textAlign:"center",padding:"1rem"},children:"Lade Buchungen..."}):0===m.length?A.jsx("div",{style:{textAlign:"center",padding:"1rem",color:"rgba(255, 255, 255, 0.6)",fontSize:"0.9rem"},children:"Noch keine Check-ins durchgefÃ¼hrt"}):A.jsx("div",{style:{maxHeight:"300px",overflowY:"auto",background:"rgba(0, 0, 0, 0.2)",borderRadius:"8px",padding:"0.5rem"},children:m.map((e,t)=>A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",background:t%2==0?"rgba(255, 255, 255, 0.03)":"transparent",borderRadius:"6px",fontSize:"0.9rem"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[A.jsx(v,{size:16,color:"#10B981"}),A.jsx("span",{style:{color:"rgba(255, 255, 255, 0.9)"},children:R(e.buchungsdatum)}),e.notiz&&A.jsxs("span",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.6)",fontStyle:"italic"},children:["(",e.notiz,")"]})]}),A.jsxs("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"12px",background:"rgba(16, 185, 129, 0.2)",color:"#10B981",fontSize:"0.8rem",fontWeight:"600"},children:["-",e.einheiten," Einheit"]})]},e.id))})]})]},e.id)})}),b&&A.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},children:A.jsxs("div",{style:{background:"linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%)",borderRadius:"16px",padding:"2.5rem",maxWidth:"500px",width:"90%",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5)",border:"2px solid rgba(16, 185, 129, 0.3)",textAlign:"center"},children:[A.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:"ğŸ«"}),A.jsx("h2",{style:{color:"#10B981",fontSize:"1.8rem",marginBottom:"1rem",fontWeight:"700"},children:"10er-Karte aufgebraucht!"}),A.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"1.1rem",marginBottom:"2rem",lineHeight:"1.6"},children:["Ihre 10er-Karte ist nun vollstÃ¤ndig verbraucht.",A.jsx("br",{}),"MÃ¶chten Sie eine neue 10er-Karte kaufen?"]}),A.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[A.jsx("button",{onClick:()=>{Q(!1),k(!0)},style:{background:"linear-gradient(135deg, #10B981 0%, #34D399 100%)",color:"white",border:"none",borderRadius:"12px",padding:"1rem 2.5rem",fontSize:"1.1rem",fontWeight:"700",cursor:"pointer",boxShadow:"0 4px 15px rgba(16, 185, 129, 0.4)",transition:"all 0.3s ease"},onMouseEnter:A=>{A.currentTarget.style.transform="translateY(-2px)",A.currentTarget.style.boxShadow="0 6px 20px rgba(16, 185, 129, 0.5)"},onMouseLeave:A=>{A.currentTarget.style.transform="translateY(0)",A.currentTarget.style.boxShadow="0 4px 15px rgba(16, 185, 129, 0.4)"},children:"âœ… Ja, neue Karte kaufen"}),A.jsx("button",{onClick:()=>{Q(!1),H(null)},style:{background:"transparent",color:"#ef4444",border:"2px solid #ef4444",borderRadius:"12px",padding:"1rem 2.5rem",fontSize:"1.1rem",fontWeight:"700",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:A=>{A.currentTarget.style.background="#ef4444",A.currentTarget.style.color="white"},onMouseLeave:A=>{A.currentTarget.style.background="transparent",A.currentTarget.style.color="#ef4444"},children:"âŒ Nein, danke"})]})]})}),E&&A.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10001},children:A.jsxs("div",{style:{background:"linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%)",borderRadius:"16px",padding:"2.5rem",maxWidth:"600px",width:"90%",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5)",border:"2px solid rgba(16, 185, 129, 0.3)"},children:[A.jsx("h2",{style:{color:"#10B981",fontSize:"1.8rem",marginBottom:"1.5rem",fontWeight:"700",textAlign:"center"},children:"ğŸ’³ Zahlungsart wÃ¤hlen"}),A.jsxs("div",{style:{display:"grid",gap:"1rem",marginBottom:"2rem"},children:[A.jsx("div",{onClick:()=>D("bar"),style:{background:"bar"===I?"linear-gradient(135deg, rgba(16, 185, 129, 0.2) 0%, rgba(52, 211, 153, 0.2) 100%)":"rgba(255, 255, 255, 0.03)",border:"bar"===I?"2px solid #10B981":"2px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"1.5rem",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:A=>{"bar"!==I&&(A.currentTarget.style.borderColor="rgba(16, 185, 129, 0.5)")},onMouseLeave:A=>{"bar"!==I&&(A.currentTarget.style.borderColor="rgba(255, 255, 255, 0.1)")},children:A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[A.jsx("div",{style:{fontSize:"2.5rem"},children:"ğŸ’µ"}),A.jsxs("div",{style:{flex:1},children:[A.jsx("h4",{style:{margin:0,fontSize:"1.2rem",color:"#10B981",fontWeight:"700"},children:"Barzahlung"}),A.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)"},children:"Der Admin wird informiert, dass Sie bar bezahlen mÃ¶chten"})]}),"bar"===I&&A.jsx(C,{size:32,color:"#10B981"})]})}),A.jsx("div",{onClick:()=>D("lastschrift"),style:{background:"lastschrift"===I?"linear-gradient(135deg, rgba(16, 185, 129, 0.2) 0%, rgba(52, 211, 153, 0.2) 100%)":"rgba(255, 255, 255, 0.03)",border:"lastschrift"===I?"2px solid #10B981":"2px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"1.5rem",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:A=>{"lastschrift"!==I&&(A.currentTarget.style.borderColor="rgba(16, 185, 129, 0.5)")},onMouseLeave:A=>{"lastschrift"!==I&&(A.currentTarget.style.borderColor="rgba(255, 255, 255, 0.1)")},children:A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[A.jsx("div",{style:{fontSize:"2.5rem"},children:"ğŸ¦"}),A.jsxs("div",{style:{flex:1},children:[A.jsx("h4",{style:{margin:0,fontSize:"1.2rem",color:"#10B981",fontWeight:"700"},children:"SEPA-Lastschrift"}),A.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)"},children:"Der Betrag wird bei der nÃ¤chsten Lastschrift eingezogen"})]}),"lastschrift"===I&&A.jsx(C,{size:32,color:"#10B981"})]})}),A.jsx("div",{onClick:()=>D("rechnung"),style:{background:"rechnung"===I?"linear-gradient(135deg, rgba(16, 185, 129, 0.2) 0%, rgba(52, 211, 153, 0.2) 100%)":"rgba(255, 255, 255, 0.03)",border:"rechnung"===I?"2px solid #10B981":"2px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"1.5rem",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:A=>{"rechnung"!==I&&(A.currentTarget.style.borderColor="rgba(16, 185, 129, 0.5)")},onMouseLeave:A=>{"rechnung"!==I&&(A.currentTarget.style.borderColor="rgba(255, 255, 255, 0.1)")},children:A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[A.jsx("div",{style:{fontSize:"2.5rem"},children:"ğŸ“§"}),A.jsxs("div",{style:{flex:1},children:[A.jsx("h4",{style:{margin:0,fontSize:"1.2rem",color:"#10B981",fontWeight:"700"},children:"Rechnung per E-Mail"}),A.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)"},children:"Sie erhalten eine Rechnung per E-Mail"})]}),"rechnung"===I&&A.jsx(C,{size:32,color:"#10B981"})]})})]}),A.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[A.jsx("button",{onClick:async()=>{var A,e;if(I)try{if((await i.post("/zehnerkarten/nachkauf",{mitglied_id:t,tarif_id:S,zahlungsart:I,einheiten_gesamt:10})).data.success){await z(),k(!1),Q(!1),D(null),H(null);let A="âœ… 10er-Karte erfolgreich erstellt!\n\n";"bar"===I?A+="ğŸ’µ Hinweis: Der Admin wurde Ã¼ber die Barzahlung informiert.":"lastschrift"===I?A+="ğŸ¦ Der Betrag wird bei der nÃ¤chsten SEPA-Buchung eingezogen.":"rechnung"===I&&(A+="ğŸ“§ Die Rechnung wird per E-Mail versendet."),alert(A)}}catch(r){console.error("Fehler beim Nachkauf:",r),alert((null==(e=null==(A=r.response)?void 0:A.data)?void 0:e.error)||"âŒ Fehler beim Erstellen der 10er-Karte")}else alert("Bitte wÃ¤hlen Sie eine Zahlungsart aus")},disabled:!I,style:{background:I?"linear-gradient(135deg, #10B981 0%, #34D399 100%)":"rgba(255, 255, 255, 0.1)",color:I?"white":"rgba(255, 255, 255, 0.5)",border:"none",borderRadius:"12px",padding:"1rem 2.5rem",fontSize:"1.1rem",fontWeight:"700",cursor:I?"pointer":"not-allowed",boxShadow:I?"0 4px 15px rgba(16, 185, 129, 0.4)":"none",transition:"all 0.3s ease"},onMouseEnter:A=>{I&&(A.currentTarget.style.transform="translateY(-2px)",A.currentTarget.style.boxShadow="0 6px 20px rgba(16, 185, 129, 0.5)")},onMouseLeave:A=>{I&&(A.currentTarget.style.transform="translateY(0)",A.currentTarget.style.boxShadow="0 4px 15px rgba(16, 185, 129, 0.4)")},children:"âœ… BestÃ¤tigen"}),A.jsx("button",{onClick:()=>{k(!1),D(null),H(null)},style:{background:"transparent",color:"#ef4444",border:"2px solid #ef4444",borderRadius:"12px",padding:"1rem 2.5rem",fontSize:"1.1rem",fontWeight:"700",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:A=>{A.currentTarget.style.background="#ef4444",A.currentTarget.style.color="white"},onMouseLeave:A=>{A.currentTarget.style.background="transparent",A.currentTarget.style.color="#ef4444"},children:"âŒ Abbrechen"})]})]})})]})},$=({mitgliedId:e})=>A.jsxs("div",{className:"referral-code-verwaltung",children:[A.jsx("h3",{children:"Empfehlungscode"}),A.jsx("p",{children:"Empfehlen Sie Freunde und erhalten Sie Boni"})]}),q=({mitglied:t,dojo:r,onClose:n,isModal:i=!0})=>{const s=e.useRef(null);if(!t)return null;const a=`DOJO-MEMBER:${t.mitglied_id}:${(null==r?void 0:r.id)||0}:${t.mitgliedsnummer||t.mitglied_id}`,l=`https://quickchart.io/qr?text=${encodeURIComponent(a)}&size=150&dark=1a1a2e&light=ffffff`,o=A=>A?new Date(A).toLocaleDateString("de-DE"):"-",d=()=>"aktiv"===t.status||"aktiv"===t.vertrag_status,c=A.jsxs("div",{className:"mitglieds-ausweis-container",ref:s,children:[A.jsxs("div",{className:"mitglieds-ausweis",children:[A.jsxs("div",{className:"ausweis-header",children:[(null==r?void 0:r.logo_url)?A.jsx("img",{src:r.logo_url,alt:"Dojo Logo",className:"dojo-logo"}):A.jsx("div",{className:"dojo-logo-placeholder",children:"ğŸ¥‹"}),A.jsxs("div",{className:"ausweis-title",children:[A.jsx("h3",{children:(null==r?void 0:r.dojoname)||"Kampfkunstschule"}),A.jsx("p",{children:"Mitgliedsausweis"})]})]}),A.jsx("div",{className:"ausweis-foto",children:t.foto_url?A.jsx("img",{src:t.foto_url,alt:"Mitgliedsfoto"}):A.jsx("span",{className:"foto-placeholder",children:"ğŸ‘¤"})}),A.jsxs("div",{className:"ausweis-name",children:[t.vorname," ",t.nachname]}),t.graduierung&&A.jsx("div",{className:"ausweis-graduierung",children:t.graduierung}),A.jsxs("div",{className:"ausweis-details",children:[A.jsxs("div",{className:"ausweis-detail",children:[A.jsx("label",{children:"Mitgliedsnr."}),A.jsx("span",{children:t.mitgliedsnummer||`M-${t.mitglied_id}`})]}),A.jsxs("div",{className:"ausweis-detail",children:[A.jsx("label",{children:"Mitglied seit"}),A.jsx("span",{children:o(t.eintrittsdatum||t.created_at)})]}),A.jsxs("div",{className:"ausweis-detail",children:[A.jsx("label",{children:"Geburtsdatum"}),A.jsx("span",{children:o(t.geburtsdatum)})]}),A.jsxs("div",{className:"ausweis-detail",children:[A.jsx("label",{children:"Stil"}),A.jsx("span",{children:t.stil||t.kampfkunst||"-"})]})]}),A.jsx("div",{className:"ausweis-qr",children:A.jsx("img",{src:l,alt:"QR Code",width:"150",height:"150"})}),A.jsx("div",{className:"ausweis-status "+(d()?"valid":"invalid"),children:d()?A.jsx(A.Fragment,{children:"âœ“ Aktives Mitglied"}):A.jsx(A.Fragment,{children:"âš  Mitgliedschaft inaktiv"})}),A.jsxs("div",{className:"ausweis-footer",children:[(null==r?void 0:r.telefon)&&A.jsxs("span",{children:["ğŸ“ ",r.telefon]}),(null==r?void 0:r.email)&&A.jsxs("span",{children:["âœ‰ï¸ ",r.email]})]})]}),A.jsx("div",{className:"ausweis-actions no-print",children:A.jsxs("button",{onClick:()=>{window.print()},className:"btn-ausweis",children:[A.jsx(E,{size:16}),"Drucken"]})})]});return i?A.jsx("div",{className:"ausweis-modal-overlay",onClick:n,children:A.jsxs("div",{className:"ausweis-modal",onClick:A=>A.stopPropagation(),children:[A.jsx("button",{className:"ausweis-close",onClick:n,children:A.jsx(f,{size:24})}),c]})}):c};
/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var AA=function(A,e){return(AA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,e){A.__proto__=e}||function(A,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(A[t]=e[t])})(A,e)};function eA(A,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=A}AA(A,e),A.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}var tA=function(){return tA=Object.assign||function(A){for(var e,t=1,r=arguments.length;t<r;t++)for(var n in e=arguments[t])Object.prototype.hasOwnProperty.call(e,n)&&(A[n]=e[n]);return A},tA.apply(this,arguments)};function rA(A,e,t,r){return new(t||(t=Promise))(function(e,n){function i(A){try{a(r.next(A))}catch(e){n(e)}}function s(A){try{a(r.throw(A))}catch(e){n(e)}}function a(A){var r;A.done?e(A.value):(r=A.value,r instanceof t?r:new t(function(A){A(r)})).then(i,s)}a((r=r.apply(A,[])).next())})}function nA(A,e){var t,r,n,i,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;s;)try{if(t=1,r&&(n=2&i[0]?r.return:i[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){s.label=i[1];break}if(6===i[0]&&s.label<n[1]){s.label=n[1],n=i;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(i);break}n[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(A,s)}catch(a){i=[6,a],r=0}finally{t=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function iA(A,e,t){if(2===arguments.length)for(var r,n=0,i=e.length;n<i;n++)!r&&n in e||(r||(r=Array.prototype.slice.call(e,0,n)),r[n]=e[n]);return A.concat(r||e)}for(var sA=function(){function A(A,e,t,r){this.left=A,this.top=e,this.width=t,this.height=r}return A.prototype.add=function(e,t,r,n){return new A(this.left+e,this.top+t,this.width+r,this.height+n)},A.fromClientRect=function(e,t){return new A(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},A.fromDOMRectList=function(e,t){var r=Array.from(t).find(function(A){return 0!==A.width});return r?new A(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):A.EMPTY},A.EMPTY=new A(0,0,0,0),A}(),aA=function(A,e){return sA.fromClientRect(A,e.getBoundingClientRect())},lA=function(A){for(var e=[],t=0,r=A.length;t<r;){var n=A.charCodeAt(t++);if(n>=55296&&n<=56319&&t<r){var i=A.charCodeAt(t++);56320==(64512&i)?e.push(((1023&n)<<10)+(1023&i)+65536):(e.push(n),t--)}else e.push(n)}return e},oA=function(){for(var A=[],e=0;e<arguments.length;e++)A[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,A);var t=A.length;if(!t)return"";for(var r=[],n=-1,i="";++n<t;){var s=A[n];s<=65535?r.push(s):(s-=65536,r.push(55296+(s>>10),s%1024+56320)),(n+1===t||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},dA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cA="undefined"==typeof Uint8Array?[]:new Uint8Array(256),gA=0;gA<64;gA++)cA[dA.charCodeAt(gA)]=gA;for(var uA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hA="undefined"==typeof Uint8Array?[]:new Uint8Array(256),BA=0;BA<64;BA++)hA[uA.charCodeAt(BA)]=BA;for(var mA=function(A,e,t){return A.slice?A.slice(e,t):new Uint16Array(Array.prototype.slice.call(A,e,t))},pA=function(){function A(A,e,t,r,n,i){this.initialValue=A,this.errorValue=e,this.highStart=t,this.highValueIndex=r,this.index=n,this.data=i}return A.prototype.get=function(A){var e;if(A>=0){if(A<55296||A>56319&&A<=65535)return e=((e=this.index[A>>5])<<2)+(31&A),this.data[e];if(A<=65535)return e=((e=this.index[2048+(A-55296>>5)])<<2)+(31&A),this.data[e];if(A<this.highStart)return e=2080+(A>>11),e=this.index[e],e+=A>>5&63,e=((e=this.index[e])<<2)+(31&A),this.data[e];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},A}(),fA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wA="undefined"==typeof Uint8Array?[]:new Uint8Array(256),xA=0;xA<64;xA++)wA[fA.charCodeAt(xA)]=xA;var bA,QA,yA,CA,FA,vA,UA,jA,EA=10,kA=13,SA=15,HA=17,IA=18,DA=19,KA=20,LA=21,zA=22,NA=24,_A=25,TA=26,MA=27,RA=28,GA=30,VA=32,OA=33,WA=34,PA=35,JA=37,XA=38,YA=39,ZA=40,$A=42,qA=[9001,65288],Ae="Ã—",ee="Ã·",te=(CA=function(A){var e,t,r,n,i,s=.75*A.length,a=A.length,l=0;"="===A[A.length-1]&&(s--,"="===A[A.length-2]&&s--);var o="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(s):new Array(s),d=Array.isArray(o)?o:new Uint8Array(o);for(e=0;e<a;e+=4)t=hA[A.charCodeAt(e)],r=hA[A.charCodeAt(e+1)],n=hA[A.charCodeAt(e+2)],i=hA[A.charCodeAt(e+3)],d[l++]=t<<2|r>>4,d[l++]=(15&r)<<4|n>>2,d[l++]=(3&n)<<6|63&i;return o}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),FA=Array.isArray(CA)?function(A){for(var e=A.length,t=[],r=0;r<e;r+=4)t.push(A[r+3]<<24|A[r+2]<<16|A[r+1]<<8|A[r]);return t}(CA):new Uint32Array(CA),vA=Array.isArray(CA)?function(A){for(var e=A.length,t=[],r=0;r<e;r+=2)t.push(A[r+1]<<8|A[r]);return t}(CA):new Uint16Array(CA),UA=mA(vA,12,FA[4]/2),jA=2===FA[5]?mA(vA,(24+FA[4])/2):(bA=FA,QA=Math.ceil((24+FA[4])/4),bA.slice?bA.slice(QA,yA):new Uint32Array(Array.prototype.slice.call(bA,QA,yA))),new pA(FA[0],FA[1],FA[2],FA[3],UA,jA)),re=[GA,36],ne=[1,2,3,5],ie=[EA,8],se=[MA,TA],ae=ne.concat(ie),le=[XA,YA,ZA,WA,PA],oe=[SA,kA],de=function(A,e,t,r){var n=r[t];if(Array.isArray(A)?-1!==A.indexOf(n):A===n)for(var i=t;i<=r.length;){if((l=r[++i])===e)return!0;if(l!==EA)break}if(n===EA)for(i=t;i>0;){var s=r[--i];if(Array.isArray(A)?-1!==A.indexOf(s):A===s)for(var a=t;a<=r.length;){var l;if((l=r[++a])===e)return!0;if(l!==EA)break}if(s!==EA)break}return!1},ce=function(A,e){for(var t=A;t>=0;){var r=e[t];if(r!==EA)return r;t--}return 0},ge=function(A,e,t,r,n){if(0===t[r])return Ae;var i=r-1;if(Array.isArray(n)&&!0===n[i])return Ae;var s=i-1,a=i+1,l=e[i],o=s>=0?e[s]:0,d=e[a];if(2===l&&3===d)return Ae;if(-1!==ne.indexOf(l))return"!";if(-1!==ne.indexOf(d))return Ae;if(-1!==ie.indexOf(d))return Ae;if(8===ce(i,e))return ee;if(11===te.get(A[i]))return Ae;if((l===VA||l===OA)&&11===te.get(A[a]))return Ae;if(7===l||7===d)return Ae;if(9===l)return Ae;if(-1===[EA,kA,SA].indexOf(l)&&9===d)return Ae;if(-1!==[HA,IA,DA,NA,RA].indexOf(d))return Ae;if(ce(i,e)===zA)return Ae;if(de(23,zA,i,e))return Ae;if(de([HA,IA],LA,i,e))return Ae;if(de(12,12,i,e))return Ae;if(l===EA)return ee;if(23===l||23===d)return Ae;if(16===d||16===l)return ee;if(-1!==[kA,SA,LA].indexOf(d)||14===l)return Ae;if(36===o&&-1!==oe.indexOf(l))return Ae;if(l===RA&&36===d)return Ae;if(d===KA)return Ae;if(-1!==re.indexOf(d)&&l===_A||-1!==re.indexOf(l)&&d===_A)return Ae;if(l===MA&&-1!==[JA,VA,OA].indexOf(d)||-1!==[JA,VA,OA].indexOf(l)&&d===TA)return Ae;if(-1!==re.indexOf(l)&&-1!==se.indexOf(d)||-1!==se.indexOf(l)&&-1!==re.indexOf(d))return Ae;if(-1!==[MA,TA].indexOf(l)&&(d===_A||-1!==[zA,SA].indexOf(d)&&e[a+1]===_A)||-1!==[zA,SA].indexOf(l)&&d===_A||l===_A&&-1!==[_A,RA,NA].indexOf(d))return Ae;if(-1!==[_A,RA,NA,HA,IA].indexOf(d))for(var c=i;c>=0;){if((g=e[c])===_A)return Ae;if(-1===[RA,NA].indexOf(g))break;c--}if(-1!==[MA,TA].indexOf(d))for(c=-1!==[HA,IA].indexOf(l)?s:i;c>=0;){var g;if((g=e[c])===_A)return Ae;if(-1===[RA,NA].indexOf(g))break;c--}if(XA===l&&-1!==[XA,YA,WA,PA].indexOf(d)||-1!==[YA,WA].indexOf(l)&&-1!==[YA,ZA].indexOf(d)||-1!==[ZA,PA].indexOf(l)&&d===ZA)return Ae;if(-1!==le.indexOf(l)&&-1!==[KA,TA].indexOf(d)||-1!==le.indexOf(d)&&l===MA)return Ae;if(-1!==re.indexOf(l)&&-1!==re.indexOf(d))return Ae;if(l===NA&&-1!==re.indexOf(d))return Ae;if(-1!==re.concat(_A).indexOf(l)&&d===zA&&-1===qA.indexOf(A[a])||-1!==re.concat(_A).indexOf(d)&&l===IA)return Ae;if(41===l&&41===d){for(var u=t[i],h=1;u>0&&41===e[--u];)h++;if(h%2!=0)return Ae}return l===VA&&d===OA?Ae:ee},ue=function(A,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=function(A,e){void 0===e&&(e="strict");var t=[],r=[],n=[];return A.forEach(function(A,i){var s=te.get(A);if(s>50?(n.push(!0),s-=50):n.push(!1),-1!==["normal","auto","loose"].indexOf(e)&&-1!==[8208,8211,12316,12448].indexOf(A))return r.push(i),t.push(16);if(4===s||11===s){if(0===i)return r.push(i),t.push(GA);var a=t[i-1];return-1===ae.indexOf(a)?(r.push(r[i-1]),t.push(a)):(r.push(i),t.push(GA))}return r.push(i),31===s?t.push("strict"===e?LA:JA):s===$A||29===s?t.push(GA):43===s?A>=131072&&A<=196605||A>=196608&&A<=262141?t.push(JA):t.push(GA):void t.push(s)}),[r,t,n]}(A,e.lineBreak),r=t[0],n=t[1],i=t[2];"break-all"!==e.wordBreak&&"break-word"!==e.wordBreak||(n=n.map(function(A){return-1!==[_A,GA,$A].indexOf(A)?JA:A}));var s="keep-all"===e.wordBreak?i.map(function(e,t){return e&&A[t]>=19968&&A[t]<=40959}):void 0;return[r,n,s]},he=function(){function A(A,e,t,r){this.codePoints=A,this.required="!"===e,this.start=t,this.end=r}return A.prototype.slice=function(){return oA.apply(void 0,this.codePoints.slice(this.start,this.end))},A}(),Be=45,me=43,pe=-1,fe=function(A){return A>=48&&A<=57},we=function(A){return fe(A)||A>=65&&A<=70||A>=97&&A<=102},xe=function(A){return 10===A||9===A||32===A},be=function(A){return function(A){return function(A){return A>=97&&A<=122}(A)||function(A){return A>=65&&A<=90}(A)}(A)||function(A){return A>=128}(A)||95===A},Qe=function(A){return be(A)||fe(A)||A===Be},ye=function(A){return A>=0&&A<=8||11===A||A>=14&&A<=31||127===A},Ce=function(A,e){return 92===A&&10!==e},Fe=function(A,e,t){return A===Be?be(e)||Ce(e,t):!!be(A)||!(92!==A||!Ce(A,e))},ve=function(A,e,t){return A===me||A===Be?!!fe(e)||46===e&&fe(t):fe(46===A?e:A)},Ue=function(A){var e=0,t=1;A[e]!==me&&A[e]!==Be||(A[e]===Be&&(t=-1),e++);for(var r=[];fe(A[e]);)r.push(A[e++]);var n=r.length?parseInt(oA.apply(void 0,r),10):0;46===A[e]&&e++;for(var i=[];fe(A[e]);)i.push(A[e++]);var s=i.length,a=s?parseInt(oA.apply(void 0,i),10):0;69!==A[e]&&101!==A[e]||e++;var l=1;A[e]!==me&&A[e]!==Be||(A[e]===Be&&(l=-1),e++);for(var o=[];fe(A[e]);)o.push(A[e++]);var d=o.length?parseInt(oA.apply(void 0,o),10):0;return t*(n+a*Math.pow(10,-s))*Math.pow(10,l*d)},je={type:2},Ee={type:3},ke={type:4},Se={type:13},He={type:8},Ie={type:21},De={type:9},Ke={type:10},Le={type:11},ze={type:12},Ne={type:14},_e={type:23},Te={type:1},Me={type:25},Re={type:24},Ge={type:26},Ve={type:27},Oe={type:28},We={type:29},Pe={type:31},Je={type:32},Xe=function(){function A(){this._value=[]}return A.prototype.write=function(A){this._value=this._value.concat(lA(A))},A.prototype.read=function(){for(var A=[],e=this.consumeToken();e!==Je;)A.push(e),e=this.consumeToken();return A},A.prototype.consumeToken=function(){var A=this.consumeCodePoint();switch(A){case 34:return this.consumeStringToken(34);case 35:var e=this.peekCodePoint(0),t=this.peekCodePoint(1),r=this.peekCodePoint(2);if(Qe(e)||Ce(t,r)){var n=Fe(e,t,r)?2:1;return{type:5,value:this.consumeName(),flags:n}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Se;break;case 39:return this.consumeStringToken(39);case 40:return je;case 41:return Ee;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ne;break;case me:if(ve(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case 44:return ke;case Be:var i=A,s=this.peekCodePoint(0),a=this.peekCodePoint(1);if(ve(i,s,a))return this.reconsumeCodePoint(A),this.consumeNumericToken();if(Fe(i,s,a))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();if(s===Be&&62===a)return this.consumeCodePoint(),this.consumeCodePoint(),Re;break;case 46:if(ve(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(42===l&&47===(l=this.consumeCodePoint()))return this.consumeToken();if(l===pe)return this.consumeToken()}break;case 58:return Ge;case 59:return Ve;case 60:if(33===this.peekCodePoint(0)&&this.peekCodePoint(1)===Be&&this.peekCodePoint(2)===Be)return this.consumeCodePoint(),this.consumeCodePoint(),Me;break;case 64:var o=this.peekCodePoint(0),d=this.peekCodePoint(1),c=this.peekCodePoint(2);if(Fe(o,d,c))return{type:7,value:this.consumeName()};break;case 91:return Oe;case 92:if(Ce(A,this.peekCodePoint(0)))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();break;case 93:return We;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),He;break;case 123:return Le;case 125:return ze;case 117:case 85:var g=this.peekCodePoint(0),u=this.peekCodePoint(1);return g!==me||!we(u)&&63!==u||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(A),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),De;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),Ie;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ke;break;case pe:return Je}return xe(A)?(this.consumeWhiteSpace(),Pe):fe(A)?(this.reconsumeCodePoint(A),this.consumeNumericToken()):be(A)?(this.reconsumeCodePoint(A),this.consumeIdentLikeToken()):{type:6,value:oA(A)}},A.prototype.consumeCodePoint=function(){var A=this._value.shift();return void 0===A?-1:A},A.prototype.reconsumeCodePoint=function(A){this._value.unshift(A)},A.prototype.peekCodePoint=function(A){return A>=this._value.length?-1:this._value[A]},A.prototype.consumeUnicodeRangeToken=function(){for(var A=[],e=this.consumeCodePoint();we(e)&&A.length<6;)A.push(e),e=this.consumeCodePoint();for(var t=!1;63===e&&A.length<6;)A.push(e),e=this.consumeCodePoint(),t=!0;if(t)return{type:30,start:parseInt(oA.apply(void 0,A.map(function(A){return 63===A?48:A})),16),end:parseInt(oA.apply(void 0,A.map(function(A){return 63===A?70:A})),16)};var r=parseInt(oA.apply(void 0,A),16);if(this.peekCodePoint(0)===Be&&we(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var n=[];we(e)&&n.length<6;)n.push(e),e=this.consumeCodePoint();return{type:30,start:r,end:parseInt(oA.apply(void 0,n),16)}}return{type:30,start:r,end:r}},A.prototype.consumeIdentLikeToken=function(){var A=this.consumeName();return"url"===A.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:A}):{type:20,value:A}},A.prototype.consumeUrlToken=function(){var A=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===pe)return{type:22,value:""};var e=this.peekCodePoint(0);if(39===e||34===e){var t=this.consumeStringToken(this.consumeCodePoint());return 0===t.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===pe||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:t.value}):(this.consumeBadUrlRemnants(),_e)}for(;;){var r=this.consumeCodePoint();if(r===pe||41===r)return{type:22,value:oA.apply(void 0,A)};if(xe(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===pe||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:oA.apply(void 0,A)}):(this.consumeBadUrlRemnants(),_e);if(34===r||39===r||40===r||ye(r))return this.consumeBadUrlRemnants(),_e;if(92===r){if(!Ce(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),_e;A.push(this.consumeEscapedCodePoint())}else A.push(r)}},A.prototype.consumeWhiteSpace=function(){for(;xe(this.peekCodePoint(0));)this.consumeCodePoint()},A.prototype.consumeBadUrlRemnants=function(){for(;;){var A=this.consumeCodePoint();if(41===A||A===pe)return;Ce(A,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},A.prototype.consumeStringSlice=function(A){for(var e="";A>0;){var t=Math.min(5e4,A);e+=oA.apply(void 0,this._value.splice(0,t)),A-=t}return this._value.shift(),e},A.prototype.consumeStringToken=function(A){for(var e="",t=0;;){var r=this._value[t];if(r===pe||void 0===r||r===A)return{type:0,value:e+=this.consumeStringSlice(t)};if(10===r)return this._value.splice(0,t),Te;if(92===r){var n=this._value[t+1];n!==pe&&void 0!==n&&(10===n?(e+=this.consumeStringSlice(t),t=-1,this._value.shift()):Ce(r,n)&&(e+=this.consumeStringSlice(t),e+=oA(this.consumeEscapedCodePoint()),t=-1))}t++}},A.prototype.consumeNumber=function(){var A=[],e=4,t=this.peekCodePoint(0);for(t!==me&&t!==Be||A.push(this.consumeCodePoint());fe(this.peekCodePoint(0));)A.push(this.consumeCodePoint());t=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(46===t&&fe(r))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;fe(this.peekCodePoint(0));)A.push(this.consumeCodePoint());t=this.peekCodePoint(0),r=this.peekCodePoint(1);var n=this.peekCodePoint(2);if((69===t||101===t)&&((r===me||r===Be)&&fe(n)||fe(r)))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;fe(this.peekCodePoint(0));)A.push(this.consumeCodePoint());return[Ue(A),e]},A.prototype.consumeNumericToken=function(){var A=this.consumeNumber(),e=A[0],t=A[1],r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);return Fe(r,n,i)?{type:15,number:e,flags:t,unit:this.consumeName()}:37===r?(this.consumeCodePoint(),{type:16,number:e,flags:t}):{type:17,number:e,flags:t}},A.prototype.consumeEscapedCodePoint=function(){var A=this.consumeCodePoint();if(we(A)){for(var e=oA(A);we(this.peekCodePoint(0))&&e.length<6;)e+=oA(this.consumeCodePoint());xe(this.peekCodePoint(0))&&this.consumeCodePoint();var t=parseInt(e,16);return 0===t||function(A){return A>=55296&&A<=57343}(t)||t>1114111?65533:t}return A===pe?65533:A},A.prototype.consumeName=function(){for(var A="";;){var e=this.consumeCodePoint();if(Qe(e))A+=oA(e);else{if(!Ce(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),A;A+=oA(this.consumeEscapedCodePoint())}}},A}(),Ye=function(){function A(A){this._tokens=A}return A.create=function(e){var t=new Xe;return t.write(e),new A(t.read())},A.parseValue=function(e){return A.create(e).parseComponentValue()},A.parseValues=function(e){return A.create(e).parseComponentValues()},A.prototype.parseComponentValue=function(){for(var A=this.consumeToken();31===A.type;)A=this.consumeToken();if(32===A.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(A);var e=this.consumeComponentValue();do{A=this.consumeToken()}while(31===A.type);if(32===A.type)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},A.prototype.parseComponentValues=function(){for(var A=[];;){var e=this.consumeComponentValue();if(32===e.type)return A;A.push(e),A.push()}},A.prototype.consumeComponentValue=function(){var A=this.consumeToken();switch(A.type){case 11:case 28:case 2:return this.consumeSimpleBlock(A.type);case 19:return this.consumeFunction(A)}return A},A.prototype.consumeSimpleBlock=function(A){for(var e={type:A,values:[]},t=this.consumeToken();;){if(32===t.type||it(t,A))return e;this.reconsumeToken(t),e.values.push(this.consumeComponentValue()),t=this.consumeToken()}},A.prototype.consumeFunction=function(A){for(var e={name:A.value,values:[],type:18};;){var t=this.consumeToken();if(32===t.type||3===t.type)return e;this.reconsumeToken(t),e.values.push(this.consumeComponentValue())}},A.prototype.consumeToken=function(){var A=this._tokens.shift();return void 0===A?Je:A},A.prototype.reconsumeToken=function(A){this._tokens.unshift(A)},A}(),Ze=function(A){return 15===A.type},$e=function(A){return 17===A.type},qe=function(A){return 20===A.type},At=function(A){return 0===A.type},et=function(A,e){return qe(A)&&A.value===e},tt=function(A){return 31!==A.type},rt=function(A){return 31!==A.type&&4!==A.type},nt=function(A){var e=[],t=[];return A.forEach(function(A){if(4===A.type){if(0===t.length)throw new Error("Error parsing function args, zero tokens for arg");return e.push(t),void(t=[])}31!==A.type&&t.push(A)}),t.length&&e.push(t),e},it=function(A,e){return 11===e&&12===A.type||(28===e&&29===A.type||2===e&&3===A.type)},st=function(A){return 17===A.type||15===A.type},at=function(A){return 16===A.type||st(A)},lt=function(A){return A.length>1?[A[0],A[1]]:[A[0]]},ot={type:17,number:0,flags:4},dt={type:16,number:50,flags:4},ct={type:16,number:100,flags:4},gt=function(A,e,t){var r=A[0],n=A[1];return[ut(r,e),ut(void 0!==n?n:r,t)]},ut=function(A,e){if(16===A.type)return A.number/100*e;if(Ze(A))switch(A.unit){case"rem":case"em":return 16*A.number;default:return A.number}return A.number},ht="grad",Bt="turn",mt=function(A,e){if(15===e.type)switch(e.unit){case"deg":return Math.PI*e.number/180;case ht:return Math.PI/200*e.number;case"rad":return e.number;case Bt:return 2*Math.PI*e.number}throw new Error("Unsupported angle type")},pt=function(A){return 15===A.type&&("deg"===A.unit||A.unit===ht||"rad"===A.unit||A.unit===Bt)},ft=function(A){switch(A.filter(qe).map(function(A){return A.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ot,ot];case"to top":case"bottom":return wt(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ot,ct];case"to right":case"left":return wt(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ct,ct];case"to bottom":case"top":return wt(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ct,ot];case"to left":case"right":return wt(270)}return 0},wt=function(A){return Math.PI*A/180},xt=function(A,e){if(18===e.type){var t=jt[e.name];if(void 0===t)throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(A,e.values)}if(5===e.type){if(3===e.value.length){var r=e.value.substring(0,1),n=e.value.substring(1,2),i=e.value.substring(2,3);return yt(parseInt(r+r,16),parseInt(n+n,16),parseInt(i+i,16),1)}if(4===e.value.length){r=e.value.substring(0,1),n=e.value.substring(1,2),i=e.value.substring(2,3);var s=e.value.substring(3,4);return yt(parseInt(r+r,16),parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16)/255)}if(6===e.value.length){r=e.value.substring(0,2),n=e.value.substring(2,4),i=e.value.substring(4,6);return yt(parseInt(r,16),parseInt(n,16),parseInt(i,16),1)}if(8===e.value.length){r=e.value.substring(0,2),n=e.value.substring(2,4),i=e.value.substring(4,6),s=e.value.substring(6,8);return yt(parseInt(r,16),parseInt(n,16),parseInt(i,16),parseInt(s,16)/255)}}if(20===e.type){var a=kt[e.value.toUpperCase()];if(void 0!==a)return a}return kt.TRANSPARENT},bt=function(A){return!(255&A)},Qt=function(A){var e=255&A,t=255&A>>8,r=255&A>>16,n=255&A>>24;return e<255?"rgba("+n+","+r+","+t+","+e/255+")":"rgb("+n+","+r+","+t+")"},yt=function(A,e,t,r){return(A<<24|e<<16|t<<8|Math.round(255*r))>>>0},Ct=function(A,e){if(17===A.type)return A.number;if(16===A.type){var t=3===e?1:255;return 3===e?A.number/100*t:Math.round(A.number/100*t)}return 0},Ft=function(A,e){var t=e.filter(rt);if(3===t.length){var r=t.map(Ct),n=r[0],i=r[1],s=r[2];return yt(n,i,s,1)}if(4===t.length){var a=t.map(Ct),l=(n=a[0],i=a[1],s=a[2],a[3]);return yt(n,i,s,l)}return 0};function vt(A,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-A)*t*6+A:t<.5?e:t<2/3?6*(e-A)*(2/3-t)+A:A}var Ut=function(A,e){var t=e.filter(rt),r=t[0],n=t[1],i=t[2],s=t[3],a=(17===r.type?wt(r.number):mt(A,r))/(2*Math.PI),l=at(n)?n.number/100:0,o=at(i)?i.number/100:0,d=void 0!==s&&at(s)?ut(s,1):1;if(0===l)return yt(255*o,255*o,255*o,1);var c=o<=.5?o*(l+1):o+l-o*l,g=2*o-c,u=vt(g,c,a+1/3),h=vt(g,c,a),B=vt(g,c,a-1/3);return yt(255*u,255*h,255*B,d)},jt={hsl:Ut,hsla:Ut,rgb:Ft,rgba:Ft},Et=function(A,e){return xt(A,Ye.create(e).parseComponentValue())},kt={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},St={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(A,e){return e.map(function(A){if(qe(A))switch(A.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ht={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},It=function(A,e){var t=xt(A,e[0]),r=e[1];return r&&at(r)?{color:t,stop:r}:{color:t,stop:null}},Dt=function(A,e){var t=A[0],r=A[A.length-1];null===t.stop&&(t.stop=ot),null===r.stop&&(r.stop=ct);for(var n=[],i=0,s=0;s<A.length;s++){var a=A[s].stop;if(null!==a){var l=ut(a,e);l>i?n.push(l):n.push(i),i=l}else n.push(null)}var o=null;for(s=0;s<n.length;s++){var d=n[s];if(null===d)null===o&&(o=s);else if(null!==o){for(var c=s-o,g=(d-n[o-1])/(c+1),u=1;u<=c;u++)n[o+u-1]=g*u;o=null}}return A.map(function(A,t){return{color:A.color,stop:Math.max(Math.min(1,n[t]/e),0)}})},Kt=function(A,e,t){var r="number"==typeof A?A:function(A,e,t){var r=e/2,n=t/2,i=ut(A[0],e)-r,s=n-ut(A[1],t);return(Math.atan2(s,i)+2*Math.PI)%(2*Math.PI)}(A,e,t),n=Math.abs(e*Math.sin(r))+Math.abs(t*Math.cos(r)),i=e/2,s=t/2,a=n/2,l=Math.sin(r-Math.PI/2)*a,o=Math.cos(r-Math.PI/2)*a;return[n,i-o,i+o,s-l,s+l]},Lt=function(A,e){return Math.sqrt(A*A+e*e)},zt=function(A,e,t,r,n){return[[0,0],[0,e],[A,0],[A,e]].reduce(function(A,e){var i=e[0],s=e[1],a=Lt(t-i,r-s);return(n?a<A.optimumDistance:a>A.optimumDistance)?{optimumCorner:e,optimumDistance:a}:A},{optimumDistance:n?1/0:-1/0,optimumCorner:null}).optimumCorner},Nt=function(A,e){var t=wt(180),r=[];return nt(e).forEach(function(e,n){if(0===n){var i=e[0];if(20===i.type&&-1!==["top","left","right","bottom"].indexOf(i.value))return void(t=ft(e));if(pt(i))return void(t=(mt(A,i)+wt(270))%wt(360))}var s=It(A,e);r.push(s)}),{angle:t,stops:r,type:1}},_t="closest-side",Tt="farthest-side",Mt="closest-corner",Rt="farthest-corner",Gt="circle",Vt="ellipse",Ot="cover",Wt="contain",Pt=function(A,e){var t=0,r=3,n=[],i=[];return nt(e).forEach(function(e,s){var a=!0;if(0===s?a=e.reduce(function(A,e){if(qe(e))switch(e.value){case"center":return i.push(dt),!1;case"top":case"left":return i.push(ot),!1;case"right":case"bottom":return i.push(ct),!1}else if(at(e)||st(e))return i.push(e),!1;return A},a):1===s&&(a=e.reduce(function(A,e){if(qe(e))switch(e.value){case Gt:return t=0,!1;case Vt:return t=1,!1;case Wt:case _t:return r=0,!1;case Tt:return r=1,!1;case Mt:return r=2,!1;case Ot:case Rt:return r=3,!1}else if(st(e)||at(e))return Array.isArray(r)||(r=[]),r.push(e),!1;return A},a)),a){var l=It(A,e);n.push(l)}}),{size:r,shape:t,stops:n,position:i,type:2}},Jt=function(A,e){if(22===e.type){var t={url:e.value,type:0};return A.cache.addImage(e.value),t}if(18===e.type){var r=Zt[e.name];if(void 0===r)throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(A,e.values)}throw new Error("Unsupported image type "+e.type)};var Xt,Yt,Zt={"linear-gradient":function(A,e){var t=wt(180),r=[];return nt(e).forEach(function(e,n){if(0===n){var i=e[0];if(20===i.type&&"to"===i.value)return void(t=ft(e));if(pt(i))return void(t=mt(A,i))}var s=It(A,e);r.push(s)}),{angle:t,stops:r,type:1}},"-moz-linear-gradient":Nt,"-ms-linear-gradient":Nt,"-o-linear-gradient":Nt,"-webkit-linear-gradient":Nt,"radial-gradient":function(A,e){var t=0,r=3,n=[],i=[];return nt(e).forEach(function(e,s){var a=!0;if(0===s){var l=!1;a=e.reduce(function(A,e){if(l)if(qe(e))switch(e.value){case"center":return i.push(dt),A;case"top":case"left":return i.push(ot),A;case"right":case"bottom":return i.push(ct),A}else(at(e)||st(e))&&i.push(e);else if(qe(e))switch(e.value){case Gt:return t=0,!1;case Vt:return t=1,!1;case"at":return l=!0,!1;case _t:return r=0,!1;case Ot:case Tt:return r=1,!1;case Wt:case Mt:return r=2,!1;case Rt:return r=3,!1}else if(st(e)||at(e))return Array.isArray(r)||(r=[]),r.push(e),!1;return A},a)}if(a){var o=It(A,e);n.push(o)}}),{size:r,shape:t,stops:n,position:i,type:2}},"-moz-radial-gradient":Pt,"-ms-radial-gradient":Pt,"-o-radial-gradient":Pt,"-webkit-radial-gradient":Pt,"-webkit-gradient":function(A,e){var t=wt(180),r=[],n=1;return nt(e).forEach(function(e,t){var i=e[0];if(0===t){if(qe(i)&&"linear"===i.value)return void(n=1);if(qe(i)&&"radial"===i.value)return void(n=2)}if(18===i.type)if("from"===i.name){var s=xt(A,i.values[0]);r.push({stop:ot,color:s})}else if("to"===i.name){s=xt(A,i.values[0]);r.push({stop:ct,color:s})}else if("color-stop"===i.name){var a=i.values.filter(rt);if(2===a.length){s=xt(A,a[1]);var l=a[0];$e(l)&&r.push({stop:{type:16,number:100*l.number,flags:l.flags},color:s})}}}),1===n?{angle:(t+wt(180))%wt(360),stops:r,type:n}:{size:3,shape:0,stops:r,position:[],type:n}}},$t={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(A,e){if(0===e.length)return[];var t=e[0];return 20===t.type&&"none"===t.value?[]:e.filter(function(A){return rt(A)&&function(A){return!(20===A.type&&"none"===A.value||18===A.type&&!Zt[A.name])}(A)}).map(function(e){return Jt(A,e)})}},qt={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(A,e){return e.map(function(A){if(qe(A))switch(A.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ar={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(A,e){return nt(e).map(function(A){return A.filter(at)}).map(lt)}},er={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(A,e){return nt(e).map(function(A){return A.filter(qe).map(function(A){return A.value}).join(" ")}).map(tr)}},tr=function(A){switch(A){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};(Yt=Xt||(Xt={})).AUTO="auto",Yt.CONTAIN="contain",Yt.COVER="cover";var rr,nr,ir={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(A,e){return nt(e).map(function(A){return A.filter(sr)})}},sr=function(A){return qe(A)||at(A)},ar=function(A){return{name:"border-"+A+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},lr=ar("top"),or=ar("right"),dr=ar("bottom"),cr=ar("left"),gr=function(A){return{name:"border-radius-"+A,initialValue:"0 0",prefix:!1,type:1,parse:function(A,e){return lt(e.filter(at))}}},ur=gr("top-left"),hr=gr("top-right"),Br=gr("bottom-right"),mr=gr("bottom-left"),pr=function(A){return{name:"border-"+A+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(A,e){switch(e){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},fr=pr("top"),wr=pr("right"),xr=pr("bottom"),br=pr("left"),Qr=function(A){return{name:"border-"+A+"-width",initialValue:"0",type:0,prefix:!1,parse:function(A,e){return Ze(e)?e.number:0}}},yr=Qr("top"),Cr=Qr("right"),Fr=Qr("bottom"),vr=Qr("left"),Ur={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},jr={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(A,e){return"rtl"===e?1:0}},Er={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(A,e){return e.filter(qe).reduce(function(A,e){return A|kr(e.value)},0)}},kr=function(A){switch(A){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Sr={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(A,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Hr={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(A,e){return 20===e.type&&"normal"===e.value?0:17===e.type||15===e.type?e.number:0}};(nr=rr||(rr={})).NORMAL="normal",nr.STRICT="strict";var Ir,Dr,Kr={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(A,e){return"strict"===e?rr.STRICT:rr.NORMAL}},Lr={name:"line-height",initialValue:"normal",prefix:!1,type:4},zr=function(A,e){return qe(A)&&"normal"===A.value?1.2*e:17===A.type?e*A.number:at(A)?ut(A,e):e},Nr={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(A,e){return 20===e.type&&"none"===e.value?null:Jt(A,e)}},_r={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(A,e){return"inside"===e?0:1}},Tr={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(A,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Mr=function(A){return{name:"margin-"+A,initialValue:"0",prefix:!1,type:4}},Rr=Mr("top"),Gr=Mr("right"),Vr=Mr("bottom"),Or=Mr("left"),Wr={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(A,e){return e.filter(qe).map(function(A){switch(A.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Pr={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(A,e){return"break-word"===e?"break-word":"normal"}},Jr=function(A){return{name:"padding-"+A,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Xr=Jr("top"),Yr=Jr("right"),Zr=Jr("bottom"),$r=Jr("left"),qr={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(A,e){switch(e){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},An={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(A,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},en={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(A,e){return 1===e.length&&et(e[0],"none")?[]:nt(e).map(function(e){for(var t={color:kt.TRANSPARENT,offsetX:ot,offsetY:ot,blur:ot},r=0,n=0;n<e.length;n++){var i=e[n];st(i)?(0===r?t.offsetX=i:1===r?t.offsetY=i:t.blur=i,r++):t.color=xt(A,i)}return t})}},tn={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(A,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},rn={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(A,e){if(20===e.type&&"none"===e.value)return null;if(18===e.type){var t=nn[e.name];if(void 0===t)throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},nn={matrix:function(A){var e=A.filter(function(A){return 17===A.type}).map(function(A){return A.number});return 6===e.length?e:null},matrix3d:function(A){var e=A.filter(function(A){return 17===A.type}).map(function(A){return A.number}),t=e[0],r=e[1];e[2],e[3];var n=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var s=e[12],a=e[13];return e[14],e[15],16===e.length?[t,r,n,i,s,a]:null}},sn={type:16,number:50,flags:4},an=[sn,sn],ln={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(A,e){var t=e.filter(at);return 2!==t.length?an:[t[0],t[1]]}},on={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(A,e){switch(e){case"hidden":return 1;case"collapse":return 2;default:return 0}}};(Dr=Ir||(Ir={})).NORMAL="normal",Dr.BREAK_ALL="break-all",Dr.KEEP_ALL="keep-all";for(var dn={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(A,e){switch(e){case"break-all":return Ir.BREAK_ALL;case"keep-all":return Ir.KEEP_ALL;default:return Ir.NORMAL}}},cn={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(A,e){if(20===e.type)return{auto:!0,order:0};if($e(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},gn=function(A,e){if(15===e.type)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")},un={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(A,e){return $e(e)?e.number:1}},hn={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Bn={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(A,e){return e.filter(qe).map(function(A){switch(A.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(A){return 0!==A})}},mn={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(A,e){var t=[],r=[];return e.forEach(function(A){switch(A.type){case 20:case 0:t.push(A.value);break;case 17:t.push(A.number.toString());break;case 4:r.push(t.join(" ")),t.length=0}}),t.length&&r.push(t.join(" ")),r.map(function(A){return-1===A.indexOf(" ")?A:"'"+A+"'"})}},pn={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},fn={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(A,e){return $e(e)?e.number:qe(e)&&"bold"===e.value?700:400}},wn={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(A,e){return e.filter(qe).map(function(A){return A.value})}},xn={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(A,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},bn=function(A,e){return 0!==(A&e)},Qn={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(A,e){if(0===e.length)return[];var t=e[0];return 20===t.type&&"none"===t.value?[]:e}},yn={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(A,e){if(0===e.length)return null;var t=e[0];if(20===t.type&&"none"===t.value)return null;for(var r=[],n=e.filter(tt),i=0;i<n.length;i++){var s=n[i],a=n[i+1];if(20===s.type){var l=a&&$e(a)?a.number:1;r.push({counter:s.value,increment:l})}}return r}},Cn={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(A,e){if(0===e.length)return[];for(var t=[],r=e.filter(tt),n=0;n<r.length;n++){var i=r[n],s=r[n+1];if(qe(i)&&"none"!==i.value){var a=s&&$e(s)?s.number:0;t.push({counter:i.value,reset:a})}}return t}},Fn={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(A,e){return e.filter(Ze).map(function(e){return gn(A,e)})}},vn={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(A,e){if(0===e.length)return null;var t=e[0];if(20===t.type&&"none"===t.value)return null;var r=[],n=e.filter(At);if(n.length%2!=0)return null;for(var i=0;i<n.length;i+=2){var s=n[i].value,a=n[i+1].value;r.push({open:s,close:a})}return r}},Un=function(A,e,t){if(!A)return"";var r=A[Math.min(e,A.length-1)];return r?t?r.open:r.close:""},jn={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(A,e){return 1===e.length&&et(e[0],"none")?[]:nt(e).map(function(e){for(var t={color:255,offsetX:ot,offsetY:ot,blur:ot,spread:ot,inset:!1},r=0,n=0;n<e.length;n++){var i=e[n];et(i,"inset")?t.inset=!0:st(i)?(0===r?t.offsetX=i:1===r?t.offsetY=i:2===r?t.blur=i:t.spread=i,r++):t.color=xt(A,i)}return t})}},En={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(A,e){var t=[];return e.filter(qe).forEach(function(A){switch(A.value){case"stroke":t.push(1);break;case"fill":t.push(0);break;case"markers":t.push(2)}}),[0,1,2].forEach(function(A){-1===t.indexOf(A)&&t.push(A)}),t}},kn={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Sn={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(A,e){return Ze(e)?e.number:0}},Hn=function(){function A(A,e){var t,r;this.animationDuration=Kn(A,Fn,e.animationDuration),this.backgroundClip=Kn(A,St,e.backgroundClip),this.backgroundColor=Kn(A,Ht,e.backgroundColor),this.backgroundImage=Kn(A,$t,e.backgroundImage),this.backgroundOrigin=Kn(A,qt,e.backgroundOrigin),this.backgroundPosition=Kn(A,Ar,e.backgroundPosition),this.backgroundRepeat=Kn(A,er,e.backgroundRepeat),this.backgroundSize=Kn(A,ir,e.backgroundSize),this.borderTopColor=Kn(A,lr,e.borderTopColor),this.borderRightColor=Kn(A,or,e.borderRightColor),this.borderBottomColor=Kn(A,dr,e.borderBottomColor),this.borderLeftColor=Kn(A,cr,e.borderLeftColor),this.borderTopLeftRadius=Kn(A,ur,e.borderTopLeftRadius),this.borderTopRightRadius=Kn(A,hr,e.borderTopRightRadius),this.borderBottomRightRadius=Kn(A,Br,e.borderBottomRightRadius),this.borderBottomLeftRadius=Kn(A,mr,e.borderBottomLeftRadius),this.borderTopStyle=Kn(A,fr,e.borderTopStyle),this.borderRightStyle=Kn(A,wr,e.borderRightStyle),this.borderBottomStyle=Kn(A,xr,e.borderBottomStyle),this.borderLeftStyle=Kn(A,br,e.borderLeftStyle),this.borderTopWidth=Kn(A,yr,e.borderTopWidth),this.borderRightWidth=Kn(A,Cr,e.borderRightWidth),this.borderBottomWidth=Kn(A,Fr,e.borderBottomWidth),this.borderLeftWidth=Kn(A,vr,e.borderLeftWidth),this.boxShadow=Kn(A,jn,e.boxShadow),this.color=Kn(A,Ur,e.color),this.direction=Kn(A,jr,e.direction),this.display=Kn(A,Er,e.display),this.float=Kn(A,Sr,e.cssFloat),this.fontFamily=Kn(A,mn,e.fontFamily),this.fontSize=Kn(A,pn,e.fontSize),this.fontStyle=Kn(A,xn,e.fontStyle),this.fontVariant=Kn(A,wn,e.fontVariant),this.fontWeight=Kn(A,fn,e.fontWeight),this.letterSpacing=Kn(A,Hr,e.letterSpacing),this.lineBreak=Kn(A,Kr,e.lineBreak),this.lineHeight=Kn(A,Lr,e.lineHeight),this.listStyleImage=Kn(A,Nr,e.listStyleImage),this.listStylePosition=Kn(A,_r,e.listStylePosition),this.listStyleType=Kn(A,Tr,e.listStyleType),this.marginTop=Kn(A,Rr,e.marginTop),this.marginRight=Kn(A,Gr,e.marginRight),this.marginBottom=Kn(A,Vr,e.marginBottom),this.marginLeft=Kn(A,Or,e.marginLeft),this.opacity=Kn(A,un,e.opacity);var n=Kn(A,Wr,e.overflow);this.overflowX=n[0],this.overflowY=n[n.length>1?1:0],this.overflowWrap=Kn(A,Pr,e.overflowWrap),this.paddingTop=Kn(A,Xr,e.paddingTop),this.paddingRight=Kn(A,Yr,e.paddingRight),this.paddingBottom=Kn(A,Zr,e.paddingBottom),this.paddingLeft=Kn(A,$r,e.paddingLeft),this.paintOrder=Kn(A,En,e.paintOrder),this.position=Kn(A,An,e.position),this.textAlign=Kn(A,qr,e.textAlign),this.textDecorationColor=Kn(A,hn,null!==(t=e.textDecorationColor)&&void 0!==t?t:e.color),this.textDecorationLine=Kn(A,Bn,null!==(r=e.textDecorationLine)&&void 0!==r?r:e.textDecoration),this.textShadow=Kn(A,en,e.textShadow),this.textTransform=Kn(A,tn,e.textTransform),this.transform=Kn(A,rn,e.transform),this.transformOrigin=Kn(A,ln,e.transformOrigin),this.visibility=Kn(A,on,e.visibility),this.webkitTextStrokeColor=Kn(A,kn,e.webkitTextStrokeColor),this.webkitTextStrokeWidth=Kn(A,Sn,e.webkitTextStrokeWidth),this.wordBreak=Kn(A,dn,e.wordBreak),this.zIndex=Kn(A,cn,e.zIndex)}return A.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},A.prototype.isTransparent=function(){return bt(this.backgroundColor)},A.prototype.isTransformed=function(){return null!==this.transform},A.prototype.isPositioned=function(){return 0!==this.position},A.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},A.prototype.isFloating=function(){return 0!==this.float},A.prototype.isInlineLevel=function(){return bn(this.display,4)||bn(this.display,33554432)||bn(this.display,268435456)||bn(this.display,536870912)||bn(this.display,67108864)||bn(this.display,134217728)},A}(),In=function(){return function(A,e){this.content=Kn(A,Qn,e.content),this.quotes=Kn(A,vn,e.quotes)}}(),Dn=function(){return function(A,e){this.counterIncrement=Kn(A,yn,e.counterIncrement),this.counterReset=Kn(A,Cn,e.counterReset)}}(),Kn=function(A,e,t){var r=new Xe,n=null!=t?t.toString():e.initialValue;r.write(n);var i=new Ye(r.read());switch(e.type){case 2:var s=i.parseComponentValue();return e.parse(A,qe(s)?s.value:e.initialValue);case 0:return e.parse(A,i.parseComponentValue());case 1:return e.parse(A,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return mt(A,i.parseComponentValue());case"color":return xt(A,i.parseComponentValue());case"image":return Jt(A,i.parseComponentValue());case"length":var a=i.parseComponentValue();return st(a)?a:ot;case"length-percentage":var l=i.parseComponentValue();return at(l)?l:ot;case"time":return gn(A,i.parseComponentValue())}}},Ln=function(A,e){var t=function(A){switch(A.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(A);return 1===t||e===t},zn=function(){return function(A,e){this.context=A,this.textNodes=[],this.elements=[],this.flags=0,Ln(e,3),this.styles=new Hn(A,window.getComputedStyle(e,null)),Ri(e)&&(this.styles.animationDuration.some(function(A){return A>0})&&(e.style.animationDuration="0s"),null!==this.styles.transform&&(e.style.transform="none")),this.bounds=aA(this.context,e),Ln(e,4)&&(this.flags|=16)}}(),Nn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_n="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Tn=0;Tn<64;Tn++)_n[Nn.charCodeAt(Tn)]=Tn;for(var Mn=function(A,e,t){return A.slice?A.slice(e,t):new Uint16Array(Array.prototype.slice.call(A,e,t))},Rn=function(){function A(A,e,t,r,n,i){this.initialValue=A,this.errorValue=e,this.highStart=t,this.highValueIndex=r,this.index=n,this.data=i}return A.prototype.get=function(A){var e;if(A>=0){if(A<55296||A>56319&&A<=65535)return e=((e=this.index[A>>5])<<2)+(31&A),this.data[e];if(A<=65535)return e=((e=this.index[2048+(A-55296>>5)])<<2)+(31&A),this.data[e];if(A<this.highStart)return e=2080+(A>>11),e=this.index[e],e+=A>>5&63,e=((e=this.index[e])<<2)+(31&A),this.data[e];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},A}(),Gn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vn="undefined"==typeof Uint8Array?[]:new Uint8Array(256),On=0;On<64;On++)Vn[Gn.charCodeAt(On)]=On;var Wn,Pn,Jn=8,Xn=9,Yn=11,Zn=12,$n=function(){for(var A=[],e=0;e<arguments.length;e++)A[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,A);var t=A.length;if(!t)return"";for(var r=[],n=-1,i="";++n<t;){var s=A[n];s<=65535?r.push(s):(s-=65536,r.push(55296+(s>>10),s%1024+56320)),(n+1===t||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},qn=function(A){var e=function(A){var e,t,r,n,i,s=.75*A.length,a=A.length,l=0;"="===A[A.length-1]&&(s--,"="===A[A.length-2]&&s--);var o="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(s):new Array(s),d=Array.isArray(o)?o:new Uint8Array(o);for(e=0;e<a;e+=4)t=_n[A.charCodeAt(e)],r=_n[A.charCodeAt(e+1)],n=_n[A.charCodeAt(e+2)],i=_n[A.charCodeAt(e+3)],d[l++]=t<<2|r>>4,d[l++]=(15&r)<<4|n>>2,d[l++]=(3&n)<<6|63&i;return o}(A),t=Array.isArray(e)?function(A){for(var e=A.length,t=[],r=0;r<e;r+=4)t.push(A[r+3]<<24|A[r+2]<<16|A[r+1]<<8|A[r]);return t}(e):new Uint32Array(e),r=Array.isArray(e)?function(A){for(var e=A.length,t=[],r=0;r<e;r+=2)t.push(A[r+1]<<8|A[r]);return t}(e):new Uint16Array(e),n=Mn(r,12,t[4]/2),i=2===t[5]?Mn(r,(24+t[4])/2):function(A,e,t){return A.slice?A.slice(e,t):new Uint32Array(Array.prototype.slice.call(A,e,t))}(t,Math.ceil((24+t[4])/4));return new Rn(t[0],t[1],t[2],t[3],n,i)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),Ai="Ã—",ei=function(A){return qn.get(A)},ti=function(A,e,t){var r=t-2,n=e[r],i=e[t-1],s=e[t];if(2===i&&3===s)return Ai;if(2===i||3===i||4===i)return"Ã·";if(2===s||3===s||4===s)return"Ã·";if(i===Jn&&-1!==[Jn,Xn,Yn,Zn].indexOf(s))return Ai;if(!(i!==Yn&&i!==Xn||s!==Xn&&10!==s))return Ai;if((i===Zn||10===i)&&10===s)return Ai;if(13===s||5===s)return Ai;if(7===s)return Ai;if(1===i)return Ai;if(13===i&&14===s){for(;5===n;)n=e[--r];if(14===n)return Ai}if(15===i&&15===s){for(var a=0;15===n;)a++,n=e[--r];if(a%2==0)return Ai}return"Ã·"},ri=function(A){var e=function(A){for(var e=[],t=0,r=A.length;t<r;){var n=A.charCodeAt(t++);if(n>=55296&&n<=56319&&t<r){var i=A.charCodeAt(t++);56320==(64512&i)?e.push(((1023&n)<<10)+(1023&i)+65536):(e.push(n),t--)}else e.push(n)}return e}(A),t=e.length,r=0,n=0,i=e.map(ei);return{next:function(){if(r>=t)return{done:!0,value:null};for(var A=Ai;r<t&&(A=ti(0,i,++r))===Ai;);if(A!==Ai||r===t){var s=$n.apply(null,e.slice(n,r));return n=r,{value:s,done:!1}}return{done:!0,value:null}}}},ni=function(A){return 0===A[0]&&255===A[1]&&0===A[2]&&255===A[3]},ii=function(A,e,t,r,n){var i="http://www.w3.org/2000/svg",s=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject");return s.setAttributeNS(null,"width",A.toString()),s.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",t.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(a),a.appendChild(n),s},si=function(A){return new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(A))})},ai={get SUPPORT_RANGE_BOUNDS(){var A=function(A){if(A.createRange){var e=A.createRange();if(e.getBoundingClientRect){var t=A.createElement("boundtest");t.style.height="123px",t.style.display="block",A.body.appendChild(t),e.selectNode(t);var r=e.getBoundingClientRect(),n=Math.round(r.height);if(A.body.removeChild(t),123===n)return!0}}return!1}(document);return Object.defineProperty(ai,"SUPPORT_RANGE_BOUNDS",{value:A}),A},get SUPPORT_WORD_BREAKING(){var A=ai.SUPPORT_RANGE_BOUNDS&&function(A){var e=A.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",A.body.appendChild(e);var t=A.createRange();e.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var r=e.firstChild,n=lA(r.data).map(function(A){return oA(A)}),i=0,s={},a=n.every(function(A,e){t.setStart(r,i),t.setEnd(r,i+A.length);var n=t.getBoundingClientRect();i+=A.length;var a=n.x>s.x||n.y>s.y;return s=n,0===e||a});return A.body.removeChild(e),a}(document);return Object.defineProperty(ai,"SUPPORT_WORD_BREAKING",{value:A}),A},get SUPPORT_SVG_DRAWING(){var A=function(A){var e=new Image,t=A.createElement("canvas"),r=t.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),t.toDataURL()}catch(n){return!1}return!0}(document);return Object.defineProperty(ai,"SUPPORT_SVG_DRAWING",{value:A}),A},get SUPPORT_FOREIGNOBJECT_DRAWING(){var A="function"==typeof Array.from&&"function"==typeof window.fetch?function(A){var e=A.createElement("canvas"),t=100;e.width=t,e.height=t;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,t,t);var n=new Image,i=e.toDataURL();n.src=i;var s=ii(t,t,0,0,n);return r.fillStyle="red",r.fillRect(0,0,t,t),si(s).then(function(e){r.drawImage(e,0,0);var n=r.getImageData(0,0,t,t).data;r.fillStyle="red",r.fillRect(0,0,t,t);var s=A.createElement("div");return s.style.backgroundImage="url("+i+")",s.style.height=t+"px",ni(n)?si(ii(t,t,0,0,s)):Promise.reject(!1)}).then(function(A){return r.drawImage(A,0,0),ni(r.getImageData(0,0,t,t).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(ai,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:A}),A},get SUPPORT_CORS_IMAGES(){var A=void 0!==(new Image).crossOrigin;return Object.defineProperty(ai,"SUPPORT_CORS_IMAGES",{value:A}),A},get SUPPORT_RESPONSE_TYPE(){var A="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(ai,"SUPPORT_RESPONSE_TYPE",{value:A}),A},get SUPPORT_CORS_XHR(){var A="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ai,"SUPPORT_CORS_XHR",{value:A}),A},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var A=!("undefined"==typeof Intl||!Intl.Segmenter);return Object.defineProperty(ai,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:A}),A}},li=function(){return function(A,e){this.text=A,this.bounds=e}}(),oi=function(A,e){var t=e.ownerDocument;if(t){var r=t.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var n=e.parentNode;if(n){n.replaceChild(r,e);var i=aA(A,r);return r.firstChild&&n.replaceChild(r.firstChild,r),i}}return sA.EMPTY},di=function(A,e,t){var r=A.ownerDocument;if(!r)throw new Error("Node has no owner document");var n=r.createRange();return n.setStart(A,e),n.setEnd(A,e+t),n},ci=function(A){if(ai.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(A)).map(function(A){return A.segment})}return function(A){for(var e,t=ri(A),r=[];!(e=t.next()).done;)e.value&&r.push(e.value.slice());return r}(A)},gi=function(A,e){return 0!==e.letterSpacing?ci(A):function(A,e){if(ai.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(A)).map(function(A){return A.segment})}return hi(A,e)}(A,e)},ui=[32,160,4961,65792,65793,4153,4241],hi=function(A,e){for(var t,r=function(A,e){var t=lA(A),r=ue(t,e),n=r[0],i=r[1],s=r[2],a=t.length,l=0,o=0;return{next:function(){if(o>=a)return{done:!0,value:null};for(var A=Ae;o<a&&(A=ge(t,i,n,++o,s))===Ae;);if(A!==Ae||o===a){var e=new he(t,A,l,o);return l=o,{value:e,done:!1}}return{done:!0,value:null}}}}(A,{lineBreak:e.lineBreak,wordBreak:"break-word"===e.overflowWrap?"break-word":e.wordBreak}),n=[],i=function(){if(t.value){var A=t.value.slice(),e=lA(A),r="";e.forEach(function(A){-1===ui.indexOf(A)?r+=oA(A):(r.length&&n.push(r),n.push(oA(A)),r="")}),r.length&&n.push(r)}};!(t=r.next()).done;)i();return n},Bi=function(){return function(A,e,t){this.text=mi(e.data,t.textTransform),this.textBounds=function(A,e,t,r){var n=gi(e,t),i=[],s=0;return n.forEach(function(e){if(t.textDecorationLine.length||e.trim().length>0)if(ai.SUPPORT_RANGE_BOUNDS){var n=di(r,s,e.length).getClientRects();if(n.length>1){var a=ci(e),l=0;a.forEach(function(e){i.push(new li(e,sA.fromDOMRectList(A,di(r,l+s,e.length).getClientRects()))),l+=e.length})}else i.push(new li(e,sA.fromDOMRectList(A,n)))}else{var o=r.splitText(e.length);i.push(new li(e,oi(A,r))),r=o}else ai.SUPPORT_RANGE_BOUNDS||(r=r.splitText(e.length));s+=e.length}),i}(A,this.text,t,e)}}(),mi=function(A,e){switch(e){case 1:return A.toLowerCase();case 3:return A.replace(pi,fi);case 2:return A.toUpperCase();default:return A}},pi=/(^|\s|:|-|\(|\))([a-z])/g,fi=function(A,e,t){return A.length>0?e+t.toUpperCase():A},wi=function(A){function e(e,t){var r=A.call(this,e,t)||this;return r.src=t.currentSrc||t.src,r.intrinsicWidth=t.naturalWidth,r.intrinsicHeight=t.naturalHeight,r.context.cache.addImage(r.src),r}return eA(e,A),e}(zn),xi=function(A){function e(e,t){var r=A.call(this,e,t)||this;return r.canvas=t,r.intrinsicWidth=t.width,r.intrinsicHeight=t.height,r}return eA(e,A),e}(zn),bi=function(A){function e(e,t){var r=A.call(this,e,t)||this,n=new XMLSerializer,i=aA(e,t);return t.setAttribute("width",i.width+"px"),t.setAttribute("height",i.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(n.serializeToString(t)),r.intrinsicWidth=t.width.baseVal.value,r.intrinsicHeight=t.height.baseVal.value,r.context.cache.addImage(r.svg),r}return eA(e,A),e}(zn),Qi=function(A){function e(e,t){var r=A.call(this,e,t)||this;return r.value=t.value,r}return eA(e,A),e}(zn),yi=function(A){function e(e,t){var r=A.call(this,e,t)||this;return r.start=t.start,r.reversed="boolean"==typeof t.reversed&&!0===t.reversed,r}return eA(e,A),e}(zn),Ci=[{type:15,flags:0,unit:"px",number:3}],Fi=[{type:16,flags:0,number:50}],vi="checkbox",Ui="radio",ji="password",Ei=707406591,ki=function(A){function e(e,t){var r,n,i,s=A.call(this,e,t)||this;switch(s.type=t.type.toLowerCase(),s.checked=t.checked,s.value=0===(n=(r=t).type===ji?new Array(r.value.length+1).join("â€¢"):r.value).length?r.placeholder||"":n,s.type!==vi&&s.type!==Ui||(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=(i=s.bounds).width>i.height?new sA(i.left+(i.width-i.height)/2,i.top,i.height,i.height):i.width<i.height?new sA(i.left,i.top+(i.height-i.width)/2,i.width,i.width):i),s.type){case vi:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Ci;break;case Ui:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Fi}return s}return eA(e,A),e}(zn),Si=function(A){function e(e,t){var r=A.call(this,e,t)||this,n=t.options[t.selectedIndex||0];return r.value=n&&n.text||"",r}return eA(e,A),e}(zn),Hi=function(A){function e(e,t){var r=A.call(this,e,t)||this;return r.value=t.value,r}return eA(e,A),e}(zn),Ii=function(A){function e(e,t){var r=A.call(this,e,t)||this;r.src=t.src,r.width=parseInt(t.width,10)||0,r.height=parseInt(t.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(t.contentWindow&&t.contentWindow.document&&t.contentWindow.document.documentElement){r.tree=zi(e,t.contentWindow.document.documentElement);var n=t.contentWindow.document.documentElement?Et(e,getComputedStyle(t.contentWindow.document.documentElement).backgroundColor):kt.TRANSPARENT,i=t.contentWindow.document.body?Et(e,getComputedStyle(t.contentWindow.document.body).backgroundColor):kt.TRANSPARENT;r.backgroundColor=bt(n)?bt(i)?r.styles.backgroundColor:i:n}}catch(s){}return r}return eA(e,A),e}(zn),Di=["OL","UL","MENU"],Ki=function(A,e,t,r){for(var n=e.firstChild,i=void 0;n;n=i)if(i=n.nextSibling,Ti(n)&&n.data.trim().length>0)t.textNodes.push(new Bi(A,n,t.styles));else if(Mi(n))if(ts(n)&&n.assignedNodes)n.assignedNodes().forEach(function(e){return Ki(A,e,t,r)});else{var s=Li(A,n);s.styles.isVisible()&&(Ni(n,s,r)?s.flags|=4:_i(s.styles)&&(s.flags|=2),-1!==Di.indexOf(n.tagName)&&(s.flags|=8),t.elements.push(s),n.slot,n.shadowRoot?Ki(A,n.shadowRoot,s,r):As(n)||Pi(n)||es(n)||Ki(A,n,s,r))}},Li=function(A,e){return Zi(e)?new wi(A,e):Xi(e)?new xi(A,e):Pi(e)?new bi(A,e):Vi(e)?new Qi(A,e):Oi(e)?new yi(A,e):Wi(e)?new ki(A,e):es(e)?new Si(A,e):As(e)?new Hi(A,e):$i(e)?new Ii(A,e):new zn(A,e)},zi=function(A,e){var t=Li(A,e);return t.flags|=4,Ki(A,e,t,t),t},Ni=function(A,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||Ji(A)&&t.styles.isTransparent()},_i=function(A){return A.isPositioned()||A.isFloating()},Ti=function(A){return A.nodeType===Node.TEXT_NODE},Mi=function(A){return A.nodeType===Node.ELEMENT_NODE},Ri=function(A){return Mi(A)&&void 0!==A.style&&!Gi(A)},Gi=function(A){return"object"==typeof A.className},Vi=function(A){return"LI"===A.tagName},Oi=function(A){return"OL"===A.tagName},Wi=function(A){return"INPUT"===A.tagName},Pi=function(A){return"svg"===A.tagName},Ji=function(A){return"BODY"===A.tagName},Xi=function(A){return"CANVAS"===A.tagName},Yi=function(A){return"VIDEO"===A.tagName},Zi=function(A){return"IMG"===A.tagName},$i=function(A){return"IFRAME"===A.tagName},qi=function(A){return"STYLE"===A.tagName},As=function(A){return"TEXTAREA"===A.tagName},es=function(A){return"SELECT"===A.tagName},ts=function(A){return"SLOT"===A.tagName},rs=function(A){return A.tagName.indexOf("-")>0},ns=function(){function A(){this.counters={}}return A.prototype.getCounterValue=function(A){var e=this.counters[A];return e&&e.length?e[e.length-1]:1},A.prototype.getCounterValues=function(A){var e=this.counters[A];return e||[]},A.prototype.pop=function(A){var e=this;A.forEach(function(A){return e.counters[A].pop()})},A.prototype.parse=function(A){var e=this,t=A.counterIncrement,r=A.counterReset,n=!0;null!==t&&t.forEach(function(A){var t=e.counters[A.counter];t&&0!==A.increment&&(n=!1,t.length||t.push(1),t[Math.max(0,t.length-1)]+=A.increment)});var i=[];return n&&r.forEach(function(A){var t=e.counters[A.counter];i.push(A.counter),t||(t=e.counters[A.counter]=[]),t.push(A.reset)}),i},A}(),is={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ss={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Õ”","Õ“","Õ’","Õ‘","Õ","Õ","Õ","Õ","ÕŒ","Õ‹","ÕŠ","Õ‰","Õˆ","Õ‡","Õ†","Õ…","Õ„","Õƒ","Õ‚","Õ","Õ€","Ô¿","Ô¾","Ô½","Ô¼","Ô»","Ôº","Ô¹","Ô¸","Ô·","Ô¶","Ôµ","Ô´","Ô³","Ô²","Ô±"]},as={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["×™×³","×˜×³","×—×³","×–×³","×•×³","×”×³","×“×³","×’×³","×‘×³","××³","×ª","×©","×¨","×§","×¦","×¤","×¢","×¡","× ","×","×œ","×›","×™×˜","×™×—","×™×–","×˜×–","×˜×•","×™","×˜","×—","×–","×•","×”","×“","×’","×‘","×"]},ls={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["áƒµ","áƒ°","áƒ¯","áƒ´","áƒ®","áƒ­","áƒ¬","áƒ«","áƒª","áƒ©","áƒ¨","áƒ§","áƒ¦","áƒ¥","áƒ¤","áƒ³","áƒ¢","áƒ¡","áƒ ","áƒŸ","áƒ","áƒ","áƒ²","áƒœ","áƒ›","áƒš","áƒ™","áƒ˜","áƒ—","áƒ±","áƒ–","áƒ•","áƒ”","áƒ“","áƒ’","áƒ‘","áƒ"]},os=function(A,e,t,r,n,i){return A<e||A>t?fs(A,n,i.length>0):r.integers.reduce(function(e,t,n){for(;A>=t;)A-=t,e+=r.values[n];return e},"")+i},ds=function(A,e,t,r){var n="";do{t||A--,n=r(A)+n,A/=e}while(A*e>=e);return n},cs=function(A,e,t,r,n){var i=t-e+1;return(A<0?"-":"")+(ds(Math.abs(A),i,r,function(A){return oA(Math.floor(A%i)+e)})+n)},gs=function(A,e,t){void 0===t&&(t=". ");var r=e.length;return ds(Math.abs(A),r,!1,function(A){return e[Math.floor(A%r)]})+t},us=function(A,e,t,r,n,i){if(A<-9999||A>9999)return fs(A,4,n.length>0);var s=Math.abs(A),a=n;if(0===s)return e[0]+a;for(var l=0;s>0&&l<=4;l++){var o=s%10;0===o&&bn(i,1)&&""!==a?a=e[o]+a:o>1||1===o&&0===l||1===o&&1===l&&bn(i,2)||1===o&&1===l&&bn(i,4)&&A>100||1===o&&l>1&&bn(i,8)?a=e[o]+(l>0?t[l-1]:"")+a:1===o&&l>0&&(a=t[l-1]+a),s=Math.floor(s/10)}return(A<0?r:"")+a},hs="åç™¾åƒè¬",Bs="æ‹¾ä½°ä»Ÿè¬",ms="ãƒã‚¤ãƒŠã‚¹",ps="ë§ˆì´ë„ˆìŠ¤",fs=function(A,e,t){var r=t?". ":"",n=t?"ã€":"",i=t?", ":"",s=t?" ":"";switch(e){case 0:return"â€¢"+s;case 1:return"â—¦"+s;case 2:return"â—¾"+s;case 5:var a=cs(A,48,57,!0,r);return a.length<4?"0"+a:a;case 4:return gs(A,"ã€‡ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹",n);case 6:return os(A,1,3999,is,3,r).toLowerCase();case 7:return os(A,1,3999,is,3,r);case 8:return cs(A,945,969,!1,r);case 9:return cs(A,97,122,!1,r);case 10:return cs(A,65,90,!1,r);case 11:return cs(A,1632,1641,!0,r);case 12:case 49:return os(A,1,9999,ss,3,r);case 35:return os(A,1,9999,ss,3,r).toLowerCase();case 13:return cs(A,2534,2543,!0,r);case 14:case 30:return cs(A,6112,6121,!0,r);case 15:return gs(A,"å­ä¸‘å¯…å¯è¾°å·³åˆæœªç”³é…‰æˆŒäº¥",n);case 16:return gs(A,"ç”²ä¹™ä¸™ä¸æˆŠå·±åºšè¾›å£¬ç™¸",n);case 17:case 48:return us(A,"é›¶ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹",hs,"è² ",n,14);case 47:return us(A,"é›¶å£¹è²³åƒè‚†ä¼é™¸æŸ’æŒç–",Bs,"è² ",n,15);case 42:return us(A,"é›¶ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹",hs,"è´Ÿ",n,14);case 41:return us(A,"é›¶å£¹è´°åè‚†ä¼é™†æŸ’æŒç–",Bs,"è´Ÿ",n,15);case 26:return us(A,"ã€‡ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹","åç™¾åƒä¸‡",ms,n,0);case 25:return us(A,"é›¶å£±å¼å‚å››ä¼å…­ä¸ƒå…«ä¹","æ‹¾ç™¾åƒä¸‡",ms,n,7);case 31:return us(A,"ì˜ì¼ì´ì‚¼ì‚¬ì˜¤ìœ¡ì¹ íŒ”êµ¬","ì‹­ë°±ì²œë§Œ",ps,i,7);case 33:return us(A,"é›¶ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹","åç™¾åƒè¬",ps,i,0);case 32:return us(A,"é›¶å£¹è²³åƒå››äº”å…­ä¸ƒå…«ä¹","æ‹¾ç™¾åƒ",ps,i,7);case 18:return cs(A,2406,2415,!0,r);case 20:return os(A,1,19999,ls,3,r);case 21:return cs(A,2790,2799,!0,r);case 22:return cs(A,2662,2671,!0,r);case 22:return os(A,1,10999,as,3,r);case 23:return gs(A,"ã‚ã„ã†ãˆãŠã‹ããã‘ã“ã•ã—ã™ã›ããŸã¡ã¤ã¦ã¨ãªã«ã¬ã­ã®ã¯ã²ãµã¸ã»ã¾ã¿ã‚€ã‚ã‚‚ã‚„ã‚†ã‚ˆã‚‰ã‚Šã‚‹ã‚Œã‚ã‚ã‚ã‚‘ã‚’ã‚“");case 24:return gs(A,"ã„ã‚ã¯ã«ã»ã¸ã¨ã¡ã‚Šã¬ã‚‹ã‚’ã‚ã‹ã‚ˆãŸã‚Œãã¤ã­ãªã‚‰ã‚€ã†ã‚ã®ãŠãã‚„ã¾ã‘ãµã“ãˆã¦ã‚ã•ãã‚†ã‚ã¿ã—ã‚‘ã²ã‚‚ã›ã™");case 27:return cs(A,3302,3311,!0,r);case 28:return gs(A,"ã‚¢ã‚¤ã‚¦ã‚¨ã‚ªã‚«ã‚­ã‚¯ã‚±ã‚³ã‚µã‚·ã‚¹ã‚»ã‚½ã‚¿ãƒãƒ„ãƒ†ãƒˆãƒŠãƒ‹ãƒŒãƒãƒãƒãƒ’ãƒ•ãƒ˜ãƒ›ãƒãƒŸãƒ ãƒ¡ãƒ¢ãƒ¤ãƒ¦ãƒ¨ãƒ©ãƒªãƒ«ãƒ¬ãƒ­ãƒ¯ãƒ°ãƒ±ãƒ²ãƒ³",n);case 29:return gs(A,"ã‚¤ãƒ­ãƒãƒ‹ãƒ›ãƒ˜ãƒˆãƒãƒªãƒŒãƒ«ãƒ²ãƒ¯ã‚«ãƒ¨ã‚¿ãƒ¬ã‚½ãƒ„ãƒãƒŠãƒ©ãƒ ã‚¦ãƒ°ãƒã‚ªã‚¯ãƒ¤ãƒã‚±ãƒ•ã‚³ã‚¨ãƒ†ã‚¢ã‚µã‚­ãƒ¦ãƒ¡ãƒŸã‚·ãƒ±ãƒ’ãƒ¢ã‚»ã‚¹",n);case 34:return cs(A,3792,3801,!0,r);case 37:return cs(A,6160,6169,!0,r);case 38:return cs(A,4160,4169,!0,r);case 39:return cs(A,2918,2927,!0,r);case 40:return cs(A,1776,1785,!0,r);case 43:return cs(A,3046,3055,!0,r);case 44:return cs(A,3174,3183,!0,r);case 45:return cs(A,3664,3673,!0,r);case 46:return cs(A,3872,3881,!0,r);default:return cs(A,48,57,!0,r)}},ws="data-html2canvas-ignore",xs=function(){function A(A,e,t){if(this.context=A,this.options=t,this.scrolledElements=[],this.referenceElement=e,this.counters=new ns,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement,!1)}return A.prototype.toIFrame=function(A,e){var t=this,r=ys(A,e);if(!r.contentWindow)return Promise.reject("Unable to find iframe window");var n=A.defaultView.pageXOffset,i=A.defaultView.pageYOffset,s=r.contentWindow,a=s.document,l=vs(r).then(function(){return rA(t,0,void 0,function(){var A,t;return nA(this,function(n){switch(n.label){case 0:return this.scrolledElements.forEach(Ss),s&&(s.scrollTo(e.left,e.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||s.scrollY===e.top&&s.scrollX===e.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(s.scrollX-e.left,s.scrollY-e.top,0,0))),A=this.options.onclone,void 0===(t=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:a.fonts&&a.fonts.ready?[4,a.fonts.ready]:[3,2];case 1:n.sent(),n.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Fs(a)]:[3,4];case 3:n.sent(),n.label=4;case 4:return"function"==typeof A?[2,Promise.resolve().then(function(){return A(a,t)}).then(function(){return r})]:[2,r]}})})});return a.open(),a.write(Es(document.doctype)+"<html></html>"),ks(this.referenceElement.ownerDocument,n,i),a.replaceChild(a.adoptNode(this.documentElement),a.documentElement),a.close(),l},A.prototype.createElementClone=function(A){if(Ln(A,2),Xi(A))return this.createCanvasClone(A);if(Yi(A))return this.createVideoClone(A);if(qi(A))return this.createStyleClone(A);var e=A.cloneNode(!1);return Zi(e)&&(Zi(A)&&A.currentSrc&&A.currentSrc!==A.src&&(e.src=A.currentSrc,e.srcset=""),"lazy"===e.loading&&(e.loading="eager")),rs(e)?this.createCustomElementClone(e):e},A.prototype.createCustomElementClone=function(A){var e=document.createElement("html2canvascustomelement");return js(A.style,e),e},A.prototype.createStyleClone=function(A){try{var e=A.sheet;if(e&&e.cssRules){var t=[].slice.call(e.cssRules,0).reduce(function(A,e){return e&&"string"==typeof e.cssText?A+e.cssText:A},""),r=A.cloneNode(!1);return r.textContent=t,r}}catch(n){if(this.context.logger.error("Unable to access cssRules property",n),"SecurityError"!==n.name)throw n}return A.cloneNode(!1)},A.prototype.createCanvasClone=function(A){var e;if(this.options.inlineImages&&A.ownerDocument){var t=A.ownerDocument.createElement("img");try{return t.src=A.toDataURL(),t}catch(l){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",A)}}var r=A.cloneNode(!1);try{r.width=A.width,r.height=A.height;var n=A.getContext("2d"),i=r.getContext("2d");if(i)if(!this.options.allowTaint&&n)i.putImageData(n.getImageData(0,0,A.width,A.height),0,0);else{var s=null!==(e=A.getContext("webgl2"))&&void 0!==e?e:A.getContext("webgl");if(s){var a=s.getContextAttributes();!1===(null==a?void 0:a.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",A)}i.drawImage(A,0,0)}return r}catch(l){this.context.logger.info("Unable to clone canvas as it is tainted",A)}return r},A.prototype.createVideoClone=function(A){var e=A.ownerDocument.createElement("canvas");e.width=A.offsetWidth,e.height=A.offsetHeight;var t=e.getContext("2d");try{return t&&(t.drawImage(A,0,0,e.width,e.height),this.options.allowTaint||t.getImageData(0,0,e.width,e.height)),e}catch(n){this.context.logger.info("Unable to clone video as it is tainted",A)}var r=A.ownerDocument.createElement("canvas");return r.width=A.offsetWidth,r.height=A.offsetHeight,r},A.prototype.appendChildNode=function(A,e,t){Mi(e)&&("SCRIPT"===e.tagName||e.hasAttribute(ws)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(e))||this.options.copyStyles&&Mi(e)&&qi(e)||A.appendChild(this.cloneNode(e,t))},A.prototype.cloneChildNodes=function(A,e,t){for(var r=this,n=A.shadowRoot?A.shadowRoot.firstChild:A.firstChild;n;n=n.nextSibling)if(Mi(n)&&ts(n)&&"function"==typeof n.assignedNodes){var i=n.assignedNodes();i.length&&i.forEach(function(A){return r.appendChildNode(e,A,t)})}else this.appendChildNode(e,n,t)},A.prototype.cloneNode=function(A,e){if(Ti(A))return document.createTextNode(A.data);if(!A.ownerDocument)return A.cloneNode(!1);var t=A.ownerDocument.defaultView;if(t&&Mi(A)&&(Ri(A)||Gi(A))){var r=this.createElementClone(A);r.style.transitionProperty="none";var n=t.getComputedStyle(A),i=t.getComputedStyle(A,":before"),s=t.getComputedStyle(A,":after");this.referenceElement===A&&Ri(r)&&(this.clonedReferenceElement=r),Ji(r)&&Ks(r);var a=this.counters.parse(new Dn(this.context,n)),l=this.resolvePseudoContent(A,r,i,Wn.BEFORE);rs(A)&&(e=!0),Yi(A)||this.cloneChildNodes(A,r,e),l&&r.insertBefore(l,r.firstChild);var o=this.resolvePseudoContent(A,r,s,Wn.AFTER);return o&&r.appendChild(o),this.counters.pop(a),(n&&(this.options.copyStyles||Gi(A))&&!$i(A)||e)&&js(n,r),0===A.scrollTop&&0===A.scrollLeft||this.scrolledElements.push([r,A.scrollLeft,A.scrollTop]),(As(A)||es(A))&&(As(r)||es(r))&&(r.value=A.value),r}return A.cloneNode(!1)},A.prototype.resolvePseudoContent=function(A,e,t,r){var n=this;if(t){var i=t.content,s=e.ownerDocument;if(s&&i&&"none"!==i&&"-moz-alt-content"!==i&&"none"!==t.display){this.counters.parse(new Dn(this.context,t));var a=new In(this.context,t),l=s.createElement("html2canvaspseudoelement");js(t,l),a.content.forEach(function(e){if(0===e.type)l.appendChild(s.createTextNode(e.value));else if(22===e.type){var t=s.createElement("img");t.src=e.value,t.style.opacity="1",l.appendChild(t)}else if(18===e.type){if("attr"===e.name){var r=e.values.filter(qe);r.length&&l.appendChild(s.createTextNode(A.getAttribute(r[0].value)||""))}else if("counter"===e.name){var i=e.values.filter(rt),o=i[0],d=i[1];if(o&&qe(o)){var c=n.counters.getCounterValue(o.value),g=d&&qe(d)?Tr.parse(n.context,d.value):3;l.appendChild(s.createTextNode(fs(c,g,!1)))}}else if("counters"===e.name){var u=e.values.filter(rt),h=(o=u[0],u[1]);d=u[2];if(o&&qe(o)){var B=n.counters.getCounterValues(o.value),m=d&&qe(d)?Tr.parse(n.context,d.value):3,p=h&&0===h.type?h.value:"",f=B.map(function(A){return fs(A,m,!1)}).join(p);l.appendChild(s.createTextNode(f))}}}else if(20===e.type)switch(e.value){case"open-quote":l.appendChild(s.createTextNode(Un(a.quotes,n.quoteDepth++,!0)));break;case"close-quote":l.appendChild(s.createTextNode(Un(a.quotes,--n.quoteDepth,!1)));break;default:l.appendChild(s.createTextNode(e.value))}}),l.className=Hs+" "+Is;var o=r===Wn.BEFORE?" "+Hs:" "+Is;return Gi(e)?e.className.baseValue+=o:e.className+=o,l}}},A.destroy=function(A){return!!A.parentNode&&(A.parentNode.removeChild(A),!0)},A}();(Pn=Wn||(Wn={}))[Pn.BEFORE=0]="BEFORE",Pn[Pn.AFTER=1]="AFTER";var bs,Qs,ys=function(A,e){var t=A.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(ws,"true"),A.body.appendChild(t),t},Cs=function(A){return new Promise(function(e){A.complete?e():A.src?(A.onload=e,A.onerror=e):e()})},Fs=function(A){return Promise.all([].slice.call(A.images,0).map(Cs))},vs=function(A){return new Promise(function(e,t){var r=A.contentWindow;if(!r)return t("No window assigned for iframe");var n=r.document;r.onload=A.onload=function(){r.onload=A.onload=null;var t=setInterval(function(){n.body.childNodes.length>0&&"complete"===n.readyState&&(clearInterval(t),e(A))},50)}})},Us=["all","d","content"],js=function(A,e){for(var t=A.length-1;t>=0;t--){var r=A.item(t);-1===Us.indexOf(r)&&e.style.setProperty(r,A.getPropertyValue(r))}return e},Es=function(A){var e="";return A&&(e+="<!DOCTYPE ",A.name&&(e+=A.name),A.internalSubset&&(e+=A.internalSubset),A.publicId&&(e+='"'+A.publicId+'"'),A.systemId&&(e+='"'+A.systemId+'"'),e+=">"),e},ks=function(A,e,t){A&&A.defaultView&&(e!==A.defaultView.pageXOffset||t!==A.defaultView.pageYOffset)&&A.defaultView.scrollTo(e,t)},Ss=function(A){var e=A[0],t=A[1],r=A[2];e.scrollLeft=t,e.scrollTop=r},Hs="___html2canvas___pseudoelement_before",Is="___html2canvas___pseudoelement_after",Ds='{\n    content: "" !important;\n    display: none !important;\n}',Ks=function(A){Ls(A,"."+Hs+":before"+Ds+"\n         ."+Is+":after"+Ds)},Ls=function(A,e){var t=A.ownerDocument;if(t){var r=t.createElement("style");r.textContent=e,A.appendChild(r)}},zs=function(){function A(){}return A.getOrigin=function(e){var t=A._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},A.isSameOrigin=function(e){return A.getOrigin(e)===A._origin},A.setContext=function(e){A._link=e.document.createElement("a"),A._origin=A.getOrigin(e.location.href)},A._origin="about:blank",A}(),Ns=function(){function A(A,e){this.context=A,this._options=e,this._cache={}}return A.prototype.addImage=function(A){var e=Promise.resolve();return this.has(A)?e:Os(A)||Rs(A)?((this._cache[A]=this.loadImage(A)).catch(function(){}),e):e},A.prototype.match=function(A){return this._cache[A]},A.prototype.loadImage=function(A){return rA(this,0,void 0,function(){var e,t,r,n,i=this;return nA(this,function(s){switch(s.label){case 0:return e=zs.isSameOrigin(A),t=!Gs(A)&&!0===this._options.useCORS&&ai.SUPPORT_CORS_IMAGES&&!e,r=!Gs(A)&&!e&&!Os(A)&&"string"==typeof this._options.proxy&&ai.SUPPORT_CORS_XHR&&!t,e||!1!==this._options.allowTaint||Gs(A)||Os(A)||r||t?(n=A,r?[4,this.proxy(n)]:[3,2]):[2];case 1:n=s.sent(),s.label=2;case 2:return this.context.logger.debug("Added image "+A.substring(0,256)),[4,new Promise(function(A,e){var r=new Image;r.onload=function(){return A(r)},r.onerror=e,(Vs(n)||t)&&(r.crossOrigin="anonymous"),r.src=n,!0===r.complete&&setTimeout(function(){return A(r)},500),i._options.imageTimeout>0&&setTimeout(function(){return e("Timed out ("+i._options.imageTimeout+"ms) loading image")},i._options.imageTimeout)})];case 3:return[2,s.sent()]}})})},A.prototype.has=function(A){return void 0!==this._cache[A]},A.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},A.prototype.proxy=function(A){var e=this,t=this._options.proxy;if(!t)throw new Error("No proxy defined");var r=A.substring(0,256);return new Promise(function(n,i){var s=ai.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(200===a.status)if("text"===s)n(a.response);else{var A=new FileReader;A.addEventListener("load",function(){return n(A.result)},!1),A.addEventListener("error",function(A){return i(A)},!1),A.readAsDataURL(a.response)}else i("Failed to proxy resource "+r+" with status code "+a.status)},a.onerror=i;var l=t.indexOf("?")>-1?"&":"?";if(a.open("GET",""+t+l+"url="+encodeURIComponent(A)+"&responseType="+s),"text"!==s&&a instanceof XMLHttpRequest&&(a.responseType=s),e._options.imageTimeout){var o=e._options.imageTimeout;a.timeout=o,a.ontimeout=function(){return i("Timed out ("+o+"ms) proxying "+r)}}a.send()})},A}(),_s=/^data:image\/svg\+xml/i,Ts=/^data:image\/.*;base64,/i,Ms=/^data:image\/.*/i,Rs=function(A){return ai.SUPPORT_SVG_DRAWING||!Ws(A)},Gs=function(A){return Ms.test(A)},Vs=function(A){return Ts.test(A)},Os=function(A){return"blob"===A.substr(0,4)},Ws=function(A){return"svg"===A.substr(-3).toLowerCase()||_s.test(A)},Ps=function(){function A(A,e){this.type=0,this.x=A,this.y=e}return A.prototype.add=function(e,t){return new A(this.x+e,this.y+t)},A}(),Js=function(A,e,t){return new Ps(A.x+(e.x-A.x)*t,A.y+(e.y-A.y)*t)},Xs=function(){function A(A,e,t,r){this.type=1,this.start=A,this.startControl=e,this.endControl=t,this.end=r}return A.prototype.subdivide=function(e,t){var r=Js(this.start,this.startControl,e),n=Js(this.startControl,this.endControl,e),i=Js(this.endControl,this.end,e),s=Js(r,n,e),a=Js(n,i,e),l=Js(s,a,e);return t?new A(this.start,r,s,l):new A(l,a,i,this.end)},A.prototype.add=function(e,t){return new A(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},A.prototype.reverse=function(){return new A(this.end,this.endControl,this.startControl,this.start)},A}(),Ys=function(A){return 1===A.type},Zs=function(){return function(A){var e=A.styles,t=A.bounds,r=gt(e.borderTopLeftRadius,t.width,t.height),n=r[0],i=r[1],s=gt(e.borderTopRightRadius,t.width,t.height),a=s[0],l=s[1],o=gt(e.borderBottomRightRadius,t.width,t.height),d=o[0],c=o[1],g=gt(e.borderBottomLeftRadius,t.width,t.height),u=g[0],h=g[1],B=[];B.push((n+a)/t.width),B.push((u+d)/t.width),B.push((i+h)/t.height),B.push((l+c)/t.height);var m=Math.max.apply(Math,B);m>1&&(n/=m,i/=m,a/=m,l/=m,d/=m,c/=m,u/=m,h/=m);var p=t.width-a,f=t.height-c,w=t.width-d,x=t.height-h,b=e.borderTopWidth,Q=e.borderRightWidth,y=e.borderBottomWidth,C=e.borderLeftWidth,F=ut(e.paddingTop,A.bounds.width),v=ut(e.paddingRight,A.bounds.width),U=ut(e.paddingBottom,A.bounds.width),j=ut(e.paddingLeft,A.bounds.width);this.topLeftBorderDoubleOuterBox=n>0||i>0?$s(t.left+C/3,t.top+b/3,n-C/3,i-b/3,bs.TOP_LEFT):new Ps(t.left+C/3,t.top+b/3),this.topRightBorderDoubleOuterBox=n>0||i>0?$s(t.left+p,t.top+b/3,a-Q/3,l-b/3,bs.TOP_RIGHT):new Ps(t.left+t.width-Q/3,t.top+b/3),this.bottomRightBorderDoubleOuterBox=d>0||c>0?$s(t.left+w,t.top+f,d-Q/3,c-y/3,bs.BOTTOM_RIGHT):new Ps(t.left+t.width-Q/3,t.top+t.height-y/3),this.bottomLeftBorderDoubleOuterBox=u>0||h>0?$s(t.left+C/3,t.top+x,u-C/3,h-y/3,bs.BOTTOM_LEFT):new Ps(t.left+C/3,t.top+t.height-y/3),this.topLeftBorderDoubleInnerBox=n>0||i>0?$s(t.left+2*C/3,t.top+2*b/3,n-2*C/3,i-2*b/3,bs.TOP_LEFT):new Ps(t.left+2*C/3,t.top+2*b/3),this.topRightBorderDoubleInnerBox=n>0||i>0?$s(t.left+p,t.top+2*b/3,a-2*Q/3,l-2*b/3,bs.TOP_RIGHT):new Ps(t.left+t.width-2*Q/3,t.top+2*b/3),this.bottomRightBorderDoubleInnerBox=d>0||c>0?$s(t.left+w,t.top+f,d-2*Q/3,c-2*y/3,bs.BOTTOM_RIGHT):new Ps(t.left+t.width-2*Q/3,t.top+t.height-2*y/3),this.bottomLeftBorderDoubleInnerBox=u>0||h>0?$s(t.left+2*C/3,t.top+x,u-2*C/3,h-2*y/3,bs.BOTTOM_LEFT):new Ps(t.left+2*C/3,t.top+t.height-2*y/3),this.topLeftBorderStroke=n>0||i>0?$s(t.left+C/2,t.top+b/2,n-C/2,i-b/2,bs.TOP_LEFT):new Ps(t.left+C/2,t.top+b/2),this.topRightBorderStroke=n>0||i>0?$s(t.left+p,t.top+b/2,a-Q/2,l-b/2,bs.TOP_RIGHT):new Ps(t.left+t.width-Q/2,t.top+b/2),this.bottomRightBorderStroke=d>0||c>0?$s(t.left+w,t.top+f,d-Q/2,c-y/2,bs.BOTTOM_RIGHT):new Ps(t.left+t.width-Q/2,t.top+t.height-y/2),this.bottomLeftBorderStroke=u>0||h>0?$s(t.left+C/2,t.top+x,u-C/2,h-y/2,bs.BOTTOM_LEFT):new Ps(t.left+C/2,t.top+t.height-y/2),this.topLeftBorderBox=n>0||i>0?$s(t.left,t.top,n,i,bs.TOP_LEFT):new Ps(t.left,t.top),this.topRightBorderBox=a>0||l>0?$s(t.left+p,t.top,a,l,bs.TOP_RIGHT):new Ps(t.left+t.width,t.top),this.bottomRightBorderBox=d>0||c>0?$s(t.left+w,t.top+f,d,c,bs.BOTTOM_RIGHT):new Ps(t.left+t.width,t.top+t.height),this.bottomLeftBorderBox=u>0||h>0?$s(t.left,t.top+x,u,h,bs.BOTTOM_LEFT):new Ps(t.left,t.top+t.height),this.topLeftPaddingBox=n>0||i>0?$s(t.left+C,t.top+b,Math.max(0,n-C),Math.max(0,i-b),bs.TOP_LEFT):new Ps(t.left+C,t.top+b),this.topRightPaddingBox=a>0||l>0?$s(t.left+Math.min(p,t.width-Q),t.top+b,p>t.width+Q?0:Math.max(0,a-Q),Math.max(0,l-b),bs.TOP_RIGHT):new Ps(t.left+t.width-Q,t.top+b),this.bottomRightPaddingBox=d>0||c>0?$s(t.left+Math.min(w,t.width-C),t.top+Math.min(f,t.height-y),Math.max(0,d-Q),Math.max(0,c-y),bs.BOTTOM_RIGHT):new Ps(t.left+t.width-Q,t.top+t.height-y),this.bottomLeftPaddingBox=u>0||h>0?$s(t.left+C,t.top+Math.min(x,t.height-y),Math.max(0,u-C),Math.max(0,h-y),bs.BOTTOM_LEFT):new Ps(t.left+C,t.top+t.height-y),this.topLeftContentBox=n>0||i>0?$s(t.left+C+j,t.top+b+F,Math.max(0,n-(C+j)),Math.max(0,i-(b+F)),bs.TOP_LEFT):new Ps(t.left+C+j,t.top+b+F),this.topRightContentBox=a>0||l>0?$s(t.left+Math.min(p,t.width+C+j),t.top+b+F,p>t.width+C+j?0:a-C+j,l-(b+F),bs.TOP_RIGHT):new Ps(t.left+t.width-(Q+v),t.top+b+F),this.bottomRightContentBox=d>0||c>0?$s(t.left+Math.min(w,t.width-(C+j)),t.top+Math.min(f,t.height+b+F),Math.max(0,d-(Q+v)),c-(y+U),bs.BOTTOM_RIGHT):new Ps(t.left+t.width-(Q+v),t.top+t.height-(y+U)),this.bottomLeftContentBox=u>0||h>0?$s(t.left+C+j,t.top+x,Math.max(0,u-(C+j)),h-(y+U),bs.BOTTOM_LEFT):new Ps(t.left+C+j,t.top+t.height-(y+U))}}();(Qs=bs||(bs={}))[Qs.TOP_LEFT=0]="TOP_LEFT",Qs[Qs.TOP_RIGHT=1]="TOP_RIGHT",Qs[Qs.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",Qs[Qs.BOTTOM_LEFT=3]="BOTTOM_LEFT";var $s=function(A,e,t,r,n){var i=(Math.sqrt(2)-1)/3*4,s=t*i,a=r*i,l=A+t,o=e+r;switch(n){case bs.TOP_LEFT:return new Xs(new Ps(A,o),new Ps(A,o-a),new Ps(l-s,e),new Ps(l,e));case bs.TOP_RIGHT:return new Xs(new Ps(A,e),new Ps(A+s,e),new Ps(l,o-a),new Ps(l,o));case bs.BOTTOM_RIGHT:return new Xs(new Ps(l,e),new Ps(l,e+a),new Ps(A+s,o),new Ps(A,o));case bs.BOTTOM_LEFT:default:return new Xs(new Ps(l,o),new Ps(l-s,o),new Ps(A,e+a),new Ps(A,e))}},qs=function(A){return[A.topLeftBorderBox,A.topRightBorderBox,A.bottomRightBorderBox,A.bottomLeftBorderBox]},Aa=function(A){return[A.topLeftPaddingBox,A.topRightPaddingBox,A.bottomRightPaddingBox,A.bottomLeftPaddingBox]},ea=function(){return function(A,e,t){this.offsetX=A,this.offsetY=e,this.matrix=t,this.type=0,this.target=6}}(),ta=function(){return function(A,e){this.path=A,this.target=e,this.type=1}}(),ra=function(){return function(A){this.opacity=A,this.type=2,this.target=6}}(),na=function(A){return 1===A.type},ia=function(A,e){return A.length===e.length&&A.some(function(A,t){return A===e[t]})},sa=function(){return function(A){this.element=A,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}}(),aa=function(){function A(A,e){if(this.container=A,this.parent=e,this.effects=[],this.curves=new Zs(this.container),this.container.styles.opacity<1&&this.effects.push(new ra(this.container.styles.opacity)),null!==this.container.styles.transform){var t=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,n=this.container.styles.transform;this.effects.push(new ea(t,r,n))}if(0!==this.container.styles.overflowX){var i=qs(this.curves),s=Aa(this.curves);ia(i,s)?this.effects.push(new ta(i,6)):(this.effects.push(new ta(i,2)),this.effects.push(new ta(s,4)))}}return A.prototype.getEffects=function(A){for(var e=-1===[2,3].indexOf(this.container.styles.position),t=this.parent,r=this.effects.slice(0);t;){var n=t.effects.filter(function(A){return!na(A)});if(e||0!==t.container.styles.position||!t.parent){if(r.unshift.apply(r,n),e=-1===[2,3].indexOf(t.container.styles.position),0!==t.container.styles.overflowX){var i=qs(t.curves),s=Aa(t.curves);ia(i,s)||r.unshift(new ta(s,6))}}else r.unshift.apply(r,n);t=t.parent}return r.filter(function(e){return bn(e.target,A)})},A}(),la=function(A,e,t,r){A.container.elements.forEach(function(n){var i=bn(n.flags,4),s=bn(n.flags,2),a=new aa(n,A);bn(n.styles.display,2048)&&r.push(a);var l=bn(n.flags,8)?[]:r;if(i||s){var o=i||n.styles.isPositioned()?t:e,d=new sa(a);if(n.styles.isPositioned()||n.styles.opacity<1||n.styles.isTransformed()){var c=n.styles.zIndex.order;if(c<0){var g=0;o.negativeZIndex.some(function(A,e){return c>A.element.container.styles.zIndex.order?(g=e,!1):g>0}),o.negativeZIndex.splice(g,0,d)}else if(c>0){var u=0;o.positiveZIndex.some(function(A,e){return c>=A.element.container.styles.zIndex.order?(u=e+1,!1):u>0}),o.positiveZIndex.splice(u,0,d)}else o.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else n.styles.isFloating()?o.nonPositionedFloats.push(d):o.nonPositionedInlineLevel.push(d);la(a,d,i?d:t,l)}else n.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),la(a,e,t,l);bn(n.flags,8)&&oa(n,l)})},oa=function(A,e){for(var t=A instanceof yi?A.start:1,r=A instanceof yi&&A.reversed,n=0;n<e.length;n++){var i=e[n];i.container instanceof Qi&&"number"==typeof i.container.value&&0!==i.container.value&&(t=i.container.value),i.listValue=fs(t,i.container.styles.listStyleType,!0),t+=r?-1:1}},da=function(A,e){switch(e){case 0:return ga(A.topLeftBorderBox,A.topLeftPaddingBox,A.topRightBorderBox,A.topRightPaddingBox);case 1:return ga(A.topRightBorderBox,A.topRightPaddingBox,A.bottomRightBorderBox,A.bottomRightPaddingBox);case 2:return ga(A.bottomRightBorderBox,A.bottomRightPaddingBox,A.bottomLeftBorderBox,A.bottomLeftPaddingBox);default:return ga(A.bottomLeftBorderBox,A.bottomLeftPaddingBox,A.topLeftBorderBox,A.topLeftPaddingBox)}},ca=function(A,e){var t=[];return Ys(A)?t.push(A.subdivide(.5,!1)):t.push(A),Ys(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},ga=function(A,e,t,r){var n=[];return Ys(A)?n.push(A.subdivide(.5,!1)):n.push(A),Ys(t)?n.push(t.subdivide(.5,!0)):n.push(t),Ys(r)?n.push(r.subdivide(.5,!0).reverse()):n.push(r),Ys(e)?n.push(e.subdivide(.5,!1).reverse()):n.push(e),n},ua=function(A){var e=A.bounds,t=A.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},ha=function(A){var e=A.styles,t=A.bounds,r=ut(e.paddingLeft,t.width),n=ut(e.paddingRight,t.width),i=ut(e.paddingTop,t.width),s=ut(e.paddingBottom,t.width);return t.add(r+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+n),-(e.borderTopWidth+e.borderBottomWidth+i+s))},Ba=function(A,e,t){var r,n,i=(r=wa(A.styles.backgroundOrigin,e),n=A,0===r?n.bounds:2===r?ha(n):ua(n)),s=function(A,e){return 0===A?e.bounds:2===A?ha(e):ua(e)}(wa(A.styles.backgroundClip,e),A),a=fa(wa(A.styles.backgroundSize,e),t,i),l=a[0],o=a[1],d=gt(wa(A.styles.backgroundPosition,e),i.width-l,i.height-o);return[xa(wa(A.styles.backgroundRepeat,e),d,a,i,s),Math.round(i.left+d[0]),Math.round(i.top+d[1]),l,o]},ma=function(A){return qe(A)&&A.value===Xt.AUTO},pa=function(A){return"number"==typeof A},fa=function(A,e,t){var r=e[0],n=e[1],i=e[2],s=A[0],a=A[1];if(!s)return[0,0];if(at(s)&&a&&at(a))return[ut(s,t.width),ut(a,t.height)];var l=pa(i);if(qe(s)&&(s.value===Xt.CONTAIN||s.value===Xt.COVER))return pa(i)?t.width/t.height<i!=(s.value===Xt.COVER)?[t.width,t.width/i]:[t.height*i,t.height]:[t.width,t.height];var o=pa(r),d=pa(n),c=o||d;if(ma(s)&&(!a||ma(a)))return o&&d?[r,n]:l||c?c&&l?[o?r:n*i,d?n:r/i]:[o?r:t.width,d?n:t.height]:[t.width,t.height];if(l){var g=0,u=0;return at(s)?g=ut(s,t.width):at(a)&&(u=ut(a,t.height)),ma(s)?g=u*i:a&&!ma(a)||(u=g/i),[g,u]}var h=null,B=null;if(at(s)?h=ut(s,t.width):a&&at(a)&&(B=ut(a,t.height)),null===h||a&&!ma(a)||(B=o&&d?h/r*n:t.height),null!==B&&ma(s)&&(h=o&&d?B/n*r:t.width),null!==h&&null!==B)return[h,B];throw new Error("Unable to calculate background-size for element")},wa=function(A,e){var t=A[e];return void 0===t?A[0]:t},xa=function(A,e,t,r,n){var i=e[0],s=e[1],a=t[0],l=t[1];switch(A){case 2:return[new Ps(Math.round(r.left),Math.round(r.top+s)),new Ps(Math.round(r.left+r.width),Math.round(r.top+s)),new Ps(Math.round(r.left+r.width),Math.round(l+r.top+s)),new Ps(Math.round(r.left),Math.round(l+r.top+s))];case 3:return[new Ps(Math.round(r.left+i),Math.round(r.top)),new Ps(Math.round(r.left+i+a),Math.round(r.top)),new Ps(Math.round(r.left+i+a),Math.round(r.height+r.top)),new Ps(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new Ps(Math.round(r.left+i),Math.round(r.top+s)),new Ps(Math.round(r.left+i+a),Math.round(r.top+s)),new Ps(Math.round(r.left+i+a),Math.round(r.top+s+l)),new Ps(Math.round(r.left+i),Math.round(r.top+s+l))];default:return[new Ps(Math.round(n.left),Math.round(n.top)),new Ps(Math.round(n.left+n.width),Math.round(n.top)),new Ps(Math.round(n.left+n.width),Math.round(n.height+n.top)),new Ps(Math.round(n.left),Math.round(n.height+n.top))]}},ba="Hidden Text",Qa=function(){function A(A){this._data={},this._document=A}return A.prototype.parseMetrics=function(A,e){var t=this._document.createElement("div"),r=this._document.createElement("img"),n=this._document.createElement("span"),i=this._document.body;t.style.visibility="hidden",t.style.fontFamily=A,t.style.fontSize=e,t.style.margin="0",t.style.padding="0",t.style.whiteSpace="nowrap",i.appendChild(t),r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",n.style.fontFamily=A,n.style.fontSize=e,n.style.margin="0",n.style.padding="0",n.appendChild(this._document.createTextNode(ba)),t.appendChild(n),t.appendChild(r);var s=r.offsetTop-n.offsetTop+2;t.removeChild(n),t.appendChild(this._document.createTextNode(ba)),t.style.lineHeight="normal",r.style.verticalAlign="super";var a=r.offsetTop-t.offsetTop+2;return i.removeChild(t),{baseline:s,middle:a}},A.prototype.getMetrics=function(A,e){var t=A+" "+e;return void 0===this._data[t]&&(this._data[t]=this.parseMetrics(A,e)),this._data[t]},A}(),ya=function(){return function(A,e){this.context=A,this.options=e}}(),Ca=function(A){function e(e,t){var r=A.call(this,e,t)||this;return r._activeEffects=[],r.canvas=t.canvas?t.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),t.canvas||(r.canvas.width=Math.floor(t.width*t.scale),r.canvas.height=Math.floor(t.height*t.scale),r.canvas.style.width=t.width+"px",r.canvas.style.height=t.height+"px"),r.fontMetrics=new Qa(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-t.x,-t.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+t.width+"x"+t.height+") with scale "+t.scale),r}return eA(e,A),e.prototype.applyEffects=function(A){for(var e=this;this._activeEffects.length;)this.popEffect();A.forEach(function(A){return e.applyEffect(A)})},e.prototype.applyEffect=function(A){this.ctx.save(),function(A){return 2===A.type}(A)&&(this.ctx.globalAlpha=A.opacity),function(A){return 0===A.type}(A)&&(this.ctx.translate(A.offsetX,A.offsetY),this.ctx.transform(A.matrix[0],A.matrix[1],A.matrix[2],A.matrix[3],A.matrix[4],A.matrix[5]),this.ctx.translate(-A.offsetX,-A.offsetY)),na(A)&&(this.path(A.path),this.ctx.clip()),this._activeEffects.push(A)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(A){return rA(this,0,void 0,function(){return nA(this,function(e){switch(e.label){case 0:return A.element.container.styles.isVisible()?[4,this.renderStackContent(A)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(A){return rA(this,0,void 0,function(){return nA(this,function(e){switch(e.label){case 0:return bn(A.container.flags,16),A.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(A)]:[3,3];case 1:return e.sent(),[4,this.renderNodeContent(A)];case 2:e.sent(),e.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(A,e,t){var r=this;0===e?this.ctx.fillText(A.text,A.bounds.left,A.bounds.top+t):ci(A.text).reduce(function(e,n){return r.ctx.fillText(n,e,A.bounds.top+t),e+r.ctx.measureText(n).width},A.bounds.left)},e.prototype.createFontStyle=function(A){var e=A.fontVariant.filter(function(A){return"normal"===A||"small-caps"===A}).join(""),t=Ea(A.fontFamily).join(", "),r=Ze(A.fontSize)?""+A.fontSize.number+A.fontSize.unit:A.fontSize.number+"px";return[[A.fontStyle,e,A.fontWeight,r,t].join(" "),t,r]},e.prototype.renderTextNode=function(A,e){return rA(this,0,void 0,function(){var t,r,n,i,s,a,l,o,d=this;return nA(this,function(c){return t=this.createFontStyle(e),r=t[0],n=t[1],i=t[2],this.ctx.font=r,this.ctx.direction=1===e.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",s=this.fontMetrics.getMetrics(n,i),a=s.baseline,l=s.middle,o=e.paintOrder,A.textBounds.forEach(function(A){o.forEach(function(t){switch(t){case 0:d.ctx.fillStyle=Qt(e.color),d.renderTextWithLetterSpacing(A,e.letterSpacing,a);var r=e.textShadow;r.length&&A.text.trim().length&&(r.slice(0).reverse().forEach(function(t){d.ctx.shadowColor=Qt(t.color),d.ctx.shadowOffsetX=t.offsetX.number*d.options.scale,d.ctx.shadowOffsetY=t.offsetY.number*d.options.scale,d.ctx.shadowBlur=t.blur.number,d.renderTextWithLetterSpacing(A,e.letterSpacing,a)}),d.ctx.shadowColor="",d.ctx.shadowOffsetX=0,d.ctx.shadowOffsetY=0,d.ctx.shadowBlur=0),e.textDecorationLine.length&&(d.ctx.fillStyle=Qt(e.textDecorationColor||e.color),e.textDecorationLine.forEach(function(e){switch(e){case 1:d.ctx.fillRect(A.bounds.left,Math.round(A.bounds.top+a),A.bounds.width,1);break;case 2:d.ctx.fillRect(A.bounds.left,Math.round(A.bounds.top),A.bounds.width,1);break;case 3:d.ctx.fillRect(A.bounds.left,Math.ceil(A.bounds.top+l),A.bounds.width,1)}}));break;case 1:e.webkitTextStrokeWidth&&A.text.trim().length&&(d.ctx.strokeStyle=Qt(e.webkitTextStrokeColor),d.ctx.lineWidth=e.webkitTextStrokeWidth,d.ctx.lineJoin=window.chrome?"miter":"round",d.ctx.strokeText(A.text,A.bounds.left,A.bounds.top+a)),d.ctx.strokeStyle="",d.ctx.lineWidth=0,d.ctx.lineJoin="miter"}})}),[2]})})},e.prototype.renderReplacedElement=function(A,e,t){if(t&&A.intrinsicWidth>0&&A.intrinsicHeight>0){var r=ha(A),n=Aa(e);this.path(n),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(t,0,0,A.intrinsicWidth,A.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(A){return rA(this,0,void 0,function(){var t,r,n,i,s,a,l,o,d,c,g,u,h,B,m,p,f,w;return nA(this,function(x){switch(x.label){case 0:this.applyEffects(A.getEffects(4)),t=A.container,r=A.curves,n=t.styles,i=0,s=t.textNodes,x.label=1;case 1:return i<s.length?(a=s[i],[4,this.renderTextNode(a,n)]):[3,4];case 2:x.sent(),x.label=3;case 3:return i++,[3,1];case 4:if(!(t instanceof wi))return[3,8];x.label=5;case 5:return x.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return m=x.sent(),this.renderReplacedElement(t,r,m),[3,8];case 7:return x.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof xi&&this.renderReplacedElement(t,r,t.canvas),!(t instanceof bi))return[3,12];x.label=9;case 9:return x.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return m=x.sent(),this.renderReplacedElement(t,r,m),[3,12];case 11:return x.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof Ii&&t.tree?[4,new e(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:l=x.sent(),t.width&&t.height&&this.ctx.drawImage(l,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),x.label=14;case 14:if(t instanceof ki&&(o=Math.min(t.bounds.width,t.bounds.height),t.type===vi?t.checked&&(this.ctx.save(),this.path([new Ps(t.bounds.left+.39363*o,t.bounds.top+.79*o),new Ps(t.bounds.left+.16*o,t.bounds.top+.5549*o),new Ps(t.bounds.left+.27347*o,t.bounds.top+.44071*o),new Ps(t.bounds.left+.39694*o,t.bounds.top+.5649*o),new Ps(t.bounds.left+.72983*o,t.bounds.top+.23*o),new Ps(t.bounds.left+.84*o,t.bounds.top+.34085*o),new Ps(t.bounds.left+.39363*o,t.bounds.top+.79*o)]),this.ctx.fillStyle=Qt(Ei),this.ctx.fill(),this.ctx.restore()):t.type===Ui&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+o/2,t.bounds.top+o/2,o/4,0,2*Math.PI,!0),this.ctx.fillStyle=Qt(Ei),this.ctx.fill(),this.ctx.restore())),Fa(t)&&t.value.length){switch(d=this.createFontStyle(n),f=d[0],c=d[1],g=this.fontMetrics.getMetrics(f,c).baseline,this.ctx.font=f,this.ctx.fillStyle=Qt(n.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Ua(t.styles.textAlign),w=ha(t),u=0,t.styles.textAlign){case 1:u+=w.width/2;break;case 2:u+=w.width}h=w.add(u,0,0,-w.height/2+1),this.ctx.save(),this.path([new Ps(w.left,w.top),new Ps(w.left+w.width,w.top),new Ps(w.left+w.width,w.top+w.height),new Ps(w.left,w.top+w.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new li(t.value,h),n.letterSpacing,g),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!bn(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(B=t.styles.listStyleImage).type)return[3,18];m=void 0,p=B.url,x.label=15;case 15:return x.trys.push([15,17,,18]),[4,this.context.cache.match(p)];case 16:return m=x.sent(),this.ctx.drawImage(m,t.bounds.left-(m.width+10),t.bounds.top),[3,18];case 17:return x.sent(),this.context.logger.error("Error loading list-style-image "+p),[3,18];case 18:return[3,20];case 19:A.listValue&&-1!==t.styles.listStyleType&&(f=this.createFontStyle(n)[0],this.ctx.font=f,this.ctx.fillStyle=Qt(n.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",w=new sA(t.bounds.left,t.bounds.top+ut(t.styles.paddingTop,t.bounds.width),t.bounds.width,zr(n.lineHeight,n.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new li(A.listValue,w),n.letterSpacing,zr(n.lineHeight,n.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),x.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(A){return rA(this,0,void 0,function(){var e,t,r,n,i,s,a,l,o,d,c,g,u,h,B;return nA(this,function(m){switch(m.label){case 0:return bn(A.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(A.element)];case 1:m.sent(),e=0,t=A.negativeZIndex,m.label=2;case 2:return e<t.length?(B=t[e],[4,this.renderStack(B)]):[3,5];case 3:m.sent(),m.label=4;case 4:return e++,[3,2];case 5:return[4,this.renderNodeContent(A.element)];case 6:m.sent(),r=0,n=A.nonInlineLevel,m.label=7;case 7:return r<n.length?(B=n[r],[4,this.renderNode(B)]):[3,10];case 8:m.sent(),m.label=9;case 9:return r++,[3,7];case 10:i=0,s=A.nonPositionedFloats,m.label=11;case 11:return i<s.length?(B=s[i],[4,this.renderStack(B)]):[3,14];case 12:m.sent(),m.label=13;case 13:return i++,[3,11];case 14:a=0,l=A.nonPositionedInlineLevel,m.label=15;case 15:return a<l.length?(B=l[a],[4,this.renderStack(B)]):[3,18];case 16:m.sent(),m.label=17;case 17:return a++,[3,15];case 18:o=0,d=A.inlineLevel,m.label=19;case 19:return o<d.length?(B=d[o],[4,this.renderNode(B)]):[3,22];case 20:m.sent(),m.label=21;case 21:return o++,[3,19];case 22:c=0,g=A.zeroOrAutoZIndexOrTransformedOrOpacity,m.label=23;case 23:return c<g.length?(B=g[c],[4,this.renderStack(B)]):[3,26];case 24:m.sent(),m.label=25;case 25:return c++,[3,23];case 26:u=0,h=A.positiveZIndex,m.label=27;case 27:return u<h.length?(B=h[u],[4,this.renderStack(B)]):[3,30];case 28:m.sent(),m.label=29;case 29:return u++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(A){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(A.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(A){this.ctx.beginPath(),this.formatPath(A),this.ctx.closePath()},e.prototype.formatPath=function(A){var e=this;A.forEach(function(A,t){var r=Ys(A)?A.start:A;0===t?e.ctx.moveTo(r.x,r.y):e.ctx.lineTo(r.x,r.y),Ys(A)&&e.ctx.bezierCurveTo(A.startControl.x,A.startControl.y,A.endControl.x,A.endControl.y,A.end.x,A.end.y)})},e.prototype.renderRepeat=function(A,e,t,r){this.path(A),this.ctx.fillStyle=e,this.ctx.translate(t,r),this.ctx.fill(),this.ctx.translate(-t,-r)},e.prototype.resizeImage=function(A,e,t){var r;if(A.width===e&&A.height===t)return A;var n=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return n.width=Math.max(1,e),n.height=Math.max(1,t),n.getContext("2d").drawImage(A,0,0,A.width,A.height,0,0,e,t),n},e.prototype.renderBackgroundImage=function(A){return rA(this,0,void 0,function(){var e,t,r,n,i,s;return nA(this,function(a){switch(a.label){case 0:e=A.styles.backgroundImage.length-1,t=function(t){var n,i,s,a,l,o,d,c,g,u,h,B,m,p,f,w,x,b,Q,y,C,F,v,U,j,E,k,S,H,I,D;return nA(this,function(K){switch(K.label){case 0:if(0!==t.type)return[3,5];n=void 0,i=t.url,K.label=1;case 1:return K.trys.push([1,3,,4]),[4,r.context.cache.match(i)];case 2:return n=K.sent(),[3,4];case 3:return K.sent(),r.context.logger.error("Error loading background-image "+i),[3,4];case 4:return n&&(s=Ba(A,e,[n.width,n.height,n.width/n.height]),w=s[0],F=s[1],v=s[2],Q=s[3],y=s[4],p=r.ctx.createPattern(r.resizeImage(n,Q,y),"repeat"),r.renderRepeat(w,p,F,v)),[3,6];case 5:1===t.type?(a=Ba(A,e,[null,null,null]),w=a[0],F=a[1],v=a[2],Q=a[3],y=a[4],l=Kt(t.angle,Q,y),o=l[0],d=l[1],c=l[2],g=l[3],u=l[4],(h=document.createElement("canvas")).width=Q,h.height=y,B=h.getContext("2d"),m=B.createLinearGradient(d,g,c,u),Dt(t.stops,o).forEach(function(A){return m.addColorStop(A.stop,Qt(A.color))}),B.fillStyle=m,B.fillRect(0,0,Q,y),Q>0&&y>0&&(p=r.ctx.createPattern(h,"repeat"),r.renderRepeat(w,p,F,v))):function(A){return 2===A.type}(t)&&(f=Ba(A,e,[null,null,null]),w=f[0],x=f[1],b=f[2],Q=f[3],y=f[4],C=0===t.position.length?[dt]:t.position,F=ut(C[0],Q),v=ut(C[C.length-1],y),U=function(A,e,t,r,n){var i=0,s=0;switch(A.size){case 0:0===A.shape?i=s=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(t),Math.abs(t-n)):1===A.shape&&(i=Math.min(Math.abs(e),Math.abs(e-r)),s=Math.min(Math.abs(t),Math.abs(t-n)));break;case 2:if(0===A.shape)i=s=Math.min(Lt(e,t),Lt(e,t-n),Lt(e-r,t),Lt(e-r,t-n));else if(1===A.shape){var a=Math.min(Math.abs(t),Math.abs(t-n))/Math.min(Math.abs(e),Math.abs(e-r)),l=zt(r,n,e,t,!0),o=l[0],d=l[1];s=a*(i=Lt(o-e,(d-t)/a))}break;case 1:0===A.shape?i=s=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(t),Math.abs(t-n)):1===A.shape&&(i=Math.max(Math.abs(e),Math.abs(e-r)),s=Math.max(Math.abs(t),Math.abs(t-n)));break;case 3:if(0===A.shape)i=s=Math.max(Lt(e,t),Lt(e,t-n),Lt(e-r,t),Lt(e-r,t-n));else if(1===A.shape){a=Math.max(Math.abs(t),Math.abs(t-n))/Math.max(Math.abs(e),Math.abs(e-r));var c=zt(r,n,e,t,!1);o=c[0],d=c[1],s=a*(i=Lt(o-e,(d-t)/a))}}return Array.isArray(A.size)&&(i=ut(A.size[0],r),s=2===A.size.length?ut(A.size[1],n):i),[i,s]}(t,F,v,Q,y),j=U[0],E=U[1],j>0&&E>0&&(k=r.ctx.createRadialGradient(x+F,b+v,0,x+F,b+v,j),Dt(t.stops,2*j).forEach(function(A){return k.addColorStop(A.stop,Qt(A.color))}),r.path(w),r.ctx.fillStyle=k,j!==E?(S=A.bounds.left+.5*A.bounds.width,H=A.bounds.top+.5*A.bounds.height,D=1/(I=E/j),r.ctx.save(),r.ctx.translate(S,H),r.ctx.transform(1,0,0,I,0,0),r.ctx.translate(-S,-H),r.ctx.fillRect(x,D*(b-H)+H,Q,y*D),r.ctx.restore()):r.ctx.fill())),K.label=6;case 6:return e--,[2]}})},r=this,n=0,i=A.styles.backgroundImage.slice(0).reverse(),a.label=1;case 1:return n<i.length?(s=i[n],[5,t(s)]):[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(A,e,t){return rA(this,0,void 0,function(){return nA(this,function(r){return this.path(da(t,e)),this.ctx.fillStyle=Qt(A),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(A,e,t,r){return rA(this,0,void 0,function(){var n,i;return nA(this,function(s){switch(s.label){case 0:return e<3?[4,this.renderSolidBorder(A,t,r)]:[3,2];case 1:return s.sent(),[2];case 2:return n=function(A,e){switch(e){case 0:return ga(A.topLeftBorderBox,A.topLeftBorderDoubleOuterBox,A.topRightBorderBox,A.topRightBorderDoubleOuterBox);case 1:return ga(A.topRightBorderBox,A.topRightBorderDoubleOuterBox,A.bottomRightBorderBox,A.bottomRightBorderDoubleOuterBox);case 2:return ga(A.bottomRightBorderBox,A.bottomRightBorderDoubleOuterBox,A.bottomLeftBorderBox,A.bottomLeftBorderDoubleOuterBox);default:return ga(A.bottomLeftBorderBox,A.bottomLeftBorderDoubleOuterBox,A.topLeftBorderBox,A.topLeftBorderDoubleOuterBox)}}(r,t),this.path(n),this.ctx.fillStyle=Qt(A),this.ctx.fill(),i=function(A,e){switch(e){case 0:return ga(A.topLeftBorderDoubleInnerBox,A.topLeftPaddingBox,A.topRightBorderDoubleInnerBox,A.topRightPaddingBox);case 1:return ga(A.topRightBorderDoubleInnerBox,A.topRightPaddingBox,A.bottomRightBorderDoubleInnerBox,A.bottomRightPaddingBox);case 2:return ga(A.bottomRightBorderDoubleInnerBox,A.bottomRightPaddingBox,A.bottomLeftBorderDoubleInnerBox,A.bottomLeftPaddingBox);default:return ga(A.bottomLeftBorderDoubleInnerBox,A.bottomLeftPaddingBox,A.topLeftBorderDoubleInnerBox,A.topLeftPaddingBox)}}(r,t),this.path(i),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(A){return rA(this,0,void 0,function(){var e,t,r,n,i,s,a,l,o=this;return nA(this,function(d){switch(d.label){case 0:return this.applyEffects(A.getEffects(2)),e=A.container.styles,t=!bt(e.backgroundColor)||e.backgroundImage.length,r=[{style:e.borderTopStyle,color:e.borderTopColor,width:e.borderTopWidth},{style:e.borderRightStyle,color:e.borderRightColor,width:e.borderRightWidth},{style:e.borderBottomStyle,color:e.borderBottomColor,width:e.borderBottomWidth},{style:e.borderLeftStyle,color:e.borderLeftColor,width:e.borderLeftWidth}],n=va(wa(e.backgroundClip,0),A.curves),t||e.boxShadow.length?(this.ctx.save(),this.path(n),this.ctx.clip(),bt(e.backgroundColor)||(this.ctx.fillStyle=Qt(e.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(A.container)]):[3,2];case 1:d.sent(),this.ctx.restore(),e.boxShadow.slice(0).reverse().forEach(function(e){o.ctx.save();var t,r,n,i,s,a=qs(A.curves),l=e.inset?0:1e4,d=(t=a,r=-l+(e.inset?1:-1)*e.spread.number,n=(e.inset?1:-1)*e.spread.number,i=e.spread.number*(e.inset?-2:2),s=e.spread.number*(e.inset?-2:2),t.map(function(A,e){switch(e){case 0:return A.add(r,n);case 1:return A.add(r+i,n);case 2:return A.add(r+i,n+s);case 3:return A.add(r,n+s)}return A}));e.inset?(o.path(a),o.ctx.clip(),o.mask(d)):(o.mask(a),o.ctx.clip(),o.path(d)),o.ctx.shadowOffsetX=e.offsetX.number+l,o.ctx.shadowOffsetY=e.offsetY.number,o.ctx.shadowColor=Qt(e.color),o.ctx.shadowBlur=e.blur.number,o.ctx.fillStyle=e.inset?Qt(e.color):"rgba(0,0,0,1)",o.ctx.fill(),o.ctx.restore()}),d.label=2;case 2:i=0,s=0,a=r,d.label=3;case 3:return s<a.length?0!==(l=a[s]).style&&!bt(l.color)&&l.width>0?2!==l.style?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,i,A.curves,2)]:[3,11]:[3,13];case 4:return d.sent(),[3,11];case 5:return 3!==l.style?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,i,A.curves,3)];case 6:return d.sent(),[3,11];case 7:return 4!==l.style?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,i,A.curves)];case 8:return d.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,i,A.curves)];case 10:d.sent(),d.label=11;case 11:i++,d.label=12;case 12:return s++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(A,e,t,r,n){return rA(this,0,void 0,function(){var i,s,a,l,o,d,c,g,u,h,B,m,p,f,w,x;return nA(this,function(b){return this.ctx.save(),i=function(A,e){switch(e){case 0:return ca(A.topLeftBorderStroke,A.topRightBorderStroke);case 1:return ca(A.topRightBorderStroke,A.bottomRightBorderStroke);case 2:return ca(A.bottomRightBorderStroke,A.bottomLeftBorderStroke);default:return ca(A.bottomLeftBorderStroke,A.topLeftBorderStroke)}}(r,t),s=da(r,t),2===n&&(this.path(s),this.ctx.clip()),Ys(s[0])?(a=s[0].start.x,l=s[0].start.y):(a=s[0].x,l=s[0].y),Ys(s[1])?(o=s[1].end.x,d=s[1].end.y):(o=s[1].x,d=s[1].y),c=0===t||2===t?Math.abs(a-o):Math.abs(l-d),this.ctx.beginPath(),3===n?this.formatPath(i):this.formatPath(s.slice(0,2)),g=e<3?3*e:2*e,u=e<3?2*e:e,3===n&&(g=e,u=e),h=!0,c<=2*g?h=!1:c<=2*g+u?(g*=B=c/(2*g+u),u*=B):(m=Math.floor((c+u)/(g+u)),p=(c-m*g)/(m-1),u=(f=(c-(m+1)*g)/m)<=0||Math.abs(u-p)<Math.abs(u-f)?p:f),h&&(3===n?this.ctx.setLineDash([0,g+u]):this.ctx.setLineDash([g,u])),3===n?(this.ctx.lineCap="round",this.ctx.lineWidth=e):this.ctx.lineWidth=2*e+1.1,this.ctx.strokeStyle=Qt(A),this.ctx.stroke(),this.ctx.setLineDash([]),2===n&&(Ys(s[0])&&(w=s[3],x=s[0],this.ctx.beginPath(),this.formatPath([new Ps(w.end.x,w.end.y),new Ps(x.start.x,x.start.y)]),this.ctx.stroke()),Ys(s[1])&&(w=s[1],x=s[2],this.ctx.beginPath(),this.formatPath([new Ps(w.end.x,w.end.y),new Ps(x.start.x,x.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(A){return rA(this,0,void 0,function(){var e;return nA(this,function(t){switch(t.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Qt(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=new aa(A,null),n=new sa(r),la(r,n,n,i=[]),oa(r.container,i),e=n,[4,this.renderStack(e)];case 1:return t.sent(),this.applyEffects([]),[2,this.canvas]}var r,n,i})})},e}(ya),Fa=function(A){return A instanceof Hi||(A instanceof Si||A instanceof ki&&A.type!==Ui&&A.type!==vi)},va=function(A,e){switch(A){case 0:return qs(e);case 2:return function(A){return[A.topLeftContentBox,A.topRightContentBox,A.bottomRightContentBox,A.bottomLeftContentBox]}(e);default:return Aa(e)}},Ua=function(A){switch(A){case 1:return"center";case 2:return"right";default:return"left"}},ja=["-apple-system","system-ui"],Ea=function(A){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?A.filter(function(A){return-1===ja.indexOf(A)}):A},ka=function(A){function e(e,t){var r=A.call(this,e,t)||this;return r.canvas=t.canvas?t.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=t,r.canvas.width=Math.floor(t.width*t.scale),r.canvas.height=Math.floor(t.height*t.scale),r.canvas.style.width=t.width+"px",r.canvas.style.height=t.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-t.x,-t.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+t.width+"x"+t.height+" at "+t.x+","+t.y+") with scale "+t.scale),r}return eA(e,A),e.prototype.render=function(A){return rA(this,0,void 0,function(){var e,t;return nA(this,function(r){switch(r.label){case 0:return e=ii(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,A),[4,Sa(e)];case 1:return t=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Qt(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(t,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(ya),Sa=function(A){return new Promise(function(e,t){var r=new Image;r.onload=function(){e(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(A))})},Ha=function(){function A(A){var e=A.id,t=A.enabled;this.id=e,this.enabled=t,this.start=Date.now()}return A.prototype.debug=function(){for(var A=[],e=0;e<arguments.length;e++)A[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,iA([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},A.prototype.getTime=function(){return Date.now()-this.start},A.prototype.info=function(){for(var A=[],e=0;e<arguments.length;e++)A[e]=arguments[e];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,iA([this.id,this.getTime()+"ms"],A))},A.prototype.warn=function(){for(var A=[],e=0;e<arguments.length;e++)A[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn?console.warn.apply(console,iA([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},A.prototype.error=function(){for(var A=[],e=0;e<arguments.length;e++)A[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,iA([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},A.instances={},A}(),Ia=function(){function A(e,t){var r;this.windowBounds=t,this.instanceName="#"+A.instanceCount++,this.logger=new Ha({id:this.instanceName,enabled:e.logging}),this.cache=null!==(r=e.cache)&&void 0!==r?r:new Ns(this,e)}return A.instanceCount=1,A}();"undefined"!=typeof window&&zs.setContext(window);var Da=function(A,e){return rA(void 0,0,void 0,function(){var t,r,n,i,s,a,l,o,d,c,g,u,h,B,m,p,f,w,x,b,Q,y,C,F,v,U,j,E,k,S,H,I,D,K,L,z,N,_;return nA(this,function(T){switch(T.label){case 0:if(!A||"object"!=typeof A)return[2,Promise.reject("Invalid element provided as first argument")];if(!(t=A.ownerDocument))throw new Error("Element is not attached to a Document");if(!(r=t.defaultView))throw new Error("Document is not attached to a Window");return n={allowTaint:null!==(y=e.allowTaint)&&void 0!==y&&y,imageTimeout:null!==(C=e.imageTimeout)&&void 0!==C?C:15e3,proxy:e.proxy,useCORS:null!==(F=e.useCORS)&&void 0!==F&&F},i=tA({logging:null===(v=e.logging)||void 0===v||v,cache:e.cache},n),s={windowWidth:null!==(U=e.windowWidth)&&void 0!==U?U:r.innerWidth,windowHeight:null!==(j=e.windowHeight)&&void 0!==j?j:r.innerHeight,scrollX:null!==(E=e.scrollX)&&void 0!==E?E:r.pageXOffset,scrollY:null!==(k=e.scrollY)&&void 0!==k?k:r.pageYOffset},a=new sA(s.scrollX,s.scrollY,s.windowWidth,s.windowHeight),l=new Ia(i,a),o=null!==(S=e.foreignObjectRendering)&&void 0!==S&&S,d={allowTaint:null!==(H=e.allowTaint)&&void 0!==H&&H,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:o,copyStyles:o},l.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),c=new xs(l,A,d),(g=c.clonedReferenceElement)?[4,c.toIFrame(t,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return u=T.sent(),h=Ji(g)||"HTML"===g.tagName?function(A){var e=A.body,t=A.documentElement;if(!e||!t)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),n=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new sA(0,0,r,n)}(g.ownerDocument):aA(l,g),B=h.width,m=h.height,p=h.left,f=h.top,w=Ka(l,g,e.backgroundColor),x={canvas:e.canvas,backgroundColor:w,scale:null!==(D=null!==(I=e.scale)&&void 0!==I?I:r.devicePixelRatio)&&void 0!==D?D:1,x:(null!==(K=e.x)&&void 0!==K?K:0)+p,y:(null!==(L=e.y)&&void 0!==L?L:0)+f,width:null!==(z=e.width)&&void 0!==z?z:Math.ceil(B),height:null!==(N=e.height)&&void 0!==N?N:Math.ceil(m)},o?(l.logger.debug("Document cloned, using foreign object rendering"),[4,new ka(l,x).render(g)]):[3,3];case 2:return b=T.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+p+","+f+" with size "+B+"x"+m+" using computed rendering"),l.logger.debug("Starting DOM parsing"),Q=zi(l,g),w===Q.styles.backgroundColor&&(Q.styles.backgroundColor=kt.TRANSPARENT),l.logger.debug("Starting renderer for element at "+x.x+","+x.y+" with size "+x.width+"x"+x.height),[4,new Ca(l,x).render(Q)];case 4:b=T.sent(),T.label=5;case 5:return(null===(_=e.removeContainer)||void 0===_||_)&&(xs.destroy(u)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,b]}})})},Ka=function(A,e,t){var r=e.ownerDocument,n=r.documentElement?Et(A,getComputedStyle(r.documentElement).backgroundColor):kt.TRANSPARENT,i=r.body?Et(A,getComputedStyle(r.body).backgroundColor):kt.TRANSPARENT,s="string"==typeof t?Et(A,t):null===t?kt.TRANSPARENT:4294967295;return e===r.documentElement?bt(n)?bt(i)?s:i:n:s};const La=[{value:"Wie lautet der MÃ¤dchen- oder Jungenname Ihrer Mutter?",label:"Wie lautet der MÃ¤dchen- oder Jungenname Ihrer Mutter?"},{value:"Wie heiÃŸt Ihr erstes Haustier?",label:"Wie heiÃŸt Ihr erstes Haustier?"},{value:"In welcher Stadt wurden Sie geboren?",label:"In welcher Stadt wurden Sie geboren?"},{value:"Wie lautet der Name Ihrer Grundschule?",label:"Wie lautet der Name Ihrer Grundschule?"},{value:"Wie lautet der zweite Vorname Ihres Vaters?",label:"Wie lautet der zweite Vorname Ihres Vaters?"}],za=({CustomSelect:t,onError:r})=>{const[n,s]=e.useState(""),[a,l]=e.useState(""),[o,d]=e.useState(""),[c,g]=e.useState(!1),[u,h]=e.useState(!1),[B,m]=e.useState(!1),[p,f]=e.useState(La[0].value),[w,x]=e.useState(""),[b,Q]=e.useState(!1),[y,C]=e.useState(null),F=t||(({value:e,onChange:t,options:r})=>A.jsx("select",{className:"mitglied-detail-input",value:e,onChange:t,children:r.map(e=>A.jsx("option",{value:e.value,children:e.label},e.value))}));return A.jsx("div",{className:"grid-container",children:A.jsxs("div",{className:"field-group card mitglied-detail-card",style:{borderRadius:"16px",padding:"2rem"},children:[A.jsx("h3",{children:"Passwort & Sicherheitsfrage"}),A.jsxs("div",{style:{marginBottom:"1.25rem"},children:[A.jsx("label",{children:"Aktuelles Passwort:"}),A.jsxs("div",{className:"password-wrapper",style:{position:"relative"},children:[A.jsx("input",{className:"mitglied-detail-input",type:c?"text":"password",value:n,onChange:A=>s(A.target.value),placeholder:"Aktuelles Passwort",disabled:b}),A.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>g(!c),children:c?"ğŸ‘ï¸":"â€¢â€¢â€¢â€¢â€¢â€¢â€¢"})]})]}),A.jsxs("div",{style:{marginBottom:"1.25rem"},children:[A.jsx("label",{children:"Neues Passwort:"}),A.jsxs("div",{className:"password-wrapper",style:{position:"relative"},children:[A.jsx("input",{className:"mitglied-detail-input "+(n?"":"disabled"),type:u?"text":"password",value:a,onChange:A=>l(A.target.value),placeholder:"Neues Passwort",disabled:!n||b}),A.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>h(!u),children:u?"ğŸ‘ï¸":"â€¢â€¢â€¢â€¢â€¢â€¢â€¢"})]}),!n&&A.jsx("small",{className:"input-hint mitglied-detail-hint-warning",children:"â„¹ï¸ Bitte zuerst das aktuelle Passwort eingeben"}),n&&A.jsx("small",{className:"input-hint",children:"Mind. 8 Zeichen, mindestens 1 Zahl und 1 Sonderzeichen."})]}),A.jsxs("div",{style:{marginBottom:"1.25rem"},children:[A.jsx("label",{children:"Neues Passwort bestÃ¤tigen:"}),A.jsxs("div",{className:"password-wrapper",style:{position:"relative"},children:[A.jsx("input",{className:"mitglied-detail-input "+(n?"":"disabled"),type:B?"text":"password",value:o,onChange:A=>d(A.target.value),placeholder:"Passwort bestÃ¤tigen",disabled:!n||b}),A.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>m(!B),children:B?"ğŸ‘ï¸":"â€¢â€¢â€¢â€¢â€¢â€¢â€¢"})]})]}),A.jsxs("div",{style:{marginBottom:"1.25rem"},children:[A.jsx("label",{children:"Sicherheitsfrage:"}),A.jsx(F,{value:p,onChange:A=>f(A.target.value),options:La})]}),A.jsxs("div",{style:{marginBottom:"1.5rem"},children:[A.jsx("label",{children:"Antwort auf Sicherheitsfrage:"}),A.jsx("input",{className:"mitglied-detail-input",type:"text",value:w,onChange:A=>x(A.target.value),placeholder:"Antwort",disabled:b})]}),A.jsxs("div",{className:"mitglied-detail-actions",style:{display:"flex",flexWrap:"wrap",gap:"0.75rem",marginTop:"1.5rem"},children:[A.jsxs("button",{className:"mitglied-detail-btn mitglied-detail-btn-primary "+(n&&a&&o&&!b?"":"disabled"),onClick:async()=>{var A,e,t;if(C(null),(A=>{const e=/\d/.test(A),t=/[!@#$%^&*(),.?":{}|<>_+\-=/\\\[\];'`~]/.test(A);return A&&A.length>=8&&e&&t})(a))if(a===o){Q(!0);try{const e=await i.post("/auth/change-password",{currentPassword:n,newPassword:a});C({type:"success",text:(null==(A=e.data)?void 0:A.message)||"Passwort geÃ¤ndert."}),s(""),l(""),d("")}catch(c){const A=(null==(t=null==(e=c.response)?void 0:e.data)?void 0:t.message)||"Ã„nderung fehlgeschlagen.";C({type:"error",text:A}),null==r||r(A)}finally{Q(!1)}}else C({type:"error",text:"Die PasswÃ¶rter stimmen nicht Ã¼berein."});else C({type:"error",text:"Neues Passwort entspricht nicht der Richtlinie."})},disabled:!n||!a||!o||b,children:[b?"â³":"ğŸ”’"," Passwort Ã„ndern"]}),A.jsx("button",{className:"mitglied-detail-btn mitglied-detail-btn-secondary "+(b?"disabled":""),onClick:async()=>{var A,e,t;if(C(null),w.trim()){Q(!0);try{const e=await i.post("/auth/security",{securityQuestion:p,securityAnswer:w});C({type:"success",text:(null==(A=e.data)?void 0:A.message)||"Sicherheitsfrage gespeichert."})}catch(n){const A=(null==(t=null==(e=n.response)?void 0:e.data)?void 0:t.message)||"Speichern fehlgeschlagen.";C({type:"error",text:A}),null==r||r(A)}finally{Q(!1)}}else C({type:"error",text:"Bitte eine Antwort auf die Sicherheitsfrage angeben."})},disabled:b,children:"ğŸ‘ï¸ Sicherheitsfrage speichern"})]}),y&&A.jsxs("div",{className:"mitglied-detail-message "+("error"===y.type?"error":"success"),style:{marginTop:"1.25rem",padding:"1rem",borderRadius:"10px",display:"flex",alignItems:"center",gap:"0.75rem",fontSize:"0.95rem"},children:[A.jsx("span",{style:{fontSize:"1.2rem"},children:"error"===y.type?"âŒ":"âœ…"}),y.text]})]})})},Na=({mitgliedId:t,dojoId:r,editMode:n,onError:s})=>{const[a,l]=e.useState([]),[o,d]=e.useState(!1),[c,g]=e.useState(null),[u,h]=e.useState({art:"Lehrgang",bezeichnung:"",datum:"",lizenz:""}),[B,m]=e.useState(!1);e.useEffect(()=>{t&&p()},[t]);const p=async()=>{m(!0);try{const A=await i.get(`/ehrungen-lehrgaenge/mitglied/${t}`);A.data.success&&l(A.data.data||[])}catch(A){console.error("Fehler beim Laden der Zusatzdaten:",A),null==s||s("Fehler beim Laden der Zusatzdaten")}finally{m(!1)}},f=()=>{d(!1),g(null),h({art:"Lehrgang",bezeichnung:"",datum:"",lizenz:""})};return A.jsxs("div",{className:"zusatzdaten-content",style:{padding:"1rem"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",paddingBottom:"1rem",borderBottom:"2px solid rgba(255, 215, 0, 0.2)"},children:[A.jsx("h2",{style:{margin:0,color:"#FFD700",fontSize:"1.5rem",fontWeight:"700"},children:"LehrgÃ¤nge & Ehrungen"}),n&&A.jsx("button",{onClick:()=>{g(null),h({art:"Lehrgang",bezeichnung:"",datum:"",lizenz:""}),d(!0)},style:{padding:"0.6rem 1.2rem",background:"linear-gradient(135deg, #FFD700, #FFA500)",border:"none",borderRadius:"8px",color:"#000",fontWeight:"600",cursor:"pointer",fontSize:"0.9rem"},children:"+ Neuer Eintrag"})]}),B&&A.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"rgba(255, 255, 255, 0.6)"},children:"Lade Daten..."}),!B&&0===a.length&&A.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"rgba(255, 255, 255, 0.6)"},children:[A.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"ğŸ“‹"}),A.jsx("p",{children:"Noch keine LehrgÃ¤nge oder Ehrungen erfasst."}),n&&A.jsx("p",{style:{fontSize:"0.9rem"},children:'Klicken Sie auf "Neuer Eintrag" um einen hinzuzufÃ¼gen.'})]}),!B&&a.length>0&&A.jsx("div",{style:{overflowX:"auto"},children:A.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem"},children:[A.jsx("thead",{children:A.jsxs("tr",{style:{borderBottom:"2px solid rgba(255, 215, 0, 0.3)"},children:[A.jsx("th",{style:{padding:"0.75rem",textAlign:"left",color:"#FFD700"},children:"Datum"}),A.jsx("th",{style:{padding:"0.75rem",textAlign:"left",color:"#FFD700"},children:"Art"}),A.jsx("th",{style:{padding:"0.75rem",textAlign:"left",color:"#FFD700"},children:"Bezeichnung"}),A.jsx("th",{style:{padding:"0.75rem",textAlign:"left",color:"#FFD700"},children:"Lizenz"}),n&&A.jsx("th",{style:{padding:"0.75rem",textAlign:"center",color:"#FFD700"},children:"Aktion"})]})}),A.jsx("tbody",{children:a.map(e=>{const t=(A=>{switch(A){case"Ehrung":return{background:"rgba(255, 215, 0, 0.2)",color:"#FFD700"};case"Seminar":return{background:"rgba(59, 130, 246, 0.2)",color:"#3b82f6"};case"Lehrgang":return{background:"rgba(16, 185, 129, 0.2)",color:"#10b981"};default:return{background:"rgba(139, 92, 246, 0.2)",color:"#8b5cf6"}}})(e.art);return A.jsxs("tr",{style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[A.jsx("td",{style:{padding:"0.75rem"},children:new Date(e.datum).toLocaleDateString("de-DE")}),A.jsx("td",{style:{padding:"0.75rem"},children:A.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"4px",fontSize:"0.8rem",...t},children:e.art})}),A.jsx("td",{style:{padding:"0.75rem"},children:e.bezeichnung}),A.jsx("td",{style:{padding:"0.75rem",color:"rgba(255,255,255,0.6)"},children:e.lizenz||"-"}),n&&A.jsx("td",{style:{padding:"0.75rem",textAlign:"center"},children:A.jsx("button",{onClick:()=>(async A=>{var e,t;if(window.confirm(`"${A.bezeichnung}" wirklich lÃ¶schen?`))try{await i.delete(`/ehrungen-lehrgaenge/${A.id}`),l(a.filter(e=>e.id!==A.id))}catch(r){console.error("Fehler beim LÃ¶schen:",r);const A="Fehler beim LÃ¶schen: "+((null==(t=null==(e=r.response)?void 0:e.data)?void 0:t.error)||r.message);alert(A),null==s||s(A)}})(e),style:{background:"rgba(239, 68, 68, 0.2)",border:"1px solid #ef4444",padding:"0.25rem 0.5rem",borderRadius:"4px",color:"#ef4444",cursor:"pointer",fontSize:"0.8rem"},children:"LÃ¶schen"})})]},e.id)})})]})}),o&&A.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:f,children:A.jsxs("div",{onClick:A=>A.stopPropagation(),style:{background:"linear-gradient(145deg, #1a1a2e 0%, #16213e 100%)",borderRadius:"16px",width:"90%",maxWidth:"450px",border:"1px solid rgba(255, 215, 0, 0.3)",boxShadow:"0 20px 60px rgba(0,0,0,0.5)"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem 1.5rem",borderBottom:"1px solid rgba(255, 215, 0, 0.2)"},children:[A.jsx("h3",{style:{color:"#FFD700",margin:0},children:c?"Eintrag bearbeiten":"Neuer Eintrag"}),A.jsx("button",{onClick:f,style:{background:"transparent",border:"none",color:"#fff",cursor:"pointer",fontSize:"1.5rem"},children:"Ã—"})]}),A.jsxs("div",{style:{padding:"1.5rem"},children:[A.jsxs("div",{style:{marginBottom:"1rem"},children:[A.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"rgba(255,255,255,0.8)"},children:"Datum *"}),A.jsx("input",{type:"date",value:u.datum,onChange:A=>h({...u,datum:A.target.value}),style:{width:"100%",padding:"0.75rem",background:"#1a1a1a",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px",color:"#fff"}})]}),A.jsxs("div",{style:{marginBottom:"1rem"},children:[A.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"rgba(255,255,255,0.8)"},children:"Art *"}),A.jsxs("select",{value:u.art,onChange:A=>h({...u,art:A.target.value}),style:{width:"100%",padding:"0.75rem",background:"#1a1a1a",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px",color:"#fff"},children:[A.jsx("option",{value:"Lehrgang",children:"Lehrgang"}),A.jsx("option",{value:"Seminar",children:"Seminar"}),A.jsx("option",{value:"Ehrung",children:"Ehrung"})]})]}),A.jsxs("div",{style:{marginBottom:"1rem"},children:[A.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"rgba(255,255,255,0.8)"},children:"Bezeichnung *"}),A.jsx("input",{type:"text",value:u.bezeichnung,onChange:A=>h({...u,bezeichnung:A.target.value}),placeholder:"z.B. Dan-Lehrgang, Trainer C-Lizenz...",style:{width:"100%",padding:"0.75rem",background:"#1a1a1a",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px",color:"#fff"}})]}),A.jsxs("div",{style:{marginBottom:"1rem"},children:[A.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"rgba(255,255,255,0.8)"},children:"Lizenz (optional)"}),A.jsx("input",{type:"text",value:u.lizenz,onChange:A=>h({...u,lizenz:A.target.value}),placeholder:"z.B. Trainer C, Ãœbungsleiter B...",style:{width:"100%",padding:"0.75rem",background:"#1a1a1a",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px",color:"#fff"}})]})]}),A.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end",padding:"1rem 1.5rem",borderTop:"1px solid rgba(255, 215, 0, 0.2)"},children:[A.jsx("button",{onClick:f,style:{padding:"0.75rem 1.5rem",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#fff",cursor:"pointer"},children:"Abbrechen"}),A.jsx("button",{onClick:async()=>{var A,e;try{c?await i.put(`/ehrungen-lehrgaenge/${c.id}`,u):await i.post("/ehrungen-lehrgaenge",{...u,mitglied_id:t,dojo_id:r}),await p(),f()}catch(n){console.error("Fehler beim Speichern:",n);const t="Fehler beim Speichern: "+((null==(e=null==(A=n.response)?void 0:A.data)?void 0:e.error)||n.message);alert(t),null==s||s(t)}},style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #FFD700, #FFA500)",border:"none",borderRadius:"8px",color:"#000",fontWeight:"600",cursor:"pointer"},children:"Speichern"})]})]})})]})},_a=["NÃ¼sse/ErdnÃ¼sse","Milch/Laktose","Gluten/Weizen","Eier","Fisch/MeeresfrÃ¼chte","Soja","Insektenstiche (Bienen/Wespen)","Medikamente (Penicillin etc.)","Latex","Pollen/Heuschnupfen","Hausstaub/Milben","Tierhaare","Sonstiges"],Ta=[{value:"",label:"Bitte wÃ¤hlen"},{value:"Elternteil",label:"Elternteil"},{value:"Partner/in",label:"Partner/in"},{value:"Geschwister",label:"Geschwister"},{value:"Freund/in",label:"Freund/in"},{value:"Arzt",label:"Hausarzt"},{value:"Sonstiges",label:"Sonstiges"}],Ma=({mitglied:e,updatedData:t,editMode:r,handleChange:n,CustomSelect:i,allergien:s=[],allergienArchiv:a=[],newAllergie:l={type:"",custom:""},setNewAllergie:o,addAllergie:d,removeAllergie:c})=>{const g=i||(({value:e,onChange:t,options:r,className:n})=>A.jsx("select",{className:n,value:e,onChange:t,children:r.map(e=>A.jsx("option",{value:e.value,children:e.label},e.value))}));return A.jsxs("div",{className:"medizinisch-container",children:[A.jsxs("div",{className:"field-group card",children:[A.jsx("h3",{children:"Medizinische Informationen"}),A.jsxs("div",{className:"allergie-management",children:[A.jsx("label",{children:"Allergien:"}),r?A.jsxs("div",{className:"allergien-editor",children:[A.jsx("div",{className:"allergien-liste",children:0===s.length?A.jsx("p",{className:"no-allergien",children:"Keine Allergien erfasst"}):s.map(e=>A.jsxs("div",{className:"allergie-tag",children:[A.jsx("span",{className:"allergie-name",children:e.value}),A.jsx("button",{type:"button",className:"allergie-remove",onClick:()=>c(e.id),title:"Allergie archivieren",children:"x"})]},e.id))}),A.jsx("div",{className:"allergie-add-form",children:A.jsxs("div",{className:"add-form-controls",children:[A.jsx(g,{value:l.type,onChange:A=>o({...l,type:A.target.value}),className:"allergie-select",options:[{value:"",label:"Allergie auswÃ¤hlen..."},..._a.map(A=>({value:A,label:A}))]}),"Sonstiges"===l.type&&A.jsx("input",{type:"text",value:l.custom,onChange:A=>o({...l,custom:A.target.value}),placeholder:"Eigene Allergie eingeben...",className:"allergie-custom-input"}),A.jsx("button",{type:"button",onClick:d,className:"allergie-add-btn",disabled:!l.type||"Sonstiges"===l.type&&!l.custom.trim(),title:"Allergie hinzufÃ¼gen",children:"+ Hinzufuegen"})]})})]}):A.jsx("div",{className:"allergien-anzeige",children:0===s.length?A.jsx("span",{className:"no-allergien-display",children:"Keine Allergien bekannt"}):A.jsx("div",{className:"allergien-tags-readonly",children:s.map(e=>A.jsx("span",{className:"allergie-tag-readonly",children:e.value},e.id))})})]}),a&&a.length>0&&A.jsxs("div",{className:"allergie-archiv",style:{marginTop:"1rem",padding:"1rem",background:"rgba(255, 165, 0, 0.05)",borderRadius:"8px",border:"1px solid rgba(255, 165, 0, 0.2)"},children:[A.jsx("label",{style:{fontSize:"0.85rem",color:"rgba(255, 165, 0, 0.8)",fontWeight:"600",display:"block",marginBottom:"0.5rem"},children:"Archivierte Allergien (geloescht):"}),A.jsx("div",{className:"allergien-archiv-liste",style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:a.map((e,t)=>A.jsxs("div",{style:{background:"rgba(255, 165, 0, 0.1)",padding:"0.5rem 0.75rem",borderRadius:"4px",border:"1px solid rgba(255, 165, 0, 0.3)",fontSize:"0.85rem"},children:[A.jsx("span",{style:{color:"rgba(255, 255, 255, 0.7)"},children:e.value}),e.geloescht_am_readable&&A.jsxs("span",{style:{marginLeft:"0.5rem",fontSize:"0.75rem",color:"rgba(255, 165, 0, 0.6)",fontStyle:"italic"},children:["(geloescht: ",e.geloescht_am_readable,")"]})]},t))})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Medizinische Hinweise:"}),r?A.jsx("textarea",{rows:"3",value:t.medizinische_hinweise||"",onChange:A=>n(A,"medizinische_hinweise"),placeholder:"z.B. Asthma, Herzprobleme, Medikamente..."}):A.jsx("span",{children:e.medizinische_hinweise||"Keine"})]})]}),A.jsxs("div",{className:"field-group card",children:[A.jsx("h3",{children:"Notfallkontakte"}),A.jsx("div",{className:"emergency-contact-section",children:A.jsxs("div",{className:"contact-grid",children:[A.jsx("div",{className:"contact-header",children:A.jsxs("h4",{children:["Notfallkontakt 1 ",A.jsx("span",{className:"primary-badge",children:"Primaer"})]})}),A.jsxs("div",{children:[A.jsx("label",{children:"Name:"}),r?A.jsx("input",{type:"text",value:t.notfallkontakt_name||"",onChange:A=>n(A,"notfallkontakt_name"),placeholder:"Max Mustermann"}):A.jsx("span",{children:e.notfallkontakt_name||"Nicht angegeben"})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Telefon:"}),r?A.jsx("input",{type:"tel",value:t.notfallkontakt_telefon||"",onChange:A=>n(A,"notfallkontakt_telefon"),placeholder:"+49 123 456789"}):A.jsx("span",{children:e.notfallkontakt_telefon||"Nicht angegeben"})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Verhaeltnis:"}),r?A.jsx(g,{value:t.notfallkontakt_verhaeltnis||"",onChange:A=>n(A,"notfallkontakt_verhaeltnis"),options:Ta}):A.jsx("span",{children:e.notfallkontakt_verhaeltnis||"Nicht angegeben"})]})]})}),A.jsx("div",{className:"emergency-contact-section",children:A.jsxs("div",{className:"contact-grid",children:[A.jsx("div",{className:"contact-header",children:A.jsx("h4",{children:"Notfallkontakt 2"})}),A.jsxs("div",{children:[A.jsx("label",{children:"Name:"}),r?A.jsx("input",{type:"text",value:t.notfallkontakt2_name||"",onChange:A=>n(A,"notfallkontakt2_name"),placeholder:"Maria Musterfrau"}):A.jsx("span",{children:e.notfallkontakt2_name||"Nicht angegeben"})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Telefon:"}),r?A.jsx("input",{type:"tel",value:t.notfallkontakt2_telefon||"",onChange:A=>n(A,"notfallkontakt2_telefon"),placeholder:"+49 123 456789"}):A.jsx("span",{children:e.notfallkontakt2_telefon||"Nicht angegeben"})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Verhaeltnis:"}),r?A.jsx(g,{value:t.notfallkontakt2_verhaeltnis||"",onChange:A=>n(A,"notfallkontakt2_verhaeltnis"),options:Ta}):A.jsx("span",{children:e.notfallkontakt2_verhaeltnis||"Nicht angegeben"})]})]})}),A.jsx("div",{className:"emergency-contact-section",children:A.jsxs("div",{className:"contact-grid",children:[A.jsx("div",{className:"contact-header",children:A.jsx("h4",{children:"Notfallkontakt 3"})}),A.jsxs("div",{children:[A.jsx("label",{children:"Name:"}),r?A.jsx("input",{type:"text",value:t.notfallkontakt3_name||"",onChange:A=>n(A,"notfallkontakt3_name"),placeholder:"Dr. med. Beispiel"}):A.jsx("span",{children:e.notfallkontakt3_name||"Nicht angegeben"})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Telefon:"}),r?A.jsx("input",{type:"tel",value:t.notfallkontakt3_telefon||"",onChange:A=>n(A,"notfallkontakt3_telefon"),placeholder:"+49 123 456789"}):A.jsx("span",{children:e.notfallkontakt3_telefon||"Nicht angegeben"})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Verhaeltnis:"}),r?A.jsx(g,{value:t.notfallkontakt3_verhaeltnis||"",onChange:A=>n(A,"notfallkontakt3_verhaeltnis"),options:Ta}):A.jsx("span",{children:e.notfallkontakt3_verhaeltnis||"Nicht angegeben"})]})]})}),A.jsx("div",{className:"info-box",children:A.jsxs("p",{children:[A.jsx("strong",{children:"Hinweis:"})," Es wird empfohlen, mindestens einen Primaerkontakt anzugeben. Zusaetzliche Kontakte bieten mehr Sicherheit im Notfall."]})})]})]})},Ra=[{value:"",label:"Bitte waehlen"},{value:"Vater",label:"Vater"},{value:"Mutter",label:"Mutter"},{value:"Opa",label:"Opa"},{value:"Oma",label:"Oma"},{value:"sonstiger gesetzl. Vertreter",label:"Sonstiger gesetzl. Vertreter"}],Ga=[{value:"",label:"Kein Rabatt"},{value:"Familie",label:"Familienrabatt"},{value:"Student",label:"Studenten-Rabatt"},{value:"Senior",label:"Senioren-Rabatt"},{value:"Geschwister",label:"Geschwister-Rabatt"},{value:"Sonstiges",label:"Sonstiges"}],Va={width:"100%",padding:"0.6rem",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"4px",color:"#fff",fontSize:"0.9rem"},Oa={color:"rgba(255, 255, 255, 0.7)",fontWeight:"500",fontSize:"0.9rem"},Wa={display:"grid",gridTemplateColumns:"200px 1fr 250px 1fr",gap:"1rem",alignItems:"center",padding:"1rem",background:"rgba(255, 255, 255, 0.02)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.1)"},Pa=({mitglied:t,updatedData:r,editMode:n,handleChange:i,CustomSelect:a})=>{const[l,o]=e.useState([]),[d,c]=e.useState(null),[g,u]=e.useState(!1);e.useEffect(()=>{(async()=>{if(console.log("ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Familie useEffect triggered",{mitglied_id:null==t?void 0:t.mitglied_id,familien_id:null==t?void 0:t.familien_id}),null==t?void 0:t.mitglied_id){u(!0);try{const A=localStorage.getItem("dojo_auth_token"),e=`${s.apiBaseUrl}/mitglieddetail/${t.mitglied_id}/familie`;console.log("ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Fetching Familie von:",e);const r=await fetch(e,{headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"}});if(console.log("ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Response status:",r.status),r.ok){const A=await r.json();console.log("ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Familie data:",A),c(A.familien_id),o(A.familienmitglieder||[])}else console.error("ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ API Fehler:",r.status,await r.text())}catch(A){console.error("ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Fehler beim Laden der Familienmitglieder:",A)}finally{u(!1)}}else console.log("ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Kein mitglied_id, skip fetch")})()},[null==t?void 0:t.mitglied_id,null==t?void 0:t.familien_id]);const h=a||(({value:e,onChange:t,options:r})=>A.jsx("select",{value:e,onChange:t,style:Va,children:r.map(e=>A.jsx("option",{value:e.value,children:e.label},e.value))}));return A.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[A.jsxs("div",{className:"field-group card",style:{marginBottom:"1.5rem"},children:[A.jsxs("h3",{style:{marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[A.jsx("span",{children:"Familienmitglieder"}),d&&A.jsxs("span",{style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem",background:"rgba(255, 215, 0, 0.15)",borderRadius:"4px",color:"#FFD700"},children:["Familie #",d]})]}),g?A.jsx("div",{style:{textAlign:"center",padding:"1rem",color:"rgba(255,255,255,0.5)"},children:"Lade Familienmitglieder..."}):l.length>0?A.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:l.map(e=>A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"0.75rem 1rem",background:e.mitglied_id===(null==t?void 0:t.mitglied_id)?"rgba(255, 215, 0, 0.1)":"rgba(255, 255, 255, 0.03)",borderRadius:"8px",border:e.mitglied_id===(null==t?void 0:t.mitglied_id)?"1px solid rgba(255, 215, 0, 0.3)":"1px solid rgba(255, 255, 255, 0.08)",cursor:e.mitglied_id!==(null==t?void 0:t.mitglied_id)?"pointer":"default",transition:"all 0.2s ease"},onClick:()=>{e.mitglied_id!==(null==t?void 0:t.mitglied_id)&&(window.location.href=`/dashboard/mitglieder/${e.mitglied_id}`)},onMouseEnter:A=>{e.mitglied_id!==(null==t?void 0:t.mitglied_id)&&(A.currentTarget.style.background="rgba(255, 255, 255, 0.06)")},onMouseLeave:A=>{e.mitglied_id!==(null==t?void 0:t.mitglied_id)&&(A.currentTarget.style.background="rgba(255, 255, 255, 0.03)")},children:[A.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:e.ist_minderjaehrig?"rgba(100, 149, 237, 0.2)":"rgba(255, 215, 0, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.2rem",flexShrink:0},children:e.ist_minderjaehrig?"ğŸ‘¶":"ğŸ‘¤"}),A.jsxs("div",{style:{flex:1,minWidth:0},children:[A.jsxs("div",{style:{fontWeight:"500",color:"#fff",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.vorname," ",e.nachname,e.mitglied_id===(null==t?void 0:t.mitglied_id)&&A.jsx("span",{style:{fontSize:"0.7rem",padding:"0.15rem 0.4rem",background:"rgba(255, 215, 0, 0.2)",borderRadius:"3px",color:"#FFD700"},children:"aktuell"})]}),A.jsxs("div",{style:{fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.5)",display:"flex",gap:"0.75rem",flexWrap:"wrap",alignItems:"center"},children:[null!==e.alter_jahre&&A.jsxs("span",{children:[e.alter_jahre," Jahre"]}),e.tarif_name&&A.jsx("span",{style:{color:"rgba(255, 215, 0, 0.7)"},children:e.tarif_name}),e.rabatt_prozent&&parseFloat(e.rabatt_prozent)>0&&A.jsxs("span",{style:{padding:"0.15rem 0.4rem",borderRadius:"4px",fontSize:"0.75rem",background:"rgba(76, 175, 80, 0.2)",color:"#4CAF50",fontWeight:"500"},children:["-",e.rabatt_prozent,"% ",e.rabatt_grund||"Rabatt"]}),e.vertrag_status&&A.jsx("span",{style:{padding:"0.1rem 0.3rem",borderRadius:"3px",fontSize:"0.75rem",background:"aktiv"===e.vertrag_status?"rgba(76, 175, 80, 0.2)":"rgba(255, 152, 0, 0.2)",color:"aktiv"===e.vertrag_status?"#4CAF50":"#FF9800"},children:e.vertrag_status})]})]}),e.mitglied_id!==(null==t?void 0:t.mitglied_id)&&A.jsx("div",{style:{color:"rgba(255, 255, 255, 0.3)",fontSize:"1.2rem"},children:"â†’"})]},e.mitglied_id))}):A.jsx("div",{style:{textAlign:"center",padding:"1.5rem",color:"rgba(255, 255, 255, 0.5)",fontStyle:"italic"},children:"Keine Familienmitglieder vorhanden"})]}),A.jsxs("div",{className:"field-group card",children:[A.jsx("h3",{children:"Familienmanagement"}),A.jsxs("div",{children:[A.jsx("label",{children:"Familien-ID:"}),n?A.jsx("input",{type:"number",value:r.familien_id||"",onChange:A=>i(A,"familien_id"),placeholder:"z.B. 1001 (fuer Familienzuordnung)"}):A.jsx("span",{children:t.familien_id||"Keine Familienzuordnung"})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Rabatt (%):"}),n?A.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:r.rabatt_prozent||"",onChange:A=>i(A,"rabatt_prozent"),placeholder:"z.B. 15.50"}):A.jsx("span",{children:t.rabatt_prozent&&parseFloat(t.rabatt_prozent)>0?`${t.rabatt_prozent}%`:"Kein Rabatt"})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Rabatt-Grund:"}),n?A.jsx(h,{value:r.rabatt_grund||"",onChange:A=>i(A,"rabatt_grund"),options:Ga}):A.jsx("span",{children:t.rabatt_grund||"Kein Rabatt"})]}),t.familien_id&&A.jsx("div",{className:"info-box",children:A.jsxs("p",{children:[A.jsx("strong",{children:"Hinweis:"})," Dieses Mitglied ist der Familie ",t.familien_id," zugeordnet."]})})]}),A.jsxs("div",{className:"field-group card",style:{marginBottom:"1.5rem"},children:[A.jsx("h3",{style:{marginBottom:"1.5rem"},children:"Gesetzliche Vertreter"}),n?A.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[A.jsxs("div",{style:Wa,children:[A.jsx("label",{style:Oa,children:"Vertreter:"}),A.jsx("select",{value:r.vertreter1_typ||"",onChange:A=>i(A,"vertreter1_typ"),style:Va,children:Ra.map(e=>A.jsx("option",{value:e.value,children:e.label},e.value))}),A.jsx("label",{style:Oa,children:"Telefon:"}),A.jsx("input",{type:"tel",value:r.vertreter1_telefon||"",onChange:A=>i(A,"vertreter1_telefon"),placeholder:"+49 123 456789",style:Va}),A.jsx("label",{style:Oa,children:"Name:"}),A.jsx("input",{type:"text",value:r.vertreter1_name||"",onChange:A=>i(A,"vertreter1_name"),placeholder:"Vor- und Nachname",style:Va}),A.jsx("label",{style:Oa,children:"E-Mail:"}),A.jsx("input",{type:"email",value:r.vertreter1_email||"",onChange:A=>i(A,"vertreter1_email"),placeholder:"vertreter@example.com",style:Va})]}),A.jsxs("div",{style:Wa,children:[A.jsx("label",{style:Oa,children:"Vertreter:"}),A.jsx("select",{value:r.vertreter2_typ||"",onChange:A=>i(A,"vertreter2_typ"),style:Va,children:Ra.map(e=>A.jsx("option",{value:e.value,children:e.label},e.value))}),A.jsx("label",{style:Oa,children:"Telefon:"}),A.jsx("input",{type:"tel",value:r.vertreter2_telefon||"",onChange:A=>i(A,"vertreter2_telefon"),placeholder:"+49 123 456789",style:Va}),A.jsx("label",{style:Oa,children:"Name:"}),A.jsx("input",{type:"text",value:r.vertreter2_name||"",onChange:A=>i(A,"vertreter2_name"),placeholder:"Vor- und Nachname (optional)",style:Va}),A.jsx("label",{style:Oa,children:"E-Mail:"}),A.jsx("input",{type:"email",value:r.vertreter2_email||"",onChange:A=>i(A,"vertreter2_email"),placeholder:"vertreter2@example.com",style:Va})]})]}):A.jsx("div",{style:{overflowX:"auto"},children:A.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem",minWidth:"600px"},children:[A.jsx("thead",{children:A.jsxs("tr",{style:{borderBottom:"2px solid rgba(255, 215, 0, 0.3)",background:"rgba(255, 215, 0, 0.05)"},children:[A.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#FFD700",fontWeight:"600",fontSize:"0.9rem",minWidth:"200px"},children:"Vertreter"}),A.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#FFD700",fontWeight:"600",fontSize:"0.9rem",minWidth:"200px"},children:"Name"}),A.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#FFD700",fontWeight:"600",fontSize:"0.9rem",minWidth:"180px"},children:"Telefon"}),A.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#FFD700",fontWeight:"600",fontSize:"0.9rem",minWidth:"250px"},children:"E-Mail"})]})}),A.jsxs("tbody",{children:[(t.vertreter1_name||t.vertreter1_typ)&&A.jsxs("tr",{style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[A.jsx("td",{style:{padding:"1rem",color:"rgba(255, 255, 255, 0.9)"},children:t.vertreter1_typ||"Nicht angegeben"}),A.jsx("td",{style:{padding:"1rem",color:"rgba(255, 255, 255, 0.9)"},children:t.vertreter1_name||"Nicht angegeben"}),A.jsx("td",{style:{padding:"1rem",color:"rgba(255, 255, 255, 0.9)"},children:t.vertreter1_telefon||"Nicht angegeben"}),A.jsx("td",{style:{padding:"1rem",color:"rgba(255, 255, 255, 0.9)"},children:t.vertreter1_email||"Nicht angegeben"})]}),(t.vertreter2_name||t.vertreter2_typ)&&A.jsxs("tr",{style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[A.jsx("td",{style:{padding:"1rem",color:"rgba(255, 255, 255, 0.9)"},children:t.vertreter2_typ||"Nicht angegeben"}),A.jsx("td",{style:{padding:"1rem",color:"rgba(255, 255, 255, 0.9)"},children:t.vertreter2_name||"Nicht angegeben"}),A.jsx("td",{style:{padding:"1rem",color:"rgba(255, 255, 255, 0.9)"},children:t.vertreter2_telefon||"Nicht angegeben"}),A.jsx("td",{style:{padding:"1rem",color:"rgba(255, 255, 255, 0.9)"},children:t.vertreter2_email||"Nicht angegeben"})]}),!t.vertreter1_name&&!t.vertreter1_typ&&!t.vertreter2_name&&!t.vertreter2_typ&&A.jsx("tr",{children:A.jsx("td",{colSpan:"4",style:{padding:"2rem",textAlign:"center",color:"rgba(255, 255, 255, 0.5)",fontStyle:"italic"},children:"Keine Vertreter eingetragen"})})]})]})}),A.jsx("div",{className:"info-box",style:{marginTop:"1rem"},children:A.jsxs("p",{children:[A.jsx("strong",{children:"Hinweis:"})," Vertreter-Informationen sind nur fuer minderjaehrige Mitglieder erforderlich oder wenn eine gesetzliche Vertretung vorliegt."]})})]})]})},Ja={award:h,star:M,trophy:k,medal:B,crown:T,flame:_,target:u,heart:N,users:z,swords:L,zap:K,"trending-up":g,footprints:D,layers:I,brain:H,shield:S},Xa=({mitgliedId:t,compact:r=!1})=>{const[n,i]=e.useState([]),[s,a]=e.useState(!0);e.useEffect(()=>{t&&l()},[t]);const l=async()=>{try{const A=await fetch(`/api/badges/mitglied/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(A.ok){const e=await A.json();i(e)}}catch(A){console.error("Fehler beim Laden der Badges:",A)}finally{a(!1)}},o=A=>Ja[A]||h;return s?A.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255,255,255,0.5)"},children:"Lade Badges..."}):0===n.length?r?null:A.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"rgba(255,255,255,0.5)",background:"rgba(255,255,255,0.03)",borderRadius:"8px",border:"1px dashed rgba(255,255,255,0.1)"},children:"Noch keine Auszeichnungen erhalten"}):r?A.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[n.slice(0,6).map(e=>{const t=o(e.icon);return A.jsx("div",{title:`${e.name}: ${e.beschreibung||""}`,style:{width:"32px",height:"32px",borderRadius:"50%",background:`linear-gradient(135deg, ${e.farbe}40, ${e.farbe}20)`,border:`2px solid ${e.farbe}`,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"transform 0.2s ease, box-shadow 0.2s ease"},onMouseEnter:A=>{A.currentTarget.style.transform="scale(1.1)",A.currentTarget.style.boxShadow=`0 0 12px ${e.farbe}60`},onMouseLeave:A=>{A.currentTarget.style.transform="scale(1)",A.currentTarget.style.boxShadow="none"},children:A.jsx(t,{size:16,color:e.farbe})},e.id)}),n.length>6&&A.jsxs("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem",color:"rgba(255,255,255,0.7)"},children:["+",n.length-6]})]}):A.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"12px",padding:"1rem",border:"1px solid rgba(255, 215, 0, 0.2)"},children:[A.jsxs("h3",{style:{fontSize:"0.9rem",color:"#ffd700",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[A.jsx(k,{size:18}),"Auszeichnungen (",n.length,")"]}),A.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:"0.75rem"},children:n.map(e=>{const t=o(e.icon);return A.jsxs("div",{style:{background:`linear-gradient(135deg, ${e.farbe}15, transparent)`,borderRadius:"10px",padding:"0.75rem",border:`1px solid ${e.farbe}40`,display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",transition:"transform 0.2s ease, box-shadow 0.2s ease",cursor:"default"},onMouseEnter:A=>{A.currentTarget.style.transform="translateY(-2px)",A.currentTarget.style.boxShadow=`0 4px 16px ${e.farbe}30`},onMouseLeave:A=>{A.currentTarget.style.transform="translateY(0)",A.currentTarget.style.boxShadow="none"},children:[A.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:`linear-gradient(135deg, ${e.farbe}40, ${e.farbe}20)`,border:`2px solid ${e.farbe}`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:`0 0 16px ${e.farbe}40`},children:A.jsx(t,{size:24,color:e.farbe})}),A.jsx("div",{style:{fontSize:"0.8rem",fontWeight:600,color:"rgba(255,255,255,0.9)",textAlign:"center"},children:e.name}),A.jsx("div",{style:{fontSize:"0.65rem",color:"rgba(255,255,255,0.5)",textAlign:"center"},children:new Date(e.verliehen_am).toLocaleDateString("de-DE")})]},e.id)})})]})},Ya={background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(10px)",borderRadius:"10px",padding:"0.75rem 1rem",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(255, 215, 0, 0.2)",position:"relative",transition:"transform 0.2s ease"},Za=A=>({position:"absolute",top:0,left:0,right:0,height:"2px",background:A,borderRadius:"10px 10px 0 0"}),$a=({statistikDaten:e={},mitglied:t,memberStile:r=[],stile:n=[],styleSpecificData:i={}})=>A.jsxs("div",{className:"statistiken-content",style:{padding:"1rem",background:"transparent"},children:[A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",gap:"0.75rem",marginBottom:"1rem"},className:"stats-grid-responsive",children:[A.jsxs("div",{style:Ya,children:[A.jsx("div",{style:Za("linear-gradient(90deg, #28a745, #20c997)")}),A.jsx("div",{style:{fontSize:"0.7rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.25rem"},children:"Trainings"}),A.jsx("div",{style:{color:"#ffffff",fontSize:"1.5rem",fontWeight:700,textShadow:"0 0 10px rgba(255, 215, 0, 0.3)"},children:e.totalAnwesenheiten||0})]}),A.jsxs("div",{style:Ya,children:[A.jsx("div",{style:Za("linear-gradient(90deg, #3b82f6, #8b5cf6)")}),A.jsx("div",{style:{fontSize:"0.7rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.25rem"},children:"Quote"}),A.jsxs("div",{style:{color:"#ffffff",fontSize:"1.5rem",fontWeight:700,textShadow:"0 0 10px rgba(255, 215, 0, 0.3)"},children:[e.anwesenheitsquote||0,"%"]}),A.jsx("div",{style:{width:"100%",height:"4px",background:"rgba(255,255,255,0.1)",borderRadius:"2px",marginTop:"0.5rem",overflow:"hidden"},children:A.jsx("div",{style:{height:"100%",width:`${e.anwesenheitsquote||0}%`,background:"linear-gradient(90deg, #3b82f6, #8b5cf6)",borderRadius:"2px",transition:"width 0.3s ease"}})})]}),A.jsxs("div",{style:Ya,children:[A.jsx("div",{style:Za("linear-gradient(90deg, #f59e0b, #ef4444)")}),A.jsx("div",{style:{fontSize:"0.7rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.25rem"},children:"Streak"}),A.jsx("div",{style:{color:"#ffffff",fontSize:"1.5rem",fontWeight:700,textShadow:"0 0 10px rgba(255, 215, 0, 0.3)"},children:e.currentStreak||0}),A.jsx("div",{style:{fontSize:"0.65rem",color:"rgba(255, 255, 255, 0.6)",marginTop:"0.25rem"},children:"Trainings in Folge"})]}),A.jsxs("div",{style:Ya,children:[A.jsx("div",{style:Za("linear-gradient(90deg, #10b981, #14b8a6)")}),A.jsx("div",{style:{fontSize:"0.7rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.25rem"},children:"Dieser Monat"}),A.jsx("div",{style:{color:"#ffffff",fontSize:"1.5rem",fontWeight:700,textShadow:"0 0 10px rgba(255, 215, 0, 0.3)"},children:e.thisMonthAttendances||0})]}),A.jsxs("div",{style:Ya,children:[A.jsx("div",{style:Za("linear-gradient(90deg, #8b5cf6, #d946ef)")}),A.jsx("div",{style:{fontSize:"0.7rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.25rem"},children:"Monat (6M)"}),A.jsx("div",{style:{color:"#ffffff",fontSize:"1.5rem",fontWeight:700,textShadow:"0 0 10px rgba(255, 215, 0, 0.3)"},children:e.avgPerMonth||0})]}),A.jsxs("div",{style:Ya,children:[A.jsx("div",{style:Za("linear-gradient(90deg, #06b6d4, #3b82f6)")}),A.jsx("div",{style:{fontSize:"0.7rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.25rem"},children:"Letzte Woche"}),A.jsx("div",{style:{color:"#ffffff",fontSize:"1.5rem",fontWeight:700,textShadow:"0 0 10px rgba(255, 215, 0, 0.3)"},children:e.lastWeekAttendances||0})]}),A.jsxs("div",{style:Ya,children:[A.jsx("div",{style:Za("linear-gradient(90deg, #f59e0b, #fbbf24)")}),A.jsx("div",{style:{fontSize:"0.7rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.25rem"},children:"Konsistenz"}),A.jsx("div",{style:{color:"#ffffff",fontSize:"1.5rem",fontWeight:700,textShadow:"0 0 10px rgba(255, 215, 0, 0.3)"},children:e.consecutiveMonths||0}),A.jsx("div",{style:{fontSize:"0.65rem",color:"rgba(255, 255, 255, 0.6)",marginTop:"0.25rem"},children:"Monate aktiv"})]}),A.jsxs("div",{style:Ya,children:[A.jsx("div",{style:Za("linear-gradient(90deg, #10b981, #059669)")}),A.jsx("div",{style:{fontSize:"0.7rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.25rem"},children:"Kontostand"}),A.jsx("div",{style:{color:(null==t?void 0:t.kontostand)>=0?"#10b981":"#ef4444",fontSize:"1.2rem",fontWeight:700,textShadow:"0 0 10px rgba(255, 215, 0, 0.3)"},children:(null==t?void 0:t.kontostand)?`${t.kontostand.toFixed(2)} EUR`:"0,00 EUR"})]})]}),e.monthlyStats&&e.monthlyStats.length>0&&A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"1rem",marginBottom:"1rem",border:"1px solid rgba(255, 215, 0, 0.2)"},children:[A.jsx("h3",{style:{fontSize:"0.9rem",color:"#ffd700",marginBottom:"1rem",fontWeight:600},children:"Trainings pro Monat (12 Monate)"}),A.jsx("div",{style:{display:"flex",alignItems:"flex-end",gap:"6px",height:"140px",position:"relative"},children:e.monthlyStats.slice(-12).map((t,r)=>{const n=e.monthlyStats.slice(-12),i=Math.max(...n.map(A=>A.count),1),s=i>0?t.count/i*110:2,a=i>0?t.count/i:0,{color1:l,color2:o}=((A,e)=>0===e?{color1:"rgba(255, 255, 255, 0.1)",color2:"rgba(255, 255, 255, 0.1)"}:A>=.8?{color1:"#10b981",color2:"#059669"}:A>=.6?{color1:"#84cc16",color2:"#65a30d"}:A>=.4?{color1:"#fbbf24",color2:"#f59e0b"}:A>=.2?{color1:"#fb923c",color2:"#f97316"}:{color1:"#ef4444",color2:"#dc2626"})(a,t.count);return A.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-end",height:"100%",gap:"0.25rem"},children:[A.jsx("div",{style:{fontSize:"0.7rem",color:t.count>0?"rgba(255, 255, 255, 0.9)":"rgba(255, 255, 255, 0.4)",fontWeight:700,minHeight:"16px"},children:t.count>0?t.count:""}),A.jsx("div",{style:{width:"100%",height:`${s}px`,background:t.count>0?`linear-gradient(180deg, ${l}, ${o})`:l,borderRadius:"4px 4px 0 0",minHeight:t.count>0?"8px":"2px",transition:"all 0.3s ease",boxShadow:t.count>0?`0 0 8px ${l}40`:"none"}}),A.jsx("div",{style:{fontSize:"0.6rem",color:"rgba(255, 255, 255, 0.5)",marginTop:"0.25rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},children:t.month.substring(0,3)})]},r)})})]}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:[e.bestMonth&&A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(10px)",borderRadius:"10px",padding:"1rem",border:"1px solid rgba(255, 215, 0, 0.2)"},children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem"},children:"Bester Monat"}),A.jsx("div",{style:{color:"#10b981",fontSize:"1.3rem",fontWeight:700},children:e.bestMonth.month}),A.jsxs("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)",marginTop:"0.25rem"},children:[e.bestMonth.count," Trainings"]})]}),A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(10px)",borderRadius:"10px",padding:"1rem",border:"1px solid rgba(255, 215, 0, 0.2)"},children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem"},children:"Letzte Anwesenheit"}),A.jsx("div",{style:{color:"#ffffff",fontSize:"1.1rem",fontWeight:600},children:e.letzteAnwesenheit?new Date(e.letzteAnwesenheit).toLocaleDateString("de-DE"):"-"})]}),A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(10px)",borderRadius:"10px",padding:"1rem",border:"1px solid rgba(255, 215, 0, 0.2)"},children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem"},children:"Mitgliedschaft"}),A.jsxs("div",{style:{color:"#ffffff",fontSize:"1.3rem",fontWeight:700},children:[(null==t?void 0:t.eintrittsdatum)?Math.floor((new Date-new Date(t.eintrittsdatum))/2630016e3):0," Monate"]}),A.jsxs("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)",marginTop:"0.25rem"},children:["seit ",(null==t?void 0:t.eintrittsdatum)?new Date(t.eintrittsdatum).toLocaleDateString("de-DE"):"-"]})]}),A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(10px)",borderRadius:"10px",padding:"1rem",border:"1px solid rgba(255, 215, 0, 0.2)"},children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem"},children:"Graduierungen"}),r&&r.length>0?A.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:r.map((e,t)=>{var r;const s=n.find(A=>A.stil_id===e.stil_id),a=i[e.stil_id],l=null==(r=null==s?void 0:s.graduierungen)?void 0:r.find(A=>A.graduierung_id===(null==a?void 0:a.current_graduierung_id));return A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[A.jsxs("span",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.7)"},children:[e.stil_name,":"]}),A.jsx("span",{style:{fontSize:"0.85rem",color:"#ffd700",fontWeight:600},children:(null==l?void 0:l.name)||"Nicht definiert"})]},t)})}):A.jsx("div",{style:{color:"#ffd700",fontSize:"1.1rem",fontWeight:600},children:"Keine Stile"}),A.jsx("div",{style:{fontSize:"0.75rem",color:"aktiv"===(null==t?void 0:t.status)?"#10b981":"#ef4444",marginTop:"0.5rem",fontWeight:600,paddingTop:"0.5rem",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:"aktiv"===(null==t?void 0:t.status)?"Aktiv":"ruhepause"===(null==t?void 0:t.status)?"Ruhepause":"gekuendigt"===(null==t?void 0:t.status)?"Gekuendigt":"Aktiv"})]})]}),e.weekdayStats&&e.weekdayStats.length>0&&A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"1rem",marginTop:"1rem",border:"1px solid rgba(255, 215, 0, 0.2)"},children:[A.jsx("h3",{style:{fontSize:"0.9rem",color:"#ffd700",marginBottom:"1rem",fontWeight:600},children:"Trainingstage nach Wochentag"}),A.jsx("div",{style:{display:"flex",gap:"8px",justifyContent:"space-between"},children:e.weekdayStats.map((t,r)=>{const n=Math.max(...e.weekdayStats.map(A=>A.count),1),i=t.count/n;let s;return s=i>=.8?"#10b981":i>=.6?"#84cc16":i>=.4?"#fbbf24":i>=.2?"#fb923c":i>0?"#ef4444":"rgba(255, 255, 255, 0.1)",A.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},children:[A.jsx("div",{style:{fontSize:"0.7rem",color:"rgba(255, 255, 255, 0.9)",fontWeight:700},children:t.count}),A.jsx("div",{style:{width:"100%",aspectRatio:"1",background:s,borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:700,color:t.count>0?"#ffffff":"rgba(255, 255, 255, 0.3)",boxShadow:t.count>0?`0 0 12px ${s}60`:"none",transition:"all 0.3s ease"},children:t.dayShort})]},r)})})]}),e.yearlyStats&&e.yearlyStats.length>1&&A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"1rem",marginTop:"1rem",border:"1px solid rgba(255, 215, 0, 0.2)"},children:[A.jsx("h3",{style:{fontSize:"0.9rem",color:"#ffd700",marginBottom:"1rem",fontWeight:600},children:"Jahresvergleich"}),A.jsx("div",{style:{display:"flex",alignItems:"flex-end",gap:"12px",height:"100px"},children:e.yearlyStats.map((t,r)=>{const n=Math.max(...e.yearlyStats.map(A=>A.count),1),i=t.count/n*80,s=t.year===(new Date).getFullYear();return A.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-end",height:"100%",gap:"0.5rem"},children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.9)",fontWeight:700},children:t.count}),A.jsx("div",{style:{width:"100%",height:`${i}px`,background:s?"linear-gradient(180deg, #ffd700, #f59e0b)":"linear-gradient(180deg, #3b82f6, #2563eb)",borderRadius:"8px 8px 0 0",minHeight:"8px",boxShadow:s?"0 0 12px rgba(255, 215, 0, 0.5)":"0 0 8px rgba(59, 130, 246, 0.3)",transition:"all 0.3s ease"}}),A.jsx("div",{style:{fontSize:"0.75rem",color:s?"#ffd700":"rgba(255, 255, 255, 0.7)",fontWeight:s?700:600},children:t.year})]},r)})})]}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",gap:"0.75rem",marginTop:"1rem"},className:"stats-grid-responsive",children:[e.bestWeekday&&e.bestWeekday.count>0&&A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(10px)",borderRadius:"10px",padding:"0.75rem 1rem",border:"1px solid rgba(16, 185, 129, 0.3)",position:"relative"},children:[A.jsx("div",{style:Za("linear-gradient(90deg, #10b981, #059669)")}),A.jsx("div",{style:{fontSize:"0.7rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.25rem"},children:"Bester Wochentag"}),A.jsx("div",{style:{color:"#10b981",fontSize:"1.2rem",fontWeight:700},children:e.bestWeekday.day}),A.jsxs("div",{style:{fontSize:"0.65rem",color:"rgba(255, 255, 255, 0.6)",marginTop:"0.25rem"},children:[e.bestWeekday.count," Trainings"]})]}),e.avgPerWeek>0&&A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(10px)",borderRadius:"10px",padding:"0.75rem 1rem",border:"1px solid rgba(139, 92, 246, 0.3)",position:"relative"},children:[A.jsx("div",{style:Za("linear-gradient(90deg, #8b5cf6, #7c3aed)")}),A.jsx("div",{style:{fontSize:"0.7rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.25rem"},children:"pro Woche"}),A.jsx("div",{style:{color:"#8b5cf6",fontSize:"1.5rem",fontWeight:700},children:e.avgPerWeek}),A.jsx("div",{style:{fontSize:"0.65rem",color:"rgba(255, 255, 255, 0.6)",marginTop:"0.25rem"},children:"Trainings/Woche"})]}),e.longestPause>0&&A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(10px)",borderRadius:"10px",padding:"0.75rem 1rem",border:"1px solid rgba(239, 68, 68, 0.3)",position:"relative"},children:[A.jsx("div",{style:Za("linear-gradient(90deg, #ef4444, #dc2626)")}),A.jsx("div",{style:{fontSize:"0.7rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.25rem"},children:"Laengste Pause"}),A.jsx("div",{style:{color:"#ef4444",fontSize:"1.5rem",fontWeight:700},children:e.longestPause}),A.jsx("div",{style:{fontSize:"0.65rem",color:"rgba(255, 255, 255, 0.6)",marginTop:"0.25rem"},children:"Tage ohne Training"})]}),e.bestStreak>0&&A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(10px)",borderRadius:"10px",padding:"0.75rem 1rem",border:"1px solid rgba(255, 215, 0, 0.3)",position:"relative"},children:[A.jsx("div",{style:Za("linear-gradient(90deg, #ffd700, #f59e0b)")}),A.jsx("div",{style:{fontSize:"0.7rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.25rem"},children:"Bester Streak"}),A.jsx("div",{style:{color:"#ffd700",fontSize:"1.5rem",fontWeight:700},children:e.bestStreak}),A.jsx("div",{style:{fontSize:"0.65rem",color:"rgba(255, 255, 255, 0.6)",marginTop:"0.25rem"},children:"Trainings in Folge"})]})]}),(null==t?void 0:t.mitglied_id)&&A.jsx("div",{style:{marginTop:"1rem"},children:A.jsx(Xa,{mitgliedId:t.mitglied_id,compact:!1})})]});function qa(A){if(!A)return"";const e=new Date(A);return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`}function Al(A){if(!A)return"";return new Date(A).toISOString().split("T")[0]}function el(A){if(!A)return"";return{monthly:"Monatlich",monatlich:"Monatlich",quarterly:"VierteljÃ¤hrlich",vierteljaehrlich:"VierteljÃ¤hrlich","semi-annually":"HalbjÃ¤hrlich",halbjaehrlich:"HalbjÃ¤hrlich",annually:"JÃ¤hrlich",jaehrlich:"JÃ¤hrlich",yearly:"JÃ¤hrlich"}[A.toLowerCase()]||A}function tl({value:r,onChange:n,options:i,className:s="",style:a={},disabled:l=!1}){const[o,d]=e.useState(!1),[c,g]=e.useState(""),u=t.useRef(null);e.useEffect(()=>{const A=i.find(A=>A.value===r);g(A?A.label:"")},[r,i]),e.useEffect(()=>{function A(A){u.current&&!u.current.contains(A.target)&&d(!1)}return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]);return A.jsxs("div",{className:`custom-select ${s} ${l?"disabled":""}`,ref:u,style:a,children:[A.jsxs("div",{className:"custom-select-trigger",onClick:()=>!l&&d(!o),children:[A.jsx("span",{children:c||"Bitte wÃ¤hlen..."}),A.jsx("span",{className:"custom-select-arrow",children:o?"â–²":"â–¼"})]}),o&&!l&&A.jsx("div",{className:"custom-select-options mitglied-detail-dropdown",children:i.map(e=>A.jsx("div",{className:"custom-select-option mitglied-detail-dropdown-option "+(e.value===r?"selected":""),onClick:()=>{return A=e.value,n({target:{value:A}}),void d(!1);var A},children:e.label},e.value))})]})}const rl=({primaer:e,sekundaer:t,size:r="normal",className:n=""})=>{const i={small:"belt-preview-small",normal:"belt-preview",large:"belt-preview-large"}[r]||"belt-preview";return A.jsx("div",{className:`${i} ${n}`,children:A.jsx("div",{className:"belt-base",style:{backgroundColor:e||"#CCCCCC"},children:t&&A.jsx("div",{className:"belt-stripe",style:{backgroundColor:t}})})})},nl=({isAdmin:g=!1,memberIdProp:u=null})=>{var h,B,m;const{id:p}=G(),f=V(),{activeDojo:w,dojos:x}=a(),{user:b,token:Q}=l(),y=A=>{if(!A)return"Kein Dojo";const e=x.find(e=>e.id===parseInt(A));return e?e.dojoname:`Dojo ${A}`},[C,F]=e.useState(null),v=t.useRef(null),U=g?u||p:C;r();const{data:j,isLoading:E,error:k,refetch:S}=n({queryKey:["mitglied",U],queryFn:async()=>(await i.get(`/mitglieddetail/${U}`)).data,enabled:!!U,staleTime:9e5,gcTime:18e5}),{data:H}=n({queryKey:["tarife"],queryFn:async()=>{var A;const e=await i.get("/tarife");return(null==(A=e.data)?void 0:A.data)||e.data||[]},staleTime:18e5}),{data:I}=n({queryKey:["zahlungszyklen"],queryFn:async()=>{var A;const e=await i.get("/zahlungszyklen");return(null==(A=e.data)?void 0:A.data)||e.data||[]},staleTime:36e5}),{data:D}=n({queryKey:["stile"],queryFn:async()=>(await i.get("/stile")).data||[],staleTime:36e5}),[K,L]=e.useState(null),[z,N]=e.useState({}),[_,T]=e.useState(!0),[M,P]=e.useState(""),[AA,eA]=e.useState(!1),[tA,rA]=e.useState([]),[nA,iA]=e.useState(!1),[sA,aA]=e.useState("allgemein"),[lA,oA]=e.useState("stile"),[dA,cA]=e.useState(0),[gA,uA]=e.useState(0),[hA,BA]=e.useState("finanzÃ¼bersicht"),[mA,pA]=e.useState(!0),[fA,wA]=e.useState(!1),[xA,bA]=e.useState(!1),[QA,yA]=e.useState("monat"),[CA,FA]=e.useState({}),[vA,UA]=e.useState({}),[jA,EA]=e.useState(null),[kA,SA]=e.useState(!1),[HA,IA]=e.useState([]),[DA,KA]=e.useState([]),[LA,zA]=e.useState([]),[NA,_A]=e.useState({type:"",custom:""}),[TA,MA]=e.useState({}),[RA,GA]=e.useState({}),[VA,OA]=e.useState(!1),[WA,PA]=e.useState(0),[JA,XA]=e.useState(!1),[YA,ZA]=e.useState([]),[$A,qA]=e.useState([]),[Ae,ee]=e.useState({}),[te,re]=e.useState([]),[ne,ie]=e.useState([]),[se,ae]=e.useState(!1),[le,oe]=e.useState([]),[de,ce]=e.useState(!1),[ge,ue]=e.useState(null),[he,Be]=e.useState(!1),[me,pe]=e.useState(null),[fe,we]=e.useState(!1),[xe,be]=e.useState(!1),[Qe,ye]=e.useState(null),[Ce,Fe]=e.useState(!1),[ve,Ue]=e.useState(!1),[je,Ee]=e.useState(!1),[ke,Se]=e.useState(""),[He,Ie]=e.useState(()=>{const A=new Date,e=new Date(A);return e.setMonth(A.getMonth()+12),{tarif_id:"",status:"aktiv",billing_cycle:"",payment_method:"direct_debit",vertragsbeginn:A.toISOString().split("T")[0],vertragsende:e.toISOString().split("T")[0],kuendigungsfrist_monate:3,mindestlaufzeit_monate:12,automatische_verlaengerung:!0,verlaengerung_monate:12,faelligkeit_tag:1,sepa_mandat_id:null,agb_akzeptiert:!1,agb_version:"1.0",datenschutz_akzeptiert:!1,datenschutz_version:"1.0",hausordnung_akzeptiert:!1,haftungsausschluss_akzeptiert:!1,gesundheitserklaerung:!1,foto_einverstaendnis:!1}}),[De,Ke]=e.useState(!1),[Le,ze]=e.useState(!1),[Ne,_e]=e.useState(!1),[Te,Me]=e.useState(null),[Re,Ge]=e.useState(!1),[Ve,Oe]=e.useState(null),[We,Pe]=e.useState(!1),[Je,Xe]=e.useState([]),[Ye,Ze]=e.useState([]),[$e,qe]=e.useState(""),[At,et]=e.useState(null),[tt,rt]=e.useState(null),[nt,it]=e.useState(""),[st,at]=e.useState(null),[lt,ot]=e.useState(1),[dt,ct]=e.useState(""),[gt,ut]=e.useState(!1),[ht,Bt]=e.useState(""),[mt,pt]=e.useState([]),[ft,wt]=e.useState([]),[xt,bt]=e.useState([]);e.useEffect(()=>{j&&(L(j),N(j),T(!1)),k&&(P("Fehler beim Abrufen der Mitgliedsdaten."),T(!1))},[j,k]),e.useEffect(()=>{H&&pt(Array.isArray(H)?H:[])},[H]),e.useEffect(()=>{I&&wt(Array.isArray(I)?I:[])},[I]),e.useEffect(()=>{D&&Xe(Array.isArray(D)?D:[])},[D]);const[Qt,yt]=e.useState(""),[Ct,Ft]=e.useState(""),[vt,Ut]=e.useState(""),[jt,Et]=e.useState(!0),[kt,St]=e.useState(!1),[Ht,It]=e.useState(!1),[Dt,Kt]=e.useState("Wie lautet der MÃ¤dchen- oder Jungenname Ihrer Mutter?"),[Lt,zt]=e.useState(""),[Nt,_t]=e.useState(null),[Tt,Mt]=e.useState([]),[Rt,Gt]=e.useState(!1),[Vt,Ot]=e.useState([]),[Wt,Pt]=e.useState([]),[Jt,Xt]=e.useState([]),[Yt,Zt]=e.useState(null),[$t,qt]=e.useState(!1),Ar=Number(null==K?void 0:K.dokumente_offen)||0,er=Number(null==K?void 0:K.nachrichten_offen)||0,tr=Array.isArray($A)?$A.filter(A=>{const e=(A.status||"").toString().toLowerCase(),t=0===A.bezahlt||!1===A.bezahlt;return"offen"===e||"Ã¼berfÃ¤llig"===e||"Ã¼berfÃ¤llig"===e||t}).length:0,rr=async(A=null)=>{T(!0);try{const e=await i.get(`/mitglieddetail/${U}`,A?{signal:A}:{});L(e.data),N(e.data)}catch(e){if("AbortError"===e.name||"ERR_CANCELED"===e.code)return;console.error("ğŸ” Fetch-Error:",e),P("Fehler beim Abrufen der Mitgliedsdaten.")}finally{T(!1)}},nr=async(A=null,e=null)=>{var t;try{const t={};A&&(t.params={stil_id:A}),e&&(t.signal=e);const r=await i.get(`/anwesenheit/${U}`,t);ZA(r.data)}catch(r){if("AbortError"===r.name||"ERR_CANCELED"===r.code)return;if(404===(null==(t=r.response)?void 0:t.status))return void ZA([]);console.error("Fehler beim Laden der Anwesenheitsdaten:",r)}},ir=async(A=null)=>{try{const e={params:{mitglied_id:U}};A&&(e.signal=A);const t=await i.get("/beitraege",e);qA(t.data)}catch(e){if("AbortError"===e.name||"ERR_CANCELED"===e.code)return;console.error("âŒ Fehler beim Laden der Finanzdaten:",e),console.error("ğŸ” Error Details:",e.response||e)}},sr=async(A=null)=>{if(K&&K.mitglied_id)try{const e={params:{mitglied_id:null==K?void 0:K.mitglied_id}};A&&(e.signal=A);const t=(await i.get("/vertraege",e)).data;if(t.success&&t.data){const A=t.data.filter(A=>A.mitglied_id===(null==K?void 0:K.mitglied_id)).sort((A,e)=>A.id-e.id).map((A,e)=>({...A,personenVertragNr:e+1})),e=A.sort((A,e)=>A.kuendigung_eingegangen&&!e.kuendigung_eingegangen?1:!A.kuendigung_eingegangen&&e.kuendigung_eingegangen?-1:A.id-e.id);re(e)}else console.log("âš ï¸ Backend lieferte keine Daten oder Fehler:",t),re([])}catch(e){if("AbortError"===e.name||"ERR_CANCELED"===e.code)return;console.error("Fehler beim Laden der VertrÃ¤ge:",e),re([])}},ar=async A=>{try{const e=await i.post(`/mitglieder/${U}/stile`,{stile:A});console.log("âœ… Stile erfolgreich gespeichert:",e.data)}catch(e){console.error("âŒ Fehler beim Speichern der Stile:",e)}},lr=async(A=null)=>{try{const e=(await i.get(`/mitglieder/${U}/stile`,A?{signal:A}:{})).data;if(e.success&&e.stile){if(Ze(e.stile),console.log("âœ… Mitglied-Stile geladen:",e.stile),e.stile.forEach(async A=>{await(async A=>{try{const e=(await i.get(`/mitglieder/${U}/stil/${A}/data`)).data;MA(t=>({...t,[A]:e.data}))}catch(e){console.error(`âŒ Fehler beim Laden stilspezifischer Daten fÃ¼r Stil ${A}:`,e.message)}})(A.stil_id),await(async A=>{try{const e=(await i.get(`/mitglieder/${U}/stil/${A}/training-analysis`)).data;GA(t=>({...t,[A]:e.analysis}))}catch(e){console.error(`âŒ Fehler beim Laden der Trainingsstunden-Analyse fÃ¼r Stil ${A}:`,e.message)}})(A.stil_id)}),e.stile.length>0&&!$e){const A=e.stile[0];qe(A.stil_id.toString());const t=Je.find(e=>e.stil_id===A.stil_id);t&&(et(t),t.graduierungen&&t.graduierungen.length>0&&rt(t.graduierungen[0]))}}else Ze([])}catch(e){if("AbortError"===e.name||"ERR_CANCELED"===e.code)return;console.error("âŒ Fehler beim Laden der Mitglied-Stile:",e),Ze([])}},or=async()=>{try{const A=(await i.get(`/mitglieder/${U}/sepa-mandate/download`,{responseType:"blob"})).data,e=window.URL.createObjectURL(A),t=document.createElement("a");t.href=e,t.download=`SEPA-Mandat_${null==K?void 0:K.nachname}_${null==K?void 0:K.vorname}.pdf`,document.body.appendChild(t),t.click(),window.URL.revokeObjectURL(e),document.body.removeChild(t)}catch(A){console.error("Fehler beim Download des SEPA-Mandats:",A)}},dr=async(A=null)=>{try{const e=await i.get(`/mitglieder/${U}/sepa-mandate/archiv`,A?{signal:A}:{});IA(e.data),console.log("âœ… Archivierte Mandate geladen:",e.data)}catch(e){if("AbortError"===e.name||"ERR_CANCELED"===e.code)return;console.error("âŒ Fehler beim Laden archivierter Mandate:",e)}},cr=async(A=null)=>{try{const e=await i.get("/rechnungen",{params:{mitglied_id:U},signal:A||void 0});e.data.success&&Xt(e.data.data||[])}catch(e){if("AbortError"===e.name||"ERR_CANCELED"===e.code)return;console.error("Fehler beim Laden der Rechnungen:",e)}},gr=async(A,e)=>{var t;if(console.log("ğŸ”˜ handleGraduationArrowChange aufgerufen:",{graduationId:A,direction:e}),console.log("ğŸ” selectedStil:",At),console.log("ğŸ” selectedStil.graduierungen:",null==At?void 0:At.graduierungen),console.log("ğŸ” Anzahl Graduierungen:",null==(t=null==At?void 0:At.graduierungen)?void 0:t.length),!At||!At.graduierungen)return console.error("âŒ Kein Stil oder keine Graduierungen vorhanden"),console.error("âŒ selectedStil:",At),void console.error("âŒ selectedStil.graduierungen:",null==At?void 0:At.graduierungen);let r;if("number"==typeof e){if(r=At.graduierungen.find(A=>A.graduierung_id===e),!r)return void console.error("âŒ Graduierung mit ID",e,"nicht gefunden");console.log("ğŸ¯ Direkt ausgewÃ¤hlte Graduierung:",r.name,"ID:",r.graduierung_id)}else{const t=At.graduierungen.findIndex(e=>e.graduierung_id===A);let n;if(console.log("ğŸ“ Aktueller Index:",t,"Direction:",e),"up"===e&&t>0)n=t-1;else{if(!("down"===e&&t<At.graduierungen.length-1))return void console.log("âš ï¸ Keine Ã„nderung mÃ¶glich");n=t+1}r=At.graduierungen[n],console.log("ğŸ¯ Neue Graduierung:",r.name,"ID:",r.graduierung_id)}rt(r);const n=At.stil_id,s={...TA[n],current_graduierung_id:r.graduierung_id};MA(A=>({...A,[n]:s})),console.log("ğŸ’¾ Speichere Graduierung...");try{await(async(A,e)=>{if(!VA){OA(!0);try{const t=await i.post(`/mitglieder/${U}/stil/${A}/data`,e);console.log(`âœ… Stilspezifische Daten fÃ¼r Stil ${A} gespeichert:`,t.data)}catch(t){console.error(`âŒ Fehler beim Speichern stilspezifischer Daten fÃ¼r Stil ${A}:`,t.message),P("Fehler beim Speichern der stilspezifischen Daten")}finally{OA(!1)}}})(n,s),console.log("âœ… Graduierung gespeichert in styleSpecificData")}catch(a){console.error("âŒ Fehler beim Speichern in styleSpecificData:",a)}try{console.log("ğŸ’¾ Speichere auch in Mitglieder-Tabelle..."),await i.put(`/mitglieder/${U}`,{gurtfarbe:r.name,letzte_pruefung:(new Date).toISOString().split("T")[0]}),L(A=>({...A,gurtfarbe:r.name,letzte_pruefung:(new Date).toISOString()})),it((new Date).toISOString().split("T")[0]),console.log("âœ… Gurt-Graduierung in Mitglied aktualisiert")}catch(a){console.error("âŒ Fehler beim Aktualisieren der Graduierung im Mitglied:",a)}console.log("ğŸ”„ UI wird aktualisiert mit:",r.name)},ur=async(A,e)=>{T(!0);try{const r=te.find(e=>e.id===A);switch(at(r),e){case"kÃ¼ndigen":Bt((new Date).toISOString().split("T")[0]),ze(!0);break;case"ruhepause":Ke(!0);break;case"reaktivieren":if(window.confirm("MÃ¶chten Sie den Vertrag reaktivieren?"))try{await i.put(`/vertraege/${A}`,{status:"aktiv",ruhepause_von:null,ruhepause_bis:null,ruhepause_dauer_monate:null,dojo_id:null==K?void 0:K.dojo_id}),await sr()}catch(t){console.error("Fehler beim Reaktivieren des Vertrags:",t),alert("Fehler beim Reaktivieren des Vertrags. Bitte versuchen Sie es erneut.")}break;default:return}}catch(t){console.error("Fehler bei Vertragsaktion:",t)}finally{T(!1)}},hr=async()=>{var A,e,t,r,n,s,a;T(!0);try{const A=me||He;if(!K||!K.dojo_id)return alert("? Fehler: Mitgliedsdaten nicht geladen. Bitte laden Sie die Seite neu."),void T(!1);if(!A.tarif_id)return alert("Bitte wÃ¤hlen Sie einen Tarif aus."),void T(!1);if(!(me||He.agb_akzeptiert&&He.datenschutz_akzeptiert))return alert("Bitte akzeptieren Sie die AGB und DatenschutzerklÃ¤rung."),void T(!1);if(!A.sepa_mandat_id)return alert("Bitte wÃ¤hlen Sie ein SEPA-Mandat aus. Ohne gÃ¼ltiges SEPA-Mandat kann keine Lastschrift eingezogen werden."),void T(!1);if(me){(await i.put(`/vertraege/${me.id}`,{...me,dojo_id:null==K?void 0:K.dojo_id})).data.success&&(await sr(),pe(null),alert("? Vertrag erfolgreich aktualisiert!"))}else{const A=(new Date).toISOString().replace("T"," ").substring(0,19),{agb_akzeptiert:e,datenschutz_akzeptiert:t,hausordnung_akzeptiert:r,...n}=He,s={mitglied_id:parseInt(U),dojo_id:null==K?void 0:K.dojo_id,...n,agb_akzeptiert_am:He.agb_akzeptiert?A:null,datenschutz_akzeptiert_am:He.datenschutz_akzeptiert?A:null,hausordnung_akzeptiert_am:He.hausordnung_akzeptiert?A:null,haftungsausschluss_datum:He.haftungsausschluss_akzeptiert?A:null,gesundheitserklaerung_datum:He.gesundheitserklaerung?A:null,foto_einverstaendnis_datum:He.foto_einverstaendnis?A:null,unterschrift_datum:A,unterschrift_ip:window.location.hostname};console.log("ğŸ“¤ Sende Vertragsdaten:",s);if((await i.post("/vertraege",s)).data.success){await sr();const A=new Date,e=new Date(A);e.setMonth(A.getMonth()+12),Ie({tarif_id:"",status:"aktiv",billing_cycle:"",payment_method:"direct_debit",vertragsbeginn:A.toISOString().split("T")[0],vertragsende:e.toISOString().split("T")[0],kuendigungsfrist_monate:3,mindestlaufzeit_monate:12,automatische_verlaengerung:!0,verlaengerung_monate:12,faelligkeit_tag:1,sepa_mandat_id:null,agb_akzeptiert:!1,agb_version:"1.0",datenschutz_akzeptiert:!1,datenschutz_version:"1.0",hausordnung_akzeptiert:!1,haftungsausschluss_akzeptiert:!1,gesundheitserklaerung:!1,foto_einverstaendnis:!1}),Be(!1),alert("? Vertrag erfolgreich erstellt!")}}}catch(l){console.error("? Fehler beim Speichern des Vertrags:",l),console.error("? Fehlerdetails:",null==(A=l.response)?void 0:A.data);const i=(null==(t=null==(e=l.response)?void 0:e.data)?void 0:t.sqlError)||(null==(n=null==(r=l.response)?void 0:r.data)?void 0:n.details)||(null==(a=null==(s=l.response)?void 0:s.data)?void 0:a.error)||l.message;alert("Fehler beim Speichern des Vertrags: "+i)}finally{T(!1)}};e.useEffect(()=>{const A=new AbortController;return(async()=>{if(!g&&b)b.mitglied_id?(console.log("âœ… Member ID aus JWT-Token geladen:",b.mitglied_id),F(b.mitglied_id)):(console.error("âŒ Keine mitglied_id im JWT-Token gefunden!",b),P("Kein Mitgliedsprofil mit diesem Account verknÃ¼pft. Bitte kontaktieren Sie den Administrator."),T(!1));else if(g||b)g&&T(!1);else try{const e=await i.get(`/mitglieder/by-email/${encodeURIComponent(b.email)}`,{signal:A.signal});e.data&&e.data.mitglied_id?(console.log("ğŸ“§ Member ID per E-Mail geladen:",e.data.mitglied_id),F(e.data.mitglied_id)):(console.error("âŒ No member found with email:",b.email),P("Kein Mitglied mit dieser E-Mail gefunden."),T(!1))}catch(e){if("AbortError"===e.name||"ERR_CANCELED"===e.code)return;console.error("âŒ Error loading member ID:",e),P("Fehler beim Laden der Mitgliedsdaten."),T(!1)}})(),()=>{A.abort()}},[g,b]),e.useEffect(()=>{if(!U)return;const A=new AbortController;return nr(null,A.signal),ir(A.signal),lr(A.signal),(async(A=null)=>{var e;try{const e=await i.get(`/mitglieder/${U}/sepa-mandate`,A?{signal:A}:{});EA(e.data)}catch(t){if("AbortError"===t.name||"ERR_CANCELED"===t.code)return;404!==(null==(e=t.response)?void 0:e.status)&&console.error("Fehler beim Laden des SEPA-Mandats:",t)}})(A.signal),dr(A.signal),()=>{A.abort()}},[U]),e.useEffect(()=>{if(K){const A=new AbortController;return sr(A.signal),()=>{A.abort()}}},[K]),e.useEffect(()=>{(()=>{var A;if(!YA.length)return;const e=YA.filter(A=>A.anwesend).length,t=YA.length,r=t>0?(e/t*100).toFixed(1):0,n=new Date,i=[];for(let E=0;E<12;E++){const A=new Date(n.getFullYear(),n.getMonth()-E,1),e=A.toLocaleDateString("de-DE",{month:"long",year:"numeric"}),t=A.toLocaleDateString("de-DE",{month:"long"}),r=YA.filter(e=>{const t=new Date(e.datum);return t.getMonth()===A.getMonth()&&t.getFullYear()===A.getFullYear()&&e.anwesend});r.length>0&&i.push({month:t,fullMonth:e,count:r.length,year:A.getFullYear()})}const s=(new Date).getMonth(),a=(new Date).getFullYear(),l=YA.filter(A=>{const e=new Date(A.datum);return e.getMonth()===s&&e.getFullYear()===a&&A.anwesend}).length,o=i.slice(0,6),d=o.length>0?(o.reduce((A,e)=>A+e.count,0)/o.length).toFixed(1):0,c=YA.filter(A=>{const e=new Date(A.datum),t=new Date(n);return t.setDate(t.getDate()-7),e>=t&&A.anwesend}).length,g=i.filter(A=>A.count>0),u=g.length>0?g.reduce((A,e)=>e.count>A.count?e:A):null;let h=0;for(const E of i){if(!(E.count>0))break;h++}let B=0;const m=YA.filter(A=>A.anwesend).sort((A,e)=>new Date(e.datum)-new Date(A.datum));if(m.length>0){const A=new Date(m[0].datum);if(Math.floor((n-A)/864e5)<=14){B=1;for(let A=1;A<m.length;A++){const e=new Date(m[A].datum),t=new Date(m[A-1].datum);if(!(Math.floor((t-e)/864e5)<=14))break;B++}}}const p=[{day:"Montag",dayShort:"Mo",count:0},{day:"Dienstag",dayShort:"Di",count:0},{day:"Mittwoch",dayShort:"Mi",count:0},{day:"Donnerstag",dayShort:"Do",count:0},{day:"Freitag",dayShort:"Fr",count:0},{day:"Samstag",dayShort:"Sa",count:0},{day:"Sonntag",dayShort:"So",count:0}];YA.filter(A=>A.anwesend).forEach(A=>{const e=(new Date(A.datum).getDay()+6)%7;p[e].count++});const f=p.reduce((A,e)=>e.count>A.count?e:A),w=p.filter(A=>A.count>0).reduce((A,e)=>e.count<A.count?e:A,p[0]),x=[...new Set(YA.map(A=>new Date(A.datum).getFullYear()))].map(A=>{const e=YA.filter(e=>new Date(e.datum).getFullYear()===A&&e.anwesend).length;return{year:A,count:e}}).sort((A,e)=>A.year-e.year),b=YA.filter(A=>A.anwesend).sort((A,e)=>new Date(A.datum)-new Date(e.datum));let Q=0;for(let E=1;E<b.length;E++){const A=new Date(b[E-1].datum),e=new Date(b[E].datum),t=Math.floor((e-A)/864e5);t>Q&&(Q=t)}const y=b.length>0?new Date(b[0].datum):null,C=y?Math.ceil((n-y)/6048e5):0,F=C>0?(e/C).toFixed(1):0;let v=0,U=0;const j=YA.filter(A=>A.anwesend).sort((A,e)=>new Date(e.datum)-new Date(A.datum));for(let E=0;E<j.length;E++)if(0===E)U=1;else{const A=new Date(j[E].datum),e=new Date(j[E-1].datum);Math.floor((e-A)/864e5)<=14?U++:(U>v&&(v=U),U=1)}U>v&&(v=U),ee({totalAnwesenheiten:e,"totalMÃ¶glicheAnwesenheiten":t,anwesenheitsquote:r,letzteAnwesenheit:YA.length>0?null==(A=YA.sort((A,e)=>new Date(e.datum)-new Date(A.datum))[0])?void 0:A.datum:null,monthlyStats:i,thisMonthAttendances:l,avgPerMonth:d,lastWeekAttendances:c,bestMonth:u,consecutiveMonths:h,currentStreak:B,weekdayStats:p,bestWeekday:f,worstWeekday:w,yearlyStats:x,longestPause:Q,avgPerWeek:F,bestStreak:v})})()},[YA]),e.useEffect(()=>{var A;if(K&&Ye.length>0&&Je.length>0){if(!$e&&Ye.length>0){const e=Ye[0].stil_id.toString(),t=Je.find(A=>A.stil_id===parseInt(e));if(qe(e),et(t),(null==K?void 0:K.gurtfarbe)&&(null==t?void 0:t.graduierungen)){const A=t.graduierungen.find(A=>A.name.toLowerCase().includes(K.gurtfarbe.toLowerCase()));rt(A||t.graduierungen[0])}else(null==(A=null==t?void 0:t.graduierungen)?void 0:A.length)>0&&rt(t.graduierungen[0])}if(dA>=Ye.length&&cA(0),gA>=Ye.length&&uA(0),(null==K?void 0:K.letzte_pruefung)&&it(Al(K.letzte_pruefung)),(null==K?void 0:K.allergien)&&KA(mr(K.allergien)),null==K?void 0:K.allergien_archiv)try{const A="string"==typeof K.allergien_archiv?JSON.parse(K.allergien_archiv):K.allergien_archiv;zA(A||[])}catch(e){console.error("Fehler beim Parsen von allergien_archiv:",e),zA([])}}},[K,Ye,Je]),e.useEffect(()=>{if("anwesenheit"===sA){const A=new AbortController;return nr(null,A.signal),()=>{A.abort()}}},[sA]),e.useEffect(()=>{if("finanzen"===sA&&U){const A=new AbortController;return ir(A.signal),(async(A=null)=>{try{const e=A?{signal:A}:{},[t,r]=await Promise.all([i.get("/tarife",e).catch(()=>null),i.get("/zahlungszyklen",e).catch(()=>null)]);if(null==t?void 0:t.data){const A=t.data;A.success&&pt(A.data||[])}if(null==r?void 0:r.data){const A=r.data;wt(A.data||[])}}catch(e){if("AbortError"===e.name||"ERR_CANCELED"===e.code)return;console.error("Fehler beim Laden der Tarife und Zahlungszyklen:",e)}})(A.signal),sr(A.signal),()=>{A.abort()}}},[sA,U]),e.useEffect(()=>{if("stile"===sA&&Ye.length>0&&dA<Ye.length){const A=Ye[dA];if(A&&A.stil_name){const e=new AbortController;return nr(A.stil_name,e.signal),()=>{e.abort()}}}},[sA,dA,Ye]),e.useEffect(()=>{if(Ye.length>0&&dA<Ye.length&&Je.length>0){const A=Ye[dA],e=Je.find(e=>e.stil_id===A.stil_id);if(console.log("ğŸ¨ Setze selectedStil fÃ¼r Tab:",dA,"Stil:",A.stil_name),e){et(e);const t=TA[A.stil_id];if(t&&t.current_graduierung_id&&e.graduierungen){const A=e.graduierungen.find(A=>A.graduierung_id===t.current_graduierung_id);A&&(console.log("ğŸ–ï¸ Setze currentGraduation:",A.name),rt(A))}else e.graduierungen&&e.graduierungen.length>0&&(console.log("ğŸ–ï¸ Setze Fallback-Graduierung:",e.graduierungen[0].name),rt(e.graduierungen[0]))}}},[dA,Ye,Je,TA]),e.useEffect(()=>{if("dokumente"===sA&&(null==K?void 0:K.dojo_id)){const A=new AbortController;if(g){(async()=>{try{const e=await i.get(`/vertragsvorlagen?dojo_id=${null==K?void 0:K.dojo_id}`,{signal:A.signal});Mt(e.data.data||[])}catch(e){if("AbortError"===e.name||"ERR_CANCELED"===e.code)return;console.error("Fehler beim Laden der Vorlagen:",e)}})()}(async()=>{try{const e=await i.get(`/mitglieder/${U}/dokumente`,{signal:A.signal});Ot(e.data.data||[])}catch(e){if("AbortError"===e.name||"ERR_CANCELED"===e.code)return;console.error("Fehler beim Laden der Dokumente:",e)}})(),cr(A.signal);return(async()=>{try{const e=await i.get(`/notifications/member/${K.id}/confirmed`,{signal:A.signal});Pt(e.data.data||[])}catch(e){if("AbortError"===e.name||"ERR_CANCELED"===e.code)return;console.error("Fehler beim Laden der bestÃ¤tigten Benachrichtigungen:",e)}})(),()=>{A.abort()}}},[sA,null==K?void 0:K.dojo_id,null==K?void 0:K.id,g,U]),e.useEffect(()=>{if("nachrichten"===sA){const A=new AbortController;return(null==K?void 0:K.email)&&(async(A=null)=>{var e;if(null==K?void 0:K.email){ae(!0);try{const t=await i.get("/notifications/history",{params:{recipient:K.email,limit:100},signal:A||void 0});t.data.success&&(ie(t.data.notifications||[]),console.log("âœ… Mitglieder-Benachrichtigungen geladen:",null==(e=t.data.notifications)?void 0:e.length))}catch(t){if("AbortError"===t.name||"ERR_CANCELED"===t.code)return;console.error("âŒ Fehler beim Laden der Benachrichtigungen:",t)}finally{ae(!1)}}})(A.signal),(async(A=null)=>{var e;ce(!0);try{const t=await i.get("/news/public",{signal:A||void 0});t.data.news&&(oe(t.data.news||[]),console.log("âœ… News-Artikel geladen:",null==(e=t.data.news)?void 0:e.length))}catch(t){if("AbortError"===t.name||"ERR_CANCELED"===t.code)return;console.error("âŒ Fehler beim Laden der News:",t)}finally{ce(!1)}})(A.signal),()=>{A.abort()}}},[sA,null==K?void 0:K.email]),e.useEffect(()=>{if("buddy_gruppen"===sA&&(null==K?void 0:K.mitglied_id)&&Q){const A=new AbortController,e=async()=>{try{iA(!0);const e=await fetch(`${s.apiBaseUrl}/buddy/member/${K.mitglied_id}/gruppen`,{headers:{Authorization:`Bearer ${Q}`},signal:A.signal});if(e.ok){const A=await e.json();rA(A||[])}else rA([])}catch(e){"AbortError"!==e.name&&(console.error("Fehler beim Laden der Buddy-Gruppen:",e),rA([]))}finally{iA(!1)}};return e(),()=>{A.abort()}}},[sA,null==K?void 0:K.mitglied_id,Q]);const Br=(A,e)=>{let t=A.target.value;"gewicht"!==e&&"kontostand"!==e&&"rabatt_prozent"!==e||(t=parseFloat(t),isNaN(t)&&(t=0)),"checkbox"===A.target.type&&(t=A.target.checked),e.includes("vertreter")&&console.log(`ğŸ”„ handleChange: ${e} = ${t}`),N(A=>({...A,[e]:t}))},mr=A=>A?A.split(";").filter(A=>A.trim()).map((A,e)=>({id:e,value:A.trim()})):[],pr=async A=>{var e,t;const r=A.target.files[0];if(!r)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(r.type))return void alert("Nur Bilddateien (JPEG, PNG, GIF, WebP) sind erlaubt!");if(r.size>5242880)return void alert("Datei ist zu groÃŸ! Maximum 5MB erlaubt.");Ge(!0);const n=new FormData;n.append("foto",r);try{const A=await i.post(`/mitglieddetail/${U}/foto`,n,{headers:{"Content-Type":"multipart/form-data"}});if(A.data.success){const e=A.data.fotoPfad;L(A=>({...A,foto_pfad:e})),N(A=>({...A,foto_pfad:e}));const t=new FileReader;t.onload=A=>{Oe(A.target.result),console.log("ğŸ“· PhotoPreview gesetzt")},t.readAsDataURL(r),setTimeout(()=>{rr()},100),alert("? Foto erfolgreich hochgeladen!")}}catch(s){console.error("Fehler beim Hochladen des Fotos:",s),alert("? Fehler beim Hochladen des Fotos: "+((null==(t=null==(e=s.response)?void 0:e.data)?void 0:t.error)||s.message))}finally{Ge(!1)}};if(_)return A.jsx("div",{className:"mitglied-detail-container",style:{padding:"2rem"},children:A.jsx(J,{})});if(M)return A.jsx("p",{className:"error",children:M});if(!K)return A.jsx("p",{children:"Keine Daten gefunden."});const fr=[{key:"allgemein",label:"Allgemein",icon:"ğŸ‘¤"},{key:"medizinisch",label:"Medizinisch",icon:"ğŸ¥"},{key:"fortschritt",label:"Fortschritt",icon:"ğŸ“ˆ"},{key:"anwesenheit",label:"Anwesenheit",icon:"ğŸ“…"},{key:"finanzen",label:"Finanzen",icon:"ğŸ’°"},{key:"vertrag",label:"Vertrag",icon:"ğŸ“„"},{key:"dokumente",label:"Dokumente",icon:"ğŸ“"},{key:"familie",label:"Familie & Vertreter",icon:"ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦"},{key:"gurt_stil",label:"Gurt & Stil / PrÃ¼fung",icon:"ğŸ¥‹"},{key:"buddy_gruppen",label:"Buddy-Gruppen",icon:"ğŸ‘¥"},{key:"nachrichten",label:"Nachrichten",icon:"ğŸ“¬"},{key:"statistiken",label:"Statistiken",icon:"ğŸ“Š"},{key:"zusatzdaten",label:"LehrgÃ¤nge & Ehrungen",icon:"ğŸ†"},{key:"sicherheit",label:"Sicherheit",icon:"ğŸ”’"}];return A.jsxs("div",{className:"mitglied-detail-container",children:[A.jsxs("div",{className:"mitglied-layout",children:[A.jsxs("aside",{className:"mitglied-sidebar "+(fA?"collapsed":""),children:[A.jsx("button",{className:"tab-vertical-btn sidebar-toggle-btn active",onClick:()=>wA(!fA),title:fA?"Sidebar Ã¶ffnen":"Sidebar schlieÃŸen",children:A.jsx("span",{className:"tab-icon",children:fA?"Â»":"Â«"})}),A.jsxs("div",{className:"mitglied-header",children:[A.jsx("div",{className:"mitglied-avatar "+(AA?"":"avatar-loading"),style:{position:"relative"},children:A.jsx("img",{src:(null==K?void 0:K.foto_pfad)?`http://localhost:3000/${K.foto_pfad}`:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="100" height="100"%3E%3Crect fill="%232a2a4e" width="100" height="100"/%3E%3Ctext fill="%23ffd700" font-family="sans-serif" font-size="50" dy=".35em" x="50%25" y="50%25" text-anchor="middle"%3EğŸ‘¤%3C/text%3E%3C/svg%3E',alt:`${null==K?void 0:K.vorname} ${null==K?void 0:K.nachname}`,className:"avatar-image",style:{opacity:AA?1:0,transition:"opacity 0.3s ease-in-out"},onLoad:()=>{console.log("ğŸ–¼ï¸ Avatar onLoad gefeuert fÃ¼r:",null==K?void 0:K.foto_pfad),eA(!0)},onError:A=>{console.log("âŒ Avatar onError gefeuert fÃ¼r:",null==K?void 0:K.foto_pfad,"Event:",A),A.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="100" height="100"%3E%3Crect fill="%232a2a4e" width="100" height="100"/%3E%3Ctext fill="%23ffd700" font-family="sans-serif" font-size="50" dy=".35em" x="50%25" y="50%25" text-anchor="middle"%3EğŸ‘¤%3C/text%3E%3C/svg%3E',eA(!0)}},null==K?void 0:K.mitglied_id)}),!fA&&A.jsxs("div",{className:"mitglied-name",children:[null==K?void 0:K.vorname," ",null==K?void 0:K.nachname,g&&(null==K?void 0:K.dojo_id)&&A.jsx("div",{className:"mitglied-dojo-name",style:{fontSize:"0.85rem",marginTop:"4px",fontWeight:"normal"},children:y(K.dojo_id)})]})]}),A.jsx("nav",{className:"tabs-vertical","aria-label":"Mitglied Tabs",children:fr.map((e,t)=>A.jsxs("button",{className:"tab-vertical-btn "+(sA===e.key?"active":""),onClick:()=>((A,e)=>{aA(A),PA(e)})(e.key,t),title:fA?e.label:"",children:[A.jsx("span",{className:"tab-icon",children:e.icon}),!fA&&A.jsx("span",{className:"tab-label",children:e.label})]},e.key))})]}),A.jsxs("div",{className:"mitglied-content "+(fA?"sidebar-collapsed":""),children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem",gap:"1rem",paddingRight:"1rem",paddingTop:"0.5rem"},children:[A.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center",flexWrap:"wrap"},children:[g&&A.jsx("button",{className:"back-button mitglied-detail-back-btn",onClick:()=>f("/dashboard/mitglieder"),children:"â† ZurÃ¼ck"}),A.jsxs("div",{className:"mitglied-detail-status-badges",children:[A.jsxs("div",{className:"mitglied-detail-badge",title:"Offene Dokumente",children:[A.jsx("span",{className:"badge-icon",children:"ğŸ“„"}),A.jsx("span",{className:"badge-label",children:"Dokumente:"}),A.jsx("span",{className:"badge-value",children:Ar})]}),A.jsxs("div",{className:"mitglied-detail-badge",title:"Offene Nachrichten",children:[A.jsx("span",{className:"badge-icon",children:"âœ‰ï¸"}),A.jsx("span",{className:"badge-label",children:"Nachrichten:"}),A.jsx("span",{className:"badge-value",children:er})]}),A.jsxs("div",{className:"mitglied-detail-badge "+(tr>0?"badge-warning":""),title:"Offene BeitrÃ¤ge",children:[A.jsx("span",{className:"badge-icon",children:"ğŸ’°"}),A.jsx("span",{className:"badge-label",children:"BeitrÃ¤ge:"}),A.jsx("span",{className:"badge-value "+(tr>0?"warning":""),children:tr})]})]})]}),g&&A.jsxs("div",{style:{position:"relative",flexShrink:0},children:[A.jsx("button",{className:"mitglied-detail-actions-btn",onClick:()=>Fe(!Ce),title:"Aktionen",children:"â‹®"}),Ce&&A.jsxs(A.Fragment,{children:[A.jsx("div",{onClick:()=>Fe(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:998}}),A.jsxs("div",{className:"mitglied-detail-actions-menu",children:[A.jsxs("button",{className:"mitglied-detail-menu-item",onClick:()=>{XA(!JA),Fe(!1)},children:[A.jsx("span",{className:"menu-item-icon",children:"âœï¸"}),A.jsx("span",{children:JA?"Bearbeiten beenden":"Bearbeiten"})]}),A.jsxs("button",{className:"mitglied-detail-menu-item "+(JA?"":"disabled"),onClick:()=>{(async()=>{T(!0);try{const A={...z};delete A.id,delete A.mitglied_id,A.geburtsdatum&&(A.geburtsdatum=qa(A.geburtsdatum)),A.eintrittsdatum&&(A.eintrittsdatum=qa(A.eintrittsdatum)),A.gekuendigt_am&&(A.gekuendigt_am=qa(A.gekuendigt_am)),A.nÃ¤chste_pruefung_datum&&(A.nÃ¤chste_pruefung_datum=qa(A.nÃ¤chste_pruefung_datum)),A.vereinsordnung_datum&&(A.vereinsordnung_datum=qa(A.vereinsordnung_datum)),(A.vertreter1_typ||A.vertreter2_typ)&&console.log("ğŸ’¾ Speichere Vertreter-Daten:",{vertreter1_typ:A.vertreter1_typ,vertreter2_typ:A.vertreter2_typ,vertreter1_name:A.vertreter1_name,vertreter2_name:A.vertreter2_name});const e=(await i.put(`/mitglieddetail/${U}`,A)).data;console.log("âœ… Speichern erfolgreich:",e),L(e&&Object.keys(e).length?e:A),N(e&&Object.keys(e).length?e:A),XA(!1),await rr()}catch{P("Fehler beim Speichern.")}finally{T(!1)}})(),Fe(!1)},disabled:!JA,children:[A.jsx("span",{className:"menu-item-icon",children:"ğŸ’¾"}),A.jsx("span",{children:"Speichern"})]}),A.jsxs("button",{className:"mitglied-detail-menu-item "+(We?"disabled":""),onClick:()=>{(async()=>{var A;if(!We){Pe(!0);try{console.log(`ğŸ“„ Starte PDF-Download fÃ¼r Mitglied ${K.mitglied_id}...`);const A=await i.post(`/mitglieddetail/${K.mitglied_id}/pdf`,{save_to_db:!1},{responseType:"blob",timeout:3e4}),e=window.URL.createObjectURL(new Blob([A.data],{type:"application/pdf"})),t=document.createElement("a");t.href=e,t.download=`Mitglied_${K.mitgliedsnummer||K.mitglied_id}_Details.pdf`,document.body.appendChild(t),t.click(),document.body.removeChild(t),window.URL.revokeObjectURL(e),console.log("âœ… PDF erfolgreich heruntergeladen"),alert("âœ… PDF erfolgreich erstellt und heruntergeladen!")}catch(e){console.error("âŒ Fehler bei PDF-Generierung:",e);let t="Fehler bei PDF-Generierung";if(null==(A=e.response)?void 0:A.data)try{const A=new FileReader;A.onload=()=>{const e=JSON.parse(A.result);alert(`âŒ ${t}: ${e.details||e.error||"Unbekannter Fehler"}`)},A.readAsText(e.response.data)}catch{alert(`âŒ ${t}: ${e.message}`)}else alert(`âŒ ${t}: ${e.message}`)}finally{Pe(!1)}}})(),Fe(!1)},disabled:We,children:[A.jsx("span",{className:"menu-item-icon",children:We?"â³":"ğŸ“„"}),A.jsx("span",{children:We?"Generiere PDF...":"PDF exportieren"})]}),A.jsxs("button",{className:"mitglied-detail-menu-item",onClick:()=>{Ee(!0),Fe(!1)},children:[A.jsx("span",{className:"menu-item-icon",children:"ğŸªª"}),A.jsx("span",{children:"Mitgliedsausweis"})]}),A.jsx("div",{className:"mitglied-detail-menu-divider"}),A.jsxs("button",{className:"mitglied-detail-menu-item danger",onClick:()=>{Ue(!0),Fe(!1)},children:[A.jsx("span",{className:"menu-item-icon",children:"ğŸ—‘ï¸"}),A.jsx("span",{children:"Ins Archiv verschieben"})]})]})]})]})]}),A.jsx(O,{mode:"wait",children:A.jsxs(W.div,{className:"tab-content",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:["sicherheit"===sA&&A.jsx(za,{CustomSelect:tl}),"allgemein"===sA&&A.jsxs("div",{className:"grid-container",children:[A.jsxs("div",{className:"field-group card mitgliedsausweis-container",children:[A.jsx("h3",{children:"Mitgliedsausweis"}),A.jsxs("div",{className:"mitgliedsausweis",ref:v,children:[A.jsxs("div",{className:"ausweis-title",children:[A.jsx("span",{className:"title-jp",children:"æ ¼é—˜æŠ€å­¦æ ¡"}),A.jsx("span",{className:"title-de",children:"Kampfkunstschule Schreiner"})]}),A.jsxs("div",{className:"ausweis-body",children:[A.jsx("div",{className:"ausweis-left",children:A.jsx("img",{src:"/assets/logo-kampfkunstschule-schreiner-AEWqk06S.png",alt:"Kampfkunstschule Schreiner",className:"ausweis-logo"})}),A.jsxs("div",{className:"ausweis-center",children:[A.jsx("div",{className:"ausweis-kanji",children:"æ­¦é“"}),A.jsxs("div",{className:"ausweis-name",children:[null==K?void 0:K.vorname," Â· ",null==K?void 0:K.nachname]}),A.jsxs("div",{className:"ausweis-info-list",children:[A.jsxs("div",{className:"ausweis-info-row",children:[A.jsx("span",{className:"info-label",children:"Mitglieds-Nr."}),A.jsx("span",{className:"info-value",children:String(null==K?void 0:K.mitglied_id).padStart(5,"0")})]}),A.jsxs("div",{className:"ausweis-info-row",children:[A.jsx("span",{className:"info-label",children:"Mitglied seit"}),A.jsx("span",{className:"info-value",children:(null==K?void 0:K.eintrittsdatum)?new Date(K.eintrittsdatum).toLocaleDateString("de-DE",{month:"2-digit",year:"numeric"}):"â€”"})]})]})]}),A.jsxs("div",{className:"ausweis-right",children:[A.jsx("div",{className:"ausweis-foto",children:(null==K?void 0:K.foto_pfad)||Ve?A.jsx("img",{src:Ve||((null==K?void 0:K.foto_pfad)?`${window.location.protocol}//${window.location.hostname}:3000/${K.foto_pfad}`:"/src/assets/default-avatar.png"),alt:`${null==K?void 0:K.vorname} ${null==K?void 0:K.nachname}`}):A.jsx("div",{className:"ausweis-foto-placeholder",children:A.jsx("span",{children:"å†™çœŸ"})})}),A.jsx("div",{className:"ausweis-qr",children:A.jsx(R,{value:`DOJO-CHECKIN:${(null==K?void 0:K.dojo_id)||"0"}:${(null==K?void 0:K.mitglied_id)||"0"}`,size:88,level:"M",bgColor:"#ffffff",fgColor:"#000000"})})]})]}),A.jsxs("div",{className:"ausweis-footer",children:[A.jsx("div",{className:"ausweis-motto",children:"å¿ƒæŠ€ä½“ â€” Shin Gi Tai"}),A.jsx("div",{className:"ausweis-website",children:"www.tda-vib.de"})]})]}),A.jsx("div",{className:"ausweis-actions",children:A.jsx("button",{className:"btn btn-secondary ausweis-download-btn",onClick:async()=>{var A,e,t;if(v.current)try{const r=document.createElement("div");r.style.padding="20px",r.style.background="#000000",r.style.display="inline-block";const n=v.current.cloneNode(!0);r.appendChild(n),document.body.appendChild(r);const i=await(e=r,t={backgroundColor:"#000000",scale:3,useCORS:!0,allowTaint:!0,logging:!1,imageTimeout:15e3},void 0===t&&(t={}),Da(e,t));document.body.removeChild(r);const s=document.createElement("a");s.download=`mitgliedsausweis-${(null==(A=null==K?void 0:K.nachname)?void 0:A.toLowerCase())||"member"}.png`,s.href=i.toDataURL("image/png",1),s.click()}catch(r){console.error("Download failed:",r),alert("Download fehlgeschlagen: "+r.message)}},children:"Als Bild speichern"})})]}),A.jsxs("div",{className:"field-group card",children:[A.jsx("h3",{children:"Allgemeine Informationen"}),A.jsxs("div",{children:[A.jsx("label",{children:"Mitgliedsnummer:"}),A.jsx("span",{children:K.mitglied_id})]}),A.jsx("div",{className:"foto-upload-section",children:A.jsxs("div",{className:"foto-container",children:[A.jsx("label",{className:"foto-label",children:"Foto:"}),(null==K?void 0:K.foto_pfad)||Ve?A.jsxs("div",{className:"foto-preview",children:[A.jsx("img",{src:Ve||((null==K?void 0:K.foto_pfad)?`http://localhost:3000/${K.foto_pfad}`:"/src/assets/default-avatar.png"),alt:`${null==K?void 0:K.vorname} ${null==K?void 0:K.nachname}`,className:"mitglied-foto-small",onClick:()=>{window.open().document.write(`\n                              <html>\n                                <head><title>${null==K?void 0:K.vorname} ${null==K?void 0:K.nachname}</title></head>\n                                <body style="margin:0; background:#000; display:flex; justify-content:center; align-items:center; min-height:100vh;">\n                                  <img src="${Ve||((null==K?void 0:K.foto_pfad)?`http://localhost:3000/${K.foto_pfad}`:"/src/assets/default-avatar.png")}"\n                                       style="max-width:90vw; max-height:90vh; object-fit:contain;" />\n                                </body>\n                              </html>\n                            `)},style:{cursor:"pointer"}}),A.jsxs("div",{className:"foto-actions",children:[A.jsx("input",{type:"file",id:"photo-upload",accept:"image/*",onChange:pr,style:{display:"none"},disabled:Re}),A.jsx("button",{onClick:()=>document.getElementById("photo-upload").click(),disabled:Re,style:{background:"rgba(42, 42, 78, 0.6)",border:"1px solid rgba(255, 215, 0, 0.3)",color:"#ffd700",padding:"8px 16px",fontSize:"0.85rem",fontWeight:600,borderRadius:"8px",cursor:Re?"not-allowed":"pointer",opacity:Re?.5:1,transition:"all 0.3s ease"},onMouseEnter:A=>{Re||(A.target.style.background="rgba(255, 215, 0, 0.15)",A.target.style.borderColor="rgba(255, 215, 0, 0.6)",A.target.style.color="#ffed4e")},onMouseLeave:A=>{A.target.style.background="rgba(42, 42, 78, 0.6)",A.target.style.borderColor="rgba(255, 215, 0, 0.3)",A.target.style.color="#ffd700"},children:Re?"â³ Hochladen...":"ğŸ“· Foto Ã¤ndern"}),A.jsx("button",{onClick:async()=>{var A,e;if(window.confirm("MÃ¶chten Sie das Foto wirklich lÃ¶schen?")){T(!0);try{(await i.delete(`/mitglieddetail/${U}/foto`)).data.success&&(L(A=>({...A,foto_pfad:null})),N(A=>({...A,foto_pfad:null})),Oe(null),alert("? Foto erfolgreich gelÃ¶scht!"))}catch(t){console.error("Fehler beim LÃ¶schen des Fotos:",t),alert("? Fehler beim LÃ¶schen des Fotos: "+((null==(e=null==(A=t.response)?void 0:A.data)?void 0:e.error)||t.message))}finally{T(!1)}}},className:"btn btn-sm",disabled:Re,style:{background:"transparent",border:"1px solid rgba(239, 68, 68, 0.5)",color:"#ef4444",padding:"8px 16px",fontSize:"0.85rem",borderRadius:"8px",cursor:Re?"not-allowed":"pointer",transition:"all 0.3s ease",display:"inline-flex",alignItems:"center",gap:"0.5rem",fontWeight:600,textTransform:"none",opacity:Re?.5:1},onMouseEnter:A=>{Re||(A.target.style.background="rgba(239, 68, 68, 0.15)",A.target.style.borderColor="rgba(239, 68, 68, 0.7)",A.target.style.color="#ff6b6b")},onMouseLeave:A=>{A.target.style.background="transparent",A.target.style.borderColor="rgba(239, 68, 68, 0.5)",A.target.style.color="#ef4444"},children:"ğŸ—‘ï¸ LÃ¶schen"})]})]}):A.jsx("div",{className:"foto-placeholder",children:A.jsxs("div",{className:"foto-upload-area",children:[A.jsx("input",{type:"file",id:"photo-upload",accept:"image/*",onChange:pr,style:{display:"none"},disabled:Re}),A.jsx("label",{htmlFor:"photo-upload",className:"btn",style:{cursor:"pointer",background:"transparent",border:"1px solid rgba(255, 215, 0, 0.2)",color:"rgba(255, 255, 255, 0.7)",padding:"12px 20px",fontSize:"0.9rem",borderRadius:"8px",transition:"all 0.3s ease",display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontWeight:600},onMouseEnter:A=>{A.target.style.background="rgba(255, 255, 255, 0.1)",A.target.style.borderColor="rgba(255, 215, 0, 0.4)",A.target.style.color="rgba(255, 255, 255, 0.9)"},onMouseLeave:A=>{A.target.style.background="transparent",A.target.style.borderColor="rgba(255, 215, 0, 0.2)",A.target.style.color="rgba(255, 255, 255, 0.7)"},children:Re?A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[A.jsx("div",{className:"spinner"}),A.jsx("span",{children:"Hochladen..."})]}):A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[A.jsx("span",{children:"ğŸ“·"}),A.jsx("span",{children:"Foto hochladen"})]})})]})})]})}),A.jsxs("div",{children:[A.jsx("label",{children:"Vorname:"}),JA?A.jsx("input",{type:"text",value:z.vorname||"",onChange:A=>Br(A,"vorname")}):A.jsx("span",{children:K.vorname})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Nachname:"}),JA?A.jsx("input",{type:"text",value:z.nachname||"",onChange:A=>Br(A,"nachname")}):A.jsx("span",{children:K.nachname})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Geburtsdatum:"}),JA&&g?A.jsx("input",{type:"date",value:Al(z.geburtsdatum),onChange:A=>Br(A,"geburtsdatum")}):A.jsx("span",{children:K.geburtsdatum?new Date(K.geburtsdatum).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"}):"Nicht angegeben"})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Geschlecht:"}),JA?A.jsxs("select",{value:z.geschlecht||"",onChange:A=>Br(A,"geschlecht"),children:[A.jsx("option",{value:"m",children:"mÃ¤nnlich"}),A.jsx("option",{value:"w",children:"weiblich"}),A.jsx("option",{value:"d",children:"divers"})]}):A.jsx("span",{children:"m"===K.geschlecht?"mÃ¤nnlich":"w"===K.geschlecht?"weiblich":"divers"})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Gewicht:"}),JA?A.jsx("input",{type:"number",step:"0.01",value:z.gewicht||"",onChange:A=>Br(A,"gewicht")}):A.jsxs("span",{children:[K.gewicht," kg"]})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Aktuelle Graduierung(en):"}),JA&&g?A.jsx("input",{type:"text",value:z.gurtfarbe||"",onChange:A=>Br(A,"gurtfarbe"),placeholder:"Legacy-Feld (wird nicht mehr verwendet)",disabled:!0,style:{opacity:.5,cursor:"not-allowed"}}):A.jsx("span",{children:K.aktuelle_graduierungen||K.gurtfarbe||"Keine Graduierung zugeordnet"})]})]}),A.jsxs("div",{className:"field-group card",children:[A.jsx("h3",{children:"Kontaktdaten"}),A.jsxs("div",{children:[A.jsx("label",{children:"E-Mail:"}),JA?A.jsx("input",{type:"email",value:z.email||"",onChange:A=>Br(A,"email"),className:"input-transparent"}):A.jsx("span",{children:K.email||"Nicht angegeben"})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Telefon:"}),JA?A.jsx("input",{type:"text",value:z.telefon||"",onChange:A=>Br(A,"telefon"),className:"input-transparent"}):A.jsx("span",{children:K.telefon||"Nicht angegeben"})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Mobil:"}),JA?A.jsx("input",{type:"text",value:z.telefon_mobil||"",onChange:A=>Br(A,"telefon_mobil"),className:"input-transparent"}):A.jsx("span",{children:K.telefon_mobil||"Nicht angegeben"})]}),A.jsxs("div",{children:[A.jsx("label",{children:"StraÃŸe:"}),JA?A.jsx("input",{type:"text",value:z.strasse||"",onChange:A=>Br(A,"strasse"),className:"input-transparent"}):A.jsx("span",{children:K.strasse||"Nicht angegeben"})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Hausnummer:"}),JA?A.jsx("input",{type:"text",value:z.hausnummer||"",onChange:A=>Br(A,"hausnummer"),className:"input-transparent"}):A.jsx("span",{children:K.hausnummer||"Nicht angegeben"})]}),A.jsxs("div",{children:[A.jsx("label",{children:"PLZ:"}),JA?A.jsx("input",{type:"text",value:z.plz||"",onChange:A=>Br(A,"plz")}):A.jsx("span",{children:K.plz||"Nicht angegeben"})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Ort:"}),JA?A.jsx("input",{type:"text",value:z.ort||"",onChange:A=>Br(A,"ort")}):A.jsx("span",{children:K.ort||"Nicht angegeben"})]})]}),A.jsxs("div",{className:"field-group card",children:[A.jsx("h3",{children:"Erweiterte Informationen"}),g&&A.jsxs("div",{children:[A.jsx("label",{children:"Interne Notizen:"}),JA?A.jsx("textarea",{value:z.notizen||"",onChange:A=>Br(A,"notizen"),placeholder:"Interne Notizen Ã¼ber das Mitglied...",rows:3}):A.jsx("span",{children:K.notizen||"Keine Notizen vorhanden"})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Newsletter-Abonnement:"}),JA?A.jsx(tl,{value:z.newsletter_abo||"1",onChange:A=>Br(A,"newsletter_abo"),options:[{value:"1",label:"Ja, Newsletter erhalten"},{value:"0",label:"Nein, kein Newsletter"}]}):A.jsx("span",{children:K.newsletter_abo?"? Abonniert":"? Nicht abonniert"})]}),g&&A.jsxs("div",{children:[A.jsx("label",{children:"Marketing-Quelle:"}),JA?A.jsx(tl,{value:z.marketing_quelle||"",onChange:A=>Br(A,"marketing_quelle"),options:[{value:"",label:"Bitte auswÃ¤hlen..."},{value:"Google",label:"Google-Suche"},{value:"Facebook",label:"Facebook"},{value:"Instagram",label:"Instagram"},{value:"Empfehlung",label:"Empfehlung von Freunden"},{value:"Flyer",label:"Flyer/Werbung"},{value:"Website",label:"Eigene Website"},{value:"Vorbeikommen",label:"Vorbeigelaufen"},{value:"Sonstiges",label:"Sonstiges"}]}):A.jsx("span",{children:K.marketing_quelle||"Nicht angegeben"})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Bevorzugte Trainingszeiten:"}),JA?A.jsx("input",{type:"text",value:z.bevorzugte_trainingszeiten||"",onChange:A=>Br(A,"bevorzugte_trainingszeiten"),placeholder:"z.B. Montag/Mittwoch 19:00"}):A.jsx("span",{children:K.bevorzugte_trainingszeiten||"Nicht angegeben"})]}),g&&A.jsxs("div",{children:[A.jsx("label",{children:"Online-Portal:"}),JA?A.jsx(tl,{value:z.online_portal_aktiv||"0",onChange:A=>Br(A,"online_portal_aktiv"),options:[{value:"1",label:"Aktiv"},{value:"0",label:"Inaktiv"}]}):A.jsx("span",{children:K.online_portal_aktiv?"âœ… Aktiv":"? Inaktiv"})]}),K.letzter_login&&A.jsxs("div",{children:[A.jsx("label",{children:"Letzter Login:"}),A.jsx("span",{children:new Date(K.letzter_login).toLocaleString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),g&&A.jsxs("div",{className:"field-group card kontostand-card",children:[A.jsx("h3",{children:"Kontostand"}),JA?A.jsxs("div",{children:[A.jsx("label",{children:"Aktueller Kontostand:"}),A.jsx("input",{type:"number",step:"0.01",value:z.kontostand??0,onChange:A=>Br(A,"kontostand")})]}):A.jsxs("div",{className:"kontostand-details",style:{display:"grid",gap:"1rem",marginTop:"1rem"},children:[A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",padding:"1rem",borderRadius:"8px",border:"1px solid rgba(255, 215, 0, 0.2)"},children:[A.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)",marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Aktueller offener Betrag"}),A.jsx("div",{style:{color:$A.filter(A=>!A.bezahlt).reduce((A,e)=>A+(parseFloat(e.betrag)||0),0)>0?"#ef4444":"#10b981",fontSize:"1.2rem",fontWeight:"600"},children:`${$A.filter(A=>!A.bezahlt).reduce((A,e)=>A+(parseFloat(e.betrag)||0),0).toFixed(2)} â‚¬`}),A.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.4)",marginTop:"0.5rem"},children:`${$A.filter(A=>!A.bezahlt).length} offen, ${$A.filter(A=>A.bezahlt).length} bezahlt`})]}),A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",padding:"1rem",borderRadius:"8px",border:"1px solid rgba(255, 215, 0, 0.2)"},children:[A.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)",marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Letzter bezahlter Betrag"}),A.jsx("div",{style:{color:"#ffffff",fontSize:"1.1rem",fontWeight:"600"},children:(()=>{const e=$A.filter(A=>A.bezahlt&&A.zahlungsdatum).sort((A,e)=>new Date(e.zahlungsdatum)-new Date(A.zahlungsdatum))[0];return e?A.jsxs(A.Fragment,{children:[A.jsxs("div",{style:{fontSize:"1.2rem",marginBottom:"0.25rem"},children:[parseFloat(e.betrag).toFixed(2)," â‚¬"]}),A.jsxs("div",{style:{fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.5)"},children:["am ",new Date(e.zahlungsdatum).toLocaleDateString("de-DE")]})]}):A.jsx("div",{style:{color:"rgba(255, 255, 255, 0.5)"},children:"Keine Zahlungen vorhanden"})})()})]}),A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",padding:"1rem",borderRadius:"8px",border:"1px solid rgba(255, 215, 0, 0.2)"},children:[A.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)",marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Kommender Betrag"}),A.jsx("div",{style:{color:"#ffffff",fontSize:"1.1rem",fontWeight:"600"},children:(()=>{const e=te.filter(A=>"aktiv"===A.status);if(e.length>0){const t=e.reduce((A,e)=>A+(parseFloat(e.monatsbeitrag)||0),0);return A.jsxs(A.Fragment,{children:[A.jsxs("div",{style:{fontSize:"1.2rem",marginBottom:"0.25rem"},children:[t.toFixed(2)," â‚¬"]}),A.jsxs("div",{style:{fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.5)"},children:["monatlich (",e.length," ",1===e.length?"Vertrag":"VertrÃ¤ge",")"]})]})}return A.jsx("div",{style:{color:"rgba(255, 255, 255, 0.5)"},children:"Kein aktiver Vertrag"})})()})]})]})]})]}),"medizinisch"===sA&&A.jsx(Ma,{mitglied:K,updatedData:z,editMode:JA,handleChange:Br,CustomSelect:tl,allergien:DA,allergienArchiv:LA,newAllergie:NA,setNewAllergie:_A,addAllergie:()=>{if(!NA.type)return;const A="Sonstiges"===NA.type?NA.custom:NA.type;if(!A.trim())return;const e=Math.max(0,...DA.map(A=>A.id))+1,t=[...DA,{id:e,value:A.trim()}];KA(t);const r=t.map(A=>A.value).join("; ");N({...z,allergien:r}),_A({type:"",custom:""})},removeAllergie:async A=>{try{const e=await fetch(`http://localhost:3000/api/mitglieddetail/${K.id}/archive-allergie`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({allergieId:A})});if(!e.ok)throw new Error("Fehler beim Archivieren der Allergie");const t=await e.json();KA(t.allergien),zA(t.allergien_archiv);const r=t.allergien.length>0?t.allergien.map(A=>A.value).join("; "):"";N({...z,allergien:r}),console.log("âœ… Allergie archiviert:",t.message)}catch(e){console.error("Fehler beim Archivieren der Allergie:",e),alert("Fehler beim Archivieren der Allergie")}}}),"fortschritt"===sA&&A.jsx("div",{className:"fortschritt-tab-container",children:A.jsx(X,{mitgliedId:U})}),"dokumente"===sA&&A.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[A.jsxs("div",{className:"field-group card",children:[A.jsx("h3",{style:{marginBottom:"1.5rem",fontSize:"1.1rem"},children:"Dokumente & EinverstÃ¤ndnisse"}),(()=>{const e=te.find(A=>"aktiv"===A.status)||te[0],t=e||K,r=!!t.hausordnung_akzeptiert_am||(K.hausordnung_akzeptiert||!1),n=t.hausordnung_akzeptiert_am||K.hausordnung_akzeptiert_am,i=!!t.datenschutz_akzeptiert_am||(K.datenschutz_akzeptiert||!1),s=t.datenschutz_akzeptiert_am||K.datenschutz_akzeptiert_am,a=t.foto_einverstaendnis_datum?t.foto_einverstaendnis:K.foto_einverstaendnis,l=t.foto_einverstaendnis_datum||K.foto_einverstaendnis_datum,o=!!t.agb_akzeptiert_am||(K.agb_akzeptiert||!1),d=t.agb_akzeptiert_am||K.agb_akzeptiert_am,c=t.haftungsausschluss_datum?t.haftungsausschluss_akzeptiert:K.haftungsausschluss_akzeptiert,u=t.haftungsausschluss_datum||K.haftungsausschluss_datum,h=t.gesundheitserklaerung_datum?t.gesundheitserklaerung:K.gesundheitserklaerung,B=t.gesundheitserklaerung_datum||K.gesundheitserklaerung_datum;return A.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[e&&A.jsxs("div",{style:{padding:"0.75rem",background:"rgba(33, 150, 243, 0.1)",borderRadius:"6px",border:"1px solid rgba(33, 150, 243, 0.3)",fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.7)"},children:["â„¹ï¸ Daten werden aus dem aktiven Vertrag #",e.personenVertragNr||e.id," geladen"]}),A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem 0.75rem",background:"rgba(255, 255, 255, 0.02)",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[A.jsx("label",{style:{fontWeight:500,fontSize:"0.75rem",margin:0,textTransform:"uppercase"},children:"Hausordnung akzeptiert:"}),JA&&g?A.jsx("input",{type:"checkbox",checked:z.hausordnung_akzeptiert||!1,onChange:A=>Br(A,"hausordnung_akzeptiert"),style:{width:"18px",height:"18px"}}):A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[A.jsx("span",{className:"status-badge "+(r?"accepted":"missing"),style:{fontSize:"0.75rem",padding:"0.35rem 0.75rem",textTransform:"uppercase"},children:r?"âœ… Akzeptiert":"âŒ Fehlt"}),n&&A.jsxs("span",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)",whiteSpace:"nowrap"},children:["am ",new Date(n).toLocaleDateString("de-DE")]})]})]}),A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem 0.75rem",background:"rgba(255, 255, 255, 0.02)",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[A.jsx("label",{style:{fontWeight:500,fontSize:"0.75rem",margin:0,textTransform:"uppercase"},children:"Datenschutz akzeptiert:"}),JA&&g?A.jsx("input",{type:"checkbox",checked:z.datenschutz_akzeptiert||!1,onChange:A=>Br(A,"datenschutz_akzeptiert"),style:{width:"18px",height:"18px"}}):A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[A.jsx("span",{className:"status-badge "+(i?"accepted":"missing"),style:{fontSize:"0.75rem",padding:"0.35rem 0.75rem",textTransform:"uppercase"},children:i?"âœ… Akzeptiert":"âŒ Fehlt"}),s&&A.jsxs("span",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)",whiteSpace:"nowrap"},children:["am ",new Date(s).toLocaleDateString("de-DE")]})]})]}),A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem 0.75rem",background:"rgba(255, 255, 255, 0.02)",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[A.jsx("label",{style:{fontWeight:500,fontSize:"0.75rem",margin:0,textTransform:"uppercase"},children:"Foto-EinverstÃ¤ndnis:"}),JA&&g?A.jsx("input",{type:"checkbox",checked:z.foto_einverstaendnis||!1,onChange:A=>Br(A,"foto_einverstaendnis"),style:{width:"18px",height:"18px"}}):A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[A.jsx("span",{className:"status-badge "+(a?"accepted":"missing"),style:{fontSize:"0.75rem",padding:"0.35rem 0.75rem",textTransform:"uppercase"},children:a?"âœ… Erteilt":"âŒ Fehlt"}),l&&A.jsxs("span",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)",whiteSpace:"nowrap"},children:["am ",new Date(l).toLocaleDateString("de-DE")]})]})]}),A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem 0.75rem",background:"rgba(255, 255, 255, 0.02)",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[A.jsx("label",{style:{fontWeight:500,fontSize:"0.75rem",margin:0,textTransform:"uppercase"},children:"AGB akzeptiert:"}),JA&&g?A.jsx("input",{type:"checkbox",checked:z.agb_akzeptiert||!1,onChange:A=>Br(A,"agb_akzeptiert"),style:{width:"18px",height:"18px"}}):A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[A.jsx("span",{className:"status-badge "+(o?"accepted":"missing"),style:{fontSize:"0.75rem",padding:"0.35rem 0.75rem",textTransform:"uppercase"},children:o?"âœ… Akzeptiert":"âŒ Fehlt"}),d&&A.jsxs("span",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)",whiteSpace:"nowrap"},children:["am ",new Date(d).toLocaleDateString("de-DE")]})]})]}),A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem 0.75rem",background:"rgba(255, 255, 255, 0.02)",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[A.jsx("label",{style:{fontWeight:500,fontSize:"0.75rem",margin:0,textTransform:"uppercase"},children:"Haftungsausschluss:"}),JA&&g?A.jsx("input",{type:"checkbox",checked:z.haftungsausschluss_akzeptiert||!1,onChange:A=>Br(A,"haftungsausschluss_akzeptiert"),style:{width:"18px",height:"18px"}}):A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[A.jsx("span",{className:"status-badge "+(c?"accepted":"missing"),style:{fontSize:"0.75rem",padding:"0.35rem 0.75rem",textTransform:"uppercase"},children:c?"âœ… Akzeptiert":"âŒ Fehlt"}),u&&A.jsxs("span",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)",whiteSpace:"nowrap"},children:["am ",new Date(u).toLocaleDateString("de-DE")]})]})]}),A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem 0.75rem",background:"rgba(255, 255, 255, 0.02)",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[A.jsx("label",{style:{fontWeight:500,fontSize:"0.75rem",margin:0,textTransform:"uppercase"},children:"GesundheitserklÃ¤rung:"}),JA&&g?A.jsx("input",{type:"checkbox",checked:z.gesundheitserklaerung||!1,onChange:A=>Br(A,"gesundheitserklaerung"),style:{width:"18px",height:"18px"}}):A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[A.jsx("span",{className:"status-badge "+(h?"accepted":"missing"),style:{fontSize:"0.75rem",padding:"0.35rem 0.75rem",textTransform:"uppercase"},children:h?"âœ… Abgegeben":"âŒ Fehlt"}),B&&A.jsxs("span",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)",whiteSpace:"nowrap"},children:["am ",new Date(B).toLocaleDateString("de-DE")]})]})]}),A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem 0.75rem",background:"rgba(255, 255, 255, 0.02)",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[A.jsx("label",{style:{fontWeight:500,fontSize:"0.75rem",margin:0,textTransform:"uppercase"},children:"Vereinsordnung Datum:"}),JA&&g?A.jsx("input",{type:"date",value:Al(z.vereinsordnung_datum),onChange:A=>Br(A,"vereinsordnung_datum"),style:{padding:"0.35rem",fontSize:"0.75rem"}}):A.jsx("span",{style:{fontSize:"0.75rem",fontWeight:600,color:"#FFD700"},children:K.vereinsordnung_datum?new Date(K.vereinsordnung_datum).toLocaleDateString("de-DE"):"15.1.2023"})]})]})})()," "]}),Wt.length>0&&A.jsxs("div",{className:"field-group card",children:[A.jsx("h3",{style:{marginBottom:"1.5rem",fontSize:"1.1rem"},children:"âœ… BestÃ¤tigte Dokumente"}),A.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:Wt.map(e=>{const t=e.metadata||{};return A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",background:"rgba(34, 197, 94, 0.1)",borderRadius:"6px",border:"1px solid rgba(34, 197, 94, 0.3)"},children:[A.jsxs("div",{style:{flex:1},children:[A.jsx("div",{style:{fontWeight:600,fontSize:"0.85rem",marginBottom:"0.25rem"},children:e.subject}),A.jsxs("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)"},children:[t.document_title&&`${t.document_title} `,t.document_version&&`(Version ${t.document_version})`]})]}),A.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"0.25rem"},children:[A.jsx("span",{style:{fontSize:"0.7rem",color:"rgba(34, 197, 94, 0.9)",fontWeight:600,textTransform:"uppercase"},children:"âœ“ BestÃ¤tigt"}),A.jsx("span",{style:{fontSize:"0.7rem",color:"rgba(255, 255, 255, 0.5)",whiteSpace:"nowrap"},children:new Date(e.confirmed_at).toLocaleString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]},e.id)})}),A.jsx("div",{className:"info-box",style:{marginTop:"1rem"},children:A.jsxs("p",{children:["â„¹ï¸ ",A.jsx("strong",{children:"Hinweis:"})," Hier werden alle vom Mitglied bestÃ¤tigten Dokumente mit Datum und Uhrzeit der BestÃ¤tigung angezeigt."]})})]}),g&&jA&&A.jsxs("div",{className:"field-group card bank-sub-tab-content",children:[A.jsx("h3",{style:{fontSize:"0.8rem",color:"#FFD700",marginBottom:"1rem",textTransform:"uppercase",fontWeight:"700",letterSpacing:"0.5px",borderBottom:"1px solid rgba(255, 215, 0, 0.3)",paddingBottom:"0.75rem"},children:"Aktuelles SEPA-Lastschriftmandat"}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"1.5rem",padding:"1.25rem",background:"rgba(255, 255, 255, 0.02)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.1)",marginBottom:"1rem"},children:[A.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[A.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"0.75rem"},children:A.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[A.jsx("span",{style:{fontSize:"0.8rem",color:"#e74c3c",fontWeight:"600"},children:jA.mandatsreferenz}),A.jsx("span",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.7)"},children:"STATUS: AKTIV"})]})}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr",gap:"0.75rem 1rem",fontSize:"0.8rem"},children:[A.jsx("span",{style:{color:"rgba(255, 255, 255, 0.7)",fontWeight:"500"},children:"Erstellt:"}),A.jsx("span",{style:{color:"rgba(255, 255, 255, 0.9)"},children:new Date(jA.erstellungsdatum).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"})}),A.jsx("span",{style:{color:"rgba(255, 255, 255, 0.7)",fontWeight:"500"},children:"GlÃ¤ubiger-ID:"}),A.jsx("span",{style:{color:"rgba(255, 255, 255, 0.9)",wordBreak:"break-word"},children:jA.glaeubiger_id||"N/A"}),A.jsx("span",{style:{color:"rgba(255, 255, 255, 0.7)",fontWeight:"500"},children:"IBAN:"}),A.jsx("span",{style:{color:"rgba(255, 255, 255, 0.9)",fontFamily:"monospace"},children:jA.iban?`${jA.iban.slice(0,4)} **** ${jA.iban.slice(-4)}`:"N/A"}),A.jsx("span",{style:{color:"rgba(255, 255, 255, 0.7)",fontWeight:"500"},children:"Kontoinhaber:"}),A.jsx("span",{style:{color:"rgba(255, 255, 255, 0.9)"},children:jA.kontoinhaber||"N/A"}),A.jsx("span",{style:{color:"rgba(255, 255, 255, 0.7)",fontWeight:"500"},children:"BIC:"}),A.jsx("span",{style:{color:"rgba(255, 255, 255, 0.9)",fontFamily:"monospace"},children:jA.bic||"N/A"})]})]}),A.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",gap:"0.5rem"},children:A.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>or(),title:"PDF herunterladen",style:{padding:"0.5rem 1rem",fontSize:"0.8rem",whiteSpace:"nowrap",background:"transparent",border:"1px solid rgba(255, 215, 0, 0.2)",color:"rgba(255, 255, 255, 0.7)",transition:"all 0.3s ease"},onMouseEnter:A=>{A.currentTarget.style.background="rgba(255, 255, 255, 0.1)",A.currentTarget.style.borderColor="rgba(255, 215, 0, 0.4)",A.currentTarget.style.color="rgba(255, 255, 255, 0.9)"},onMouseLeave:A=>{A.currentTarget.style.background="transparent",A.currentTarget.style.borderColor="rgba(255, 215, 0, 0.2)",A.currentTarget.style.color="rgba(255, 255, 255, 0.7)"},children:"PDF"})})]}),A.jsx("div",{className:"info-box",style:{marginTop:"1rem"},children:A.jsxs("p",{style:{fontSize:"0.8rem",margin:0},children:[A.jsx("strong",{children:"Hinweis:"})," Dieses Mandat ist derzeit aktiv und wird fÃ¼r SEPA-Lastschriften verwendet."]})})]}),g&&HA.length>0&&A.jsxs("div",{className:"field-group card",children:[A.jsx("h3",{children:"Archivierte & Widerrufene SEPA-Mandate"}),A.jsx("div",{className:"archivierte-mandate-liste",children:HA.map((e,t)=>A.jsxs("div",{className:"archiviertes-mandat-item",children:[A.jsxs("div",{className:"mandat-info",children:[A.jsxs("div",{className:"mandat-header",children:[A.jsxs("span",{className:"mandatsreferenz",children:["ğŸ”– ",e.mandatsreferenz]}),A.jsx("span",{className:"archiviert-datum",children:e.archiviert_am?`Archiviert: ${new Date(e.archiviert_am).toLocaleDateString("de-DE")}`:e.widerruf_datum?`Widerrufen: ${new Date(e.widerruf_datum).toLocaleDateString("de-DE")}`:"Nicht mehr aktiv"})]}),A.jsxs("div",{className:"mandat-details",children:[A.jsxs("span",{children:["Erstellt: ",new Date(e.erstellungsdatum).toLocaleDateString("de-DE")]}),A.jsxs("span",{children:["Status: ","widerrufen"===e.status?"ğŸš« Widerrufen":"ğŸ“¦ Archiviert"]}),e.archiviert_grund&&A.jsxs("span",{children:["Grund: ",e.archiviert_grund]})]}),A.jsxs("div",{className:"mandat-banking",children:[A.jsxs("span",{children:["IBAN: ",e.iban?`${e.iban.slice(0,4)}****${e.iban.slice(-4)}`:"N/A"]}),A.jsxs("span",{children:["Kontoinhaber: ",e.kontoinhaber]})]})]}),A.jsx("div",{className:"mandat-actions",children:A.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>(async(A,e,t,r)=>{try{const n=(await i.get(`/mitglieder/${U}/sepa-mandate/download`,{params:{mandate_id:A},responseType:"blob"})).data,s=window.URL.createObjectURL(n),a=document.createElement("a"),l=new Date(r).toLocaleDateString("de-DE").replace(/\./g,"-");a.href=s,a.download=`SEPA-Mandat_${t}_${e}_${l}.pdf`,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(s),document.body.removeChild(a)}catch(n){console.error("Fehler beim Download des archivierten SEPA-Mandats:",n)}})(e.mandat_id,e.vorname,e.nachname,e.erstellungsdatum),title:"PDF herunterladen",children:"ğŸ“„ PDF"})})]},e.mandat_id))}),A.jsx("div",{className:"info-box",children:A.jsxs("p",{children:["â„¹ï¸ ",A.jsx("strong",{children:"Hinweis:"})," Archivierte und widerrufene SEPA-Mandate bleiben dauerhaft gespeichert und kÃ¶nnen jederzeit als PDF heruntergeladen werden."]})})]}),g&&A.jsxs("div",{className:"field-group card",children:[A.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"1rem"},children:"Dokumente aus Vorlagen generieren"}),0===Tt.length?A.jsx("div",{className:"info-box",children:A.jsx("p",{children:'â„¹ï¸ Keine Vorlagen verfÃ¼gbar. Erstellen Sie zuerst Vorlagen im Bereich "Vertragsdokumente".'})}):A.jsxs("div",{children:[A.jsx("div",{className:"info-box",style:{marginBottom:"1rem"},children:A.jsx("p",{children:"â„¹ï¸ WÃ¤hlen Sie eine Vorlage aus, um ein PDF mit den aktuellen Daten dieses Mitglieds zu erstellen."})}),A.jsx("div",{style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))"},children:Tt.map(e=>A.jsxs("div",{style:{padding:"1rem",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",background:"rgba(255, 255, 255, 0.02)",transition:"all 0.3s ease"},onMouseEnter:A=>{A.currentTarget.style.background="rgba(255, 255, 255, 0.05)",A.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:A=>{A.currentTarget.style.background="rgba(255, 255, 255, 0.02)",A.currentTarget.style.transform="translateY(0)"},children:[A.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.75rem"},children:A.jsxs("div",{style:{flex:1},children:[A.jsx("h4",{style:{margin:"0 0 0.5rem 0",fontSize:"1.1rem",color:"#FFD700"},children:e.name}),e.beschreibung&&A.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.6)"},children:e.beschreibung}),A.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)"},children:[A.jsx("span",{style:{padding:"0.2rem 0.5rem",background:"rgba(255, 215, 0, 0.1)",borderRadius:"4px",marginRight:"0.5rem"},children:e.template_type||"vertrag"}),e.is_default&&A.jsx("span",{style:{padding:"0.2rem 0.5rem",background:"rgba(34, 197, 94, 0.1)",borderRadius:"4px",color:"#22c55e"},children:"â­ Standard"})]})]})}),A.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.75rem"},children:[A.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>(async(A,e,t=null)=>{try{if(Gt(!0),(await i.post(`/mitglieder/${U}/dokumente/generate`,{vorlage_id:A,vertrag_id:t})).data.success){alert("? Dokument erfolgreich erstellt und gespeichert!");const A=await i.get(`/mitglieder/${U}/dokumente`);Ot(A.data.data||[])}}catch(r){console.error("Fehler beim Generieren des Dokuments:",r),alert("âŒ Fehler beim Generieren des Dokuments")}finally{Gt(!1)}})(e.id,e.name),disabled:Rt,style:{flex:1,background:"transparent",border:"1px solid rgba(255, 215, 0, 0.2)",color:"rgba(255, 255, 255, 0.7)",transition:"all 0.3s ease"},onMouseEnter:A=>{A.currentTarget.disabled||(A.currentTarget.style.background="rgba(255, 255, 255, 0.1)",A.currentTarget.style.borderColor="rgba(255, 215, 0, 0.4)",A.currentTarget.style.color="rgba(255, 255, 255, 0.9)")},onMouseLeave:A=>{A.currentTarget.disabled||(A.currentTarget.style.background="transparent",A.currentTarget.style.borderColor="rgba(255, 215, 0, 0.2)",A.currentTarget.style.color="rgba(255, 255, 255, 0.7)")},children:Rt?"Generiere...":"PDF erstellen"}),A.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>(async(A,e)=>{try{const t=await i.get(`/vertragsvorlagen/${A}/download`,{responseType:"blob"}),r=window.URL.createObjectURL(new Blob([t.data])),n=document.createElement("a");n.href=r,n.setAttribute("download",`${e.replace(/[^a-zA-Z0-9]/g,"_")}_Vorlage.pdf`),document.body.appendChild(n),n.click(),n.remove(),window.URL.revokeObjectURL(r)}catch(t){console.error("Fehler beim Download der Vorlage:",t),alert("âŒ Fehler beim Download der Vorlage")}})(e.id,e.name),style:{flex:1,background:"transparent",border:"1px solid rgba(255, 215, 0, 0.2)",color:"rgba(255, 255, 255, 0.7)",transition:"all 0.3s ease"},onMouseEnter:A=>{A.currentTarget.style.background="rgba(255, 255, 255, 0.1)",A.currentTarget.style.borderColor="rgba(255, 215, 0, 0.4)",A.currentTarget.style.color="rgba(255, 255, 255, 0.9)"},onMouseLeave:A=>{A.currentTarget.style.background="transparent",A.currentTarget.style.borderColor="rgba(255, 215, 0, 0.2)",A.currentTarget.style.color="rgba(255, 255, 255, 0.7)"},title:"Vorlage als PDF herunterladen",children:"Vorlage"})]})]},e.id))})]})]}),A.jsxs("div",{className:"field-group card",children:[A.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"1rem"},children:"Gespeicherte Dokumente"}),0===Vt.length?A.jsx("div",{className:"info-box",children:A.jsxs("p",{children:["â„¹ï¸ Keine Dokumente vorhanden. ",g?"Generieren Sie Dokumente aus den Vorlagen oben.":"Es wurden noch keine Dokumente fÃ¼r Sie erstellt."]})}):A.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:Vt.filter(A=>!A.dokumentname.startsWith("Rechnung")).map(e=>A.jsxs("div",{style:{padding:"1rem",border:"1px solid #e5e7eb",borderRadius:"8px",background:"#f9fafb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[A.jsxs("div",{style:{flex:1},children:[A.jsx("div",{style:{fontWeight:600,marginBottom:"0.25rem"},children:e.dokumentname}),A.jsxs("div",{style:{fontSize:"0.875rem",color:"#6b7280"},children:["Erstellt: ",new Date(e.erstellt_am).toLocaleDateString("de-DE",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),e.erstellt_von_name&&` von ${e.erstellt_von_name}`]})]}),A.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[A.jsx("button",{className:"dashboard-button",onClick:()=>(async(A,e)=>{try{const t=(await i.get(`/mitglieder/${U}/dokumente/${A}/download`,{responseType:"blob"})).data,r=window.URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download=e,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(r),document.body.removeChild(n)}catch(t){console.error("Fehler beim Download des Dokuments:",t),alert("âŒ Fehler beim Download")}})(e.id,e.dokumentname),title:"Dokument herunterladen",children:"Download"}),g&&A.jsx("button",{className:"dashboard-button",onClick:()=>(async A=>{var e,t;const r=new Date(A.erstellt_am).getFullYear()+10,n=new Date(r,11,31,23,59,59);if(new Date<=n){const e=`31.12.${r}`;return void alert(`âš ï¸ Dieses Dokument kann noch nicht gelÃ¶scht werden.\n\nGrund: Gesetzliche Aufbewahrungspflicht nach Â§ 147 AO\nAufbewahrungsfrist: 10 Jahre\nErstellt am: ${new Date(A.erstellt_am).toLocaleDateString("de-DE")}\nLÃ¶schung mÃ¶glich ab: ${e}\n\nDas Dokument wird automatisch nach Ablauf der Frist gelÃ¶scht.`)}if(confirm("MÃ¶chten Sie dieses Dokument wirklich lÃ¶schen?"))try{await i.delete(`/mitglieder/${U}/dokumente/${A.id}`),alert("âœ… Dokument gelÃ¶scht");const e=await i.get(`/mitglieder/${U}/dokumente`);Ot(e.data.data||[])}catch(s){console.error("Fehler beim LÃ¶schen des Dokuments:",s),alert("âŒ Fehler beim LÃ¶schen: "+((null==(t=null==(e=s.response)?void 0:e.data)?void 0:t.error)||s.message))}})(e),title:"Dokument lÃ¶schen",children:"LÃ¶schen"})]})]},e.id))})]}),A.jsxs("div",{className:"field-group card",children:[A.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"1rem"},children:"Rechnungen"}),0===Jt.length?A.jsx("div",{className:"info-box",children:A.jsx("p",{children:"â„¹ï¸ Keine Rechnungen vorhanden."})}):A.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:Jt.map(e=>A.jsxs("div",{style:{padding:"1rem",border:"1px solid #e5e7eb",borderRadius:"8px",background:"#f9fafb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[A.jsxs("div",{style:{flex:1},children:[A.jsx("div",{style:{fontWeight:600,marginBottom:"0.25rem"},children:e.rechnungsnummer}),A.jsxs("div",{style:{fontSize:"0.875rem",color:"#6b7280"},children:["Datum: ",new Date(e.datum).toLocaleDateString("de-DE")," | Betrag: ",Number(e.betrag).toFixed(2)," â‚¬ | Status: ",e.status_text||e.status]})]}),A.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[A.jsx("button",{className:"dashboard-button",onClick:()=>window.open(`/api/rechnungen/${e.rechnung_id}/pdf`,"_blank"),title:"Rechnung als PDF anzeigen",children:"PDF anzeigen"}),g&&A.jsx("button",{className:"dashboard-button",onClick:()=>(async A=>{const e=new Date(A.datum).getFullYear()+10,t=new Date(e,11,31,23,59,59);if(new Date<=t){const t=`31.12.${e}`;return void alert(`âš ï¸ Diese Rechnung kann noch nicht gelÃ¶scht werden.\n\nGrund: Gesetzliche Aufbewahrungspflicht nach Â§ 147 AO\nAufbewahrungsfrist: 10 Jahre\nRechnungsnummer: ${A.rechnungsnummer}\nRechnungsdatum: ${new Date(A.datum).toLocaleDateString("de-DE")}\nLÃ¶schung mÃ¶glich ab: ${t}\n\nDie Rechnung wird automatisch nach Ablauf der Frist gelÃ¶scht.`)}if(window.confirm("MÃ¶chten Sie diese Rechnung wirklich lÃ¶schen?"))try{await i.delete(`/rechnungen/${A.rechnung_id}`),alert("âœ… Rechnung gelÃ¶scht"),await cr()}catch(r){console.error("Fehler beim LÃ¶schen der Rechnung:",r),alert("âŒ Fehler beim LÃ¶schen der Rechnung")}})(e),title:"Rechnung lÃ¶schen",children:"LÃ¶schen"})]})]},e.rechnung_id))})]})]}),$t&&Yt&&A.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.75)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:()=>qt(!1),children:A.jsxs("div",{style:{background:"#1a1a1a",borderRadius:"12px",padding:"2rem",maxWidth:"600px",width:"90%",maxHeight:"80vh",overflow:"auto",border:"1px solid rgba(255, 215, 0, 0.3)"},onClick:A=>A.stopPropagation(),children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[A.jsx("h2",{style:{margin:0,fontSize:"1.3rem",color:"#FFD700"},children:"ğŸ¦ SEPA-Mandat Details"}),A.jsx("button",{onClick:()=>qt(!1),style:{background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#fff",padding:"0.25rem 0.5rem"},children:"â†’"})]}),A.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.6)",marginBottom:"0.25rem"},children:"MANDATSREFERENZ"}),A.jsx("div",{style:{fontSize:"1rem",fontWeight:600,color:"#FFD700"},children:Yt.mandatsreferenz})]}),Yt.status&&A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.6)",marginBottom:"0.25rem"},children:"STATUS"}),A.jsx("div",{style:{fontSize:"0.9rem",color:"aktiv"===Yt.status?"#28a745":"#6c757d"},children:"aktiv"===Yt.status?"âœ… Aktiv":"widerrufen"===Yt.status?"ğŸš« Widerrufen":"ğŸ“¦ Archiviert"})]}),A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.6)",marginBottom:"0.25rem"},children:"ERSTELLT AM"}),A.jsx("div",{style:{fontSize:"0.9rem"},children:new Date(Yt.erstellungsdatum).toLocaleDateString("de-DE")})]}),Yt.glaeubiger_id&&A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.6)",marginBottom:"0.25rem"},children:"GLÃ„UBIGER-ID"}),A.jsx("div",{style:{fontSize:"0.9rem",fontFamily:"monospace"},children:Yt.glaeubiger_id})]}),A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.6)",marginBottom:"0.25rem"},children:"KONTOINHABER"}),A.jsx("div",{style:{fontSize:"0.9rem"},children:Yt.kontoinhaber||"N/A"})]}),A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.6)",marginBottom:"0.25rem"},children:"IBAN"}),A.jsx("div",{style:{fontSize:"0.9rem",fontFamily:"monospace"},children:Yt.iban||"N/A"})]}),Yt.bic&&A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.6)",marginBottom:"0.25rem"},children:"BIC"}),A.jsx("div",{style:{fontSize:"0.9rem",fontFamily:"monospace"},children:Yt.bic})]}),Yt.archiviert_am&&A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.6)",marginBottom:"0.25rem"},children:"ARCHIVIERT AM"}),A.jsx("div",{style:{fontSize:"0.9rem"},children:new Date(Yt.archiviert_am).toLocaleDateString("de-DE")})]}),Yt.widerruf_datum&&A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.6)",marginBottom:"0.25rem"},children:"WIDERRUFEN AM"}),A.jsx("div",{style:{fontSize:"0.9rem"},children:new Date(Yt.widerruf_datum).toLocaleDateString("de-DE")})]}),Yt.archiviert_grund&&A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.6)",marginBottom:"0.25rem"},children:"GRUND"}),A.jsx("div",{style:{fontSize:"0.9rem"},children:Yt.archiviert_grund})]})]}),A.jsx("div",{style:{marginTop:"2rem",display:"flex",justifyContent:"flex-end",gap:"0.75rem"},children:A.jsx("button",{className:"btn btn-secondary",onClick:()=>qt(!1),style:{fontSize:"0.9rem"},children:"SchlieÃŸen"})})]})}),"familie"===sA&&A.jsxs(A.Fragment,{children:[g&&A.jsx("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(59, 130, 246, 0.1) 100%)",borderRadius:"12px",border:"1px solid rgba(139, 92, 246, 0.2)"},children:A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[A.jsxs("div",{children:[A.jsx("h4",{style:{margin:0,color:"#fff",fontSize:"1rem"},children:"Familienmitglied hinzufÃ¼gen"}),A.jsx("p",{style:{margin:"0.25rem 0 0",color:"rgba(255,255,255,0.6)",fontSize:"0.85rem"},children:"FÃ¼gen Sie ein neues Familienmitglied mit Familienrabatt hinzu"})]}),A.jsxs("button",{onClick:()=>bA(!0),style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%)",border:"none",borderRadius:"8px",color:"#fff",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem",transition:"all 0.2s ease"},children:[A.jsx("span",{children:"ğŸ‘¨â€ğŸ‘©â€ğŸ‘§"}),"Familienmitglied hinzufÃ¼gen"]})]})}),A.jsx(Pa,{mitglied:K,updatedData:z,editMode:JA,handleChange:Br,CustomSelect:tl}),xA&&A.jsx(o,{onClose:()=>bA(!1),existingMemberForFamily:K})]}),"vertrag"===sA&&A.jsxs("div",{style:{width:"100%",maxWidth:"1400px",margin:"0 auto",padding:"1rem"},children:[A.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(30, 30, 40, 0.95) 0%, rgba(20, 20, 30, 0.98) 100%)",borderRadius:"16px",padding:"2rem",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.05)"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"2px solid rgba(255, 215, 0, 0.2)"},children:[A.jsx("h3",{style:{margin:0,fontSize:"1.8rem",fontWeight:"700",background:"linear-gradient(135deg, #FFD700 0%, #FFA500 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Vertragsverwaltung"}),g&&A.jsxs(A.Fragment,{children:[A.jsx("button",{className:"vertragsfrei-button "+((null==K?void 0:K.vertragsfrei)?"vertragsfrei-button-active":""),onClick:async()=>{const A=!(null==K?void 0:K.vertragsfrei),e=A?prompt("Grund fÃ¼r Vertragsfreistellung:\n(z.B. Ehrenmitglied, Familie, Sponsor, etc.)"):null;if(!A||e)try{await i.put(`/mitglieddetail/${K.mitglied_id}`,{vertragsfrei:A?1:0,vertragsfrei_grund:e||null}),L(t=>({...t,vertragsfrei:A?1:0,vertragsfrei_grund:e||null})),alert(A?"âœ… Mitglied wurde als vertragsfrei markiert":"âœ… Vertragsfreistellung wurde aufgehoben")}catch(t){console.error("Fehler beim Aktualisieren:",t),alert("âŒ Fehler beim Speichern der Vertragsfreistellung")}},children:(null==K?void 0:K.vertragsfrei)?"âœ… Vertragsfrei":"ğŸ“ Vertragsfrei stellen"}),A.jsx("button",{className:"neuer-vertrag-button",onClick:()=>Be(!0),children:"â• Neuer Vertrag"})]})]}),g&&(null==K?void 0:K.vertragsfrei)&&(null==K?void 0:K.vertragsfrei_grund)&&A.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem 1.5rem",background:"rgba(52, 152, 219, 0.1)",borderRadius:"8px",border:"1px solid rgba(52, 152, 219, 0.3)"},children:[A.jsx("div",{style:{fontSize:"1rem",fontWeight:"600",color:"#5dade2",marginBottom:"0.5rem"},children:"Mitglied ist aus folgendem Grund Beitrags- bzw. Vertragsfrei"}),A.jsxs("div",{style:{fontSize:"0.9rem",color:"#5dade2"},children:[A.jsx("strong",{children:"Grund:"})," ",K.vertragsfrei_grund]})]}),te.length>0?A.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(450px, 1fr))",gap:"1.5rem"},children:te.map(e=>A.jsxs("div",{className:"vertrag-card",style:{background:"linear-gradient(135deg, rgba(40, 40, 50, 0.6) 0%, rgba(30, 30, 40, 0.8) 100%)",borderRadius:"12px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.08)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.2)",transition:"all 0.3s ease"},onMouseEnter:A=>{A.currentTarget.style.transform="translateY(-4px)",A.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.3)",A.currentTarget.style.borderColor="rgba(255, 215, 0, 0.3)"},onMouseLeave:A=>{A.currentTarget.style.transform="translateY(0)",A.currentTarget.style.boxShadow="0 4px 16px rgba(0, 0, 0, 0.2)",A.currentTarget.style.borderColor="rgba(255, 255, 255, 0.08)"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem",paddingBottom:"0.75rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[A.jsxs("div",{children:[A.jsxs("h4",{style:{margin:"0 0 0.25rem 0",fontSize:"1.2rem",fontWeight:"600",color:"#FFD700"},children:["ğŸ“„ Vertrag #",e.personenVertragNr]}),A.jsxs("span",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)"},children:["Erstellt: ",new Date(e.created_at||e.vertragsbeginn).toLocaleDateString("de-DE")]})]}),A.jsx("span",{style:{padding:"0.4rem 0.8rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"600",whiteSpace:"nowrap",background:e.geloescht?"rgba(128, 128, 128, 0.15)":"aktiv"===e.status?"rgba(46, 213, 115, 0.15)":"gekuendigt"===e.status?"rgba(255, 193, 7, 0.15)":"ruhepause"===e.status?"rgba(52, 152, 219, 0.15)":"rgba(231, 76, 60, 0.15)",color:e.geloescht?"#808080":"aktiv"===e.status?"#2ed573":"gekuendigt"===e.status?"#ffc107":"ruhepause"===e.status?"#3498db":"#e74c3c",border:"1px solid "+(e.geloescht?"rgba(128, 128, 128, 0.3)":"aktiv"===e.status?"rgba(46, 213, 115, 0.3)":"gekuendigt"===e.status?"rgba(255, 193, 7, 0.3)":"ruhepause"===e.status?"rgba(52, 152, 219, 0.3)":"rgba(231, 76, 60, 0.3)")},children:e.geloescht?"ğŸ—‘ï¸ GELÃ–SCHT":"aktiv"===e.status?"âœ… AKTIV":"gekuendigt"===e.status?"âŒ GEKÃœNDIGT":"ruhepause"===e.status?"â¸ï¸ RUHEPAUSE":"â¹ï¸ BEENDET"})]}),A.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.6rem",marginBottom:"1.25rem"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},children:[A.jsx("span",{style:{fontSize:"1.1rem"},children:"ğŸ“„"}),A.jsx("span",{style:{color:"rgba(255, 255, 255, 0.6)",minWidth:"80px"},children:"TARIF:"}),A.jsxs("strong",{style:{color:"#fff"},children:[e.tarif_name||"Keine Angabe",e.monatsbeitrag&&` - â‚¬${parseFloat(e.monatsbeitrag).toFixed(2)}/Monat`]})]}),A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},children:[A.jsx("span",{style:{fontSize:"1.1rem"},children:"ğŸ“„"}),A.jsx("span",{style:{color:"rgba(255, 255, 255, 0.6)",minWidth:"80px"},children:"LAUFZEIT:"}),A.jsx("strong",{style:{color:"#fff"},children:e.vertragsbeginn&&e.vertragsende?`${new Date(e.vertragsbeginn).toLocaleDateString("de-DE")} bis ${new Date(e.vertragsende).toLocaleDateString("de-DE")}`:"Keine Angabe"})]}),A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},children:[A.jsx("span",{style:{fontSize:"1.1rem"},children:"ğŸ“„"}),A.jsx("span",{style:{color:"rgba(255, 255, 255, 0.6)",minWidth:"80px"},children:"ZAHLUNG:"}),A.jsx("strong",{style:{color:"#fff"},children:e.billing_cycle?el(e.billing_cycle):"Keine Angabe"})]}),A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},children:[A.jsx("span",{style:{fontSize:"1.1rem"},children:"ğŸ’³"}),A.jsx("span",{style:{color:"rgba(255, 255, 255, 0.6)",minWidth:"80px"},children:"ZAHLART:"}),A.jsx("strong",{style:{color:"#fff"},children:"direct_debit"===e.payment_method?"ğŸ¦ Lastschrift":"bank_transfer"===e.payment_method?"ğŸ’³ Ãœberweisung":"cash"===e.payment_method?"ğŸ’µ Bar":e.payment_method||"Keine Angabe"})]}),e.aufnahmegebuehr_cents&&e.aufnahmegebuehr_cents>0&&A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},children:[A.jsx("span",{style:{fontSize:"1.1rem"},children:"ğŸ’µ"}),A.jsx("span",{style:{color:"rgba(255, 255, 255, 0.6)",minWidth:"80px"},children:"AUFNAHME:"}),A.jsxs("strong",{style:{color:"#ff9800"},children:["â‚¬",(e.aufnahmegebuehr_cents/100).toFixed(2)]})]}),e.kuendigungsfrist_monate&&A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},children:[A.jsx("span",{style:{fontSize:"1.1rem"},children:"â°"}),A.jsx("span",{style:{color:"rgba(255, 255, 255, 0.6)",minWidth:"80px"},children:"KÃœNDIGUNG:"}),A.jsxs("strong",{style:{color:"#fff"},children:[e.kuendigungsfrist_monate," ",1===e.kuendigungsfrist_monate?"Monat":"Monate"," Frist"]})]}),e.mindestlaufzeit_monate&&A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},children:[A.jsx("span",{style:{fontSize:"1.1rem"},children:"â±ï¸"}),A.jsx("span",{style:{color:"rgba(255, 255, 255, 0.6)",minWidth:"80px"},children:"MIN.LAUFZEIT:"}),A.jsxs("strong",{style:{color:"#fff"},children:[e.mindestlaufzeit_monate," ",1===e.mindestlaufzeit_monate?"Monat":"Monate"]})]}),e.kuendigung_eingegangen&&A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem",padding:"0.5rem",background:"rgba(255, 193, 7, 0.1)",borderRadius:"6px",border:"1px solid rgba(255, 193, 7, 0.3)"},children:[A.jsx("span",{style:{fontSize:"1.1rem"},children:"ğŸ“„"}),A.jsx("span",{style:{color:"#ffc107"},children:"KÃ¼ndigung eingegangen:"}),A.jsx("strong",{style:{color:"#ffc107"},children:new Date(e.kuendigung_eingegangen).toLocaleDateString("de-DE")})]}),"ruhepause"===e.status&&e.ruhepause_von&&e.ruhepause_bis&&A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem",padding:"0.5rem",background:"rgba(52, 152, 219, 0.15)",borderRadius:"6px",border:"1px solid rgba(52, 152, 219, 0.4)"},children:[A.jsx("span",{style:{fontSize:"1.1rem"},children:"â¸ï¸"}),A.jsx("span",{style:{color:"#3498db"},children:"Ruhepause:"}),A.jsxs("strong",{style:{color:"#3498db"},children:[new Date(e.ruhepause_von).toLocaleDateString("de-DE")," bis ",new Date(e.ruhepause_bis).toLocaleDateString("de-DE")]})]})]}),A.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:[A.jsx("button",{onClick:()=>{ye(e),we(!0)},onMouseEnter:A=>{A.currentTarget.style.background="rgba(244, 67, 54, 0.3)",A.currentTarget.style.transform="translateY(-2px)",A.currentTarget.style.boxShadow="0 4px 12px rgba(244, 67, 54, 0.3)"},onMouseLeave:A=>{A.currentTarget.style.background="rgba(244, 67, 54, 0.15)",A.currentTarget.style.transform="translateY(0)",A.currentTarget.style.boxShadow="none"},style:{background:"rgba(244, 67, 54, 0.15)",color:"#f44336",border:"1px solid rgba(244, 67, 54, 0.4)",borderRadius:"8px",padding:"0.6rem 1rem",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",display:"inline-flex",alignItems:"center",gap:"0.4rem"},children:"ğŸ“„ PDF"}),A.jsx("button",{onClick:()=>{ye(e),be(!0)},onMouseEnter:A=>{A.currentTarget.style.background="rgba(33, 150, 243, 0.3)",A.currentTarget.style.transform="translateY(-2px)",A.currentTarget.style.boxShadow="0 4px 12px rgba(33, 150, 243, 0.3)"},onMouseLeave:A=>{A.currentTarget.style.background="rgba(33, 150, 243, 0.15)",A.currentTarget.style.transform="translateY(0)",A.currentTarget.style.boxShadow="none"},style:{background:"rgba(33, 150, 243, 0.15)",color:"#2196F3",border:"1px solid rgba(33, 150, 243, 0.4)",borderRadius:"8px",padding:"0.6rem 1rem",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",display:"inline-flex",alignItems:"center",gap:"0.4rem"},children:"ğŸ” Details"}),g&&A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:()=>pe(e),onMouseEnter:A=>{A.currentTarget.style.background="rgba(255, 215, 0, 0.3)",A.currentTarget.style.transform="translateY(-2px)",A.currentTarget.style.boxShadow="0 4px 12px rgba(255, 215, 0, 0.3)"},onMouseLeave:A=>{A.currentTarget.style.background="rgba(255, 215, 0, 0.15)",A.currentTarget.style.transform="translateY(0)",A.currentTarget.style.boxShadow="none"},style:{background:"rgba(255, 215, 0, 0.15)",color:"#FFD700",border:"1px solid rgba(255, 215, 0, 0.4)",borderRadius:"8px",padding:"0.6rem 1rem",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",display:"inline-flex",alignItems:"center",gap:"0.4rem"},children:"âœï¸ Bearbeiten"}),"aktiv"===e.status&&A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:()=>ur(e.id,"ruhepause"),onMouseEnter:A=>{A.currentTarget.style.background="rgba(255, 193, 7, 0.3)",A.currentTarget.style.transform="translateY(-2px)",A.currentTarget.style.boxShadow="0 4px 12px rgba(255, 193, 7, 0.3)"},onMouseLeave:A=>{A.currentTarget.style.background="rgba(255, 193, 7, 0.15)",A.currentTarget.style.transform="translateY(0)",A.currentTarget.style.boxShadow="none"},style:{background:"rgba(255, 193, 7, 0.15)",color:"#ffc107",border:"1px solid rgba(255, 193, 7, 0.4)",borderRadius:"8px",padding:"0.6rem 1rem",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",display:"inline-flex",alignItems:"center",gap:"0.4rem"},children:"â¸ï¸ Ruhepause"}),A.jsx("button",{onClick:()=>ur(e.id,"kÃ¼ndigen"),onMouseEnter:A=>{A.currentTarget.style.background="rgba(231, 76, 60, 0.3)",A.currentTarget.style.transform="translateY(-2px)",A.currentTarget.style.boxShadow="0 4px 12px rgba(231, 76, 60, 0.3)"},onMouseLeave:A=>{A.currentTarget.style.background="rgba(231, 76, 60, 0.15)",A.currentTarget.style.transform="translateY(0)",A.currentTarget.style.boxShadow="none"},style:{background:"rgba(231, 76, 60, 0.15)",color:"#e74c3c",border:"1px solid rgba(231, 76, 60, 0.4)",borderRadius:"8px",padding:"0.6rem 1rem",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",display:"inline-flex",alignItems:"center",gap:"0.4rem"},children:"âŒ KÃ¼ndigen"})]}),"ruhepause"===e.status&&A.jsx("button",{onClick:()=>ur(e.id,"reaktivieren"),onMouseEnter:A=>{A.currentTarget.style.background="rgba(46, 213, 115, 0.3)",A.currentTarget.style.transform="translateY(-2px)",A.currentTarget.style.boxShadow="0 4px 12px rgba(46, 213, 115, 0.3)"},onMouseLeave:A=>{A.currentTarget.style.background="rgba(46, 213, 115, 0.15)",A.currentTarget.style.transform="translateY(0)",A.currentTarget.style.boxShadow="none"},style:{background:"rgba(46, 213, 115, 0.15)",color:"#2ed573",border:"1px solid rgba(46, 213, 115, 0.4)",borderRadius:"8px",padding:"0.6rem 1rem",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",display:"inline-flex",alignItems:"center",gap:"0.4rem"},children:"â–¶ï¸ Reaktivieren"}),"gekuendigt"===e.status&&!e.geloescht&&A.jsx("button",{onClick:()=>(async A=>{if(window.confirm(`MÃ¶chten Sie die KÃ¼ndigung von Vertrag #${A.personenVertragNr} wirklich aufheben?\n\nDer Vertrag wird wieder auf "aktiv" gesetzt und ist im regulÃ¤ren Zahlungslauf.`))try{await i.put(`/vertraege/${A.id}`,{status:"aktiv",kuendigung_eingegangen:null,kuendigungsgrund:null,kuendigungsdatum:null,dojo_id:null==K?void 0:K.dojo_id}),await sr()}catch(e){console.error("Fehler beim Aufheben der KÃ¼ndigung:",e),alert("Fehler beim Aufheben der KÃ¼ndigung. Bitte versuchen Sie es erneut.")}})(e),onMouseEnter:A=>{A.currentTarget.style.background="rgba(46, 213, 115, 0.3)",A.currentTarget.style.transform="translateY(-2px)",A.currentTarget.style.boxShadow="0 4px 12px rgba(46, 213, 115, 0.3)"},onMouseLeave:A=>{A.currentTarget.style.background="rgba(46, 213, 115, 0.15)",A.currentTarget.style.transform="translateY(0)",A.currentTarget.style.boxShadow="none"},style:{background:"rgba(46, 213, 115, 0.15)",color:"#2ed573",border:"1px solid rgba(46, 213, 115, 0.4)",borderRadius:"8px",padding:"0.6rem 1rem",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",display:"inline-flex",alignItems:"center",gap:"0.4rem"},children:"ğŸ”„ KÃ¼ndigung aufheben"}),g&&!e.geloescht&&A.jsx("button",{onClick:()=>(async A=>{const e=new Date;e.setHours(0,0,0,0);let t=!1;if(A.vertragsende){const r=new Date(A.vertragsende);r.setHours(0,0,0,0),t=r<e}if(t=t||"aktiv"!==A.status||A.kuendigung_eingegangen||A.kuendigungsdatum,!t)return Me(A),void _e(!0);const r=window.prompt(`âš ï¸ Vertrag #${A.personenVertragNr} lÃ¶schen?\n\nDer Vertrag wird archiviert und kann nicht wiederhergestellt werden.\nEr bleibt zur Ansicht sichtbar.\n\nBitte Grund fÃ¼r LÃ¶schung eingeben (optional):`);if(null!==r)try{await i.delete(`/vertraege/${A.id}`,{data:{dojo_id:null==K?void 0:K.dojo_id,geloescht_von:(null==b?void 0:b.username)||"Admin",geloescht_grund:r||"Kein Grund angegeben"}}),alert("âœ… Vertrag wurde erfolgreich archiviert."),await sr()}catch(n){console.error("Fehler beim LÃ¶schen des Vertrags:",n),alert("Fehler beim LÃ¶schen des Vertrags. Bitte versuchen Sie es erneut.")}})(e),onMouseEnter:A=>{A.currentTarget.style.background="rgba(231, 76, 60, 0.3)",A.currentTarget.style.transform="translateY(-2px)",A.currentTarget.style.boxShadow="0 4px 12px rgba(231, 76, 60, 0.3)"},onMouseLeave:A=>{A.currentTarget.style.background="rgba(231, 76, 60, 0.15)",A.currentTarget.style.transform="translateY(0)",A.currentTarget.style.boxShadow="none"},style:{background:"rgba(231, 76, 60, 0.15)",color:"#e74c3c",border:"1px solid rgba(231, 76, 60, 0.4)",borderRadius:"8px",padding:"0.6rem 1rem",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",display:"inline-flex",alignItems:"center",gap:"0.4rem"},children:"ğŸ—‘ï¸ LÃ¶schen"})]}),!g&&"aktiv"===e.status&&A.jsx("button",{onClick:()=>ur(e.id,"ruhepause"),onMouseEnter:A=>{A.currentTarget.style.background="rgba(255, 193, 7, 0.3)",A.currentTarget.style.transform="translateY(-2px)",A.currentTarget.style.boxShadow="0 4px 12px rgba(255, 193, 7, 0.3)"},onMouseLeave:A=>{A.currentTarget.style.background="rgba(255, 193, 7, 0.15)",A.currentTarget.style.transform="translateY(0)",A.currentTarget.style.boxShadow="none"},style:{background:"rgba(255, 193, 7, 0.15)",color:"#ffc107",border:"1px solid rgba(255, 193, 7, 0.4)",borderRadius:"8px",padding:"0.6rem 1rem",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",display:"inline-flex",alignItems:"center",gap:"0.4rem"},children:"â¸ï¸ Ruhepause beantragen"})]})]},e.id))}):A.jsxs("div",{style:{textAlign:"center",padding:"3rem 1rem",background:"rgba(255, 255, 255, 0.02)",borderRadius:"12px",border:"2px dashed rgba(255, 255, 255, 0.1)"},children:[A.jsx("p",{style:{fontSize:"1.1rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"1.5rem"},children:"Keine VertrÃ¤ge vorhanden"}),g&&A.jsx("button",{className:"neuer-vertrag-button",onClick:()=>Be(!0),children:"â• Ersten Vertrag erstellen"})]})]}),A.jsx(Z,{mitgliedId:null==K?void 0:K.mitglied_id,mitglied:K,isAdmin:g})]}),"anwesenheit"===sA&&A.jsxs("div",{className:"anwesenheit-container",children:[A.jsxs("div",{className:"anwesenheit-stats-grid",children:[A.jsxs("div",{className:"stat-card primary",children:[A.jsx("div",{className:"stat-icon",children:"ğŸ“Š"}),A.jsxs("div",{className:"stat-content",children:[A.jsx("div",{className:"stat-label",children:"Gesamte Anwesenheiten"}),A.jsx("div",{className:"stat-value",children:Ae.totalAnwesenheiten||0})]})]}),A.jsxs("div",{className:"stat-card secondary",children:[A.jsx("div",{className:"stat-icon",children:"ğŸ“Š"}),A.jsxs("div",{className:"stat-content",children:[A.jsx("div",{className:"stat-label",children:"MÃ¶gliche Trainings"}),A.jsx("div",{className:"stat-value",children:Ae.totalMÃ¶glicheAnwesenheiten||0})]})]}),A.jsxs("div",{className:"stat-card accent",children:[A.jsx("div",{className:"stat-icon",children:"ğŸ“Š"}),A.jsxs("div",{className:"stat-content",children:[A.jsx("div",{className:"stat-label",children:"Anwesenheitsquote"}),A.jsxs("div",{className:"stat-value "+(Ae.anwesenheitsquote>=75?"success":Ae.anwesenheitsquote>=50?"warning":"error"),children:[Ae.anwesenheitsquote||0,"%"]})]})]}),A.jsxs("div",{className:"stat-card info",children:[A.jsx("div",{className:"stat-icon",children:"ğŸ“Š"}),A.jsxs("div",{className:"stat-content",children:[A.jsx("div",{className:"stat-label",children:"Letzte Anwesenheit"}),A.jsx("div",{className:"stat-value",children:Ae.letzteAnwesenheit?new Date(Ae.letzteAnwesenheit).toLocaleDateString("de-DE"):"-"})]})]})]}),A.jsxs("div",{className:"anwesenheit-details",children:[A.jsxs("div",{className:"detail-row",children:[A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-label",children:"Diesen Monat"}),A.jsx("span",{className:"detail-value highlight",children:Ae.thisMonthAttendances||0})]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-label",children:"â†’ Pro Monat (6M)"}),A.jsx("span",{className:"detail-value",children:Ae.avgPerMonth||0})]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-label",children:"Letzte Woche"}),A.jsx("span",{className:"detail-value",children:Ae.lastWeekAttendances||0})]})]}),A.jsxs("div",{className:"detail-row",children:[A.jsxs("div",{className:"detail-item streak",children:[A.jsx("span",{className:"detail-label",children:"ğŸ”¥ Streak"}),A.jsxs("span",{className:"detail-value "+(Ae.currentStreak>=5?"excellent":Ae.currentStreak>=3?"good":"normal"),children:[Ae.currentStreak||0," Trainings in Folge"]})]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-label",children:"ğŸ“ˆ Konsistenz"}),A.jsxs("span",{className:"detail-value",children:[Ae.consecutiveMonths||0," Monate"]})]}),Ae.bestMonth&&A.jsxs("div",{className:"detail-item best",children:[A.jsx("span",{className:"detail-label",children:"ğŸ† Bester Monat"}),A.jsxs("span",{className:"detail-value excellent",children:[Ae.bestMonth.month," (",Ae.bestMonth.count,")"]})]})]})]}),Ae.monthlyStats&&Ae.monthlyStats.length>0&&A.jsxs("div",{className:"monthly-overview",children:[A.jsx("h3",{children:"Monatliche Ãœbersicht"}),A.jsx("div",{className:"monthly-grid",children:Ae.monthlyStats.map((e,t)=>A.jsxs("div",{className:"month-item "+(0===e.count?"no-data":""),children:[A.jsx("span",{className:"month-name",children:e.month}),A.jsx("span",{className:"month-count "+(e.count>=8?"excellent":e.count>=4?"good":e.count>0?"ok":"poor"),children:e.count})]},t))})]}),A.jsxs("div",{className:"anwesenheit-liste",children:[A.jsx("h3",{children:"Letzte Anwesenheiten"}),A.jsx("div",{className:"attendance-grid",children:YA.filter(A=>A.anwesend).length>0?YA.filter(A=>A.anwesend).sort((A,e)=>new Date(e.datum)-new Date(A.datum)).slice(0,24).map((e,t)=>A.jsx("div",{className:"attendance-item",children:A.jsx("span",{className:"attendance-date",children:new Date(e.datum).toLocaleDateString("de-DE")})},t)):A.jsx("div",{className:"no-data-message",children:A.jsx("span",{children:"Keine Anwesenheitsdaten verfÃ¼gbar"})})})]})]}),"finanzen"===sA&&A.jsxs("div",{className:"finance-management-container",children:[A.jsxs("div",{className:"finance-sub-tabs",style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",flexWrap:"wrap"},children:[A.jsx("button",{className:"finance-sub-tab-btn "+("finanzÃ¼bersicht"===hA?"active":""),onClick:()=>BA("finanzÃ¼bersicht"),children:"ğŸ’° FinanzÃ¼bersicht"}),A.jsx("button",{className:"finance-sub-tab-btn "+("zahlungshistorie"===hA?"active":""),onClick:()=>BA("zahlungshistorie"),children:"ğŸ“Š Zahlungshistorie"}),A.jsx("button",{className:"finance-sub-tab-btn "+("beitraege"===hA?"active":""),onClick:()=>BA("beitraege"),children:"ğŸ’³ BeitrÃ¤ge"}),A.jsx("button",{className:"finance-sub-tab-btn "+("bank"===hA?"active":""),onClick:()=>BA("bank"),children:"ğŸ¦ Bank & SEPA"})]}),"finanzÃ¼bersicht"===hA&&A.jsx("div",{className:"finanzÃ¼bersicht-sub-tab-content",children:(()=>{const e=$A.filter(A=>A.bezahlt),t=$A.filter(A=>!A.bezahlt),r=e.reduce((A,e)=>A+parseFloat(e.betrag||0),0),n=t.reduce((A,e)=>A+parseFloat(e.betrag||0),0),i=r+n,s=$A.length>0?i/$A.length:0,a=te&&te.length>0?te.reduce((A,e)=>A+(e.aufnahmegebuehr_cents||0),0)/100:0,l=e.length>0?e.sort((A,e)=>new Date(e.zahlungsdatum||e.datum)-new Date(A.zahlungsdatum||A.datum))[0]:null,o=t.length>0?t.sort((A,e)=>new Date(A.datum||A.zahlungsdatum)-new Date(e.datum||e.zahlungsdatum))[0]:null,d=(new Date).getFullYear();e.filter(A=>new Date(A.zahlungsdatum||A.datum).getFullYear()===d).reduce((A,e)=>A+parseFloat(e.betrag||0),0);const c=e.filter(A=>A.datum&&A.zahlungsdatum&&A.generiert).map(A=>{const e=new Date(A.datum),t=new Date(A.zahlungsdatum);return Math.max(0,Math.floor((t-e)/864e5))}),g=c.length>0?Math.round(c.reduce((A,e)=>A+e,0)/c.length):0;return A.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.25rem"},children:[A.jsxs("div",{className:"finance-kpi-card",style:{background:"linear-gradient(135deg, rgba(239, 68, 68, 0.15) 0%, rgba(239, 68, 68, 0.05) 100%)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.75rem"},children:[A.jsx("span",{style:{fontSize:"2rem"},children:"âš ï¸"}),A.jsx("h4",{style:{margin:0,color:"rgba(255, 255, 255, 0.9)",fontSize:"0.9rem",fontWeight:"600"},children:"Offene BetrÃ¤ge"})]}),A.jsxs("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#ef4444",marginBottom:"0.25rem"},children:[n.toFixed(2)," â‚¬"]}),A.jsxs("div",{style:{fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.6)"},children:[t.length," ausstehende BeitrÃ¤ge"]})]}),A.jsxs("div",{className:"finance-kpi-card",style:{background:"linear-gradient(135deg, rgba(255, 215, 0, 0.15) 0%, rgba(255, 215, 0, 0.05) 100%)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.75rem"},children:[A.jsx("span",{style:{fontSize:"2rem"},children:"ğŸ“Š"}),A.jsx("h4",{style:{margin:0,color:"rgba(255, 255, 255, 0.9)",fontSize:"0.9rem",fontWeight:"600"},children:"Ã˜ Beitrag"})]}),A.jsxs("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#ffd700",marginBottom:"0.25rem"},children:[s.toFixed(2)," â‚¬"]}),A.jsx("div",{style:{fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.6)"},children:"Pro Zahlung"})]}),l&&A.jsxs("div",{className:"finance-kpi-card",style:{background:"linear-gradient(135deg, rgba(34, 197, 94, 0.15) 0%, rgba(34, 197, 94, 0.05) 100%)",border:"1px solid rgba(34, 197, 94, 0.3)",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.75rem"},children:[A.jsx("span",{style:{fontSize:"2rem"},children:"âœ…"}),A.jsx("h4",{style:{margin:0,color:"rgba(255, 255, 255, 0.9)",fontSize:"0.9rem",fontWeight:"600"},children:"Letzte Zahlung"})]}),A.jsxs("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#22c55e",marginBottom:"0.25rem"},children:[parseFloat(l.betrag||0).toFixed(2)," â‚¬"]}),A.jsx("div",{style:{fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.6)"},children:new Date(l.zahlungsdatum||l.datum).toLocaleDateString("de-DE")})]}),A.jsxs("div",{className:"finance-kpi-card",style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(59, 130, 246, 0.05) 100%)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.75rem"},children:[A.jsx("span",{style:{fontSize:"2rem"},children:"ğŸ“…"}),A.jsx("h4",{style:{margin:0,color:"rgba(255, 255, 255, 0.9)",fontSize:"0.9rem",fontWeight:"600"},children:"NÃ¤chste Zahlung"})]}),o?A.jsxs(A.Fragment,{children:[A.jsxs("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#3b82f6",marginBottom:"0.25rem"},children:[parseFloat(o.betrag||0).toFixed(2)," â‚¬"]}),A.jsx("div",{style:{fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.6)"},children:new Date(o.datum||o.zahlungsdatum).toLocaleDateString("de-DE")})]}):A.jsxs(A.Fragment,{children:[A.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#3b82f6",marginBottom:"0.25rem"},children:"-"}),A.jsx("div",{style:{fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.6)"},children:"Keine ausstehenden Zahlungen"})]})]})]}),A.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.25rem"},children:A.jsxs("div",{className:"field-group card",children:[A.jsx("h3",{style:{marginTop:0,marginBottom:"1rem",background:"linear-gradient(135deg, #FFD700 0%, #FFA500 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Zahlungsinformationen"}),A.jsxs("div",{className:"finance-stats",children:[A.jsxs("div",{className:"stat-item",children:[A.jsx("label",{children:"Zahlungsmethode:"}),A.jsx("span",{className:"stat-value",children:(null==K?void 0:K.zahlungsmethode)||"Nicht angegeben"})]}),l&&A.jsxs("div",{className:"stat-item",children:[A.jsx("label",{children:"Letzter Zahlungseingang:"}),A.jsx("span",{className:"stat-value",children:new Date(l.zahlungsdatum||l.datum).toLocaleDateString("de-DE")})]}),g>0&&A.jsxs("div",{className:"stat-item",children:[A.jsx("label",{children:"Ã˜ Zahlungsdauer:"}),A.jsxs("span",{className:"stat-value",children:[g," Tage"]})]}),a>0&&A.jsxs("div",{className:"stat-item",children:[A.jsx("label",{children:"AufnahmegebÃ¼hren:"}),A.jsxs("span",{className:"stat-value",style:{color:"#ff9800"},children:[a.toFixed(2)," â‚¬"]})]})]})]})})]})})()}),"zahlungshistorie"===hA&&A.jsx("div",{className:"zahlungshistorie-sub-tab-content",children:A.jsxs("div",{className:"field-group card",style:{width:"100%"},children:[A.jsx("h3",{children:"Zahlungshistorie"}),$A.length>0?A.jsx("div",{className:"zahlungshistorie-table-wrapper",children:A.jsxs("table",{className:"zahlungshistorie-table",children:[A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx("th",{children:"Zahlungsdatum"}),A.jsx("th",{children:"FÃ¤lligkeitsdatum"}),A.jsx("th",{children:"Betrag"}),A.jsx("th",{children:"Zahlungsart"}),A.jsx("th",{children:"Status"})]})}),A.jsx("tbody",{children:$A.sort((A,e)=>new Date(e.zahlungsdatum||e.datum)-new Date(A.zahlungsdatum||A.datum)).map((e,t)=>{var r,n,i,s,a;const l=!0===e.bezahlt||1===e.bezahlt||"1"===e.bezahlt||"1"===String(e.bezahlt);return A.jsxs("tr",{className:l?"paid-row":"unpaid-row",children:[A.jsx("td",{children:e.zahlungsdatum?new Date(e.zahlungsdatum).toLocaleDateString("de-DE"):"-"}),A.jsx("td",{children:e.datum?new Date(e.datum).toLocaleDateString("de-DE"):e.zahlungsdatum?new Date(e.zahlungsdatum).toLocaleDateString("de-DE"):"-"}),A.jsx("td",{className:"betrag",children:e.betrag?`${parseFloat(e.betrag).toFixed(2)} â‚¬`:"0,00 â‚¬"}),A.jsx("td",{children:"Ã¼berweisung"===(null==(r=e.zahlungsart)?void 0:r.toLowerCase())||"Ãœberweisung"===(null==(n=e.zahlungsart)?void 0:n.toLowerCase())?"ğŸ’³ Ãœberweisung":"lastschrift"===(null==(i=e.zahlungsart)?void 0:i.toLowerCase())||"direct_debit"===(null==(s=e.zahlungsart)?void 0:s.toLowerCase())?"ğŸ¦ Lastschrift":"bar"===(null==(a=e.zahlungsart)?void 0:a.toLowerCase())?"ğŸ’µ Bar":e.zahlungsart||"Unbekannt"}),A.jsx("td",{children:A.jsx("span",{className:"status-badge "+(l?"status-paid":"status-unpaid"),children:l?"âœ… Bezahlt":"â³ Ausstehend"})})]},e.beitrag_id||t)})})]})}):A.jsxs("div",{className:"no-data-message",children:[A.jsx("p",{children:"â„¹ï¸ Keine Zahlungshistorie verfÃ¼gbar"}),A.jsx("small",{children:"Es wurden noch keine Zahlungen erfasst."})]})]})}),"beitraege"===hA&&A.jsx("div",{className:"beitraege-sub-tab-content",children:(()=>{const e=(A,e)=>{const t={};return[...A].sort((A,e)=>{const t=new Date(A.datum||A.zahlungsdatum);return new Date(e.datum||e.zahlungsdatum)-t}).forEach(A=>{const r=new Date(A.datum||A.zahlungsdatum);let n="";if("monat"===e)n=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`;else if("quartal"===e){const A=Math.floor(r.getMonth()/3)+1;n=`${r.getFullYear()}-Q${A}`}else"jahr"===e&&(n=`${r.getFullYear()}`);t[n]||(t[n]=[]),t[n].push(A)}),t},r=(A,e)=>{if("monat"===e){const[e,t]=A.split("-");return new Date(e,t-1).toLocaleDateString("de-DE",{year:"numeric",month:"long"})}return"quartal"===e?A.replace("-Q",". Quartal "):A},n=()=>{const A=[],e=new Date;e.setHours(0,0,0,0);return te.filter(A=>"aktiv"===A.status&&!!A.vertragsbeginn).forEach(t=>{const r=new Date(t.vertragsbeginn);r.setHours(0,0,0,0);let n=null,i=null,s=null;if(t.kuendigung_eingegangen||t.kuendigungsdatum?(i=t.kuendigungsdatum?new Date(t.kuendigungsdatum):t.kuendigung_eingegangen?new Date(t.kuendigung_eingegangen):null,i&&(s=new Date(i),n=new Date(i))):t.vertragsende&&(s=new Date(t.vertragsende),n=new Date(t.vertragsende)),n&&t.automatische_verlaengerung&&!t.kuendigung_eingegangen){const A=new Date;if(A.setHours(0,0,0,0),A>n){const A=t.verlaengerung_monate||12;n=new Date(n),n.setMonth(n.getMonth()+A),s=new Date(n)}}n||(n=new Date,n.setMonth(n.getMonth()+12),s=new Date(n)),n.setHours(23,59,59,999);const a=parseFloat(t.monatsbeitrag||t.monatlicher_beitrag||0);if(a<=0)return;const l=t.faelligkeit_tag||1;let o=new Date(r);for(o.setDate(l),o<e&&(o=new Date(e),o.setDate(l),o<e&&o.setMonth(o.getMonth()+1));o<=n;){const e=o.getMonth(),r=o.getFullYear();if(!$A.some(A=>{if(A.magicline_description)return!1;const t=A.zahlungsdatum?new Date(A.zahlungsdatum):null;return!(!t||isNaN(t.getTime()))&&(t.getMonth()===e&&t.getFullYear()===r)})){let e=a;const r=i||s,n=r&&o.getMonth()===r.getMonth()&&o.getFullYear()===r.getFullYear();if(n&&i){new Date(o.getFullYear(),o.getMonth(),1);const A=new Date(o.getFullYear(),o.getMonth()+1,0).getDate(),t=i.getDate(),r=Math.min(t,A)/A;e=Math.round(a*r*100)/100}const l=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}-${String(o.getDate()).padStart(2,"0")}`;A.push({beitrag_id:`generated_${t.id}_${o.getTime()}`,betrag:e.toFixed(2),zahlungsdatum:null,faelligkeitsdatum:l,datum:l,zahlungsart:"direct_debit"===t.payment_method?"Lastschrift":"transfer"===t.payment_method?"Ãœberweisung":t.payment_method||"Unbekannt",bezahlt:0,generiert:!0,vertrag_id:t.id,anteilig:n&&null!==i})}o.setMonth(o.getMonth()+1)}}),A},s=n(),a=[...$A,...s];a.sort((A,e)=>{const t=new Date(A.datum||A.zahlungsdatum);return new Date(e.datum||e.zahlungsdatum)-t});const l=e(a,QA),o=Object.keys(l).sort().reverse();return A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"beitraege-view-filter",style:{marginBottom:"1rem"},children:[A.jsx("button",{className:"view-filter-btn "+("monat"===QA?"active":""),onClick:()=>yA("monat"),children:"ğŸ“… Monat"}),A.jsx("button",{className:"view-filter-btn "+("quartal"===QA?"active":""),onClick:()=>yA("quartal"),children:"ğŸ“Š Quartal"}),A.jsx("button",{className:"view-filter-btn "+("jahr"===QA?"active":""),onClick:()=>yA("jahr"),children:"ğŸ“† Jahr"}),A.jsx("button",{className:"view-filter-btn",onClick:()=>{const A=n(),t=[...$A,...A],r=e(t,QA),i=Object.keys(r).sort().reverse(),s=i.length>0&&i.every(A=>!0===CA[A]),a={};i.forEach(A=>{a[A]=!s}),FA(a)},style:{whiteSpace:"nowrap"},children:(()=>{const A=n(),t=[...$A,...A],r=e(t,QA),i=Object.keys(r).sort().reverse();return i.length>0&&i.every(A=>!0===CA[A])?"ğŸ“‚ Alle ausklappen":"ğŸ“ Alle einklappen"})()})]}),A.jsxs("div",{className:"field-group card",style:{width:"100%"},children:[A.jsx("h3",{children:"BeitrÃ¤ge & Zahlungen"}),0===a.length?A.jsxs("div",{className:"no-data-message",children:[A.jsx("p",{children:"ğŸ“­ Keine BeitrÃ¤ge vorhanden"}),A.jsx("small",{children:"Es wurden noch keine BeitrÃ¤ge erfasst und es gibt keinen aktiven Vertrag."})]}):A.jsx("div",{className:"beitraege-grouped-view",children:o.map(e=>{const n=l[e],s=(A=>{let e=0,t=0,r=0;return A.forEach(A=>{const n=parseFloat(A.betrag||0);isNaN(n)||(e+=n,!0===A.bezahlt||1===A.bezahlt||"1"===A.bezahlt||"1"===String(A.bezahlt)?t+=n:r+=n)}),{total:e,paid:t,unpaid:r}})(n),a=CA[e];return A.jsxs("div",{className:"period-group",children:[A.jsxs("div",{className:"period-header",onClick:()=>{FA(A=>({...A,[e]:!A[e]}))},children:[A.jsxs("div",{className:"period-header-left",children:[A.jsx("span",{className:"collapse-icon",children:a?"â–¶":"â–¼"}),A.jsx("span",{className:"period-label",children:r(e,QA)}),A.jsxs("span",{className:"period-count",children:["(",n.length," BeitrÃ¤ge)"]})]}),A.jsxs("div",{className:"period-summary",children:[A.jsxs("span",{className:"summary-item total",children:["Gesamt: ",s.total.toFixed(2)," â‚¬"]}),A.jsxs("span",{className:"summary-item paid",children:["Bezahlt: ",s.paid.toFixed(2)," â‚¬"]}),A.jsxs("span",{className:"summary-item unpaid",children:["Offen: ",s.unpaid.toFixed(2)," â‚¬"]})]})]}),!a&&A.jsx("div",{className:"period-content",children:A.jsxs("table",{className:"beitraege-table",children:[A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx("th",{style:{width:"1px",padding:"0.5rem 0"}}),A.jsx("th",{children:"Datum"}),A.jsx("th",{children:"Betrag"}),A.jsx("th",{children:"Zahlungsart"}),A.jsx("th",{children:"Status"}),A.jsx("th",{children:"Aktionen"})]})}),A.jsx("tbody",{children:n.map(e=>{var r,n,s,a;const l=vA[e.beitrag_id];return A.jsxs(t.Fragment,{children:[A.jsxs("tr",{className:e.bezahlt?"paid":"unpaid",style:{opacity:e.generiert?.8:1},children:[A.jsx("td",{style:{textAlign:"center",padding:"0.5rem 0.1rem",whiteSpace:"nowrap",width:"1px"},children:!e.generiert&&e.beitrag_id&&A.jsx("button",{onClick:()=>UA(A=>({...A,[e.beitrag_id]:!A[e.beitrag_id]})),style:{background:"none",border:"none",cursor:"pointer",fontSize:"0.65rem",color:"rgba(255, 215, 0, 0.8)",transition:"transform 0.2s",transform:l?"rotate(90deg)":"rotate(0deg)",padding:0,lineHeight:1,display:"inline-block",width:"auto"},title:"Details anzeigen",children:"â–¶"})}),A.jsxs("td",{children:[new Date(e.datum||e.zahlungsdatum).toLocaleDateString("de-DE"),e.generiert&&A.jsx("span",{style:{fontSize:"0.75rem",color:"rgba(255, 215, 0, 0.7)",marginLeft:"0.5rem"},title:"Automatisch generiert basierend auf Vertragsdaten",children:"ğŸ”®"})]}),A.jsxs("td",{className:"betrag",children:[parseFloat(e.betrag).toFixed(2)," â‚¬",e.anteilig&&A.jsx("span",{style:{fontSize:"0.75rem",color:"rgba(255, 215, 0, 0.7)",marginLeft:"0.5rem",fontStyle:"italic"},title:"Anteiliger Beitrag fÃ¼r letzten Monat bei KÃ¼ndigung",children:"(anteilig)"})]}),A.jsx("td",{children:"Ã¼berweisung"===(null==(r=e.zahlungsart)?void 0:r.toLowerCase())||"Ãœberweisung"===(null==(n=e.zahlungsart)?void 0:n.toLowerCase())?"ğŸ’³ Ãœberweisung":"lastschrift"===(null==(s=e.zahlungsart)?void 0:s.toLowerCase())?"ğŸ¦ Lastschrift":"bar"===(null==(a=e.zahlungsart)?void 0:a.toLowerCase())?"ğŸ’µ Bar":e.zahlungsart||"Unbekannt"}),A.jsx("td",{children:A.jsx("span",{className:"status-badge "+(e.bezahlt?"status-paid":"status-unpaid"),children:e.bezahlt?"âœ… Bezahlt":"â³ Ausstehend"})}),A.jsx("td",{children:g&&A.jsx("button",{className:"btn-toggle-payment "+(e.bezahlt?"btn-mark-unpaid":"btn-mark-paid"),onClick:async()=>{var A;try{if(e.generiert){const A=e.bezahlt?null:(new Date).toISOString().split("T")[0],t={mitglied_id:K.mitglied_id,betrag:parseFloat(e.betrag),zahlungsart:e.zahlungsart,zahlungsdatum:A,bezahlt:e.bezahlt?0:1};await i.post("/beitraege",t),ir()}else{const A=e.zahlungsdatum?new Date(e.zahlungsdatum).toISOString().split("T")[0]:e.bezahlt?null:(new Date).toISOString().split("T")[0],t={betrag:parseFloat(e.betrag),zahlungsart:e.zahlungsart,zahlungsdatum:A,bezahlt:e.bezahlt?0:1};await i.put(`/beitraege/${e.beitrag_id}`,t),ir()}}catch(t){console.error("âŒ Fehler beim Aktualisieren:",t),console.error("âŒ Error Details:",(null==(A=t.response)?void 0:A.data)||t.message)}},children:e.bezahlt?"âŒ Als unbezahlt markieren":"âœ… Als bezahlt markieren"})})]}),l&&!e.generiert&&A.jsx("tr",{className:"beitrag-details-row",children:A.jsx("td",{colSpan:"6",style:{padding:"1rem 1.5rem",background:"rgba(255, 215, 0, 0.05)",borderLeft:"3px solid rgba(255, 215, 0, 0.5)"},children:A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"0.75rem",fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.9)"},children:[A.jsxs("div",{children:[A.jsx("strong",{style:{color:"#ffd700",display:"block",marginBottom:"0.25rem"},children:"Beitrags-ID:"}),A.jsxs("span",{children:["#",e.beitrag_id]})]}),e.magicline_description&&A.jsxs("div",{style:{gridColumn:"1 / -1"},children:[A.jsx("strong",{style:{color:"#ffd700",display:"block",marginBottom:"0.25rem"},children:"Beschreibung:"}),A.jsx("span",{children:e.magicline_description})]}),(e.datum||e.zahlungsdatum)&&A.jsxs("div",{children:[A.jsx("strong",{style:{color:"#ffd700",display:"block",marginBottom:"0.25rem"},children:"Datum:"}),A.jsx("span",{children:new Date(e.datum||e.zahlungsdatum).toLocaleDateString("de-DE")})]}),e.zahlungsdatum&&A.jsxs("div",{children:[A.jsx("strong",{style:{color:"#ffd700",display:"block",marginBottom:"0.25rem"},children:"Zahlungsdatum:"}),A.jsx("span",{children:new Date(e.zahlungsdatum).toLocaleDateString("de-DE")})]}),A.jsxs("div",{children:[A.jsx("strong",{style:{color:"#ffd700",display:"block",marginBottom:"0.25rem"},children:"Betrag (brutto):"}),A.jsxs("span",{children:[parseFloat(e.betrag).toFixed(2)," â‚¬"]})]}),A.jsxs("div",{children:[A.jsx("strong",{style:{color:"#ffd700",display:"block",marginBottom:"0.25rem"},children:"Zahlungsart:"}),A.jsx("span",{children:e.zahlungsart||"Nicht angegeben"})]}),A.jsxs("div",{children:[A.jsx("strong",{style:{color:"#ffd700",display:"block",marginBottom:"0.25rem"},children:"Status:"}),A.jsx("span",{style:{color:e.bezahlt?"#4caf50":"#ff9800"},children:e.bezahlt?"Bezahlt":"Ausstehend"})]}),e.dojo_id&&A.jsxs("div",{children:[A.jsx("strong",{style:{color:"#ffd700",display:"block",marginBottom:"0.25rem"},children:"Dojo-ID:"}),A.jsxs("span",{children:["#",e.dojo_id]})]})]})})})]},e.beitrag_id)})})]})})]},e)})})]})]})})()}),"bank"===hA&&A.jsx("div",{className:"bank-sub-tab-content",children:A.jsxs("div",{className:"grid-container",children:[A.jsxs("div",{className:"field-group card bank-sepa-card",children:[A.jsx("h3",{className:"bank-sepa-heading",children:"Bankdaten"}),A.jsxs("div",{children:[A.jsx("label",{children:"IBAN:"}),JA?A.jsx("input",{type:"text",value:z.iban||"",onChange:A=>Br(A,"iban"),placeholder:"DE89 3704 0044 0532 0130 00"}):A.jsx("span",{children:K.iban||"Nicht angegeben"})]}),A.jsxs("div",{children:[A.jsx("label",{children:"BIC:"}),JA?A.jsx("input",{type:"text",value:z.bic||"",onChange:A=>Br(A,"bic"),placeholder:"COBADEFFXXX"}):A.jsx("span",{children:K.bic||"Nicht angegeben"})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Bankname:"}),JA?A.jsx("input",{type:"text",value:z.bankname||"",onChange:A=>Br(A,"bankname"),placeholder:"Commerzbank AG"}):A.jsx("span",{children:K.bankname||"Nicht angegeben"})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Kontoinhaber:"}),JA?A.jsx("input",{type:"text",value:z.kontoinhaber||"",onChange:A=>Br(A,"kontoinhaber"),placeholder:"Max Mustermann"}):A.jsx("span",{children:K.kontoinhaber||`${K.vorname} ${K.nachname}`})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Zahlungsmethode:"}),JA?A.jsx(tl,{value:z.zahlungsmethode||"",onChange:A=>Br(A,"zahlungsmethode"),options:[{value:"SEPA-Lastschrift",label:"SEPA-Lastschrift"},{value:"Lastschrift",label:"Lastschrift"},{value:"Bar",label:"Bar"},{value:"Ãœberweisung",label:"Ãœberweisung"}]}):A.jsx("span",{children:K.zahlungsmethode||"Nicht angegeben"})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Zahllaufgruppe:"}),JA?A.jsx("input",{type:"text",value:z.zahllaufgruppe||"",onChange:A=>Br(A,"zahllaufgruppe"),placeholder:"01"}):A.jsx("span",{children:K.zahllaufgruppe||"Nicht angegeben"})]})]}),A.jsxs("div",{className:"field-group card bank-sepa-card",children:[A.jsx("h3",{className:"bank-sepa-heading",children:"SEPA-Lastschriftmandat"}),jA?A.jsxs("div",{className:"sepa-mandate-info",children:[A.jsxs("div",{className:"mandate-status",children:[A.jsx("span",{className:"status-badge active",children:"âœ… Aktiv"}),A.jsxs("span",{children:["Mandat-Referenz: ",jA.mandatsreferenz]})]}),A.jsxs("div",{className:"mandate-details",children:[A.jsxs("p",{children:[A.jsx("strong",{children:"Erstellt am:"})," ",new Date(jA.erstellungsdatum).toLocaleDateString("de-DE")]}),A.jsxs("p",{children:[A.jsx("strong",{children:"GÃ¼ltig bis:"})," ",jA.ablaufdatum?new Date(jA.ablaufdatum).toLocaleDateString("de-DE"):"Unbefristet"]}),A.jsxs("p",{children:[A.jsx("strong",{children:"GlÃ¤ubiger-Identifikation:"})," ",jA.glaeubiger_id]}),jA.widerruf_datum&&A.jsxs("p",{children:[A.jsx("strong",{children:"Widerrufen am:"})," ",A.jsx("span",{className:"widerruf-datum",children:new Date(jA.widerruf_datum).toLocaleDateString("de-DE")})]}),A.jsxs("p",{children:[A.jsx("strong",{children:"IBAN:"})," ",jA.iban?`${jA.iban.slice(0,4)}****${jA.iban.slice(-4)}`:"N/A"]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Kontoinhaber:"})," ",jA.kontoinhaber]})]}),A.jsxs("div",{className:"mandate-actions",children:[A.jsx("button",{className:"bank-sepa-button",onClick:()=>or(),children:"ğŸ“¥ Mandat herunterladen"}),A.jsx("button",{className:"bank-sepa-button bank-sepa-button-warning",onClick:()=>(async()=>{if(confirm("MÃ¶chten Sie das SEPA-Mandat wirklich widerrufen? Diese Aktion kann nicht rÃ¼ckgÃ¤ngig gemacht werden."))try{await i.delete(`/mitglieder/${U}/sepa-mandate`),EA(null),dr(),console.log("âœ… SEPA-Mandat wurde archiviert")}catch(A){console.error("âŒ Fehler beim Widerrufen des SEPA-Mandats:",A)}})(),children:"? Mandat widerrufen"})]})]}):A.jsxs("div",{className:"no-sepa-mandate",children:[A.jsx("p",{children:"Kein SEPA-Lastschriftmandat vorhanden."}),(null==K?void 0:K.iban)&&(null==K?void 0:K.bic)?A.jsx("button",{className:"bank-sepa-button bank-sepa-button-primary",onClick:()=>(async()=>{if((null==K?void 0:K.iban)&&(null==K?void 0:K.bic)){SA(!0);try{const A=await i.post(`/mitglieder/${U}/sepa-mandate`,{iban:null==K?void 0:K.iban,bic:null==K?void 0:K.bic,kontoinhaber:(null==K?void 0:K.kontoinhaber)||`${null==K?void 0:K.vorname} ${null==K?void 0:K.nachname}`,bankname:null==K?void 0:K.bankname});EA(A.data),console.log("âœ… SEPA-Mandat erfolgreich erstellt")}catch(A){console.error("âŒ Fehler beim Erstellen des SEPA-Mandats:",A)}SA(!1)}else alert("Bitte vervollstÃ¤ndigen Sie zuerst die Bankdaten (IBAN und BIC).")})(),disabled:kA,children:kA?"â³ Erstelle Mandat...":"ğŸ“ SEPA-Mandat erstellen"}):A.jsx("div",{className:"info-box warning",children:A.jsx("p",{children:"â„¹ï¸ Bitte vervollstÃ¤ndigen Sie zuerst die Bankdaten (IBAN und BIC), um ein SEPA-Mandat zu erstellen."})})]}),A.jsxs("div",{className:"sepa-legal-info",children:[A.jsx("h4",{children:"Rechtliche Grundlagen"}),A.jsx("p",{className:"legal-text",children:"Das SEPA-Lastschriftmandat berechtigt den ZahlungsempfÃ¤nger, Zahlungen vom Konto des Zahlungspflichtigen mittels Lastschrift einzuziehen. Zugleich wird die Bank des Zahlungspflichtigen zur EinlÃ¶sung der Lastschrift angewiesen."}),A.jsxs("p",{className:"legal-text",children:[A.jsx("strong",{children:"Hinweis:"})," Der Zahlungspflichtige kann innerhalb von acht Wochen, beginnend mit dem Belastungsdatum, die Erstattung des belasteten Betrages verlangen. Es gelten dabei die mit der Bank vereinbarten Bedingungen."]})]})]})]})})]}),"buddy_gruppen"===sA&&A.jsxs("div",{className:"buddy-gruppen-content",style:{padding:"1.5rem",background:"transparent"},children:[A.jsxs("div",{style:{marginBottom:"1.5rem"},children:[A.jsx("h3",{style:{color:"#ffd700",marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:"ğŸ‘¥ Buddy-Gruppen"}),A.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.9rem"},children:["Gruppen, in denen ",null==K?void 0:K.vorname," ",null==K?void 0:K.nachname," Mitglied ist"]})]}),nA?A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 215, 0, 0.2)",borderRadius:"12px",padding:"2rem",textAlign:"center"},children:[A.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"â³"}),A.jsx("p",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"1rem"},children:"Buddy-Gruppen werden geladen..."})]}):0===tA.length?A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 215, 0, 0.2)",borderRadius:"12px",padding:"2rem",textAlign:"center"},children:[A.jsx("div",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:"ğŸ‘¥"}),A.jsx("p",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"1rem",marginBottom:"0.5rem"},children:"Keine Buddy-Gruppen gefunden"}),A.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:"0.85rem"},children:[null==K?void 0:K.vorname," ist noch in keiner Buddy-Gruppe."]})]}):A.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginBottom:"2rem"},children:tA.map(e=>A.jsx("div",{style:{background:"rgba(255, 255, 255, 0.08)",border:"1px solid rgba(255, 215, 0, 0.2)",borderRadius:"12px",padding:"1.5rem",transition:"all 0.2s"},onMouseEnter:A=>{A.currentTarget.style.background="rgba(255, 255, 255, 0.12)",A.currentTarget.style.borderColor="rgba(255, 215, 0, 0.4)",A.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:A=>{A.currentTarget.style.background="rgba(255, 255, 255, 0.08)",A.currentTarget.style.borderColor="rgba(255, 215, 0, 0.2)",A.currentTarget.style.transform="translateY(0)"},children:A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[A.jsxs("div",{children:[A.jsxs("h4",{style:{color:"#ffd700",fontSize:"1.2rem",margin:"0 0 0.5rem 0",display:"flex",alignItems:"center",gap:"0.5rem"},children:[A.jsx("span",{children:"ğŸ‘¥"}),e.gruppe_name||`Gruppe #${e.id}`]}),A.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)"},children:[A.jsxs("span",{children:["ğŸ“… Erstellt: ",new Date(e.erstellt_am).toLocaleDateString("de-DE")]}),A.jsxs("span",{children:["ğŸ‘¥ Mitglieder: ",e.aktive_mitglieder||0,"/",e.max_mitglieder||"âˆ"]}),e.gesamt_einladungen>0&&A.jsxs("span",{children:["ğŸ“§ Einladungen: ",e.gesamt_einladungen]})]})]}),A.jsx("span",{style:{padding:"0.4rem 0.8rem",borderRadius:"8px",fontSize:"0.8rem",fontWeight:"600",background:"aktiv"===e.status?"rgba(34, 197, 94, 0.2)":"rgba(107, 114, 128, 0.2)",color:"aktiv"===e.status?"#22c55e":"#6b7280",border:"1px solid "+("aktiv"===e.status?"rgba(34, 197, 94, 0.3)":"rgba(107, 114, 128, 0.3)")},children:"aktiv"===e.status?"Aktiv":e.status})]})},e.id))}),(null==K?void 0:K.mitglied_id)&&A.jsx("div",{style:{marginTop:"2rem",paddingTop:"2rem",borderTop:"1px solid rgba(255, 215, 0, 0.2)"},children:A.jsx($,{mitgliedId:K.mitglied_id,buddyGruppeId:(null==(h=tA[0])?void 0:h.id)||null,marketingAktionId:null})}),A.jsxs("div",{style:{marginTop:"2rem",paddingTop:"2rem",borderTop:"1px solid rgba(255, 215, 0, 0.2)"},children:[A.jsx("h4",{style:{color:"#ffd700",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:"ğŸ“… Marketing-Aktionen"}),A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",border:"1px dashed rgba(255, 215, 0, 0.3)",borderRadius:"12px",padding:"1.5rem",textAlign:"center"},children:[A.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.75rem"},children:"ğŸ“…"}),A.jsx("p",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.95rem"},children:"Teilnahme an Marketing-Aktionen wird hier angezeigt"}),A.jsx("p",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:"0.85rem",marginTop:"0.5rem"},children:"Diese Funktion wird in KÃ¼rze verfÃ¼gbar sein."})]})]})]}),"nachrichten"===sA&&A.jsxs("div",{className:"nachrichten-content",style:{padding:"1.5rem",background:"transparent"},children:[A.jsxs("div",{style:{marginBottom:"2.5rem"},children:[A.jsx("h3",{style:{color:"#ffd700",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:"ğŸ“° Aktuelle News"}),de?A.jsx("div",{style:{textAlign:"center",padding:"1.5rem",color:"rgba(255, 255, 255, 0.7)"},children:"Lade News..."}):0===le.length?A.jsx("div",{style:{textAlign:"center",padding:"1.5rem",background:"rgba(255, 255, 255, 0.03)",borderRadius:"10px",border:"1px solid rgba(255, 215, 0, 0.1)"},children:A.jsx("p",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:"0.9rem",margin:0},children:"Keine aktuellen News vorhanden"})}):A.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:le.map(e=>A.jsxs("div",{style:{background:"rgba(30, 30, 45, 0.8)",border:"1px solid rgba(255, 215, 0, 0.2)",borderRadius:"10px",padding:"1rem",backdropFilter:"blur(10px)",cursor:"pointer",transition:"all 0.2s"},onClick:()=>ue(ge===e.id?null:e.id),children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"1rem"},children:[A.jsxs("div",{style:{flex:1},children:[A.jsx("h4",{style:{color:"#ffd700",margin:"0 0 0.5rem 0",fontSize:"1rem",fontWeight:"600"},children:e.titel}),e.kurzbeschreibung&&ge!==e.id&&A.jsx("p",{style:{color:"rgba(255, 255, 255, 0.7)",margin:0,fontSize:"0.9rem",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.kurzbeschreibung})]}),A.jsx("div",{style:{color:"#808090",fontSize:"0.8rem",whiteSpace:"nowrap"},children:new Date(e.veroeffentlicht_am||e.created_at).toLocaleDateString("de-DE")})]}),ge===e.id&&A.jsx("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid rgba(255, 215, 0, 0.1)"},children:A.jsx("div",{style:{color:"#e0e0e0",fontSize:"0.9rem",lineHeight:"1.6",whiteSpace:"pre-wrap"},children:e.inhalt})}),A.jsx("div",{style:{marginTop:"0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:A.jsx("span",{style:{color:"#ffd700",fontSize:"0.8rem",cursor:"pointer"},children:ge===e.id?"â–² Weniger anzeigen":"â–¼ Mehr lesen"})})]},e.id))})]}),A.jsxs("div",{style:{marginBottom:"1.5rem"},children:[A.jsx("h3",{style:{color:"#ffd700",marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:"ğŸ“¬ Nachrichtenarchiv"}),A.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.9rem"},children:["Alle Benachrichtigungen die an ",null==K?void 0:K.vorname," ",null==K?void 0:K.nachname," (",null==K?void 0:K.email,") gesendet wurden"]})]}),se?A.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"rgba(255, 255, 255, 0.7)"},children:"Lade Benachrichtigungen..."}):0===ne.length?A.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",border:"1px solid rgba(255, 215, 0, 0.2)"},children:[A.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"ğŸ“­"}),A.jsx("p",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"1.1rem"},children:"Noch keine Benachrichtigungen erhalten"})]}):A.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:ne.map((e,t)=>A.jsxs("div",{style:{background:"rgba(30, 30, 45, 0.8)",border:"1px solid rgba(255, 215, 0, 0.2)",borderRadius:"10px",padding:"1rem",backdropFilter:"blur(10px)"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.8rem",marginBottom:"0.8rem"},children:[A.jsx("div",{style:{fontSize:"1.5rem"},children:"email"===e.type?"ğŸ“§":"ğŸ“±"}),A.jsxs("div",{style:{flex:1},children:[A.jsx("h4",{style:{color:"#ffd700",margin:0,fontSize:"1rem",fontWeight:"600"},children:e.subject}),A.jsx("div",{style:{color:"#808090",fontSize:"0.85rem",marginTop:"0.2rem"},children:new Date(e.created_at).toLocaleString("de-DE")})]}),A.jsx("div",{style:{background:"sent"===e.status?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)",color:"sent"===e.status?"#22c55e":"#ef4444",padding:"0.3rem 0.8rem",borderRadius:"20px",fontSize:"0.85rem",fontWeight:"600"},children:"sent"===e.status?"âœ… Gesendet":"failed"===e.status?"âŒ Fehlgeschlagen":"â³ Ausstehend"})]}),e.message&&A.jsxs("div",{style:{padding:"0.8rem",background:"rgba(20, 20, 30, 0.5)",borderRadius:"8px",borderLeft:"3px solid #ffd700",marginTop:"0.8rem"},children:[A.jsx("div",{style:{fontSize:"0.75rem",color:"#a0a0b0",marginBottom:"0.4rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Nachricht"}),A.jsx("div",{style:{color:"#e0e0e0",fontSize:"0.9rem",lineHeight:"1.5",maxHeight:"150px",overflowY:"auto"},dangerouslySetInnerHTML:d(e.message)})]})]},t))})]}),"statistiken"===sA&&A.jsx($a,{statistikDaten:Ae,mitglied:K,memberStile:Ye,stile:Je,styleSpecificData:TA}),"zusatzdaten"===sA&&A.jsx(Na,{mitgliedId:U,dojoId:null==K?void 0:K.dojo_id,editMode:JA}),"gurt_stil"===sA&&A.jsxs("div",{className:"style-management-container",children:[A.jsxs("div",{className:"sub-tabs-sidebar-style",children:[A.jsxs("button",{className:"tab-vertical-btn "+("stile"===lA?"active":""),onClick:()=>oA("stile"),children:[A.jsx("span",{className:"tab-icon",children:"ğŸ¥‹"}),A.jsx("span",{className:"tab-label",children:"Stile"})]}),A.jsxs("button",{className:"tab-vertical-btn "+("pruefung"===lA?"active":""),onClick:()=>oA("pruefung"),children:[A.jsx("span",{className:"tab-icon",children:"ğŸ“"}),A.jsx("span",{className:"tab-label",children:"PrÃ¼fung"})]})]}),"stile"===lA&&A.jsxs("div",{className:"stile-sub-tab-content",children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",gap:"1rem",flexWrap:"wrap"},children:[Ye.length>0?A.jsx("div",{className:"stil-tabs-row",children:Ye.map((e,t)=>A.jsxs("button",{onClick:()=>cA(t),className:"tab-vertical-btn "+(dA===t?"active":""),children:[A.jsx("span",{className:"tab-icon",children:"ğŸ¥‹"}),A.jsx("span",{className:"tab-label",children:e.stil_name})]},e.stil_id))}):A.jsx("div",{style:{flex:1}}),g&&A.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",visibility:"visible !important",opacity:"1 !important"},children:[A.jsxs("select",{value:$e,onChange:A=>(A=>{qe(A);const e=Je.find(e=>e.stil_id===parseInt(A));et(e),rt(null),e&&e.graduierungen&&e.graduierungen.length>0&&rt(e.graduierungen[0])})(A.target.value),disabled:!JA,style:{padding:"0.6rem 1rem",background:"#1a1a1a",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"0.9rem",minWidth:"180px",opacity:JA?"1":"0.5",cursor:JA?"pointer":"not-allowed"},children:[A.jsx("option",{value:"",style:{background:"#1a1a1a",color:"#fff"},children:"â• Stil wÃ¤hlen..."}),Je.filter(A=>1===A.aktiv||!0===A.aktiv).filter(A=>!Ye.find(e=>e.stil_id===A.stil_id)).map(e=>A.jsx("option",{value:e.stil_id,style:{background:"#1a1a1a",color:"#fff"},children:e.stil_name||e.name},e.stil_id))]}),A.jsx("button",{onClick:async()=>{if(!$e||Ye.find(A=>A.stil_id===parseInt($e)))return;const A=Je.find(A=>A.stil_id===parseInt($e)),e=[...Ye,A];await ar(e.map(A=>A.stil_id)),await lr(),cA(e.length-1),console.log("âœ… Stil hinzugefÃ¼gt:",A.name)},disabled:!$e||!JA,style:{padding:"0.6rem 1.2rem",background:$e&&JA?"linear-gradient(135deg, #FFD700, #FFA500)":"rgba(255, 255, 255, 0.1)",border:$e&&JA?"none":"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",color:$e&&JA?"#000":"#999",fontWeight:"600",cursor:$e&&JA?"pointer":"not-allowed",fontSize:"0.9rem",whiteSpace:"nowrap",visibility:"visible !important",opacity:JA?"1":"0.5"},children:"HinzufÃ¼gen"})]})]}),Ye.length>0?(()=>{var e;const t=Ye[dA];if(!t)return null;const r=Je.find(A=>A.stil_id===t.stil_id);return console.log("ğŸ” RENDER DEBUG:"),console.log("  - selectedStil:",(null==At?void 0:At.name)||"NULL"),console.log("  - selectedStil.graduierungen:",(null==(e=null==At?void 0:At.graduierungen)?void 0:e.length)||0),console.log("  - currentGraduation:",(null==tt?void 0:tt.name)||"NULL"),console.log("  - editMode:",JA),console.log("  - isAdmin:",g),console.log("  - fullStilData:",(null==r?void 0:r.name)||"NULL"),A.jsxs("div",{children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",paddingBottom:"1rem",borderBottom:"2px solid rgba(255, 215, 0, 0.2)"},children:[A.jsxs("h2",{style:{margin:0,color:"#FFD700",fontSize:"1.5rem",fontWeight:"700"},children:["ğŸ¥‹ ",t.stil_name]}),JA&&A.jsx("button",{onClick:()=>(async A=>{const e=Ye.filter(e=>e.stil_id!==A);await ar(e.map(A=>A.stil_id)),await lr(),dA>=e.length&&e.length>0?cA(e.length-1):0===e.length&&cA(0),console.log("? Stil entfernt")})(t.stil_id),style:{padding:"0.5rem 1rem",background:"rgba(239, 68, 68, 0.2)",border:"1px solid #ef4444",borderRadius:"6px",color:"#ef4444",fontWeight:"600",cursor:"pointer",fontSize:"0.9rem"},children:"ğŸ—‘ï¸ Stil entfernen"})]}),A.jsxs("div",{className:"grid-container zwei-spalten",children:[A.jsxs("div",{className:"field-group card",children:[A.jsx("h3",{children:"Aktuelle Graduierung"}),A.jsxs("div",{children:[A.jsx("label",{style:{textTransform:"none",fontSize:"0.9rem"},children:"Gurtfarbe:"}),A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginTop:"0.5rem",marginBottom:"1rem"},children:[A.jsx(rl,{primaer:(null==tt?void 0:tt.farbe_hex)||"#666",sekundaer:null==tt?void 0:tt.farbe_sekundaer,size:"normal"}),A.jsx("span",{style:{fontSize:"1rem",fontWeight:"600",color:"#fff"},children:(null==tt?void 0:tt.name)||"Keine Graduierung"})]}),g&&A.jsxs("div",{className:"graduierung-buttons",style:{display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:[A.jsx("button",{className:"grad-btn grad-btn-down",onClick:()=>{console.log("ğŸ”˜ Niedriger-Button geklickt! CurrentGrad:",null==tt?void 0:tt.name),gr(null==tt?void 0:tt.graduierung_id,"up")},disabled:!tt||!At.graduierungen||0===At.graduierungen.findIndex(A=>A.graduierung_id===tt.graduierung_id),style:{flex:1,padding:"0.5rem",background:tt&&At.graduierungen&&At.graduierungen.findIndex(A=>A.graduierung_id===tt.graduierung_id)>0?"rgba(239, 68, 68, 0.2)":"rgba(255, 255, 255, 0.05)",border:"1px solid #ef4444",borderRadius:"6px",color:"#ef4444",fontWeight:"600",cursor:tt&&At.graduierungen&&At.graduierungen.findIndex(A=>A.graduierung_id===tt.graduierung_id)>0?"pointer":"not-allowed",fontSize:"0.9rem",opacity:tt&&At.graduierungen&&0!==At.graduierungen.findIndex(A=>A.graduierung_id===tt.graduierung_id)?1:.3},children:"â¬‡ï¸ Niedriger"}),A.jsx("button",{className:"grad-btn grad-btn-up",onClick:()=>{console.log("ğŸ”˜ HÃ¶her-Button geklickt! CurrentGrad:",null==tt?void 0:tt.name),gr(null==tt?void 0:tt.graduierung_id,"down")},disabled:!tt||!At.graduierungen||At.graduierungen.findIndex(A=>A.graduierung_id===tt.graduierung_id)===At.graduierungen.length-1,style:{flex:1,padding:"0.5rem",background:tt&&At.graduierungen&&At.graduierungen.findIndex(A=>A.graduierung_id===tt.graduierung_id)<At.graduierungen.length-1?"rgba(34, 197, 94, 0.2)":"rgba(255, 255, 255, 0.05)",border:"1px solid #22c55e",borderRadius:"6px",color:"#22c55e",fontWeight:"600",cursor:tt&&At.graduierungen&&At.graduierungen.findIndex(A=>A.graduierung_id===tt.graduierung_id)<At.graduierungen.length-1?"pointer":"not-allowed",fontSize:"0.9rem",opacity:tt&&At.graduierungen&&At.graduierungen.findIndex(A=>A.graduierung_id===tt.graduierung_id)!==At.graduierungen.length-1?1:.3},children:"â¬†ï¸ HÃ¶her"})]})]}),tt&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{children:[A.jsx("label",{style:{textTransform:"none",fontSize:"0.9rem"},children:"Mindest-Trainingsstunden:"}),A.jsxs("span",{children:[tt.trainingsstunden_min||0," Stunden"]})]}),A.jsxs("div",{children:[A.jsx("label",{style:{textTransform:"none",fontSize:"0.9rem"},children:"Mindestzeit:"}),A.jsxs("span",{children:[tt.mindestzeit_monate||0," Monate"]})]}),tt.kategorie&&A.jsxs("div",{children:[A.jsx("label",{style:{textTransform:"none",fontSize:"0.9rem"},children:"Kategorie:"}),A.jsx("span",{style:{display:"inline-block",padding:"0.25rem 0.75rem",background:"rgba(255, 215, 0, 0.2)",border:"1px solid #FFD700",borderRadius:"12px",color:"#FFD700",fontSize:"0.85rem",fontWeight:"600"},children:tt.kategorie})]})]}),A.jsxs("div",{children:[A.jsx("label",{style:{textTransform:"none",fontSize:"0.9rem"},children:"Letzte PrÃ¼fung:"}),JA?A.jsx("input",{type:"date",value:nt,onChange:A=>it(A.target.value)}):A.jsx("span",{children:nt?new Date(nt).toLocaleDateString("de-DE"):"Keine PrÃ¼fung dokumentiert"})]})]}),A.jsxs("div",{className:"field-group card",children:[A.jsx("h3",{children:"Beschreibung"}),A.jsxs("div",{children:[A.jsx("label",{style:{textTransform:"none",fontSize:"0.9rem"},children:"Ãœber diesen Stil:"}),A.jsx("p",{style:{color:"#ccc",fontSize:"0.95rem",lineHeight:"1.6",marginTop:"0.5rem"},children:t.beschreibung||(null==r?void 0:r.beschreibung)||"Keine Beschreibung verfÃ¼gbar"})]})]})]}),A.jsx("div",{className:"grid-container",style:{marginTop:"1.5rem"},children:A.jsxs("div",{className:"field-group card",children:[A.jsxs("div",{onClick:()=>{pA(!mA)},style:{display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",padding:"0.5rem",margin:"-0.5rem -0.5rem 0.5rem -0.5rem",borderRadius:"6px",transition:"background 0.2s ease"},onMouseEnter:A=>{A.currentTarget.style.background="rgba(255, 215, 0, 0.05)"},onMouseLeave:A=>{A.currentTarget.style.background="transparent"},children:[A.jsxs("h3",{style:{margin:0},children:["ğŸ“Š Alle Graduierungen - ",t.stil_name]}),A.jsx("span",{style:{fontSize:"1.5rem",color:"#FFD700",transform:mA?"rotate(0deg)":"rotate(180deg)",transition:"transform 0.3s ease",display:"inline-block"},children:"â–¼"})]}),!mA&&A.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginTop:"1rem"},children:r&&r.graduierungen&&r.graduierungen.length>0?r.graduierungen.sort((A,e)=>A.reihenfolge-e.reihenfolge).map((e,t)=>A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"0.75rem",background:(null==tt?void 0:tt.graduierung_id)===e.graduierung_id?"rgba(255, 215, 0, 0.15)":"rgba(255, 255, 255, 0.03)",border:(null==tt?void 0:tt.graduierung_id)===e.graduierung_id?"2px solid #FFD700":"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",transition:"all 0.2s ease"},children:[A.jsx(rl,{primaer:e.farbe_hex,sekundaer:e.farbe_sekundaer,size:"small"}),A.jsxs("div",{style:{flex:1},children:[A.jsxs("div",{style:{fontWeight:(null==tt?void 0:tt.graduierung_id)===e.graduierung_id?"700":"600",color:(null==tt?void 0:tt.graduierung_id)===e.graduierung_id?"#FFD700":"#fff",fontSize:"0.95rem"},children:[e.name,(null==tt?void 0:tt.graduierung_id)===e.graduierung_id&&A.jsx("span",{style:{marginLeft:"0.5rem",color:"#FFD700",fontSize:"0.85rem"},children:"â­ Aktuell"})]}),A.jsxs("div",{style:{color:"#999",fontSize:"0.85rem",marginTop:"0.25rem"},children:[e.reihenfolge||t+1,". Kyu Â· ",e.trainingsstunden_min,"h Â· ",e.mindestzeit_monate," Monate"]})]})]},e.graduierung_id)):A.jsx("p",{style:{textAlign:"center",color:"#999",padding:"1rem"},children:"Keine Graduierungen verfÃ¼gbar"})})]})})]},t.stil_id)})():A.jsx("div",{className:"grid-container",children:A.jsxs("div",{className:"field-group card",children:[A.jsx("h3",{children:"Stil-Verwaltung"}),A.jsx("p",{style:{textAlign:"center",color:"#999",padding:"2rem"},children:"Keine Stile zugeordnet"}),A.jsx("p",{style:{textAlign:"center",color:"#999",fontSize:"0.9rem"},children:"Verwenden Sie das Auswahlfeld oben, um einen Stil hinzuzufÃ¼gen."})]})})]}),"pruefung"===lA&&A.jsx("div",{className:"pruefung-sub-tab-content",children:A.jsx(Y,{mitgliedId:U,readOnly:!g})})]})]},sA)})]})]}),he&&A.jsx("div",{className:"modal-overlay",onClick:()=>Be(!1),"data-version":"2.0-vertragformular",children:A.jsxs("div",{className:"modal-content vertrag-modal-custom",onClick:A=>A.stopPropagation(),style:{width:"750px",maxWidth:"90vw",minWidth:"auto"},children:[A.jsxs("div",{className:"modal-header",children:[A.jsx("h3",{children:"Neuer Vertrag"}),A.jsx("button",{className:"close-btn",onClick:()=>Be(!1),children:"?"})]}),A.jsx(c,{vertrag:{tarif_id:He.tarif_id,billing_cycle:He.billing_cycle,payment_method:He.payment_method,vertragsbeginn:He.vertragsbeginn,vertragsende:He.vertragsende,kuendigungsfrist_monate:He.kuendigungsfrist_monate,mindestlaufzeit_monate:He.mindestlaufzeit_monate,agb_akzeptiert:He.agb_akzeptiert,datenschutz_akzeptiert:He.datenschutz_akzeptiert,hausordnung_akzeptiert:He.hausordnung_akzeptiert,haftungsausschluss_akzeptiert:He.haftungsausschluss_akzeptiert,gesundheitserklaerung:He.gesundheitserklaerung,foto_einverstaendnis:He.foto_einverstaendnis,agb_version:He.agb_version,datenschutz_version:He.datenschutz_version,sepa_mandat_id:He.sepa_mandat_id},onChange:A=>{Ie({...He,tarif_id:A.tarif_id,billing_cycle:A.billing_cycle,payment_method:A.payment_method,vertragsbeginn:A.vertragsbeginn,vertragsende:A.vertragsende,kuendigungsfrist_monate:A.kuendigungsfrist_monate,mindestlaufzeit_monate:A.mindestlaufzeit_monate,agb_akzeptiert:A.agb_akzeptiert,datenschutz_akzeptiert:A.datenschutz_akzeptiert,hausordnung_akzeptiert:A.hausordnung_akzeptiert,haftungsausschluss_akzeptiert:A.haftungsausschluss_akzeptiert,gesundheitserklaerung:A.gesundheitserklaerung,foto_einverstaendnis:A.foto_einverstaendnis,agb_version:A.agb_version,datenschutz_version:A.datenschutz_version,sepa_mandat_id:A.sepa_mandat_id})},geburtsdatum:null==K?void 0:K.geburtsdatum,schuelerStudent:null==K?void 0:K.schueler_student,mode:"create",mitgliedId:U}),A.jsxs("div",{className:"form-actions",style:{marginTop:"1.5rem"},children:[A.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>Be(!1),children:"Abbrechen"}),A.jsx("button",{type:"submit",className:"btn btn-primary",onClick:hr,disabled:!(He.agb_akzeptiert&&He.datenschutz_akzeptiert&&He.hausordnung_akzeptiert&&He.tarif_id&&(null==K?void 0:K.dojo_id)),children:"âœ… Vertrag erstellen"})]})]})}),me&&A.jsx("div",{className:"modal-overlay",onClick:()=>pe(null),children:A.jsxs("div",{className:"modal-content vertrag-modal-custom",onClick:A=>A.stopPropagation(),style:{width:"800px",maxWidth:"90vw",minWidth:"auto"},children:[A.jsxs("div",{className:"modal-header",children:[A.jsx("h3",{children:"Vertrag bearbeiten"}),A.jsx("button",{className:"close-btn",onClick:()=>pe(null),children:"?"})]}),A.jsxs("div",{className:"form-grid",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Status"}),A.jsx(tl,{value:me.status,onChange:A=>pe({...me,status:A.target.value}),options:[{value:"aktiv",label:"Aktiv"},{value:"ruhepause",label:"Ruhepause"},{value:"gekuendigt",label:"GekÃ¼ndigt"},{value:"beendet",label:"Beendet"}]})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Vertragsbeginn"}),A.jsx("input",{type:"date",value:me.vertragsbeginn,onChange:A=>pe({...me,vertragsbeginn:A.target.value})})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Vertragsende"}),A.jsx("input",{type:"date",value:me.vertragsende,onChange:A=>pe({...me,vertragsende:A.target.value})})]}),"gekuendigt"===me.status&&A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"KÃ¼ndigung eingegangen"}),A.jsx("input",{type:"date",value:me.kuendigung_eingegangen||"",onChange:A=>pe({...me,kuendigung_eingegangen:A.target.value})})]})]}),A.jsxs("div",{className:"form-actions",children:[A.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>pe(null),children:"Abbrechen"}),A.jsx("button",{type:"submit",className:"btn btn-primary",onClick:hr,children:"ğŸ’¾ Ã„nderungen speichern"})]})]})}),De&&A.jsx("div",{className:"modal-overlay",onClick:()=>Ke(!1),children:A.jsxs("div",{className:"modal-content large",onClick:A=>A.stopPropagation(),children:[A.jsxs("div",{className:"modal-header",children:[A.jsx("h3",{children:"Ruhepause einrichten"}),A.jsx("button",{className:"close-btn",onClick:()=>Ke(!1),children:"âœ•"})]}),A.jsxs("div",{className:"info-section",children:[A.jsx("h4",{children:"â„¹ï¸ Was bedeutet Ruhepause?"}),A.jsxs("ul",{children:[A.jsx("li",{children:"Das Training wird temporÃ¤r ausgesetzt"}),A.jsx("li",{children:"Die Mitgliedschaft bleibt bestehen"}),A.jsx("li",{children:"Keine Beitragszahlungen wÃ¤hrend der Ruhepause"}),A.jsx("li",{children:"Vertrag wird nicht im Lastschriftlauf berÃ¼cksichtigt"}),A.jsx("li",{children:"Nach der Ruhepause automatische Reaktivierung"}),A.jsx("li",{children:"Maximale Ruhepause: 12 Monate pro Jahr"})]})]}),A.jsxs("div",{className:"ruhepause-config-container",children:[A.jsxs("div",{className:"ruhepause-duration-selection",children:[A.jsx("label",{children:"Dauer der Ruhepause *"}),A.jsx(tl,{value:lt,onChange:A=>ot(parseInt(A.target.value)),options:[{value:1,label:"1 Monat"},{value:2,label:"2 Monate"},{value:3,label:"3 Monate"},{value:4,label:"4 Monate"},{value:5,label:"5 Monate"},{value:6,label:"6 Monate"},{value:9,label:"9 Monate"},{value:12,label:"12 Monate"}]}),A.jsx("small",{children:"Ruhepausen gelten immer fÃ¼r volle Monate"})]}),A.jsxs("div",{className:"date-info",children:[A.jsx("h5",{children:"ğŸ“… Zeitraum"}),A.jsxs("p",{children:[A.jsx("strong",{children:"Von:"})," ",(()=>{const A=new Date;return A.setMonth(A.getMonth()+1),A.setDate(1),A.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"})})()]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Bis:"})," ",(()=>{const A=new Date;return A.setMonth(A.getMonth()+1+lt),A.setDate(0),A.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"})})()]})]}),A.jsxs("div",{className:"warning-section",children:[A.jsx("h5",{children:"âš ï¸ Wichtiger Hinweis"}),A.jsx("p",{children:"Die Ruhepause beginnt am 1. des nÃ¤chsten Monats (aktueller Monat ist bereits abgebucht). Das Training kann fÃ¼r die gewÃ¤hlte Dauer nicht besucht werden. Keine LastschrifteinzÃ¼ge wÃ¤hrend der Ruhepause."})]})]}),A.jsxs("div",{className:"form-actions",children:[A.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>Ke(!1),children:"Abbrechen"}),A.jsxs("button",{type:"submit",className:"btn btn-warning",onClick:async()=>{if(st){T(!0);try{const A=new Date;A.setMonth(A.getMonth()+1),A.setDate(1);const e=new Date;e.setMonth(e.getMonth()+1+lt),e.setDate(0),await i.put(`/vertraege/${st.id}`,{status:"ruhepause",ruhepause_von:A.toISOString().split("T")[0],ruhepause_bis:e.toISOString().split("T")[0],ruhepause_dauer_monate:lt,dojo_id:null==K?void 0:K.dojo_id}),Ke(!1),at(null),ot(1),await sr()}catch(A){console.error("Fehler beim Setzen der Ruhepause:",A),alert("Fehler beim Setzen der Ruhepause. Bitte versuchen Sie es erneut.")}finally{T(!1)}}},children:["â¸ï¸ Ruhepause fÃ¼r ",lt," Monat",lt>1?"e":""," einrichten"]})]})]})}),Le&&A.jsx("div",{className:"modal-overlay",onClick:()=>ze(!1),children:A.jsxs("div",{className:"modal-content extra-large",onClick:A=>A.stopPropagation(),children:[A.jsxs("div",{className:"modal-header",children:[A.jsx("h3",{children:"Vertrag kÃ¼ndigen"}),A.jsx("button",{className:"close-btn",onClick:()=>ze(!1),children:"âœ•"})]}),A.jsxs("div",{className:"cancellation-terms",children:[A.jsx("h4",{children:"ğŸ“‹ KÃ¼ndigungsbestimmungen"}),A.jsxs("div",{className:"terms-sections-container",children:[A.jsxs("div",{className:"terms-section",children:[A.jsx("h5",{children:"â° KÃ¼ndigungsfristen:"}),A.jsxs("ul",{children:[A.jsxs("li",{children:[A.jsx("strong",{children:"Erstlaufzeit:"})," KÃ¼ndigung bis 3 Monate vor Vertragsende mÃ¶glich"]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Nach VerlÃ¤ngerung:"})," KÃ¼ndigung mit 1 Monat Frist zum Monatsende"]}),A.jsxs("li",{children:[A.jsx("strong",{children:"SonderkÃ¼ndigungsrecht:"})," Bei Umzug Ã¼ber 25km Entfernung (Nachweis erforderlich)"]})]})]}),A.jsxs("div",{className:"terms-section",children:[A.jsx("h5",{children:"ğŸ“‹ KÃ¼ndigungsregelungen:"}),A.jsxs("ul",{children:[A.jsx("li",{children:"Bei vorzeitiger KÃ¼ndigung: Zahlung der Restlaufzeit"}),A.jsx("li",{children:"Keine RÃ¼ckerstattung bereits gezahlter BeitrÃ¤ge"})]})]}),A.jsxs("div",{className:"current-contract-info",children:[A.jsx("h5",{children:"ğŸ“„ Aktueller Vertrag:"}),A.jsxs("p",{children:[A.jsx("strong",{children:"Vertragslaufzeit:"})," ",(null==st?void 0:st.vertragsbeginn)?new Date(st.vertragsbeginn).toLocaleDateString("de-DE"):"-"," - ",(null==st?void 0:st.vertragsende)?new Date(st.vertragsende).toLocaleDateString("de-DE"):"-"]}),A.jsxs("p",{children:[A.jsx("strong",{children:"FrÃ¼heste KÃ¼ndigung:"})," ",(()=>{if(!st)return"Berechnung nicht mÃ¶glich";const A=new Date(st.vertragsende),e=new Date(A);return e.setMonth(A.getMonth()-3),e.toLocaleDateString("de-DE")})()]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Vertragsende:"})," ",new Date((null==st?void 0:st.vertragsende)||"").toLocaleDateString("de-DE")]})]})]})]}),A.jsxs("div",{className:"kuendigung-form-container",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"KÃ¼ndigungsdatum *"}),A.jsx("input",{type:"date",value:ht,onChange:A=>Bt(A.target.value),min:(new Date).toISOString().split("T")[0]}),A.jsx("small",{children:"Das Datum, an dem die KÃ¼ndigung eingegangen ist"})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"KÃ¼ndigungsgrund (Optional)"}),A.jsx(tl,{value:dt,onChange:A=>ct(A.target.value),options:[{value:"",label:"Bitte wÃ¤hlen..."},{value:"umzug",label:"Umzug"},{value:"finanzielle-gruende",label:"Finanzielle GrÃ¼nde"},{value:"zeitmangel",label:"Zeitmangel"},{value:"krankheit",label:"Krankheit/Verletzung"},{value:"unzufriedenheit",label:"Unzufriedenheit mit Service"},{value:"anderer-verein",label:"Wechsel zu anderem Verein"},{value:"sonstiges",label:"Sonstiges"}]})]}),A.jsx("div",{className:"confirmation-section-inline",children:A.jsxs("label",{className:"checkbox-container",children:[A.jsx("input",{type:"checkbox",checked:gt,onChange:A=>ut(A.target.checked)}),A.jsx("span",{className:"checkmark"}),A.jsxs("div",{className:"confirmation-text",children:[A.jsx("strong",{children:"âš ï¸ BestÃ¤tigung erforderlich:"}),A.jsx("p",{children:"Ich habe die KÃ¼ndigungsbestimmungen gelesen und verstanden. Mir ist bewusst, dass bei vorzeitiger KÃ¼ndigung die Restlaufzeit zu zahlen ist und keine RÃ¼ckerstattung bereits gezahlter BeitrÃ¤ge erfolgt."})]})]})})]}),A.jsxs("div",{className:"form-actions",children:[A.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>ze(!1),children:"Abbrechen"}),A.jsx("button",{type:"submit",className:"btn btn-danger",onClick:async()=>{if(st&&gt){T(!0);try{const A=ht||(new Date).toISOString().split("T")[0];await i.put(`/vertraege/${st.id}`,{status:"gekuendigt",kuendigung_eingegangen:A,kuendigungsgrund:dt,dojo_id:null==K?void 0:K.dojo_id}),ze(!1),at(null),ct(""),ut(!1),Bt(""),await sr()}catch(A){console.error("Fehler beim KÃ¼ndigen des Vertrags:",A),alert("Fehler beim KÃ¼ndigen des Vertrags. Bitte versuchen Sie es erneut.")}finally{T(!1)}}},disabled:!gt,children:"âŒ Vertrag kÃ¼ndigen"})]})]})}),fe&&Qe&&A.jsx("div",{className:"modal-overlay",onClick:()=>we(!1),style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},children:A.jsxs("div",{className:"vertrag-dokument",onClick:A=>A.stopPropagation(),style:{maxWidth:"800px",width:"100%",maxHeight:"95vh",overflowY:"auto",background:"white",borderRadius:"8px",boxShadow:"0 10px 40px rgba(0,0,0,0.3)",position:"relative",color:"#333"},children:[A.jsx("style",{children:"\n              .vertrag-dokument .detail-item {\n                color: #333;\n                margin-bottom: 0.5rem;\n              }\n              .vertrag-dokument .detail-item strong {\n                color: #555;\n              }\n              .vertrag-dokument * {\n                color: #333;\n              }\n            "}),A.jsx("button",{onClick:()=>we(!1),style:{position:"absolute",top:"-12px",right:"-12px",width:"36px",height:"36px",borderRadius:"50%",background:"#d32f2f",color:"white",border:"none",fontSize:"20px",fontWeight:"bold",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",zIndex:1e3},children:"?"}),A.jsxs("div",{style:{padding:"3rem 2.5rem"},children:[A.jsxs("div",{style:{borderBottom:"3px solid #1976d2",paddingBottom:"1.5rem",marginBottom:"2rem",textAlign:"center"},children:[A.jsx("h1",{style:{fontSize:"1.8rem",fontWeight:"600",color:"#1976d2",margin:"0 0 0.5rem 0",letterSpacing:"0.5px"},children:"VERTRAGSDETAILS"}),A.jsxs("div",{style:{fontSize:"1rem",color:"#666",fontWeight:"500"},children:["Vertragsnummer: ",Qe.vertragsnummer||`VTR-${Qe.id}`]})]}),A.jsx("div",{style:{marginBottom:"2rem",textAlign:"center",padding:"1rem",background:"aktiv"===Qe.status?"#e8f5e9":"gekuendigt"===Qe.status?"#fff3e0":"ruhepause"===Qe.status?"#e3f2fd":"#ffebee",borderRadius:"6px",border:"2px solid "+("aktiv"===Qe.status?"#4caf50":"gekuendigt"===Qe.status?"#ff9800":"ruhepause"===Qe.status?"#2196f3":"#f44336")},children:A.jsx("span",{style:{fontSize:"1.2rem",fontWeight:"600",color:"aktiv"===Qe.status?"#2e7d32":"gekuendigt"===Qe.status?"#e65100":"ruhepause"===Qe.status?"#1565c0":"#c62828"},children:"aktiv"===Qe.status?"? VERTRAG AKTIV":"gekuendigt"===Qe.status?"? VERTRAG GEKÃœNDIGT":"ruhepause"===Qe.status?"? VERTRAG IN RUHEPAUSE":"? VERTRAG BEENDET"})}),A.jsxs("div",{style:{marginBottom:"2rem",padding:"1.5rem",background:"#f8f9fa",borderRadius:"6px",border:"1px solid #dee2e6"},children:[A.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:"600",color:"#1976d2",marginTop:"0",marginBottom:"1.5rem",paddingBottom:"0.75rem",borderBottom:"2px solid #1976d2"},children:"ğŸ“‹ Grunddaten"}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",fontSize:"0.95rem",color:"#333"},children:[A.jsxs("div",{style:{marginBottom:"0.5rem"},children:[A.jsx("strong",{style:{color:"#555"},children:"Vertrags-ID:"})," #",Qe.id]}),Qe.vertragsnummer&&A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"Vertragsnummer:"})," ",Qe.vertragsnummer]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"Mitglied-ID:"})," #",Qe.mitglied_id]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"Dojo:"})," ",y(Qe.dojo_id)]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"Status:"})," ","aktiv"===Qe.status?"âœ… Aktiv":"gekuendigt"===Qe.status?"âŒ GekÃ¼ndigt":"ruhepause"===Qe.status?"â¸ï¸ Ruhepause":"â¹ï¸ Beendet"]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"Erstellt am:"})," ",new Date(Qe.created_at||Qe.unterschrift_datum).toLocaleString("de-DE")]}),Qe.created_by&&A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"Erstellt von (User-ID):"})," #",Qe.created_by]}),Qe.updated_at&&A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"Zuletzt geÃ¤ndert:"})," ",new Date(Qe.updated_at).toLocaleString("de-DE")]}),Qe.updated_by&&A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"GeÃ¤ndert von (User-ID):"})," #",Qe.updated_by]}),Qe.tarif_id&&A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"Tarif-ID:"})," #",Qe.tarif_id]}),Qe.tarif_name&&A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"ğŸ“‹ Tarif-Name:"})," ",Qe.tarif_name]}),Qe.monatsbeitrag&&A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"ğŸ’° Monatsbeitrag:"})," â‚¬",parseFloat(Qe.monatsbeitrag).toFixed(2)]}),Qe.aufnahmegebuehr_cents&&A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"ğŸ’µ AufnahmegebÃ¼hr:"})," â‚¬",(Qe.aufnahmegebuehr_cents/100).toFixed(2)]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"ğŸ“„ Vertrags-PDF:"})," ",A.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>(async A=>{try{console.log("ğŸ“¥ Lade vollstÃ¤ndigen Vertrag herunter...");const e=(await i.get(`/vertraege/${A}/pdf`,{responseType:"blob"})).data,t=window.URL.createObjectURL(e),r=window.open("","_blank");r&&(r.location.href=t);const n=document.createElement("a");n.href=t,n.download=`Vertrag_${null==K?void 0:K.nachname}_${null==K?void 0:K.vorname}.pdf`,document.body.appendChild(n),n.click(),document.body.removeChild(n),console.log("âœ… Vertrag erfolgreich heruntergeladen und angezeigt")}catch(e){console.error("âŒ Fehler beim Download des Vertrags:",e),alert("Fehler beim Download des Vertrags. Bitte versuchen Sie es erneut.")}})(Qe.id),style:{padding:"0.25rem 0.75rem",fontSize:"0.875rem",marginLeft:"0.5rem"},children:"ğŸ“„ PDF"})]})]})]}),(Qe.vertragsbeginn||Qe.vertragsende)&&A.jsxs("div",{style:{marginBottom:"2rem",padding:"1.5rem",background:"#f8f9fa",borderRadius:"6px",border:"1px solid #dee2e6"},children:[A.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:"600",color:"#1976d2",marginTop:"0",marginBottom:"1.5rem",paddingBottom:"0.75rem",borderBottom:"2px solid #1976d2"},children:"ğŸ“… Laufzeit"}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",fontSize:"0.95rem"},children:[Qe.vertragsbeginn&&A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"Vertragsbeginn:"})," ",new Date(Qe.vertragsbeginn).toLocaleDateString("de-DE")]}),Qe.vertragsende&&A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"Vertragsende:"})," ",new Date(Qe.vertragsende).toLocaleDateString("de-DE")]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"Mindestlaufzeit:"})," ",Qe.mindestlaufzeit_monate," Monate"]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"KÃ¼ndigungsfrist:"})," ",Qe.kuendigungsfrist_monate," Monate vor Vertragsende"]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"Autom. VerlÃ¤ngerung:"})," ",Qe.automatische_verlaengerung?`Ja (um ${Qe.verlaengerung_monate} Monate)`:"Nein"]})]})]}),A.jsxs("div",{style:{marginBottom:"2rem",padding:"1.5rem",background:"#f8f9fa",borderRadius:"6px",border:"1px solid #dee2e6"},children:[A.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:"600",color:"#1976d2",marginTop:"0",marginBottom:"1.5rem",paddingBottom:"0.75rem",borderBottom:"2px solid #1976d2"},children:"ğŸ’³ Zahlungsinformationen"}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",fontSize:"0.95rem"},children:[Qe.billing_cycle&&A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"Zahlungsintervall:"})," ",el(Qe.billing_cycle)]}),Qe.payment_method&&A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"Zahlungsmethode:"})," ","direct_debit"===Qe.payment_method?"SEPA-Lastschrift":"transfer"===Qe.payment_method?"Ãœberweisung":"bar"===Qe.payment_method?"Bar":Qe.payment_method]}),Qe.sepa_mandat_id&&A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"SEPA-Mandat-ID:"})," #",Qe.sepa_mandat_id]}),Qe.faelligkeit_tag&&A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"FÃ¤lligkeitstag:"})," ",Qe.faelligkeit_tag,". des Monats"]}),Qe.monatsbeitrag&&A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"Monatsbeitrag:"})," â‚¬",parseFloat(Qe.monatsbeitrag).toFixed(2)]}),Qe.aufnahmegebuehr_cents&&A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"AufnahmegebÃ¼hr:"})," â‚¬",(Qe.aufnahmegebuehr_cents/100).toFixed(2)]}),Qe.rabatt_prozent>0&&A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"Rabatt:"})," ",Qe.rabatt_prozent,"%",Qe.rabatt_grund&&` (${Qe.rabatt_grund})`]})]})]}),A.jsxs("div",{style:{marginBottom:"2rem",padding:"1.5rem",background:"#f8f9fa",borderRadius:"6px",border:"1px solid #dee2e6"},children:[A.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:"600",color:"#1976d2",marginTop:"0",marginBottom:"1.5rem",paddingBottom:"0.75rem",borderBottom:"2px solid #1976d2"},children:"? Rechtliche Akzeptanzen"}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",fontSize:"0.95rem"},children:[Qe.agb_akzeptiert_am&&A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"AGB:"})," âœ… Akzeptiert am ",new Date(Qe.agb_akzeptiert_am).toLocaleString("de-DE"),Qe.agb_version&&` (v${Qe.agb_version})`]}),Qe.datenschutz_akzeptiert_am&&A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"Datenschutz:"})," ? Akzeptiert am ",new Date(Qe.datenschutz_akzeptiert_am).toLocaleString("de-DE"),Qe.datenschutz_version&&` (v${Qe.datenschutz_version})`]}),Qe.hausordnung_akzeptiert_am&&A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"Hausordnung:"})," ? Akzeptiert am ",new Date(Qe.hausordnung_akzeptiert_am).toLocaleString("de-DE")]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"Haftungsausschluss (boolean):"})," ",Qe.haftungsausschluss_akzeptiert?"? Ja":"? Nein"]}),Qe.haftungsausschluss_datum&&A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"Haftungsausschluss Datum:"})," ? Akzeptiert am ",new Date(Qe.haftungsausschluss_datum).toLocaleString("de-DE")]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"GesundheitserklÃ¤rung (boolean):"})," ",Qe.gesundheitserklaerung?"? Ja":"? Nein"]}),Qe.gesundheitserklaerung_datum&&A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"GesundheitserklÃ¤rung Datum:"})," ? Abgegeben am ",new Date(Qe.gesundheitserklaerung_datum).toLocaleString("de-DE")]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"Foto-EinverstÃ¤ndnis (boolean):"})," ",Qe.foto_einverstaendnis?"? Ja":"? Nein"]}),Qe.foto_einverstaendnis_datum&&A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"Foto-EinverstÃ¤ndnis Datum:"})," ? Erteilt am ",new Date(Qe.foto_einverstaendnis_datum).toLocaleString("de-DE")]}),Qe.widerruf_akzeptiert_am&&A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"Widerrufsbelehrung:"})," ? Zur Kenntnis genommen am ",new Date(Qe.widerruf_akzeptiert_am).toLocaleString("de-DE")]})]})]}),Qe.unterschrift_datum&&A.jsxs("div",{style:{marginBottom:"2rem",padding:"1.5rem",background:"#f8f9fa",borderRadius:"6px",border:"1px solid #dee2e6"},children:[A.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:"600",color:"#1976d2",marginTop:"0",marginBottom:"1.5rem",paddingBottom:"0.75rem",borderBottom:"2px solid #1976d2"},children:"âœï¸ Unterschrift"}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",fontSize:"0.95rem"},children:[A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"Unterschrieben am:"})," ",new Date(Qe.unterschrift_datum).toLocaleString("de-DE")]}),Qe.unterschrift_ip&&A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"IP-Adresse:"})," ",Qe.unterschrift_ip]})]}),Qe.unterschrift_digital&&A.jsxs("div",{style:{marginTop:"1rem"},children:[A.jsx("strong",{children:"Digitale Unterschrift:"}),A.jsx("div",{style:{marginTop:"0.5rem",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"4px",padding:"1rem",background:"white",display:"inline-block"},children:A.jsx("img",{src:Qe.unterschrift_digital,alt:"Digitale Unterschrift",style:{maxWidth:"400px",maxHeight:"200px",display:"block"}})})]})]}),Qe.kuendigung_eingegangen&&A.jsxs("div",{style:{marginBottom:"2rem",padding:"1.5rem",background:"#fff3e0",borderRadius:"6px",border:"2px solid #ff9800"},children:[A.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:"600",color:"#e65100",marginTop:"0",marginBottom:"1.5rem",paddingBottom:"0.75rem",borderBottom:"2px solid #ff9800"},children:"â„¹ï¸ KÃ¼ndigungsinformationen"}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",fontSize:"0.95rem"},children:[A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"KÃ¼ndigung eingegangen:"})," ",new Date(Qe.kuendigung_eingegangen).toLocaleString("de-DE")]}),Qe.kuendigungsgrund&&A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"KÃ¼ndigungsgrund:"})," ",Qe.kuendigungsgrund]})]})]}),A.jsxs("div",{style:{marginTop:"2rem",paddingTop:"2rem",borderTop:"2px solid #1976d2",display:"flex",gap:"1rem",justifyContent:"center"},children:[A.jsx("button",{onClick:()=>window.print(),style:{padding:"0.75rem 2rem",background:"#1976d2",color:"white",border:"none",borderRadius:"6px",fontSize:"1rem",fontWeight:"500",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:"ğŸ–¨ï¸ Drucken"}),A.jsx("button",{onClick:()=>we(!1),style:{padding:"0.75rem 2rem",background:"#757575",color:"white",border:"none",borderRadius:"6px",fontSize:"1rem",fontWeight:"500",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:"SchlieÃŸen"})]})]})]})}),xe&&Qe&&A.jsx("div",{className:"modal-overlay",onClick:()=>be(!1),style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",zIndex:1e3},children:A.jsxs("div",{onClick:A=>A.stopPropagation(),style:{maxWidth:"900px",width:"100%",maxHeight:"95vh",overflowY:"auto",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)",borderRadius:"16px",boxShadow:"0 20px 60px rgba(0,0,0,0.5)",position:"relative",color:"#fff",border:"1px solid rgba(255, 215, 0, 0.3)"},children:[A.jsx("button",{onClick:()=>be(!1),style:{position:"absolute",top:"16px",right:"16px",width:"40px",height:"40px",borderRadius:"50%",background:"rgba(244, 67, 54, 0.9)",color:"white",border:"none",fontSize:"24px",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 12px rgba(244, 67, 54, 0.4)",transition:"all 0.2s ease",zIndex:10,display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:A=>{A.currentTarget.style.background="#d32f2f",A.currentTarget.style.transform="scale(1.1)"},onMouseLeave:A=>{A.currentTarget.style.background="rgba(244, 67, 54, 0.9)",A.currentTarget.style.transform="scale(1)"},children:"Ã—"}),A.jsxs("div",{style:{padding:"2rem",borderBottom:"2px solid rgba(255, 215, 0, 0.3)",background:"linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, rgba(255, 165, 0, 0.05) 100%)"},children:[A.jsx("h2",{style:{margin:"0 0 0.5rem 0",fontSize:"1.8rem",fontWeight:"700",background:"linear-gradient(135deg, #FFD700 0%, #FFA500 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"ğŸ” Vertragsdetails"}),A.jsxs("p",{style:{margin:0,fontSize:"1rem",color:"rgba(255, 255, 255, 0.7)"},children:["Vertrag #",Qe.personenVertragNr," â€¢ ",null==K?void 0:K.vorname," ",null==K?void 0:K.nachname]})]}),A.jsxs("div",{style:{padding:"2rem"},children:[A.jsx("div",{style:{display:"inline-flex",padding:"0.5rem 1.5rem",borderRadius:"24px",fontSize:"0.9rem",fontWeight:"600",marginBottom:"2rem",background:"aktiv"===Qe.status?"rgba(76, 175, 80, 0.2)":"gekuendigt"===Qe.status?"rgba(255, 152, 0, 0.2)":"ruhepause"===Qe.status?"rgba(33, 150, 243, 0.2)":"rgba(244, 67, 54, 0.2)",border:"2px solid "+("aktiv"===Qe.status?"#4caf50":"gekuendigt"===Qe.status?"#ff9800":"ruhepause"===Qe.status?"#2196F3":"#f44336"),color:"aktiv"===Qe.status?"#4caf50":"gekuendigt"===Qe.status?"#ff9800":"ruhepause"===Qe.status?"#2196F3":"#f44336"},children:"aktiv"===Qe.status?"âœ… AKTIV":"gekuendigt"===Qe.status?"âš ï¸ GEKÃœNDIGT":"ruhepause"===Qe.status?"â¸ï¸ RUHEPAUSE":"abgelaufen"===Qe.status?"âŒ ABGELAUFEN":null==(B=Qe.status)?void 0:B.toUpperCase()}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[A.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.1rem",color:"#FFD700",display:"flex",alignItems:"center",gap:"0.5rem"},children:"ğŸ“‹ Grunddaten"}),A.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"Vertragsnummer"}),A.jsx("div",{style:{fontSize:"0.95rem",color:"#fff",fontWeight:"500"},children:Qe.vertragsnummer||`VTR-${Qe.id}`})]}),A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"Mitglieds-ID"}),A.jsx("div",{style:{fontSize:"0.95rem",color:"#fff",fontWeight:"500"},children:Qe.mitglied_id})]}),Qe.dojo_id&&A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"Dojo"}),A.jsx("div",{style:{fontSize:"0.95rem",color:"#fff",fontWeight:"500"},children:y(Qe.dojo_id)})]})]})]}),A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[A.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.1rem",color:"#FFD700",display:"flex",alignItems:"center",gap:"0.5rem"},children:"ğŸ“… Laufzeit"}),A.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"Vertragsbeginn"}),A.jsx("div",{style:{fontSize:"0.95rem",color:"#fff",fontWeight:"500"},children:Qe.vertragsbeginn?new Date(Qe.vertragsbeginn).toLocaleDateString("de-DE"):"Nicht angegeben"})]}),A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"Vertragsende"}),A.jsx("div",{style:{fontSize:"0.95rem",color:"#fff",fontWeight:"500"},children:Qe.vertragsende?new Date(Qe.vertragsende).toLocaleDateString("de-DE"):"Unbefristet"})]}),A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"Mindestlaufzeit"}),A.jsx("div",{style:{fontSize:"0.95rem",color:"#fff",fontWeight:"500"},children:Qe.mindestlaufzeit_monate?`${Qe.mindestlaufzeit_monate} Monate`:"Keine Mindestlaufzeit"})]}),A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"KÃ¼ndigungsfrist"}),A.jsx("div",{style:{fontSize:"0.95rem",color:"#fff",fontWeight:"500"},children:Qe.kuendigungsfrist_monate?`${Qe.kuendigungsfrist_monate} Monate`:"Keine Angabe"})]}),A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"Automatische VerlÃ¤ngerung"}),A.jsx("div",{style:{fontSize:"0.95rem",color:"#fff",fontWeight:"500"},children:Qe.automatische_verlaengerung?"âœ… Ja":"âŒ Nein"})]})]})]}),A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[A.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.1rem",color:"#FFD700",display:"flex",alignItems:"center",gap:"0.5rem"},children:"ğŸ’° Zahlung"}),A.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"Tarif"}),A.jsx("div",{style:{fontSize:"0.95rem",color:"#fff",fontWeight:"500"},children:(null==(m=mt.find(A=>A.id===Qe.tarif_id))?void 0:m.name)||"Kein Tarif"})]}),A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"Beitrag"}),A.jsx("div",{style:{fontSize:"0.95rem",color:"#4caf50",fontWeight:"600"},children:Qe.monatsbeitrag?`${parseFloat(Qe.monatsbeitrag).toFixed(2)} â‚¬`:"Nicht festgelegt"})]}),Qe.aufnahmegebuehr_cents&&A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"AufnahmegebÃ¼hr"}),A.jsxs("div",{style:{fontSize:"0.95rem",color:"#ff9800",fontWeight:"600"},children:[(Qe.aufnahmegebuehr_cents/100).toFixed(2)," â‚¬"]})]}),A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"Zahlungsrhythmus"}),A.jsx("div",{style:{fontSize:"0.95rem",color:"#fff",fontWeight:"500"},children:Qe.billing_cycle?el(Qe.billing_cycle):"Nicht angegeben"})]}),A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"Zahlungsart"}),A.jsx("div",{style:{fontSize:"0.95rem",color:"#fff",fontWeight:"500"},children:"direct_debit"===Qe.payment_method?"ğŸ¦ Lastschrift":"bank_transfer"===Qe.payment_method?"ğŸ’³ Ãœberweisung":"cash"===Qe.payment_method?"ğŸ’µ Bar":Qe.payment_method||"Nicht angegeben"})]}),A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"Lastschrift-Status"}),A.jsx("div",{style:{fontSize:"0.95rem",color:"#fff",fontWeight:"500"},children:"aktiv"===Qe.lastschrift_status?"âœ… Aktiv":"ausstehend"===Qe.lastschrift_status?"â³ Ausstehend":"fehlgeschlagen"===Qe.lastschrift_status?"âŒ Fehlgeschlagen":Qe.lastschrift_status||"Keine Angabe"})]})]})]})]}),"ruhepause"===Qe.status&&Qe.ruhepause_von&&A.jsxs("div",{style:{background:"rgba(33, 150, 243, 0.1)",border:"1px solid rgba(33, 150, 243, 0.3)",borderRadius:"12px",padding:"1.5rem",marginBottom:"2rem"},children:[A.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.1rem",color:"#2196F3",display:"flex",alignItems:"center",gap:"0.5rem"},children:"â¸ï¸ Ruhepause"}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.6)",marginBottom:"0.2rem"},children:"Von"}),A.jsx("div",{style:{fontSize:"0.95rem",color:"#fff",fontWeight:"500"},children:new Date(Qe.ruhepause_von).toLocaleDateString("de-DE")})]}),A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.6)",marginBottom:"0.2rem"},children:"Bis"}),A.jsx("div",{style:{fontSize:"0.95rem",color:"#fff",fontWeight:"500"},children:Qe.ruhepause_bis?new Date(Qe.ruhepause_bis).toLocaleDateString("de-DE"):"Nicht festgelegt"})]})]})]}),"gekuendigt"===Qe.status&&Qe.kuendigung_eingegangen&&A.jsxs("div",{style:{background:"rgba(255, 152, 0, 0.1)",border:"1px solid rgba(255, 152, 0, 0.3)",borderRadius:"12px",padding:"1.5rem",marginBottom:"2rem"},children:[A.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.1rem",color:"#ff9800",display:"flex",alignItems:"center",gap:"0.5rem"},children:"âš ï¸ KÃ¼ndigung"}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.6)",marginBottom:"0.2rem"},children:"KÃ¼ndigung eingegangen"}),A.jsx("div",{style:{fontSize:"0.95rem",color:"#fff",fontWeight:"500"},children:new Date(Qe.kuendigung_eingegangen).toLocaleDateString("de-DE")})]}),Qe.kuendigungsgrund&&A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.6)",marginBottom:"0.2rem"},children:"KÃ¼ndigungsgrund"}),A.jsx("div",{style:{fontSize:"0.95rem",color:"#fff",fontWeight:"500"},children:Qe.kuendigungsgrund})]})]}),A.jsx("div",{style:{marginTop:"1rem",display:"flex",gap:"0.5rem"},children:A.jsx("button",{onClick:()=>{window.open(`${s.apiBaseUrl}/vertraege/${Qe.id}/kuendigungsbestaetigung`,"_blank")},style:{padding:"0.5rem 1rem",background:"rgba(255, 152, 0, 0.2)",border:"1px solid rgba(255, 152, 0, 0.4)",borderRadius:"6px",color:"#ff9800",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.85rem",fontWeight:"500",transition:"all 0.2s ease"},onMouseOver:A=>A.currentTarget.style.background="rgba(255, 152, 0, 0.3)",onMouseOut:A=>A.currentTarget.style.background="rgba(255, 152, 0, 0.2)",children:"ğŸ“„ KÃ¼ndigungsbestÃ¤tigung herunterladen"})})]}),A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.1)",marginBottom:"2rem"},children:[A.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.1rem",color:"#FFD700",display:"flex",alignItems:"center",gap:"0.5rem"},children:"ğŸ“ Rechtliche Dokumente"}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"0.75rem"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[A.jsx("span",{style:{fontSize:"1.2rem"},children:Qe.agb_akzeptiert_am?"âœ…":"âŒ"}),A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.9rem",color:"#fff"},children:"AGB"}),Qe.agb_akzeptiert_am&&A.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.5)"},children:new Date(Qe.agb_akzeptiert_am).toLocaleDateString("de-DE")})]})]}),A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[A.jsx("span",{style:{fontSize:"1.2rem"},children:Qe.datenschutz_akzeptiert_am?"âœ…":"âŒ"}),A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.9rem",color:"#fff"},children:"Datenschutz"}),Qe.datenschutz_akzeptiert_am&&A.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.5)"},children:new Date(Qe.datenschutz_akzeptiert_am).toLocaleDateString("de-DE")})]})]}),A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[A.jsx("span",{style:{fontSize:"1.2rem"},children:Qe.hausordnung_akzeptiert_am?"âœ…":"âŒ"}),A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.9rem",color:"#fff"},children:"Hausordnung"}),Qe.hausordnung_akzeptiert_am&&A.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.5)"},children:new Date(Qe.hausordnung_akzeptiert_am).toLocaleDateString("de-DE")})]})]})]})]}),A.jsxs("div",{style:{marginBottom:"2rem"},children:[A.jsx("h2",{style:{margin:"0 0 1.5rem 0",fontSize:"1.3rem",fontWeight:"700",color:"#FFD700",textAlign:"center",borderBottom:"2px solid rgba(255, 215, 0, 0.3)",paddingBottom:"1rem"},children:"ğŸ“Š Weitere Vertragsdetails"}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem"},children:[(Qe.vertragsdauer_monate||Qe.verlaengerung_monate||Qe.probezeit_tage)&&A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[A.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.1rem",color:"#FFD700",display:"flex",alignItems:"center",gap:"0.5rem"},children:"â±ï¸ Erweiterte Laufzeit"}),A.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[Qe.vertragsdauer_monate&&A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"Vertragsdauer"}),A.jsxs("div",{style:{fontSize:"0.95rem",color:"#fff",fontWeight:"500"},children:[Qe.vertragsdauer_monate," Monate"]})]}),Qe.verlaengerung_monate&&A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"VerlÃ¤ngerung um"}),A.jsxs("div",{style:{fontSize:"0.95rem",color:"#fff",fontWeight:"500"},children:[Qe.verlaengerung_monate," Monate"]})]}),Qe.probezeit_tage&&A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"Probezeit"}),A.jsxs("div",{style:{fontSize:"0.95rem",color:"#fff",fontWeight:"500"},children:[Qe.probezeit_tage," Tage"]})]})]})]}),(Qe.rabatt_prozent||Qe.rabatt_betrag)&&A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[A.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.1rem",color:"#FFD700",display:"flex",alignItems:"center",gap:"0.5rem"},children:"ğŸ Rabatte"}),A.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[Qe.rabatt_prozent&&A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"Rabatt (%)"}),A.jsxs("div",{style:{fontSize:"0.95rem",color:"#4caf50",fontWeight:"600"},children:[Qe.rabatt_prozent,"%"]})]}),Qe.rabatt_betrag&&A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"Rabatt (Betrag)"}),A.jsxs("div",{style:{fontSize:"0.95rem",color:"#4caf50",fontWeight:"600"},children:[Qe.rabatt_betrag," â‚¬"]})]})]})]}),Qe.sepa_mandats_id&&A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[A.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.1rem",color:"#FFD700",display:"flex",alignItems:"center",gap:"0.5rem"},children:"ğŸ¦ SEPA-Mandat"}),A.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"Mandatsreferenz"}),A.jsx("div",{style:{fontSize:"0.95rem",color:"#fff",fontWeight:"500",wordBreak:"break-all"},children:Qe.sepa_mandats_id})]})})]}),Qe.gekuendigt_von&&A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[A.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.1rem",color:"#FFD700",display:"flex",alignItems:"center",gap:"0.5rem"},children:"ğŸ“ KÃ¼ndigungsinfo"}),A.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"GekÃ¼ndigt von"}),A.jsx("div",{style:{fontSize:"0.95rem",color:"#fff",fontWeight:"500"},children:Qe.gekuendigt_von})]})})]}),Qe.ruhepause_grund&&A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[A.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.1rem",color:"#FFD700",display:"flex",alignItems:"center",gap:"0.5rem"},children:"â¸ï¸ Ruhepause-Details"}),A.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"Grund"}),A.jsx("div",{style:{fontSize:"0.95rem",color:"#fff",fontWeight:"500"},children:Qe.ruhepause_grund})]})})]}),(Qe.unterschrift_datum||Qe.dokument_pfad)&&A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[A.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.1rem",color:"#FFD700",display:"flex",alignItems:"center",gap:"0.5rem"},children:"ğŸ“„ Dokumente"}),A.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[Qe.unterschrift_datum&&A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"Unterschriftsdatum"}),A.jsx("div",{style:{fontSize:"0.95rem",color:"#fff",fontWeight:"500"},children:new Date(Qe.unterschrift_datum).toLocaleDateString("de-DE")})]}),Qe.dokument_pfad&&A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"Dokument-Pfad"}),A.jsx("div",{style:{fontSize:"0.85rem",color:"#3b82f6",fontWeight:"500",wordBreak:"break-all"},children:Qe.dokument_pfad})]})]})]}),(Qe.notizen||Qe.bemerkung)&&A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[A.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.1rem",color:"#FFD700",display:"flex",alignItems:"center",gap:"0.5rem"},children:"ğŸ“ Notizen"}),A.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[Qe.notizen&&A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"Notizen"}),A.jsx("div",{style:{fontSize:"0.9rem",color:"#fff",fontWeight:"400",lineHeight:"1.5"},children:Qe.notizen})]}),Qe.bemerkung&&A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"Bemerkung"}),A.jsx("div",{style:{fontSize:"0.9rem",color:"#fff",fontWeight:"400",lineHeight:"1.5"},children:Qe.bemerkung})]})]})]}),A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[A.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.1rem",color:"#FFD700",display:"flex",alignItems:"center",gap:"0.5rem"},children:"ğŸ”§ Technische Daten"}),A.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"Vertrags-ID"}),A.jsx("div",{style:{fontSize:"0.95rem",color:"#fff",fontWeight:"500"},children:Qe.id})]}),A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"PersÃ¶nliche Vertragsnummer"}),A.jsxs("div",{style:{fontSize:"0.95rem",color:"#fff",fontWeight:"500"},children:["#",Qe.personenVertragNr]})]}),Qe.magicline_contract_id&&A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"Magicline Vertrags-ID"}),A.jsx("div",{style:{fontSize:"0.95rem",color:"#9ca3af",fontWeight:"500"},children:Qe.magicline_contract_id})]}),void 0!==Qe.geloescht&&A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)",marginBottom:"0.2rem"},children:"Status"}),A.jsx("div",{style:{fontSize:"0.95rem",color:Qe.geloescht?"#ef4444":"#4caf50",fontWeight:"600"},children:Qe.geloescht?"ğŸ—‘ï¸ GelÃ¶scht":"âœ… Aktiv"})]})]})]})]})]}),A.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.03)",borderRadius:"8px",padding:"1rem",fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.5)",display:"flex",justifyContent:"space-between",flexWrap:"wrap",gap:"0.5rem"},children:[A.jsxs("div",{children:["Erstellt: ",Qe.erstellt_am?new Date(Qe.erstellt_am).toLocaleString("de-DE"):"Unbekannt"]}),Qe.aktualisiert_am&&A.jsxs("div",{children:["Aktualisiert: ",new Date(Qe.aktualisiert_am).toLocaleString("de-DE")]})]}),A.jsx("div",{style:{marginTop:"2rem",display:"flex",justifyContent:"center"},children:A.jsx("button",{onClick:()=>be(!1),style:{padding:"0.75rem 2rem",background:"linear-gradient(135deg, #FFD700 0%, #FFA500 100%)",color:"#1a1a2e",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 4px 12px rgba(255, 215, 0, 0.3)",transition:"all 0.2s ease"},onMouseEnter:A=>{A.currentTarget.style.transform="translateY(-2px)",A.currentTarget.style.boxShadow="0 6px 16px rgba(255, 215, 0, 0.4)"},onMouseLeave:A=>{A.currentTarget.style.transform="translateY(0)",A.currentTarget.style.boxShadow="0 4px 12px rgba(255, 215, 0, 0.3)"},children:"SchlieÃŸen"})})]})]})}),ve&&A.jsx("div",{onClick:()=>Ue(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999,padding:"20px"},children:A.jsxs("div",{onClick:A=>A.stopPropagation(),style:{background:"linear-gradient(135deg, rgba(30, 30, 40, 0.98) 0%, rgba(20, 20, 30, 0.98) 100%)",borderRadius:"16px",padding:"2rem",maxWidth:"500px",width:"100%",border:"1px solid rgba(231, 76, 60, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)"},children:[A.jsx("h2",{style:{color:"#e74c3c",marginBottom:"1.5rem",fontSize:"1.5rem"},children:"ğŸ—‘ï¸ Mitglied archivieren"}),A.jsxs("div",{style:{marginBottom:"1.5rem",color:"rgba(255, 255, 255, 0.9)"},children:[A.jsxs("p",{children:["MÃ¶chten Sie ",A.jsxs("strong",{style:{color:"#FFD700"},children:[K.vorname," ",K.nachname]})," wirklich archivieren?"]}),A.jsx("p",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.6)",marginTop:"1rem"},children:"Das Mitglied wird aus der aktiven Liste entfernt und mit allen Daten ins Archiv verschoben. Diese Aktion kann nicht rÃ¼ckgÃ¤ngig gemacht werden."})]}),A.jsxs("div",{style:{marginBottom:"1.5rem"},children:[A.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"rgba(255, 255, 255, 0.9)"},children:"Grund (optional):"}),A.jsx("textarea",{value:ke,onChange:A=>Se(A.target.value),placeholder:"z.B. Austritt, Umzug, KÃ¼ndigung...",rows:3,style:{width:"100%",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 215, 0, 0.2)",borderRadius:"8px",padding:"12px",color:"#fff",fontSize:"0.95rem",resize:"vertical",fontFamily:"inherit"}})]}),A.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[A.jsx("button",{onClick:()=>{Ue(!1),Se("")},style:{padding:"0.75rem 1.5rem",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#fff",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",transition:"all 0.3s ease"},onMouseEnter:A=>{A.currentTarget.style.background="rgba(255, 255, 255, 0.15)"},onMouseLeave:A=>{A.currentTarget.style.background="rgba(255, 255, 255, 0.1)"},children:"Abbrechen"}),A.jsx("button",{onClick:async()=>{var A,e;try{(await i.post(`/mitglieder/${U}/archivieren`,{grund:ke||"Mitglied archiviert",archiviert_von:(null==b?void 0:b.id)||null})).data.success&&(Ue(!1),alert(`âœ… ${K.vorname} ${K.nachname} wurde erfolgreich archiviert.`),window.location.href="/dashboard/mitglieder")}catch(t){console.error("Fehler beim Archivieren:",t),alert("âŒ Fehler beim Archivieren: "+((null==(e=null==(A=t.response)?void 0:A.data)?void 0:e.error)||t.message))}},style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #e74c3c 0%, #c0392b 100%)",border:"none",borderRadius:"8px",color:"#fff",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",boxShadow:"0 4px 12px rgba(231, 76, 60, 0.3)",transition:"all 0.3s ease"},onMouseEnter:A=>{A.currentTarget.style.transform="translateY(-2px)",A.currentTarget.style.boxShadow="0 6px 16px rgba(231, 76, 60, 0.4)"},onMouseLeave:A=>{A.currentTarget.style.transform="translateY(0)",A.currentTarget.style.boxShadow="0 4px 12px rgba(231, 76, 60, 0.3)"},children:"ğŸ—‘ï¸ Jetzt archivieren"})]})]})}),Ne&&Te&&A.jsx("div",{className:"modal-overlay",onClick:()=>{_e(!1),Me(null)},style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"2rem"},children:A.jsxs("div",{onClick:A=>A.stopPropagation(),style:{background:"linear-gradient(135deg, rgba(30, 30, 40, 0.98) 0%, rgba(20, 20, 30, 0.98) 100%)",borderRadius:"16px",padding:"2rem",maxWidth:"500px",width:"100%",border:"1px solid rgba(255, 193, 7, 0.3)",boxShadow:"none"},children:[A.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1.5rem",fontSize:"4rem"},children:"âš ï¸"}),A.jsx("h2",{style:{color:"#ffc107",marginBottom:"1.5rem",fontSize:"1.3rem",textAlign:"center",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.5px"},children:"ACHTUNG: VERTRAG IST NOCH AKTIV!"}),A.jsxs("div",{style:{marginBottom:"1.5rem",color:"rgba(255, 255, 255, 0.9)"},children:[A.jsxs("p",{style:{textAlign:"left"},children:["Vertrag ",A.jsxs("strong",{style:{color:"#FFD700"},children:["#",Te.personenVertragNr]})," ist noch aktiv!"]}),A.jsx("p",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.9)",marginTop:"1rem",textAlign:"left"},children:"MÃ¶chten Sie den Vertrag trotzdem kÃ¼ndigen?"}),A.jsxs("p",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.9)",marginTop:"0.5rem",textAlign:"left"},children:["Bei ",A.jsx("strong",{style:{color:"#FFD700"},children:'"Ja"'})," wird der Vertrag gekÃ¼ndigt und in die Archivierten/Ehemaligen verschoben."]}),A.jsxs("p",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.9)",marginTop:"0.5rem",textAlign:"left"},children:["Bei ",A.jsx("strong",{style:{color:"#FFD700"},children:'"Nein"'})," wird die Aktion abgebrochen."]})]}),A.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[A.jsx("button",{onClick:()=>{_e(!1),Me(null)},style:{padding:"0.75rem 1.5rem",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#fff",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",transition:"all 0.3s ease"},onMouseEnter:A=>{A.currentTarget.style.background="rgba(255, 255, 255, 0.15)"},onMouseLeave:A=>{A.currentTarget.style.background="rgba(255, 255, 255, 0.1)"},children:"Nein"}),A.jsx("button",{onClick:async()=>{if(Te)try{await i.put(`/vertraege/${Te.id}/kuendigen`,{kuendigungsdatum:(new Date).toISOString().split("T")[0],kuendigung_eingegangen:(new Date).toISOString().split("T")[0],status:"gekuendigt"}),alert("âœ… Vertrag wurde erfolgreich gekÃ¼ndigt und archiviert."),_e(!1),Me(null),await sr()}catch(A){console.error("Fehler beim KÃ¼ndigen des Vertrags:",A),alert("Fehler beim KÃ¼ndigen des Vertrags. Bitte versuchen Sie es erneut.")}},style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #ffc107 0%, #ff9800 100%)",border:"none",borderRadius:"8px",color:"#fff",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(255, 193, 7, 0.3)"},onMouseEnter:A=>{A.currentTarget.style.background="linear-gradient(135deg, #ff9800 0%, #ffc107 100%)",A.currentTarget.style.boxShadow="0 6px 16px rgba(255, 193, 7, 0.4)"},onMouseLeave:A=>{A.currentTarget.style.background="linear-gradient(135deg, #ffc107 0%, #ff9800 100%)",A.currentTarget.style.boxShadow="0 4px 12px rgba(255, 193, 7, 0.3)"},children:"Ja"})]})]})}),je&&member&&A.jsx(q,{mitglied:member,dojo:currentDojo,onClose:()=>Ee(!1),isModal:!0})]})};export{nl as default};
