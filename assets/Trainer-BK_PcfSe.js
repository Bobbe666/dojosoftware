import{j as e}from"./animation-1wuIdCBS.js";import{r as n}from"./vendor-router-BhMXg4Z-.js";import{D as a,a as t,c as l}from"./index-DUnH23_2.js";import"./vendor-react-DtuzQOD1.js";import"./query-Bs1dTGah.js";import"./icons-D7rg4pDH.js";const i=l.apiBaseUrl,r=()=>{const{trainer:l,stile:r,ladeAlleDaten:s}=n.useContext(a),[c,o]=n.useState({vorname:"",nachname:"",email:"",telefon:"",stile:[]}),h=(null==r?void 0:r.map(e=>e.name))||[];return e.jsxs("div",{className:"trainer-container",children:[e.jsxs("section",{className:"trainer-list",children:[e.jsx("h2",{children:"Trainer verwalten"}),e.jsxs("table",{className:"trainer-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Vorname"}),e.jsx("th",{children:"Nachname"}),e.jsx("th",{children:"E-Mail"}),e.jsx("th",{children:"Telefon"}),e.jsx("th",{children:"Stile"}),e.jsx("th",{children:"Aktionen"})]})}),e.jsx("tbody",{children:l.length>0?l.map(n=>e.jsxs("tr",{children:[e.jsx("td",{children:n.vorname}),e.jsx("td",{children:n.nachname}),e.jsx("td",{children:n.email||"–"}),e.jsx("td",{children:n.telefon||"–"}),e.jsx("td",{children:(n.stile||[]).join(", ")}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-danger",onClick:()=>(async e=>{if(window.confirm("Diesen Trainer wirklich löschen?"))try{await t.delete(`${i}/api/trainer/${e}`),s()}catch(n){console.error(n),alert("Fehler beim Löschen.")}})(n.trainer_id),children:"Löschen"})})]},n.trainer_id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"no-data",children:"Keine Trainer vorhanden."})})})]})]}),e.jsxs("section",{className:"trainer-form",children:[e.jsx("h2",{children:"Neuen Trainer hinzufügen"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("label",{children:["Vorname",e.jsx("input",{type:"text",value:c.vorname,onChange:e=>o({...c,vorname:e.target.value})})]}),e.jsxs("label",{children:["Nachname",e.jsx("input",{type:"text",value:c.nachname,onChange:e=>o({...c,nachname:e.target.value})})]}),e.jsxs("label",{children:["E-Mail (optional)",e.jsx("input",{type:"email",value:c.email,onChange:e=>o({...c,email:e.target.value})})]}),e.jsxs("label",{children:["Telefon (optional)",e.jsx("input",{type:"tel",value:c.telefon,onChange:e=>o({...c,telefon:e.target.value})})]}),e.jsxs("label",{className:"full-width",children:["Stile auswählen",e.jsx("select",{multiple:!0,value:c.stile,onChange:e=>{const n=Array.from(e.target.selectedOptions).map(e=>e.value);o(e=>({...e,stile:n}))},children:h.length>0?h.map(n=>e.jsx("option",{value:n,children:n},n)):e.jsx("option",{disabled:!0,children:"Keine Stile verfügbar"})})]})]}),e.jsx("button",{className:"btn btn-primary",onClick:async()=>{if(c.vorname.trim()&&c.nachname.trim())if(0!==c.stile.length)try{await t.post(`${i}/api/trainer`,c),o({vorname:"",nachname:"",email:"",telefon:"",stile:[]}),s()}catch(e){console.error(e),alert("Fehler beim Hinzufügen.")}else alert("Bitte mindestens einen Stil auswählen.");else alert("Bitte Vorname und Nachname eingeben.")},children:"Hinzufügen"})]})]})};export{r as default};
