const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-Co2OpsG1.js","assets/animation-1wuIdCBS.js","assets/vendor-router-BhMXg4Z-.js","assets/vendor-react-DtuzQOD1.js","assets/index-CkXcCt97.js","assets/TrialBanner-Dz5Tq5qX.js","assets/icons-D7rg4pDH.js","assets/TrialBanner-BWMQlBHO.css","assets/MemberDashboard-UzEt1MGm.js","assets/MemberHeader-B9i2VG32.js","assets/query-Bs1dTGah.js","assets/Dashboard-W-VHcyNF.css","assets/index-B7BewSvP.js","assets/MemberDashboard-DmnK7BUP.css","assets/CheckinSystem-ad40uwyn.css","assets/charts-CuVbSI8O.js","assets/ZieleEntwicklung-BfEKqiTa.js","assets/ZieleEntwicklung-DU0rjD2Y.css","assets/SupportTickets-HJX-q22-.js","assets/SupportTickets-OptkLdqH.css","assets/VerbandDashboard-Bg9-cqkl.js","assets/VerbandDashboard-CmuaNfjV.css","assets/AgbStatusWidget-DLNCMguB.js","assets/Dashboard-Bx4vn88B.css","assets/DashboardTdaVib-dEGZgBqN.js","assets/DashboardStart-C3-YnetP.js","assets/MitgliederListe-BBmDAwGk.js","assets/MitgliedDetail-B29v8gw7.js","assets/MitgliedDetailShared-B_ERVqnV.js","assets/sanitizer-DJNv4htu.js","assets/MitgliedDetailShared-zfKovKdA.css","assets/EhemaligenListe-o2c2bknM.js","assets/InteressentenListe-LSXOet-0.js","assets/MitgliederFilter-BDjUYeGn.js","assets/Auswertungen-Dh5iUIUG.css","assets/Anwesenheit-DkrKUnrW.js","assets/Anwesenheit-CyXhgfPh.css","assets/AnwesenheitDashboard-Bfa3Rmx7.js","assets/AnwesenheitDashboard-DPFA67Uo.css","assets/CheckinSystem-BAwPue_m.js","assets/VerkaufKasse-nCKzCSu5.js","assets/VerkaufKasse-DL-1JeNR.css","assets/PersonalCheckin-D4cjjtCF.js","assets/PersonalCheckin-CchutD4W.css","assets/PublicCheckinDisplay-uiXgkh4O.js","assets/PublicCheckinDisplay-CfqgtC_0.css","assets/Stundenplan-CK-ZanU9.js","assets/Stundenplan-KSFQr8qs.css","assets/Kurse-EeiLxJRW.js","assets/Kurse-CAlt1PBo.css","assets/Trainer-BK_PcfSe.js","assets/Trainer-DCyARmnF.css","assets/GruppenStilverwaltung-BD8OgEu5.js","assets/GruppenStilverwaltung-Dlsz-pi2.css","assets/Stilverwaltung-DKd5yrWb.js","assets/Stilverwaltung-CX6M1gGJ.css","assets/StandortVerwaltung-64T-7B4Y.js","assets/StandortVerwaltung-qz0vxUI-.css","assets/PublicTimetableDisplay-q-ba6VxM.js","assets/PublicTimetableDisplay-D06_yQin.css","assets/Finanzcockpit-BDjKVvAT.js","assets/Finanzcockpit-Xj0PJVZ6.css","assets/EuerUebersicht-BwgquKPo.js","assets/AusgabenVerwaltung-CBf_jWSA.js","assets/Beitraege-DXVnArha.js","assets/Beitraege-DPxpdO8s.css","assets/Mahnwesen-VQIkEWGo.js","assets/Mahnwesen-RhgDE7Nf.css","assets/MahnstufenEinstellungen-11rhlQBS.js","assets/MahnstufenEinstellungen-C35MJ92X.css","assets/Rechnungsverwaltung-C-wgmwn2.js","assets/Rechnungsverwaltung-BNCe_sC6.css","assets/RechnungErstellen-B3HYKLNW.js","assets/RechnungErstellen-x4yPRu2h.css","assets/SepaMandateVerwaltung-DjiJmz10.js","assets/SepaMandateVerwaltung-DQWoKCHg.css","assets/LastschriftManagement-DrnLB9Zg.js","assets/LastschriftManagement-Cx-8zrNY.css","assets/TarifePreise-C53Kkftl.js","assets/TarifePreise-BWuvGooo.css","assets/Rabattsystem-C-3AXqJl.js","assets/ZahlungszyklenSeite-Uxe29DHa.js","assets/ZahlungszyklenSeite-D0eAeaNB.css","assets/ZahlungsEinstellungen-Be4UUftI.js","assets/TresenUebersicht-BGl0AkuF.js","assets/TresenUebersicht-CuMiwgsl.css","assets/ArtikelVerwaltung-BqIW0O0-.js","assets/ArtikelVerwaltungOverrides-DeTTlh69.css","assets/ArtikelFormular-XUxpkt3N.js","assets/ArtikelgruppenVerwaltung-C_dfiobl.js","assets/ArtikelgruppenVerwaltung-Cki0Q4_y.css","assets/MemberSchedule-BvDM4VJJ.js","assets/MemberEvents-Ceap_F0C.js","assets/MemberPayments-JeUocfON.js","assets/MemberStats-x04R4fQZ.js","assets/MemberStats-BH_7Ndjn.css","assets/MemberStyles-CFLJChU5.js","assets/MemberStyles-qlNNkv3h.css","assets/CourseRating-D9UNvWhv.js","assets/CourseRating-CVCH5yHv.css","assets/EquipmentChecklist-CDvrM2a_.js","assets/AppInstallPage-BJYF4oaB.js","assets/TrainerDashboard-Bx3LRda9.js","assets/TrainerOnlyRoute-D0rwgyA0.js","assets/CourseRatingAdmin-650nucy_.js","assets/CourseRatingAdmin-HF5xPBqA.css","assets/Personal-Ctww7ifb.js","assets/Personal-C46_5iIW.css","assets/EinstellungenDojo-CqWo6gM4.js","assets/AdminVerwaltung-CWVrKqDi.js","assets/AdminVerwaltung-Mz0Nj8yB.css","assets/EinstellungenDojo-CKtvaQl2.css","assets/AuditLog-DzHkWqWf.js","assets/AuditLog-Czbby9-Z.css","assets/BuddyVerwaltung-BwfZUHcb.js","assets/BuddyVerwaltung-CkIVP2Sw.css","assets/Auswertungen-BmETQLhE.js","assets/Auswertungen-B8oOWX27.css","assets/BerichteDokumente-BJkrOZW7.js","assets/BerichteDokumente-CGpiuTCO.css","assets/DojosVerwaltung-Cghtve-J.js","assets/DojosVerwaltung-BQqpD5O8.css","assets/DojoEdit-DBjmDbXc.js","assets/DojoEdit-TkZlFScD.css","assets/DokumenteVerwaltung-DttF2xA7.js","assets/editor-_pChrhAz.js","assets/DokumenteVerwaltung-D_-ZTp9G.css","assets/NotificationSystem-D5fvDA1Q.js","assets/NewsVerwaltung-BbY7JQ25.js","assets/News-BiStq8eB.css","assets/NotificationSystem-xAfpVasp.css","assets/PruefungsVerwaltung-Bvtxfyso.js","assets/PruefungDurchfuehren-RoCoGn0M.js","assets/BadgeAdminOverview-NmeAiNjN.js","assets/WebhookVerwaltung-COS5NhuW.js","assets/IntegrationsEinstellungen-5KQt3oDF.js","assets/DatevExport-DqQuKnLA.js","assets/KalenderAbo-DggXqDZH.js","assets/Events-045cKsiU.js","assets/Events-CCAXz54O.css","assets/Events-ZQ_9pH44.css","assets/MeineEvents-CiL9ZkH3.js","assets/NewsFormular-DYTUl_g5.js","assets/Homepage-CkD6Viou.js","assets/PublicRegistration-DSb8YJnC.js","assets/PublicRegistration-Do8Sofsq.css","assets/Homepage-CSV8VncX.css","assets/BuddyInviteRegistration-aAo_mwU7.js","assets/VerbandMitgliedWerden-Bm5woa1-.js","assets/MagicLineImport-CTHUT5V_.js","assets/PricingPage-pkhAefW9.js","assets/PublicFooter-ByHLLdcE.js","assets/PublicFooter-C8ZfI5Y7.css","assets/PricingPage-6LHjlMCC.css","assets/RegisterPage-BPja2OiV.js","assets/RegisterPage-DjNGCnZt.css","assets/ContactPage-QENIVFAs.js","assets/ImpressumPage-DIfXqc2z.js","assets/AboutPage-BRr4Q6uM.js","assets/DatenschutzPage-2yKWmtmc.js","assets/AGBPage-B0R3WWSI.js","assets/HelpPage-DIiub_xS.js","assets/GaleriePage-B6fxxv8t.js","assets/DemoPage-4NU1jZgW.js"])))=>i.map(i=>d[i]);
import{j as e}from"./animation-1wuIdCBS.js";import{r as t,b as n,a as r,u as s,N as a,B as i,c as o,d as l}from"./vendor-router-BhMXg4Z-.js";import{a as d,g as c}from"./vendor-react-DtuzQOD1.js";import{Q as u,a as m}from"./query-Bs1dTGah.js";import{S as h,C as g,a as p,b as f,c as b,Z as x,B as j,d as v,e as y,T as _,L as k,F as w,f as S,H as z,g as E,h as N,M as D,U as A,i as R,E as T,j as B,k as C,l as P,I}from"./icons-D7rg4pDH.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var L,O={};const F=c(function(){if(L)return O;L=1;var e=d();return O.createRoot=e.createRoot,O.hydrateRoot=e.hydrateRoot,O}()),M={},V=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),s=(null==n?void 0:n.nonce)||(null==n?void 0:n.getAttribute("nonce"));r=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in M)return;M[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,s&&r.setAttribute("nonce",s),document.head.appendChild(r),t?new Promise((t,n)=>{r.addEventListener("load",t),r.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)})};function U(e,t){return function(){return e.apply(t,arguments)}}const{toString:W}=Object.prototype,{getPrototypeOf:K}=Object,{iterator:$,toStringTag:H}=Symbol,q=(e=>t=>{const n=W.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),G=e=>(e=e.toLowerCase(),t=>q(t)===e),J=e=>t=>typeof t===e,{isArray:Z}=Array,Y=J("undefined");function X(e){return null!==e&&!Y(e)&&null!==e.constructor&&!Y(e.constructor)&&te(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Q=G("ArrayBuffer");const ee=J("string"),te=J("function"),ne=J("number"),re=e=>null!==e&&"object"==typeof e,se=e=>{if("object"!==q(e))return!1;const t=K(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||H in e||$ in e)},ae=G("Date"),ie=G("File"),oe=G("Blob"),le=G("FileList"),de=G("URLSearchParams"),[ce,ue,me,he]=["ReadableStream","Request","Response","Headers"].map(G);function ge(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,s;if("object"!=typeof e&&(e=[e]),Z(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(X(e))return;const s=n?Object.getOwnPropertyNames(e):Object.keys(e),a=s.length;let i;for(r=0;r<a;r++)i=s[r],t.call(null,e[i],i,e)}}function pe(e,t){if(X(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const fe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,be=e=>!Y(e)&&e!==fe;const xe=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&K(Uint8Array)),je=G("HTMLFormElement"),ve=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),ye=G("RegExp"),_e=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ge(n,(n,s)=>{let a;!1!==(a=t(n,s,e))&&(r[s]=a||n)}),Object.defineProperties(e,r)};const ke=G("AsyncFunction"),we=(Se="function"==typeof setImmediate,ze=te(fe.postMessage),Se?setImmediate:ze?(Ee=`axios@${Math.random()}`,Ne=[],fe.addEventListener("message",({source:e,data:t})=>{e===fe&&t===Ee&&Ne.length&&Ne.shift()()},!1),e=>{Ne.push(e),fe.postMessage(Ee,"*")}):e=>setTimeout(e));var Se,ze,Ee,Ne;const De="undefined"!=typeof queueMicrotask?queueMicrotask.bind(fe):"undefined"!=typeof process&&process.nextTick||we,Ae={isArray:Z,isArrayBuffer:Q,isBuffer:X,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||te(e.append)&&("formdata"===(t=q(e))||"object"===t&&te(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Q(e.buffer),t},isString:ee,isNumber:ne,isBoolean:e=>!0===e||!1===e,isObject:re,isPlainObject:se,isEmptyObject:e=>{if(!re(e)||X(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:ce,isRequest:ue,isResponse:me,isHeaders:he,isUndefined:Y,isDate:ae,isFile:ie,isBlob:oe,isRegExp:ye,isFunction:te,isStream:e=>re(e)&&te(e.pipe),isURLSearchParams:de,isTypedArray:xe,isFileList:le,forEach:ge,merge:function e(){const{caseless:t,skipUndefined:n}=be(this)&&this||{},r={},s=(s,a)=>{const i=t&&pe(r,a)||a;se(r[i])&&se(s)?r[i]=e(r[i],s):se(s)?r[i]=e({},s):Z(s)?r[i]=s.slice():n&&Y(s)||(r[i]=s)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&ge(arguments[a],s);return r},extend:(e,t,n,{allOwnKeys:r}={})=>(ge(t,(t,r)=>{n&&te(t)?e[r]=U(t,n):e[r]=t},{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,a,i;const o={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)i=s[a],r&&!r(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==n&&K(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:q,kindOfTest:G,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Z(e))return e;let t=e.length;if(!ne(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[$]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:je,hasOwnProperty:ve,hasOwnProp:ve,reduceDescriptors:_e,freezeMethods:e=>{_e(e,(t,n)=>{if(te(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];te(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return Z(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:pe,global:fe,isContextDefined:be,isSpecCompliantForm:function(e){return!!(e&&te(e.append)&&"FormData"===e[H]&&e[$])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(re(e)){if(t.indexOf(e)>=0)return;if(X(e))return e;if(!("toJSON"in e)){t[r]=e;const s=Z(e)?[]:{};return ge(e,(e,t)=>{const a=n(e,r+1);!Y(a)&&(s[t]=a)}),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:ke,isThenable:e=>e&&(re(e)||te(e))&&te(e.then)&&te(e.catch),setImmediate:we,asap:De,isIterable:e=>null!=e&&te(e[$])};function Re(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}Ae.inherits(Re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ae.toJSONObject(this.config),code:this.code,status:this.status}}});const Te=Re.prototype,Be={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Be[e]={value:e}}),Object.defineProperties(Re,Be),Object.defineProperty(Te,"isAxiosError",{value:!0}),Re.from=(e,t,n,r,s,a)=>{const i=Object.create(Te);Ae.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return Re.call(i,o,l,n,r,s),e&&null==i.cause&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",a&&Object.assign(i,a),i};function Ce(e){return Ae.isPlainObject(e)||Ae.isArray(e)}function Pe(e){return Ae.endsWith(e,"[]")?e.slice(0,-2):e}function Ie(e,t,n){return e?e.concat(t).map(function(e,t){return e=Pe(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Le=Ae.toFlatObject(Ae,{},null,function(e){return/^is[A-Z]/.test(e)});function Oe(e,t,n){if(!Ae.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Ae.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Ae.isUndefined(t[e])})).metaTokens,s=n.visitor||d,a=n.dots,i=n.indexes,o=(n.Blob||"undefined"!=typeof Blob&&Blob)&&Ae.isSpecCompliantForm(t);if(!Ae.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Ae.isDate(e))return e.toISOString();if(Ae.isBoolean(e))return e.toString();if(!o&&Ae.isBlob(e))throw new Re("Blob is not supported. Use a Buffer instead.");return Ae.isArrayBuffer(e)||Ae.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function d(e,n,s){let o=e;if(e&&!s&&"object"==typeof e)if(Ae.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Ae.isArray(e)&&function(e){return Ae.isArray(e)&&!e.some(Ce)}(e)||(Ae.isFileList(e)||Ae.endsWith(n,"[]"))&&(o=Ae.toArray(e)))return n=Pe(n),o.forEach(function(e,r){!Ae.isUndefined(e)&&null!==e&&t.append(!0===i?Ie([n],r,a):null===i?n:n+"[]",l(e))}),!1;return!!Ce(e)||(t.append(Ie(s,n,a),l(e)),!1)}const c=[],u=Object.assign(Le,{defaultVisitor:d,convertValue:l,isVisitable:Ce});if(!Ae.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Ae.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),Ae.forEach(n,function(n,a){!0===(!(Ae.isUndefined(n)||null===n)&&s.call(t,n,Ae.isString(a)?a.trim():a,r,u))&&e(n,r?r.concat(a):[a])}),c.pop()}}(e),t}function Fe(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Me(e,t){this._pairs=[],e&&Oe(e,this,t)}const Ve=Me.prototype;function Ue(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function We(e,t,n){if(!t)return e;const r=n&&n.encode||Ue;Ae.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(a=s?s(t,n):Ae.isURLSearchParams(t)?t.toString():new Me(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}Ve.append=function(e,t){this._pairs.push([e,t])},Ve.toString=function(e){const t=e?function(t){return e.call(this,t,Fe)}:Fe;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class Ke{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ae.forEach(this.handlers,function(t){null!==t&&e(t)})}}const $e={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},He={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Me,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},qe="undefined"!=typeof window&&"undefined"!=typeof document,Ge="object"==typeof navigator&&navigator||void 0,Je=qe&&(!Ge||["ReactNative","NativeScript","NS"].indexOf(Ge.product)<0),Ze="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Ye=qe&&window.location.href||"http://localhost",Xe={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qe,hasStandardBrowserEnv:Je,hasStandardBrowserWebWorkerEnv:Ze,navigator:Ge,origin:Ye},Symbol.toStringTag,{value:"Module"})),...He};function Qe(e){function t(e,n,r,s){let a=e[s++];if("__proto__"===a)return!0;const i=Number.isFinite(+a),o=s>=e.length;if(a=!a&&Ae.isArray(r)?r.length:a,o)return Ae.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!i;r[a]&&Ae.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],s)&&Ae.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],t[a]=e[a];return t}(r[a])),!i}if(Ae.isFormData(e)&&Ae.isFunction(e.entries)){const n={};return Ae.forEachEntry(e,(e,r)=>{t(function(e){return Ae.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null}const et={transitional:$e,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=Ae.isObject(e);s&&Ae.isHTMLForm(e)&&(e=new FormData(e));if(Ae.isFormData(e))return r?JSON.stringify(Qe(e)):e;if(Ae.isArrayBuffer(e)||Ae.isBuffer(e)||Ae.isStream(e)||Ae.isFile(e)||Ae.isBlob(e)||Ae.isReadableStream(e))return e;if(Ae.isArrayBufferView(e))return e.buffer;if(Ae.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Oe(e,new Xe.classes.URLSearchParams,{visitor:function(e,t,n,r){return Xe.isNode&&Ae.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((a=Ae.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Oe(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(Ae.isString(e))try{return(t||JSON.parse)(e),Ae.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||et.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Ae.isResponse(e)||Ae.isReadableStream(e))return e;if(e&&Ae.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(s){if(n){if("SyntaxError"===s.name)throw Re.from(s,Re.ERR_BAD_RESPONSE,this,null,this.response);throw s}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xe.classes.FormData,Blob:Xe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ae.forEach(["delete","get","head","post","put","patch"],e=>{et.headers[e]={}});const tt=Ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nt=Symbol("internals");function rt(e){return e&&String(e).trim().toLowerCase()}function st(e){return!1===e||null==e?e:Ae.isArray(e)?e.map(st):String(e)}function at(e,t,n,r,s){return Ae.isFunction(r)?r.call(this,t,n):(s&&(t=n),Ae.isString(t)?Ae.isString(r)?-1!==t.indexOf(r):Ae.isRegExp(r)?r.test(t):void 0:void 0)}let it=class{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=rt(t);if(!s)throw new Error("header name must be a non-empty string");const a=Ae.findKey(r,s);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=st(e))}const a=(e,t)=>Ae.forEach(e,(e,n)=>s(e,n,t));if(Ae.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Ae.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach(function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&tt[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(Ae.isObject(e)&&Ae.isIterable(e)){let n,r,s={};for(const t of e){if(!Ae.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[r=t[0]]=(n=s[r])?Ae.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(s,t)}else null!=e&&s(t,e,n);return this}get(e,t){if(e=rt(e)){const n=Ae.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Ae.isFunction(t))return t.call(this,e,n);if(Ae.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=rt(e)){const n=Ae.findKey(this,e);return!(!n||void 0===this[n]||t&&!at(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=rt(e)){const s=Ae.findKey(n,e);!s||t&&!at(0,n[s],s,t)||(delete n[s],r=!0)}}return Ae.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!at(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return Ae.forEach(this,(r,s)=>{const a=Ae.findKey(n,s);if(a)return t[a]=st(r),void delete t[s];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(s):String(s).trim();i!==s&&delete t[s],t[i]=st(r),n[i]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Ae.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Ae.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){const t=(this[nt]=this[nt]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=rt(e);t[r]||(!function(e,t){const n=Ae.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})})}(n,e),t[r]=!0)}return Ae.isArray(e)?e.forEach(r):r(e),this}};function ot(e,t){const n=this||et,r=t||n,s=it.from(r.headers);let a=r.data;return Ae.forEach(e,function(e){a=e.call(n,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function lt(e){return!(!e||!e.__CANCEL__)}function dt(e,t,n){Re.call(this,null==e?"canceled":e,Re.ERR_CANCELED,t,n),this.name="CanceledError"}function ct(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Re("Request failed with status code "+n.status,[Re.ERR_BAD_REQUEST,Re.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}it.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ae.reduceDescriptors(it.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}}),Ae.freezeMethods(it),Ae.inherits(dt,Re,{__CANCEL__:!0});const ut=(e,t,n=3)=>{let r=0;const s=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,a=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),d=r[i];s||(s=l),n[a]=o,r[a]=l;let c=i,u=0;for(;c!==a;)u+=n[c++],c%=e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),l-s<t)return;const m=d&&l-d;return m?Math.round(1e3*u/m):void 0}}(50,250);return function(e,t){let n,r,s=0,a=1e3/t;const i=(t,a=Date.now())=>{s=a,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[(...e)=>{const t=Date.now(),o=t-s;o>=a?i(e,t):(n=e,r||(r=setTimeout(()=>{r=null,i(n)},a-o)))},()=>n&&i(n)]}(n=>{const a=n.loaded,i=n.lengthComputable?n.total:void 0,o=a-r,l=s(o);r=a;e({loaded:a,total:i,progress:i?a/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&a<=i?(i-a)/l:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})},n)},mt=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},ht=e=>(...t)=>Ae.asap(()=>e(...t)),gt=Xe.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Xe.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Xe.origin),Xe.navigator&&/(msie|trident)/i.test(Xe.navigator.userAgent)):()=>!0,pt=Xe.hasStandardBrowserEnv?{write(e,t,n,r,s,a,i){if("undefined"==typeof document)return;const o=[`${e}=${encodeURIComponent(t)}`];Ae.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),Ae.isString(r)&&o.push(`path=${r}`),Ae.isString(s)&&o.push(`domain=${s}`),!0===a&&o.push("secure"),Ae.isString(i)&&o.push(`SameSite=${i}`),document.cookie=o.join("; ")},read(e){if("undefined"==typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function ft(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const bt=e=>e instanceof it?{...e}:e;function xt(e,t){t=t||{};const n={};function r(e,t,n,r){return Ae.isPlainObject(e)&&Ae.isPlainObject(t)?Ae.merge.call({caseless:r},e,t):Ae.isPlainObject(t)?Ae.merge({},t):Ae.isArray(t)?t.slice():t}function s(e,t,n,s){return Ae.isUndefined(t)?Ae.isUndefined(e)?void 0:r(void 0,e,0,s):r(e,t,0,s)}function a(e,t){if(!Ae.isUndefined(t))return r(void 0,t)}function i(e,t){return Ae.isUndefined(t)?Ae.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,s,a){return a in t?r(n,s):a in e?r(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,n)=>s(bt(e),bt(t),0,!0)};return Ae.forEach(Object.keys({...e,...t}),function(r){const a=l[r]||s,i=a(e[r],t[r],r);Ae.isUndefined(i)&&a!==o||(n[r]=i)}),n}const jt=e=>{const t=xt({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:i,auth:o}=t;if(t.headers=i=it.from(i),t.url=We(ft(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Ae.isFormData(n))if(Xe.hasStandardBrowserEnv||Xe.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(Ae.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(([e,n])=>{t.includes(e.toLowerCase())&&i.set(e,n)})}if(Xe.hasStandardBrowserEnv&&(r&&Ae.isFunction(r)&&(r=r(t)),r||!1!==r&&gt(t.url))){const e=s&&a&&pt.read(a);e&&i.set(s,e)}return t},vt="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=jt(e);let s=r.data;const a=it.from(r.headers).normalize();let i,o,l,d,c,{responseType:u,onUploadProgress:m,onDownloadProgress:h}=r;function g(){d&&d(),c&&c(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let p=new XMLHttpRequest;function f(){if(!p)return;const r=it.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());ct(function(e){t(e),g()},function(e){n(e),g()},{data:u&&"text"!==u&&"json"!==u?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p}),p=null}p.open(r.method.toUpperCase(),r.url,!0),p.timeout=r.timeout,"onloadend"in p?p.onloadend=f:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(f)},p.onabort=function(){p&&(n(new Re("Request aborted",Re.ECONNABORTED,e,p)),p=null)},p.onerror=function(t){const r=new Re(t&&t.message?t.message:"Network Error",Re.ERR_NETWORK,e,p);r.event=t||null,n(r),p=null},p.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const s=r.transitional||$e;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Re(t,s.clarifyTimeoutError?Re.ETIMEDOUT:Re.ECONNABORTED,e,p)),p=null},void 0===s&&a.setContentType(null),"setRequestHeader"in p&&Ae.forEach(a.toJSON(),function(e,t){p.setRequestHeader(t,e)}),Ae.isUndefined(r.withCredentials)||(p.withCredentials=!!r.withCredentials),u&&"json"!==u&&(p.responseType=r.responseType),h&&([l,c]=ut(h,!0),p.addEventListener("progress",l)),m&&p.upload&&([o,d]=ut(m),p.upload.addEventListener("progress",o),p.upload.addEventListener("loadend",d)),(r.cancelToken||r.signal)&&(i=t=>{p&&(n(!t||t.type?new dt(null,e,p):t),p.abort(),p=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const b=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);b&&-1===Xe.protocols.indexOf(b)?n(new Re("Unsupported protocol "+b+":",Re.ERR_BAD_REQUEST,e)):p.send(s||null)})},yt=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const s=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Re?t:new dt(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,s(new Re(`timeout ${t} of ms exceeded`,Re.ETIMEDOUT))},t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)}),e=null)};e.forEach(e=>e.addEventListener("abort",s));const{signal:o}=r;return o.unsubscribe=()=>Ae.asap(i),o}},_t=function*(e,t){let n=e.byteLength;if(n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},kt=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},wt=(e,t,n,r)=>{const s=async function*(e,t){for await(const n of kt(e))yield*_t(n,t)}(e,t);let a,i=0,o=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await s.next();if(t)return o(),void e.close();let a=r.byteLength;if(n){let e=i+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),s.return())},{highWaterMark:2})},{isFunction:St}=Ae,zt=(({Request:e,Response:t})=>({Request:e,Response:t}))(Ae.global),{ReadableStream:Et,TextEncoder:Nt}=Ae.global,Dt=(e,...t)=>{try{return!!e(...t)}catch(n){return!1}},At=e=>{e=Ae.merge.call({skipUndefined:!0},zt,e);const{fetch:t,Request:n,Response:r}=e,s=t?St(t):"function"==typeof fetch,a=St(n),i=St(r);if(!s)return!1;const o=s&&St(Et),l=s&&("function"==typeof Nt?(e=>t=>e.encode(t))(new Nt):async e=>new Uint8Array(await new n(e).arrayBuffer())),d=a&&o&&Dt(()=>{let e=!1;const t=new n(Xe.origin,{body:new Et,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),c=i&&o&&Dt(()=>Ae.isReadableStream(new r("").body)),u={stream:c&&(e=>e.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!u[e]&&(u[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new Re(`Response type '${e}' is not supported`,Re.ERR_NOT_SUPPORT,n)})});const m=async(e,t)=>{const r=Ae.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(Ae.isBlob(e))return e.size;if(Ae.isSpecCompliantForm(e)){const t=new n(Xe.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Ae.isArrayBufferView(e)||Ae.isArrayBuffer(e)?e.byteLength:(Ae.isURLSearchParams(e)&&(e+=""),Ae.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:s,method:i,data:o,signal:l,cancelToken:h,timeout:g,onDownloadProgress:p,onUploadProgress:f,responseType:b,headers:x,withCredentials:j="same-origin",fetchOptions:v}=jt(e),y=t||fetch;b=b?(b+"").toLowerCase():"text";let _=yt([l,h&&h.toAbortSignal()],g),k=null;const w=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let S;try{if(f&&d&&"get"!==i&&"head"!==i&&0!==(S=await m(x,o))){let e,t=new n(s,{method:"POST",body:o,duplex:"half"});if(Ae.isFormData(o)&&(e=t.headers.get("content-type"))&&x.setContentType(e),t.body){const[e,n]=mt(S,ut(ht(f)));o=wt(t.body,65536,e,n)}}Ae.isString(j)||(j=j?"include":"omit");const t=a&&"credentials"in n.prototype,l={...v,signal:_,method:i.toUpperCase(),headers:x.normalize().toJSON(),body:o,duplex:"half",credentials:t?j:void 0};k=a&&new n(s,l);let h=await(a?y(k,v):y(s,l));const g=c&&("stream"===b||"response"===b);if(c&&(p||g&&w)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=h[t]});const t=Ae.toFiniteNumber(h.headers.get("content-length")),[n,s]=p&&mt(t,ut(ht(p),!0))||[];h=new r(wt(h.body,65536,n,()=>{s&&s(),w&&w()}),e)}b=b||"text";let z=await u[Ae.findKey(u,b)||"text"](h,e);return!g&&w&&w(),await new Promise((t,n)=>{ct(t,n,{data:z,headers:it.from(h.headers),status:h.status,statusText:h.statusText,config:e,request:k})})}catch(z){if(w&&w(),z&&"TypeError"===z.name&&/Load failed|fetch/i.test(z.message))throw Object.assign(new Re("Network Error",Re.ERR_NETWORK,e,k),{cause:z.cause||z});throw Re.from(z,z&&z.code,e,k)}}},Rt=new Map,Tt=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,a=[r,s,n];let i,o,l=a.length,d=Rt;for(;l--;)i=a[l],o=d.get(i),void 0===o&&d.set(i,o=l?new Map:At(t)),d=o;return o};Tt();const Bt={http:null,xhr:vt,fetch:{get:Tt}};Ae.forEach(Bt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const Ct=e=>`- ${e}`,Pt=e=>Ae.isFunction(e)||null===e||!1===e;const It={getAdapter:function(e,t){e=Ae.isArray(e)?e:[e];const{length:n}=e;let r,s;const a={};for(let i=0;i<n;i++){let n;if(r=e[i],s=r,!Pt(r)&&(s=Bt[(n=String(r)).toLowerCase()],void 0===s))throw new Re(`Unknown adapter '${n}'`);if(s&&(Ae.isFunction(s)||(s=s.get(t))))break;a[n||"#"+i]=s}if(!s){const e=Object.entries(a).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new Re("There is no suitable adapter to dispatch the request "+(n?e.length>1?"since :\n"+e.map(Ct).join("\n"):" "+Ct(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return s},adapters:Bt};function Lt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new dt(null,e)}function Ot(e){Lt(e),e.headers=it.from(e.headers),e.data=ot.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return It.getAdapter(e.adapter||et.adapter,e)(e).then(function(t){return Lt(e),t.data=ot.call(e,e.transformResponse,t),t.headers=it.from(t.headers),t},function(t){return lt(t)||(Lt(e),t&&t.response&&(t.response.data=ot.call(e,e.transformResponse,t.response),t.response.headers=it.from(t.response.headers))),Promise.reject(t)})}const Ft="1.13.2",Mt={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Mt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Vt={};Mt.transitional=function(e,t,n){function r(e,t){return"[Axios v"+Ft+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,a)=>{if(!1===e)throw new Re(r(s," has been removed"+(t?" in "+t:"")),Re.ERR_DEPRECATED);return t&&!Vt[s]&&(Vt[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,a)}},Mt.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const Ut={assertOptions:function(e,t,n){if("object"!=typeof e)throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const a=r[s],i=t[a];if(i){const t=e[a],n=void 0===t||i(t,a,e);if(!0!==n)throw new Re("option "+a+" must be "+n,Re.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Re("Unknown option "+a,Re.ERR_BAD_OPTION)}},validators:Mt},Wt=Ut.validators;let Kt=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Ke,response:new Ke}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=xt(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&Ut.assertOptions(n,{silentJSONParsing:Wt.transitional(Wt.boolean),forcedJSONParsing:Wt.transitional(Wt.boolean),clarifyTimeoutError:Wt.transitional(Wt.boolean)},!1),null!=r&&(Ae.isFunction(r)?t.paramsSerializer={serialize:r}:Ut.assertOptions(r,{encode:Wt.function,serialize:Wt.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Ut.assertOptions(t,{baseUrl:Wt.spelling("baseURL"),withXsrfToken:Wt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&Ae.merge(s.common,s[t.method]);s&&Ae.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=it.concat(a,s);const i=[];let o=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let d;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let c,u=0;if(!o){const e=[Ot.bind(this),void 0];for(e.unshift(...i),e.push(...l),c=e.length,d=Promise.resolve(t);u<c;)d=d.then(e[u++],e[u++]);return d}c=i.length;let m=t;for(;u<c;){const e=i[u++],t=i[u++];try{m=e(m)}catch(h){t.call(this,h);break}}try{d=Ot.call(this,m)}catch(h){return Promise.reject(h)}for(u=0,c=l.length;u<c;)d=d.then(l[u++],l[u++]);return d}getUri(e){return We(ft((e=xt(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};Ae.forEach(["delete","get","head","options"],function(e){Kt.prototype[e]=function(t,n){return this.request(xt(n||{},{method:e,url:t,data:(n||{}).data}))}}),Ae.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,s){return this.request(xt(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Kt.prototype[e]=t(),Kt.prototype[e+"Form"]=t(!0)});const $t={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries($t).forEach(([e,t])=>{$t[t]=e});const Ht=function e(t){const n=new Kt(t),r=U(Kt.prototype.request,n);return Ae.extend(r,Kt.prototype,n,{allOwnKeys:!0}),Ae.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(xt(t,n))},r}(et);Ht.Axios=Kt,Ht.CanceledError=dt,Ht.CancelToken=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,s){n.reason||(n.reason=new dt(e,r,s),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let t;return{token:new e(function(e){t=e}),cancel:t}}},Ht.isCancel=lt,Ht.VERSION=Ft,Ht.toFormData=Oe,Ht.AxiosError=Re,Ht.Cancel=Ht.CanceledError,Ht.all=function(e){return Promise.all(e)},Ht.spread=function(e){return function(t){return e.apply(null,t)}},Ht.isAxiosError=function(e){return Ae.isObject(e)&&!0===e.isAxiosError},Ht.mergeConfig=xt,Ht.AxiosHeaders=it,Ht.formToJSON=e=>Qe(Ae.isHTMLForm(e)?new FormData(e):e),Ht.getAdapter=It.getAdapter,Ht.HttpStatusCode=$t,Ht.default=Ht;const{Axios:qt,AxiosError:Gt,CanceledError:Jt,isCancel:Zt,CancelToken:Yt,VERSION:Xt,all:Qt,Cancel:en,isAxiosError:tn,spread:nn,toFormData:rn,AxiosHeaders:sn,HttpStatusCode:an,formToJSON:on,getAdapter:ln,mergeConfig:dn}=Ht,cn=[{version:"2.5.0",date:"2026-01-28",type:"feature",title:"Integrationen & Kalender-Sync",highlights:["Kalender-Synchronisation für Google, Outlook, Apple","Webhook-System für Zapier & Automatisierungen","PayPal Integration vorbereitet","LexOffice Buchhaltungs-Anbindung","DATEV Export für Steuerberater"],details:"Neue Integrations-Seite unter Einstellungen. Mitglieder können ihre Trainings direkt in ihren Kalender abonnieren.",files:["KalenderAbo.jsx","WebhookVerwaltung.jsx","IntegrationsEinstellungen.jsx","DatevExport.jsx"]},{version:"2.4.0",date:"2026-01-27",type:"feature",title:"Badge-System & Auszeichnungen",highlights:["Badges für Mitglieder vergeben","Automatische Badge-Vergabe (Anwesenheit, Jubiläum)","Badge-Übersicht im Mitglieder-Profil","Admin-Verwaltung für Badge-Typen"],details:"Motiviere deine Mitglieder mit Auszeichnungen! Unter Prüfungswesen → Auszeichnungen.",files:["BadgeAdminOverview.jsx","MitgliedFortschritt.jsx"]},{version:"2.3.0",date:"2026-01-26",type:"feature",title:"SEPA-Lastschrift System",highlights:["SEPA-Mandate verwalten","Lastschriftläufe erstellen","SEPA-XML Export (PAIN.008)","Rücklastschriften-Handling"],details:"Vollständiges SEPA-Lastschrift-Management unter Finanzen → Lastschriftlauf.",files:["SepaMandateVerwaltung.jsx","LastschriftManagement.jsx"]},{version:"2.2.0",date:"2026-01-25",type:"feature",title:"Prüfungswesen & Graduierungen",highlights:["Prüfungstermine planen","Live-Prüfungsansicht","Graduierungen verwalten","Prüfungsergebnisse dokumentieren"],details:"Komplettes Prüfungsmanagement unter Prüfungswesen → Prüfungen & Termine.",files:["PruefungsVerwaltung.jsx","PruefungDurchfuehren.jsx","Stilverwaltung.jsx"]},{version:"2.1.0",date:"2026-01-20",type:"feature",title:"Buddy-System & Freunde werben",highlights:["Buddy-Gruppen erstellen","Einladungslinks generieren","Werber-Tracking","Gruppen-Rabatte"],details:"Mitglieder können Freunde einladen unter Dashboard → Buddy-Gruppen.",files:["BuddyVerwaltung.jsx","BuddyInviteRegistration.jsx"]},{version:"2.0.0",date:"2026-01-15",type:"major",title:"Multi-Dojo & Steuer-Compliance",highlights:["Multi-Dojo Unterstützung","Dojo-Switcher im Header","Steuerlich getrennte Buchhaltung","Super-Admin Dashboard"],details:"Verwalte mehrere Dojos mit getrennter Buchhaltung aus einem Account.",files:["DojoSwitcher.jsx","SuperAdminDashboard.jsx"]},{version:"1.9.0",date:"2026-01-10",type:"feature",title:"Vertragsdokumente & AGB",highlights:["AGB & Datenschutz verwalten","Versionierung von Dokumenten","Digitale Zustimmung","DSGVO-konform"],details:"Unter Berichte → Vertragsdokumente können alle rechtlichen Dokumente verwaltet werden.",files:["DokumenteVerwaltung.jsx","AgbConfirmationWrapper.jsx"]},{version:"1.8.0",date:"2026-01-05",type:"improvement",title:"Finanzcockpit & Auswertungen",highlights:["Finanz-Dashboard mit Grafiken","Umsatz-Statistiken","Zahlungsübersicht","Mahnwesen-Integration"],details:"Umfassende Finanzübersicht unter Finanzen → Finanzcockpit.",files:["Finanzcockpit.jsx","Auswertungen.jsx"]}],un=cn[0].version,mn=cn[0].date,hn=t=>{switch(t){case"feature":return e.jsx(h,{size:18});case"major":return e.jsx(y,{size:18});case"security":return e.jsx(v,{size:18});case"bugfix":return e.jsx(j,{size:18});case"improvement":return e.jsx(x,{size:18});default:return e.jsx(b,{size:18})}},gn=e=>{switch(e){case"feature":return"#ffd700";case"major":return"#f59e0b";case"security":return"#ef4444";case"bugfix":return"#10b981";case"improvement":return"#3b82f6";default:return"#888"}},pn=e=>{switch(e){case"feature":return"Neue Funktion";case"major":return"Major Update";case"security":return"Sicherheit";case"bugfix":return"Bugfix";case"improvement":return"Verbesserung";default:return"Update"}},fn=({maxItems:n=5,showAll:r=!1})=>{const[s,a]=t.useState({}),[i,o]=t.useState(r),l=i?cn:cn.slice(0,n);return e.jsxs("div",{style:bn.container,children:[e.jsxs("div",{style:bn.header,children:[e.jsx(h,{size:24,color:"#ffd700"}),e.jsxs("div",{children:[e.jsx("h3",{style:bn.title,children:"Neuigkeiten & Updates"}),e.jsx("p",{style:bn.subtitle,children:"Aktuelle Änderungen im System"})]})]}),e.jsx("div",{style:bn.changelogList,children:l.map((t,n)=>e.jsxs("div",{style:{...bn.changelogItem,borderLeft:`3px solid ${gn(t.type)}`},children:[e.jsxs("div",{style:bn.itemHeader,onClick:()=>{return e=t.version,void a(t=>({...t,[e]:!t[e]}));var e},children:[e.jsxs("div",{style:bn.itemMeta,children:[e.jsxs("span",{style:{...bn.typeBadge,background:`${gn(t.type)}20`,color:gn(t.type)},children:[hn(t.type),pn(t.type)]}),e.jsxs("span",{style:bn.version,children:["v",t.version]}),e.jsxs("span",{style:bn.date,children:[e.jsx(g,{size:12}),new Date(t.date).toLocaleDateString("de-DE")]})]}),e.jsxs("div",{style:bn.itemTitleRow,children:[e.jsx("h4",{style:bn.itemTitle,children:t.title}),s[t.version]?e.jsx(p,{size:18,color:"#888"}):e.jsx(f,{size:18,color:"#888"})]})]}),e.jsx("ul",{style:bn.highlights,children:t.highlights.map((t,n)=>e.jsxs("li",{style:bn.highlight,children:[e.jsx("span",{style:bn.bulletPoint,children:"•"}),t]},n))}),s[t.version]&&e.jsxs("div",{style:bn.expandedContent,children:[t.details&&e.jsx("p",{style:bn.details,children:t.details}),t.files&&t.files.length>0&&e.jsxs("div",{style:bn.filesSection,children:[e.jsx("span",{style:bn.filesLabel,children:"Betroffene Dateien:"}),e.jsx("div",{style:bn.filesList,children:t.files.map((t,n)=>e.jsx("code",{style:bn.fileTag,children:t},n))})]})]})]},t.version))}),!i&&cn.length>n&&e.jsxs("button",{style:bn.showMoreButton,onClick:()=>o(!0),children:["Alle ",cn.length," Updates anzeigen",e.jsx(f,{size:16})]}),i&&cn.length>n&&e.jsxs("button",{style:bn.showMoreButton,onClick:()=>o(!1),children:["Weniger anzeigen",e.jsx(p,{size:16})]})]})},bn={container:{background:"var(--glass-bg, rgba(255, 255, 255, 0.05))",borderRadius:"16px",padding:"1.5rem",border:"1px solid var(--border-accent, rgba(255, 215, 0, 0.2))"},header:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"1.5rem"},title:{color:"var(--primary, #ffd700)",margin:0,fontSize:"1.1rem"},subtitle:{color:"var(--text-secondary, #888)",margin:"4px 0 0 0",fontSize:"0.85rem"},changelogList:{display:"flex",flexDirection:"column",gap:"12px"},changelogItem:{background:"rgba(0, 0, 0, 0.2)",borderRadius:"12px",padding:"16px",cursor:"pointer",transition:"all 0.2s"},itemHeader:{marginBottom:"12px"},itemMeta:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px",flexWrap:"wrap"},typeBadge:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 10px",borderRadius:"6px",fontSize:"0.75rem",fontWeight:"600"},version:{color:"var(--text-secondary, #888)",fontSize:"0.8rem",fontFamily:"monospace"},date:{display:"flex",alignItems:"center",gap:"4px",color:"var(--text-secondary, #888)",fontSize:"0.8rem"},itemTitleRow:{display:"flex",justifyContent:"space-between",alignItems:"center"},itemTitle:{color:"var(--text-primary, #fff)",margin:0,fontSize:"1rem",fontWeight:"600"},highlights:{margin:0,padding:0,listStyle:"none"},highlight:{display:"flex",alignItems:"flex-start",gap:"8px",color:"var(--text-secondary, #aaa)",fontSize:"0.85rem",marginBottom:"4px"},bulletPoint:{color:"var(--primary, #ffd700)",fontWeight:"bold"},expandedContent:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},details:{color:"var(--text-secondary, #aaa)",fontSize:"0.85rem",margin:"0 0 12px 0",lineHeight:1.5},filesSection:{marginTop:"8px"},filesLabel:{color:"var(--text-secondary, #666)",fontSize:"0.75rem",display:"block",marginBottom:"6px"},filesList:{display:"flex",flexWrap:"wrap",gap:"6px"},fileTag:{background:"rgba(59, 130, 246, 0.2)",color:"#60a5fa",padding:"2px 8px",borderRadius:"4px",fontSize:"0.7rem"},showMoreButton:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",marginTop:"16px",padding:"12px",background:"rgba(255, 215, 0, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px",color:"var(--primary, #ffd700)",fontSize:"0.9rem",cursor:"pointer",transition:"all 0.2s"}},xn=!1,jn=!0,vn={apiBaseUrl:"/api",apiTimeout:1e4,auth:{tokenKey:"dojo_auth_token",userKey:"dojo_user",expiryKey:"dojo_session_expiry",sessionDuration:288e5,refreshThreshold:3e5},app:{name:"DojoSoftware",version:un,description:"Kampfkunstschule Verwaltungssystem",author:"Sascha Schreiner",buildDate:mn,contactEmail:"support@tda-intl.org"},ui:{theme:"light",language:"de",dateFormat:"DD.MM.YYYY",timeFormat:"HH:mm",itemsPerPage:20,animationDuration:300},features:{darkMode:!0,notifications:!0,exportData:!0,advancedSearch:!0,dashboard:!0,memberManagement:!0,courseManagement:!0,trainerManagement:!0,paymentTracking:!0,reports:!0,settings:!0},debug:{enabled:xn,logLevel:"error",showPerformance:xn,apiLogging:xn,authLogging:xn},validation:{password:{minLength:6,requireNumbers:!1,requireSpecialChars:!1,requireUppercase:!1},email:{pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/},phone:{pattern:/^[\+]?[0-9\s\-\(\)]{6,}$/}},environment:{isDevelopment:xn,isProduction:jn,isTesting:!1,nodeEnv:"production"},paths:{login:"/login",dashboard:"/",members:"/mitglieder",courses:"/kurse",trainers:"/trainer",settings:"/einstellungen",profile:"/profil"},localization:{defaultLanguage:"de",availableLanguages:["de","en"],dateLocale:"de-DE",numberFormat:"de-DE"},cache:{enableServiceWorker:jn,apiCacheDuration:3e5,imageCacheDuration:864e5},performance:{enableMetrics:jn,sampleRate:.1,trackUserInteractions:!1},security:{enableCSP:jn,enableHTTPS:jn,cookieSecure:jn,corsOrigins:[]}},yn=e=>{if(!e||"string"!=typeof e)return!1;if(e.startsWith("/"))return!0;if(e.startsWith("http://localhost:"))return!0;if(e.startsWith("http://127.0.0.1:"))return!0;try{const t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch{return!1}};(()=>{const e=[];console.log("🔍 Config Debug:",{mode:"production",apiBaseUrl:vn.apiBaseUrl,isDevelopment:xn,isProduction:jn,envViteApiUrl:"http://localhost:5001/api"}),yn(vn.apiBaseUrl)||e.push(`API Base URL ist ungültig: "${vn.apiBaseUrl}"`),e.length>0&&(console.error("🚨 Konfigurationsfehler:",e),console.warn("⚠️ Konfigurationsprobleme erkannt, fahre trotzdem fort"))})();const _n=t.createContext(null),kn=({children:n})=>{const[r,s]=t.useState(null),[a,i]=t.useState(null),[o,l]=t.useState(!0),[d,c]=t.useState(null),[u,m]=t.useState(null),h="dojo_auth_token",g="dojo_user",p="dojo_session_expiry",f=t.useCallback((e,t=null)=>{},[]),b=t.useCallback(e=>{try{return JSON.parse(atob(e.split(".")[1]))}catch(t){return f("Fehler beim Dekodieren des Tokens",t),null}},[f]),x=t.useCallback(e=>{if(!e)return!1;try{const t=b(e);if(!t)return!1;const n=Math.floor(Date.now()/1e3),r=t.exp>n;return f("Token-Validierung",{valid:r,expiresAt:new Date(1e3*t.exp).toISOString(),currentTime:new Date(1e3*n).toISOString()}),r}catch(t){return f("Fehler bei Token-Validierung",t),!1}},[b,f]),j=t.useCallback(()=>{f("Session wird bereinigt"),localStorage.removeItem(h),localStorage.removeItem(g),localStorage.removeItem(p),delete Ht.defaults.headers.common.Authorization,i(null),s(null),m(null),c(null)},[f]),v=t.useCallback((e,t)=>{f("Session wird gespeichert",{username:t.username,role:t.role});const n=b(e),r=n?1e3*n.exp:Date.now()+288e5;localStorage.setItem(h,e),localStorage.setItem(g,JSON.stringify(t)),localStorage.setItem(p,r.toString()),Ht.defaults.headers.common.Authorization=`Bearer ${e}`,i(e),s(t),m(r),c(null),window.dispatchEvent(new CustomEvent("userLoggedIn",{detail:{user:t}})),f("userLoggedIn Event dispatched")},[b,f]),y=t.useCallback(async e=>{var t;try{const t=await Ht.get("/auth/me",{headers:{Authorization:`Bearer ${e}`}});return f("Backend-Token-Validierung erfolgreich",t.data.user),t.data}catch(n){return f("Backend-Token-Validierung fehlgeschlagen",null==(t=n.response)?void 0:t.status),null}},[f]);t.useEffect(()=>{(async()=>{f("AuthContext wird initialisiert");try{const e=localStorage.getItem(h),t=localStorage.getItem(g),n=localStorage.getItem(p);if(!e||!t)return f("Keine gespeicherte Session gefunden"),void l(!1);if(!x(e))return f("Gespeicherter Token ist abgelaufen"),j(),void l(!1);const r=JSON.parse(t);f("Gespeicherte Session gefunden",{username:r.username,role:r.role,expiry:n?new Date(parseInt(n)).toISOString():"unbekannt"}),Ht.defaults.headers.common.Authorization=`Bearer ${e}`,i(e),s(r),m(n?parseInt(n):null),f("Session wiederhergestellt (ohne Backend-Validierung)",r.username)}catch(e){f("Fehler beim Initialisieren der Session",e),j()}finally{l(!1)}})()},[x,j,y,f]),t.useEffect(()=>{if(!u)return;const e=setInterval(()=>{const e=Date.now(),t=u-e;t<=0?(f("Session abgelaufen - automatischer Logout"),k()):t<=3e5&&f("Session läuft bald ab",{minutesLeft:Math.floor(t/1e3/60)})},6e4);return()=>clearInterval(e)},[u]);const _=t.useCallback(async e=>{var t,n,r,s,a,i,o,d,u,m;c(null),l(!0);try{f("Login-Versuch gestartet",{hasEmail:!!e.email,hasUsername:!!e.username,apiUrl:`${vn.apiBaseUrl}/api/auth/login`});const t=await Ht.post("/auth/login",e,{headers:{"Content-Type":"application/json"},timeout:1e4}),{token:n,user:r,message:s}=t.data;if(!n||!r)throw new Error("Unvollständige Server-Antwort");return f("Login erfolgreich",{username:r.username,email:r.email,role:r.role,message:s}),v(n,r),r}catch(h){f("Login-Fehler",{status:null==(t=h.response)?void 0:t.status,message:(null==(r=null==(n=h.response)?void 0:n.data)?void 0:r.message)||h.message,code:h.code});let e="Login fehlgeschlagen";throw"ERR_NETWORK"===h.code?e="Verbindung zum Server fehlgeschlagen":"ECONNABORTED"===h.code?e="Anfrage-Timeout - Server antwortet nicht":401===(null==(s=h.response)?void 0:s.status)?e=(null==(a=h.response.data)?void 0:a.message)||"Ungültige Anmeldedaten":400===(null==(i=h.response)?void 0:i.status)?e=(null==(o=h.response.data)?void 0:o.message)||"Ungültige Eingabedaten":500===(null==(d=h.response)?void 0:d.status)?e="Server-Fehler - bitte versuchen Sie es später erneut":(null==(m=null==(u=h.response)?void 0:u.data)?void 0:m.message)&&(e=h.response.data.message),c(e),h}finally{l(!1)}},[f,v]),k=t.useCallback(async(e=!1)=>{var t;e||f("Logout gestartet");try{a&&x(a)&&(await Ht.post("/auth/logout",{},{headers:{Authorization:`Bearer ${a}`},timeout:5e3}),f("Backend-Logout erfolgreich"))}catch(n){f("Backend-Logout fehlgeschlagen (nicht kritisch)",null==(t=n.response)?void 0:t.status)}finally{j(),e||f("Logout abgeschlossen")}},[a,x,j,f]),w=t.useCallback(e=>{if(!r)return;const t={...r,...e};f("User-Daten aktualisiert",{username:t.username,updates:Object.keys(e)}),localStorage.setItem(g,JSON.stringify(t)),s(t)},[r,f]),S=t.useCallback(async()=>{var e;if(!a)return!1;try{f("Session-Erneuerung gestartet");const e=await Ht.post("/auth/refresh",{},{headers:{Authorization:`Bearer ${a}`}}),{token:t,user:n}=e.data;return!(!t||!n)&&(v(t,n),f("Session erfolgreich erneuert"),!0)}catch(t){return f("Session-Erneuerung fehlgeschlagen",null==(e=t.response)?void 0:e.status),!1}},[a,v,f]),z=t.useCallback(()=>({isAuthenticated:!!a&&!!r,user:r,role:null==r?void 0:r.role,tokenExists:!!a,tokenValid:!!a&&x(a),loading:o,error:d,sessionExpiry:u?new Date(u).toISOString():null,timeToExpiry:u?Math.max(0,u-Date.now()):null}),[r,a,o,d,u,x]),E=t.useCallback(e=>(null==r?void 0:r.role)===e,[r]),N=t.useCallback(()=>E("admin"),[E]),D={user:r,token:a,loading:o,error:d,sessionExpiry:u,isAuthenticated:!!a&&!!r&&x(a),isAdmin:N(),login:_,logout:k,updateUser:w,refreshSession:S,changePassword:async({currentPassword:e,newPassword:t})=>{if(!a)throw new Error("Nicht authentifiziert");return(await Ht.post("/auth/change-password",{currentPassword:e,newPassword:t},{headers:{Authorization:`Bearer ${a}`}})).data},resetPassword:async({loginField:e,securityQuestion:t,securityAnswer:n,newPassword:r})=>(await Ht.post("/auth/reset-password",{loginField:e,securityQuestion:t,securityAnswer:n,newPassword:r})).data,saveSecurityQuestion:async({securityQuestion:e,securityAnswer:t})=>{if(!a)throw new Error("Nicht authentifiziert");return(await Ht.post("/auth/security",{securityQuestion:e,securityAnswer:t},{headers:{Authorization:`Bearer ${a}`}})).data},hasRole:E,getAuthStatus:z,clearError:()=>c(null)};return t.useEffect(()=>{},[r,a,o,d,f]),e.jsx(_n.Provider,{value:D,children:n})},wn=()=>{const e=t.useContext(_n);if(!e)throw new Error("useAuth muss innerhalb von AuthProvider verwendet werden");return e},Sn=Ht.create({baseURL:vn.apiBaseUrl,timeout:3e4,headers:{"Content-Type":"application/json"}});Sn.interceptors.request.use(e=>{const t=localStorage.getItem("dojo_auth_token")||localStorage.getItem("authToken");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),Sn.interceptors.response.use(e=>e,e=>{var t,n,r;return 401===(null==(t=e.response)?void 0:t.status)&&(localStorage.removeItem("dojo_auth_token"),localStorage.removeItem("authToken"),localStorage.removeItem("dojo_user"),localStorage.removeItem("dojo_session_expiry"),window.location.href="/login"),403===(null==(n=e.response)?void 0:n.status)&&console.error("Access Denied:",e.response.data),(null==(r=e.response)?void 0:r.status)>=500&&console.error("Server Error:",e.response.data),Promise.reject(e)});const zn=t.createContext(),En=({children:n})=>{const[r,s]=t.useState([]),[a,i]=t.useState(!0),[o,l]=t.useState(""),d=async()=>{if(!(localStorage.getItem("dojo_auth_token")||localStorage.getItem("authToken")))return console.log("Kein Token vorhanden, überspringe Kurse-Laden"),void i(!1);try{i(!0),l("");const e=await Sn.get("/kurse");s(e.data)}catch(e){console.error("Fehler beim Laden der Kurse im Kontext:",e),l("Fehler beim Laden der Kurse"),s([])}finally{i(!1)}};t.useEffect(()=>{d();const e=e=>{"dojo_auth_token"!==e.key&&"authToken"!==e.key||!e.newValue||(console.log("Token wurde gesetzt, lade Kurse neu"),d())},t=()=>{console.log("Login-Event empfangen, lade Kurse neu"),d()};return window.addEventListener("storage",e),window.addEventListener("userLoggedIn",t),()=>{window.removeEventListener("storage",e),window.removeEventListener("userLoggedIn",t)}},[]);const c={kurse:r,loading:a,error:o,ladeKurse:d};return e.jsx(zn.Provider,{value:c,children:n})},Nn=t.createContext(),Dn=()=>{const e=t.useContext(Nn);if(!e)throw new Error("useDojoContext must be used within a DojoProvider");return e},An=({children:n})=>{const[r,s]=t.useState([]),[a,i]=t.useState(null),[o,l]=t.useState(!0),[d,c]=t.useState("all");t.useEffect(()=>{u()},[]),t.useEffect(()=>{if(r.length>0&&!a){console.log("🔄 DojoContext: Setze aktives Dojo...",{dojos:r.length,activeDojo:a});const e=localStorage.getItem("activeDojoId");if(e){if("super-admin"===e)return console.log("✅ DojoContext: Super-Admin Modus aus LocalStorage"),void i("super-admin");if("verband"===e)return console.log("✅ DojoContext: Verband Modus aus LocalStorage"),void i("verband");const t=r.find(t=>t.id===parseInt(e));if(t)return console.log("✅ DojoContext: Gespeichertes Dojo gefunden:",t.dojoname),void i(t)}const t=r.find(e=>e.ist_hauptdojo)||r[0];console.log("✅ DojoContext: Setze Fallback-Dojo:",null==t?void 0:t.dojoname),i(t)}},[r,a]);const u=t.useCallback(async()=>{try{const e=localStorage.getItem("dojo_auth_token");if(!e)return console.log("⚠️ Kein Token vorhanden - Dojos werden nicht geladen"),s([]),void l(!1);const t={"Content-Type":"application/json",Authorization:`Bearer ${e}`},n=await fetch(`${vn.apiBaseUrl}/dojos?filter=managed`,{headers:t});if(!n.ok)throw console.error("Dojos API Response:",n.status,n.statusText),new Error("Fehler beim Laden der Dojos");const r=await n.json();console.log("✅ Dojos geladen:",r),Array.isArray(r)?s(r):(console.error("❌ Dojos API returned non-array:",r),s([]))}catch(e){console.error("❌ Fehler beim Laden der Dojos:",e),s([])}finally{l(!1)}},[]),m=t.useCallback(e=>{i(e),"super-admin"===e?(localStorage.setItem("activeDojoId","super-admin"),console.log("✅ Gewechselt zu: TDA Int'l Org (Super-Admin)")):"verband"===e?(localStorage.setItem("activeDojoId","verband"),console.log("✅ Gewechselt zu: TDA Verband")):(localStorage.setItem("activeDojoId",e.id),console.log("✅ Gewechselt zu Dojo:",e.dojoname))},[]),h=t.useCallback(e=>r.find(t=>t.id===e),[r]),g=t.useCallback(()=>{switch(d){case"current":default:return a?[a.id]:[];case"all":case"compare":return r.map(e=>e.id)}},[d,a,r]),p=t.useCallback(()=>{if("super-admin"===a)return"";if("verband"===a)return"";switch(d){case"current":default:return a?`dojo_id=${a.id}`:"";case"all":return"dojo_id=all";case"compare":return"dojo_id=compare"}},[d,a]),f=t.useCallback(()=>{if(0===r.length)return null;console.log("🏯 Wähle bestes Dojo für neues Mitglied...");const e=r.filter(e=>"kleinunternehmer"===e.steuer_status).map(e=>({...e,auslastung:e.jahresumsatz_aktuell/e.kleinunternehmer_grenze*100})).filter(e=>e.auslastung<100).sort((e,t)=>e.auslastung-t.auslastung);if(e.length>0){const t=e[0];return console.log(`✅ Kleinunternehmer-Dojo gewählt: ${t.dojoname} (${t.auslastung.toFixed(1)}% ausgelastet)`),t}const t=r.filter(e=>"regelbesteuert"===e.steuer_status);if(t.length>0){const e=t[0];return console.log(`✅ Regelbesteuertes Dojo gewählt: ${e.dojoname} (alle Kleinunternehmer-Dojos sind voll)`),e}const n=r.find(e=>e.ist_hauptdojo)||r[0];return console.log(`⚠️ Fallback-Dojo gewählt: ${n.dojoname}`),n},[r]),b=t.useCallback((e,t)=>{console.log("🔄 DojoContext: Update Dojo",{id:e,updatedData:t}),s(n=>n.map(n=>n.id===parseInt(e)?{...n,...t}:n)),a&&a.id===parseInt(e)&&(i(e=>({...e,...t})),console.log("✅ DojoContext: Aktives Dojo aktualisiert"))},[a]),x=t.useMemo(()=>({dojos:r,activeDojo:a,selectedDojo:a,loading:o,filter:d,setFilter:c,switchDojo:m,getDojoById:h,getFilteredDojoIds:g,getDojoFilterParam:p,getBestDojoForNewMember:f,updateDojo:b,refreshDojos:u}),[r,a,o,d,m,h,g,p,f,b,u]);return e.jsx(Nn.Provider,{value:x,children:n})},Rn=t.createContext(),Tn=()=>{const e=t.useContext(Rn);if(!e)throw new Error("useStandortContext must be used within a StandortProvider");return e},Bn=({children:n})=>{const{activeDojo:r}=Dn(),[s,a]=t.useState([]),[i,o]=t.useState("all"),[l,d]=t.useState(!0);t.useEffect(()=>{r&&"super-admin"!==r?c():(a([]),o("all"),d(!1))},[r]),t.useEffect(()=>{if(s.length>0&&r&&"super-admin"!==r){const e=localStorage.getItem(`activeStandortId_${r.id}`);if(e)if("all"===e)o("all");else{const t=s.find(t=>t.standort_id===parseInt(e));o(t?parseInt(e):"all")}else o("all")}},[s,r]);const c=t.useCallback(async()=>{if(!r||"super-admin"===r)return a([]),void d(!1);d(!0);try{const e=localStorage.getItem("dojo_auth_token");if(!e)return console.log("⚠️ Kein Token vorhanden - Standorte werden nicht geladen"),a([]),void d(!1);const t={"Content-Type":"application/json",Authorization:`Bearer ${e}`},n=await fetch(`${vn.apiBaseUrl}/standorte`,{headers:t});if(!n.ok)throw console.error("Standorte API Response:",n.status,n.statusText),new Error("Fehler beim Laden der Standorte");const r=await n.json();console.log("✅ Standorte geladen:",r),r.success&&Array.isArray(r.data)?a(r.data):(console.error("❌ Standorte API returned invalid data:",r),a([]))}catch(e){console.error("❌ Fehler beim Laden der Standorte:",e),a([])}finally{d(!1)}},[r]),u=t.useCallback(e=>{if(o(e),r&&"super-admin"!==r)if(localStorage.setItem(`activeStandortId_${r.id}`,e),"all"===e)console.log("✅ Gewechselt zu: Alle Standorte");else{const t=s.find(t=>t.standort_id===e);console.log("✅ Gewechselt zu Standort:",null==t?void 0:t.name)}},[r,s]),m=t.useCallback(e=>s.find(t=>t.standort_id===e),[s]),h=t.useMemo(()=>s.length>1,[s]),g=t.useMemo(()=>"all"===i?null:s.find(e=>e.standort_id===i),[i,s]),p=t.useMemo(()=>s.find(e=>!0===e.ist_hauptstandort),[s]),f=t.useCallback(()=>"all"===i?"standort_id=all":`standort_id=${i}`,[i]),b=t.useMemo(()=>({standorte:s,activeStandort:i,currentStandort:g,hauptstandort:p,loading:l,hasMultipleLocations:h,switchStandort:u,getStandortById:m,getStandortFilterParam:f,refreshStandorte:c}),[s,i,g,p,l,h,u,m,f,c]);return e.jsx(Rn.Provider,{value:b,children:n})};const Cn=new class{constructor(){this.cache=new Map,this.defaultDuration=3e5}generateKey(e,t={}){const n=Object.keys(t).sort().map(e=>`${e}=${t[e]}`).join("&");if(!n)return e;const r=e.includes("?")?"&":"?";return`${e}${r}${n}`}get(e){const t=this.cache.get(e);return t?Date.now()-t.timestamp>t.duration?(this.cache.delete(e),null):(console.log("🟢 Cache Hit:",e),t.data):null}set(e,t,n=this.defaultDuration){console.log("🔵 Cache Set:",e),this.cache.set(e,{data:t,timestamp:Date.now(),duration:n})}clear(e=null){if(e)for(const t of this.cache.keys())t.includes(e)&&this.cache.delete(t);else this.cache.clear();console.log("🗑️ Cache cleared:",e||"all")}getStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys()),memory:JSON.stringify(Array.from(this.cache.entries())).length}}},Pn=async(e,t={},n=void 0)=>{const{headers:r={},method:s="GET",body:a,bypassCache:i=!1,...o}=t,l=Cn.generateKey(e,{method:s,body:a});if("GET"===s&&!i){const e=Cn.get(l);if(e)return e}try{console.log("🔴 API Call:",s,e);const t=e.startsWith("http")?e:`${vn.apiBaseUrl}${e}`,i=await fetch(t,{method:s,headers:{"Content-Type":"application/json",...r},body:a?JSON.stringify(a):void 0,...o});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const d=await i.json();return"GET"===s&&i.ok&&Cn.set(l,d,n),d}catch(d){throw console.error("❌ API Error:",d),d}},In=async(e,t="")=>Pn(t?`/dashboard/batch?${t}`:"/dashboard/batch",{headers:{Authorization:`Bearer ${e}`}},18e4),Ln=async(e,t="")=>Pn(t?`/dashboard?${t}`:"/dashboard",{headers:{Authorization:`Bearer ${e}`}},12e4),On=async(e,t="")=>Pn(t?`/dashboard/recent?${t}`:"/dashboard/recent",{headers:{Authorization:`Bearer ${e}`}},6e4),Fn=e=>{Cn.clear(e)},Mn=t.createContext(),Vn=()=>{const e=t.useContext(Mn);if(!e)throw new Error("useMitgliederUpdate muss innerhalb von MitgliederUpdateProvider verwendet werden");return e},Un=({children:n})=>{const[r,s]=t.useState(0),[a,i]=t.useState(null),o=t.useCallback(e=>{switch(e){case"member_created":case"member_updated":case"member_deleted":case"member_reactivated":case"member_deactivated":case"manual_refresh":Fn("/dashboard"),Fn("/dashboard/batch"),Fn("/dashboard/recent")}},[]),l=t.useCallback((e="member_created",t=null)=>{console.log(`🔄 Mitglieder-Update ausgelöst: ${e}`,t),o(e),s(e=>e+1),i({type:e,timestamp:(new Date).toISOString(),data:t})},[o]),d=t.useCallback(()=>{l("manual_refresh")},[l]),c={updateTrigger:r,lastUpdate:a,triggerUpdate:l,refreshAll:d};return e.jsx(Mn.Provider,{value:c,children:n})},Wn={apiBaseUrl:"http://localhost:5001/api",features:{enableRegistration:!0,enablePublicPages:!0,enableDarkMode:!1},app:{name:"DojoSoftware",version:"2.0.0",description:"Die professionelle Lösung für Kampfsportschulen & Dojos"},plans:{starter:{name:"Starter",maxMembers:100,features:["mitgliederverwaltung","sepa","checkin","pruefungen"]},professional:{name:"Professional",maxMembers:300,features:["mitgliederverwaltung","sepa","checkin","pruefungen","verkauf","events"]},premium:{name:"Premium",maxMembers:999999,features:["mitgliederverwaltung","sepa","checkin","pruefungen","verkauf","events","buchfuehrung","api"]},enterprise:{name:"Enterprise",maxMembers:999999,features:["mitgliederverwaltung","sepa","checkin","pruefungen","verkauf","events","buchfuehrung","api","multidojo"]}}},Kn=t.createContext(),$n=({children:n})=>{const[r,s]=t.useState(null),[a,i]=t.useState(!0),[o,l]=t.useState(null);t.useEffect(()=>{d()},[]);const d=async()=>{var e,t;const n=localStorage.getItem("token");if(n)try{const e=await Ht.get("/subscription/current",{headers:{Authorization:`Bearer ${n}`}});s(e.data),l(null)}catch(r){console.error("Failed to load subscription:",r),l((null==(t=null==(e=r.response)?void 0:e.data)?void 0:t.error)||"Fehler beim Laden der Subscription")}finally{i(!1)}else i(!1)},c={subscription:r,loading:a,error:o,hasFeature:e=>{if(!r)return!1;if(!["active","trial"].includes(r.status))return!1;return!0===r[`feature_${e}`]},isTrial:()=>"trial"===(null==r?void 0:r.status),isTrialExpired:()=>!(!r||!r.trial_ends_at)&&new Date(r.trial_ends_at)<new Date,getTrialDaysRemaining:()=>{if(!r||!r.trial_ends_at)return 0;const e=new Date(r.trial_ends_at)-new Date,t=Math.ceil(e/864e5);return Math.max(0,t)},isActive:()=>["active","trial"].includes(null==r?void 0:r.status),isAtMemberLimit:()=>!!r&&r.current_member_count>=r.max_members,getUpgradeUrl:()=>"/dashboard/subscription",getFeatureName:e=>({verkauf:"Verkauf & Lagerhaltung",buchfuehrung:"Buchführung & Rechnungen",events:"Events-Verwaltung",multidojo:"Multi-Dojo-Verwaltung",api:"API-Zugang"}[e]||e),getMinimumPlanForFeature:e=>({verkauf:"professional",events:"professional",buchfuehrung:"premium",api:"premium",multidojo:"enterprise"}[e]||"starter"),getPlanName:e=>({trial:"Trial",starter:"Starter",professional:"Professional",premium:"Premium",enterprise:"Enterprise"}[e]||e),refresh:async()=>{await d()}};return e.jsx(Kn.Provider,{value:c,children:n})},Hn={midnight:{id:"midnight",name:"Midnight Blue",description:"Dunkles Theme mit Gold-Akzenten (Standard)",preview:"linear-gradient(135deg, #0f0f23, #16213e)",isDark:!0},"tda-vib":{id:"tda-vib",name:"TDA-Vib Classic",description:"Helles Theme mit traditionellem japanischem Design",preview:"linear-gradient(135deg, #f5f0e6, #e8e0d0)",isDark:!1},"blue-ocean":{id:"blue-ocean",name:"Blue Ocean",description:"Dunkles Theme mit blauen Akzenten",preview:"linear-gradient(135deg, #0c1929, #1e3a5f)",isDark:!0},"green-forest":{id:"green-forest",name:"Green Forest",description:"Dunkles Theme mit grünen Akzenten",preview:"linear-gradient(135deg, #0d1f0d, #1a3d1a)",isDark:!0},"red-fire":{id:"red-fire",name:"Red Fire",description:"Dunkles Theme mit roten Akzenten",preview:"linear-gradient(135deg, #1a0a0a, #2d1515)",isDark:!0}},qn="midnight",Gn="dojo-theme",Jn=t.createContext(void 0),Zn=({children:n})=>{const[r,s]=t.useState(()=>{if("undefined"!=typeof window){const e=localStorage.getItem(Gn);if(e&&Hn[e])return e}return qn}),[a,i]=t.useState(!1);t.useEffect(()=>{document.documentElement.setAttribute("data-theme",r),localStorage.setItem(Gn,r);const e=Hn[r],t=document.querySelector('meta[name="theme-color"]');t&&e&&t.setAttribute("content",e.isDark?"#0f0f23":"#f5f0e6")},[r]);const o=t.useCallback(e=>{Hn[e]&&e!==r&&(i(!0),document.documentElement.style.transition="background-color 0.3s ease, color 0.3s ease",s(e),setTimeout(()=>{document.documentElement.style.transition="",i(!1)},300))},[r]),l=Hn[r]||Hn[qn],d=l.isDark,c=t.useCallback(()=>{o(d?"tda-vib":"midnight")},[d,o]),u={theme:r,setTheme:o,themes:Hn,currentTheme:l,isDarkMode:d,toggleDarkMode:c,isTransitioning:a};return e.jsx(Jn.Provider,{value:u,children:n})},Yn=()=>{const e=t.useContext(Jn);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e},Xn="dojo_auth_token";let Qn=!1;const er=e=>{if(!e)return null;try{const t=e.split(".");if(3!==t.length)return null;return JSON.parse(atob(t[1]))}catch(t){return console.warn("⚠️ [Auth] Token konnte nicht dekodiert werden"),null}},tr=()=>localStorage.getItem(Xn)||null,nr=async()=>{var e;if(Qn)return;const t=tr();if(!t||!(e=>{const t=er(e);if(!t||!t.exp)return!1;const n=Math.floor(Date.now()/1e3);return t.exp>n})(t))return;if(!(e=>{const t=er(e);if(!t||!t.exp)return!1;const n=Date.now();return 1e3*t.exp-n<18e5})(t))return;Qn=!0;const n=(e=>{const t=er(e);if(!t||!t.exp)return 0;const n=Date.now(),r=1e3*t.exp;return Math.max(0,Math.round((r-n)/6e4))})(t);console.log(`🔄 [Auth] Token läuft in ${n} Min ab - Versuche Verlängerung...`);try{const n=(null==(e=null==Wn?void 0:Wn.apiBaseUrl)?void 0:e.replace("/api",""))||"",r=await fetch(`${n}/api/auth/refresh`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(r.ok){const e=await r.json();e.token&&((e=>{e?localStorage.setItem(Xn,e):localStorage.removeItem(Xn)})(e.token),console.log("✅ [Auth] Token erfolgreich um 2 Stunden verlängert"))}else console.warn("⚠️ [Auth] Token-Refresh fehlgeschlagen:",r.status)}catch(r){console.error("❌ [Auth] Token-Refresh Fehler:",r.message)}finally{Qn=!1}},rr=async(e,t={})=>{await nr();const n=tr(),r={...t.headers};n&&(r.Authorization=`Bearer ${n}`);const s=await fetch(e,{...t,headers:r});if(401===s.status)throw console.error("❌ [Auth] 401 Unauthorized - Token abgelaufen oder ungültig"),console.log("🚪 [Auth] Token abgelaufen - Automatischer Logout..."),localStorage.removeItem(Xn),localStorage.removeItem("dojo_user"),localStorage.removeItem("dojo_id"),localStorage.removeItem("user_role"),window.dispatchEvent(new CustomEvent("auth:logout",{detail:{reason:"token_expired"}})),window.location.href="/login?expired=1",new Error("Sitzung abgelaufen. Sie werden zur Anmeldung weitergeleitet.");return s},sr=({isOpen:n,onClose:r,user:s,onConfirmed:a})=>{const[i,o]=t.useState(""),[l,d]=t.useState(""),[c,u]=t.useState(""),[m,h]=t.useState(""),[g,p]=t.useState(!0),[f,b]=t.useState(!1),[x,j]=t.useState(""),[y,N]=t.useState(!1),[D,A]=t.useState(!1),[R,T]=t.useState(!1),[B,C]=t.useState(!1),[P,I]=t.useState("agb");t.useEffect(()=>{n&&L()},[n]);const L=async()=>{p(!0);try{const e=(null==s?void 0:s.dojo_id)||1,t=await rr(`${Wn.apiBaseUrl}/agb/${e}`);if(t.ok){const e=await t.json();o(e.agb_text||O()),d(e.dsgvo_text||F()),u(e.dojo_regeln_text||M()),h(e.hausordnung_text||V())}}catch(e){console.error("Fehler beim Laden der Dokumente:",e),j("Dokumente konnten nicht geladen werden")}finally{p(!1)}},O=()=>"Allgemeine Geschaeftsbedingungen\n\n1. Geltungsbereich\nDiese AGB gelten fuer alle Mitgliedschaften und Leistungen des Dojos.\n\n2. Mitgliedschaft\nDie Mitgliedschaft beginnt mit der Annahme des Aufnahmeantrags.\n\n3. Beitraege\nDie Beitraege sind monatlich im Voraus zu entrichten.\n\n4. Kuendigung\nDie Kuendigung ist schriftlich moeglich.",F=()=>"Datenschutzerklaerung\n\n1. Datenerhebung\nWir erheben nur die fuer die Mitgliedschaft notwendigen Daten.\n\n2. Datenspeicherung\nIhre Daten werden sicher gespeichert und nicht an Dritte weitergegeben.\n\n3. Ihre Rechte\nSie haben das Recht auf Auskunft, Berichtigung und Loeschung Ihrer Daten.",M=()=>"Dojo-Regeln\n\n1. Respekt\nBehandeln Sie alle Trainingspartner mit Respekt.\n\n2. Puenktlichkeit\nErscheinen Sie puenktlich zum Training.\n\n3. Hygiene\nTragen Sie saubere Trainingskleidung.\n\n4. Sicherheit\nBefolgen Sie die Anweisungen der Trainer.",V=()=>"Hausordnung\n\n1. Allgemeines\nDas Dojo ist ein Ort der Ruhe und Konzentration.\n\n2. Umkleiden\nBitte verlassen Sie die Umkleiden ordentlich.\n\n3. Fundsachen\nFundsachen bitte beim Trainer abgeben.\n\n4. Wertsachen\nFuer Wertsachen wird keine Haftung uebernommen.";if(!n)return null;const U=y&&D&&R&&B,W=[{id:"agb",label:"AGB",icon:w,accepted:y},{id:"datenschutz",label:"Datenschutz",icon:v,accepted:D},{id:"dojoregeln",label:"Dojo-Regeln",icon:S,accepted:R},{id:"hausordnung",label:"Hausordnung",icon:z,accepted:B}];return e.jsx("div",{className:"first-login-overlay",children:e.jsxs("div",{className:"first-login-modal",children:[e.jsxs("div",{className:"first-login-header",children:[e.jsx(_,{size:28,className:"warning-icon"}),e.jsxs("div",{children:[e.jsx("h2",{children:"Willkommen!"}),e.jsx("p",{children:"Bitte bestaetigen Sie die folgenden Dokumente"})]})]}),g?e.jsxs("div",{className:"first-login-loading",children:[e.jsx(k,{className:"spinner",size:32}),e.jsx("p",{children:"Dokumente werden geladen..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"first-login-tabs",children:W.map(t=>e.jsxs("button",{className:`tab ${P===t.id?"active":""} ${t.accepted?"accepted":""}`,onClick:()=>I(t.id),children:[e.jsx(t.icon,{size:18}),e.jsx("span",{children:t.label}),t.accepted&&e.jsx(E,{size:16,className:"check-icon"})]},t.id))}),e.jsxs("div",{className:"first-login-content",children:["agb"===P&&e.jsxs("div",{className:"document-section",children:[e.jsx("div",{className:"document-text",dangerouslySetInnerHTML:{__html:i.replace(/\n/g,"<br>")}}),e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:y,onChange:e=>N(e.target.checked)}),e.jsx("span",{children:"Ich habe die AGB gelesen und akzeptiere sie"})]})]}),"datenschutz"===P&&e.jsxs("div",{className:"document-section",children:[e.jsx("div",{className:"document-text",dangerouslySetInnerHTML:{__html:l.replace(/\n/g,"<br>")}}),e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:D,onChange:e=>A(e.target.checked)}),e.jsx("span",{children:"Ich habe die Datenschutzerklaerung gelesen und akzeptiere sie"})]})]}),"dojoregeln"===P&&e.jsxs("div",{className:"document-section",children:[e.jsx("div",{className:"document-text",dangerouslySetInnerHTML:{__html:c.replace(/\n/g,"<br>")}}),e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:R,onChange:e=>T(e.target.checked)}),e.jsx("span",{children:"Ich habe die Dojo-Regeln gelesen und akzeptiere sie"})]})]}),"hausordnung"===P&&e.jsxs("div",{className:"document-section",children:[e.jsx("div",{className:"document-text",dangerouslySetInnerHTML:{__html:m.replace(/\n/g,"<br>")}}),e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:B,onChange:e=>C(e.target.checked)}),e.jsx("span",{children:"Ich habe die Hausordnung gelesen und akzeptiere sie"})]})]})]}),x&&e.jsxs("div",{className:"first-login-error",children:[e.jsx(_,{size:16}),x]}),e.jsxs("div",{className:"first-login-footer",children:[e.jsxs("div",{className:"acceptance-summary",children:[e.jsxs("span",{className:y?"done":"",children:["AGB ",y?"✓":"○"]}),e.jsxs("span",{className:D?"done":"",children:["Datenschutz ",D?"✓":"○"]}),e.jsxs("span",{className:R?"done":"",children:["Regeln ",R?"✓":"○"]}),e.jsxs("span",{className:B?"done":"",children:["Hausordnung ",B?"✓":"○"]})]}),e.jsx("button",{className:"btn-confirm",onClick:async()=>{if(y&&D&&R&&B){b(!0),j("");try{const e=await rr(`${Wn.apiBaseUrl}/agb/import-confirmation/${s.mitglied_id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({agb_akzeptiert:!0,datenschutz_akzeptiert:!0,dojo_regeln_akzeptiert:!0,hausordnung_akzeptiert:!0,dojo_id:s.dojo_id||1})});if(e.ok)a&&a(),r();else{const t=await e.json();j(t.error||"Fehler beim Speichern")}}catch(e){console.error("Fehler beim Bestaetigen:",e),j("Verbindungsfehler - bitte versuchen Sie es erneut")}finally{b(!1)}}else j("Bitte akzeptieren Sie alle Bedingungen")},disabled:!U||f,children:f?e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"spinner",size:18}),"Wird gespeichert..."]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{size:18}),"Alle Bedingungen akzeptieren"]})})]})]})]})})},ar=({children:n})=>{const{user:r,token:s}=wn(),[a,i]=t.useState(!1),[o,l]=t.useState(!1),d=t.useCallback(async()=>{if(r&&s&&r.mitglied_id)if("admin"!==r.role){try{const e=await rr(`${vn.apiBaseUrl}/agb/check-versions/${r.mitglied_id}`);if(e.ok){const t=await e.json();(t.needsConfirmation||t.needsAgbUpdate||t.needsDsgvoUpdate||t.needsDojoRegelnUpdate||t.needsHausordnungUpdate)&&(console.log("Dokument-Bestaetigung erforderlich:",t),i(!0))}}catch(e){console.error("Fehler beim Pruefen der AGB-Versionen:",e)}l(!0)}else l(!0);else l(!0)},[r,s]);t.useEffect(()=>{d()},[d]);return o?e.jsxs(e.Fragment,{children:[n,a&&r&&e.jsx(sr,{isOpen:a,onClose:()=>{},user:r,onConfirmed:()=>{i(!1)}})]}):e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:"1rem"},children:[e.jsx("div",{className:"loading-spinner-large"}),e.jsx("div",{children:"Pruefe Zugangsberechtigung..."})]})},ir=({vertrag:n,onChange:r,geburtsdatum:s=null,schuelerStudent:a=!1,mode:i="create",showMindestlaufzeitOptions:o=!0,mitgliedId:l=null,isPublic:d=!1})=>{const[c,u]=t.useState([]),[m,h]=t.useState([]),[g,p]=t.useState(null),[f,b]=t.useState([]),[x,j]=t.useState(!0),[v,y]=t.useState(!1),[_,k]=t.useState(null),[w,S]=t.useState({agb_text:"",dsgvo_text:"",dojo_regeln_text:"",hausordnung_text:"",haftungsausschluss_text:"",widerrufsbelehrung_text:""}),z=(e,t)=>{if(!e||!t)return"";const n=new Date(e),r=new Date(n);return r.setMonth(r.getMonth()+t),r.toISOString().split("T")[0]};t.useEffect(()=>{if(n.vertragsbeginn&&n.mindestlaufzeit_monate){const e=z(n.vertragsbeginn,n.mindestlaufzeit_monate);e!==n.vertragsende&&r({...n,vertragsende:e})}},[n.vertragsbeginn,n.mindestlaufzeit_monate]),t.useEffect(()=>{(async()=>{var e,t;j(!0);try{const o=d?"/public/tarife":"/tarife",c=await Ht.get(o);let m=(null==(e=c.data)?void 0:e.data)||c.data||[];const g=m.filter(e=>!e.ist_archiviert).filter(e=>{const t=e.name&&(e.name.toLowerCase().includes("10er")||e.name.toLowerCase().includes("10-er")||e.name.toLowerCase().includes("zehnerkarte")),n=[3,6,12].includes(parseInt(e.duration_months));return t||n}),f=((e,t,n=!1)=>null===t?e:e.filter(e=>{const r=e.altersgruppe?e.altersgruppe.toLowerCase():"";return n&&t>=18?!!(r.includes("schüler")||r.includes("schueler")||r.includes("student")||r.includes("kind")||r.includes("jugend"))||!e.altersgruppe:t<=12?!(!r.includes("kind")&&!r.includes("kinder")&&e.altersgruppe):t>=13&&t<=17?!!(r.includes("jugend")||r.includes("kind")||r.includes("kinder"))||!e.altersgruppe:t>=18&&!n?!(!r.includes("erwachsen")&&!r.includes("adult")&&e.altersgruppe):!!(t>=60&&r.includes("senior"))||!(!r.includes("familie")&&!r.includes("family"))}))(g,(e=>{if(!e)return null;const t=new Date,n=new Date(e);let r=t.getFullYear()-n.getFullYear();const s=t.getMonth()-n.getMonth();return(s<0||0===s&&t.getDate()<n.getDate())&&r--,r})(s),a),x=(t=f,[...t].sort((e,t)=>12===e.mindestlaufzeit_monate&&12!==t.mindestlaufzeit_monate?-1:12===t.mindestlaufzeit_monate&&12!==e.mindestlaufzeit_monate?1:(e.mindestlaufzeit_monate||0)-(t.mindestlaufzeit_monate||0)));u(x);const j=await Ht.get("/zahlungszyklen");h(j.data||[]);try{const e=await Ht.get("/dojo/dokumente");S(e.data||{agb_text:"",dsgvo_text:"",dojo_regeln_text:"",hausordnung_text:"",haftungsausschluss_text:""})}catch(i){console.warn("Fehler beim Laden der Dokumente:",i)}if(l)try{const e=(await Ht.get(`/mitglieder/${l}/sepa-mandate`)).data||[],t=e.find(e=>"aktiv"===e.status),n=e.filter(e=>"archiviert"===e.status);p(t||null),b(n)}catch(i){console.warn("Keine SEPA-Mandate gefunden:",i)}if(!n.tarif_id&&x.length>0){const e=x.find(e=>12===e.mindestlaufzeit_monate);if(e){const t=z(n.vertragsbeginn,e.mindestlaufzeit_monate);r({...n,tarif_id:e.id,mindestlaufzeit_monate:e.mindestlaufzeit_monate,kuendigungsfrist_monate:e.kuendigungsfrist_monate,vertragsende:t})}}}catch(o){console.error("❌ Fehler beim Laden der Daten:",o)}finally{j(!1)}})()},[s,l,a]);const E=e=>{if(!e)return"";return{monthly:"Monat",monatlich:"Monat",quarterly:"Quartal",vierteljaehrlich:"Quartal","semi-annually":"Halbjahr",halbjaehrlich:"Halbjahr",annually:"Jahr",jaehrlich:"Jahr",yearly:"Jahr"}[e.toLowerCase()]||e},N=e=>{k({titel:{agb:"Allgemeine Geschäftsbedingungen (AGB)",dsgvo:"Datenschutzerklärung (DSGVO)",dojo_regeln:"Dojo-Regeln",hausordnung:"Hausordnung",haftungsausschluss:"Haftungsausschluss",widerruf:"Widerrufsbelehrung"}[e]||e,text:w[`${"widerruf"===e?"widerrufsbelehrung":e}_text`]||"Kein Inhalt vorhanden."}),y(!0)};return x?e.jsx("div",{style:{padding:"1.5rem",textAlign:"center",fontSize:"0.9rem"},children:"Lade Vertragsdaten..."}):e.jsxs("div",{className:"vertrag-formular",children:[e.jsxs("div",{className:"form-grid",style:{gap:"1rem"},children:[e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1",marginBottom:"0.5rem"},children:[e.jsx("label",{style:{fontSize:"0.85rem",fontWeight:"600",marginBottom:"0.4rem",display:"block"},children:"Tarif *"}),e.jsxs("select",{value:n.tarif_id||"",onChange:e=>{const t=c.find(t=>t.id===parseInt(e.target.value)),s=(null==t?void 0:t.mindestlaufzeit_monate)||12,a=z(n.vertragsbeginn,s);r({...n,tarif_id:e.target.value,mindestlaufzeit_monate:s,kuendigungsfrist_monate:(null==t?void 0:t.kuendigungsfrist_monate)||3,aufnahmegebuehr_cents:(null==t?void 0:t.aufnahmegebuehr_cents)||4999,vertragsende:a})},style:{padding:"0.6rem 0.75rem",fontSize:"0.9rem",lineHeight:"1.5",minHeight:"44px",height:"auto"},children:[e.jsx("option",{value:"",children:"Tarif auswählen"}),c.map(t=>e.jsxs("option",{value:t.id,children:[12===t.mindestlaufzeit_monate&&"⭐ ",t.name," - €",(t.price_cents/100).toFixed(2),"/",E(t.billing_cycle),t.mindestlaufzeit_monate&&` (${t.mindestlaufzeit_monate} Monate)`,t.altersgruppe&&` - ${t.altersgruppe}`,t.aufnahmegebuehr_cents>0&&` + €${(t.aufnahmegebuehr_cents/100).toFixed(2)} Aufnahmegebühr`]},t.id))]}),0===c.length&&e.jsx("p",{style:{fontSize:"0.75rem",color:"#F59E0B",marginTop:"0.3rem",marginBottom:0},children:"⚠️ Keine passenden Tarife gefunden"})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:"0.5rem"},children:[e.jsx("label",{style:{fontSize:"0.85rem",fontWeight:"600",marginBottom:"0.4rem",display:"block"},children:"Zahlungsintervall *"}),e.jsxs("select",{value:n.billing_cycle||"",onChange:e=>r({...n,billing_cycle:e.target.value}),style:{padding:"0.6rem 0.75rem",fontSize:"0.9rem",lineHeight:"1.5",minHeight:"44px",height:"auto"},children:[e.jsx("option",{value:"",children:"Bitte wählen..."}),m.length>0?m.map(t=>{var n,r;const s=(null==(n=t.name)?void 0:n.toLowerCase())||(null==(r=t.intervall)?void 0:r.toLowerCase())||"";return e.jsx("option",{value:s,children:t.name||t.intervall},t.id||t.zyklus_id)}):e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"monthly",children:"Monatlich"}),e.jsx("option",{value:"quarterly",children:"Vierteljährlich"}),e.jsx("option",{value:"yearly",children:"Jährlich (10% Rabatt)"})]})]})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:"0.5rem"},children:[e.jsx("label",{style:{fontSize:"0.85rem",fontWeight:"600",marginBottom:"0.4rem",display:"block"},children:"Vertragsbeginn *"}),e.jsx("input",{type:"date",value:n.vertragsbeginn||"",onChange:e=>{const t=z(e.target.value,n.mindestlaufzeit_monate);r({...n,vertragsbeginn:e.target.value,vertragsende:t})},style:{padding:"0.6rem 0.75rem",fontSize:"0.9rem",lineHeight:"1.5",minHeight:"44px",height:"auto"}})]}),n.tarif_id&&n.billing_cycle&&(()=>{const t=(()=>{const e=c.find(e=>e.id===parseInt(n.tarif_id));if(!e||!n.billing_cycle)return null;const t=e.price_cents/100,r=n.billing_cycle.toLowerCase();if("monthly"===r||"monatlich"===r)return{amount:t,originalAmount:t,discount:0,period:"Monat"};if("quarterly"===r||"vierteljährlich"===r)return{amount:3*t,originalAmount:3*t,discount:0,period:"Quartal"};if("yearly"===r||"jährlich"===r){const e=12*t;return{amount:.9*e,originalAmount:e,discount:10,period:"Jahr"}}return null})();return t?e.jsx("div",{className:"form-group",style:{gridColumn:"1 / -1",marginBottom:"0.5rem"},children:e.jsxs("div",{style:{padding:"0.8rem",background:t.discount>0?"linear-gradient(135deg, rgba(16, 185, 129, 0.15) 0%, rgba(255, 255, 255, 0.12) 100%)":"rgba(255, 255, 255, 0.08)",border:t.discount>0?"2px solid rgba(16, 185, 129, 0.5)":"2px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsxs("h5",{style:{margin:"0 0 0.3rem 0",color:t.discount>0?"#10B981":"#ffd700",fontSize:"0.85rem",fontWeight:"700"},children:["💶 Zahlungsbetrag pro ",t.period]}),t.discount>0&&e.jsxs("div",{style:{fontSize:"0.8rem",color:"#10B981",marginBottom:"0.2rem"},children:[e.jsxs("span",{style:{textDecoration:"line-through",opacity:"0.7",color:"rgba(255, 255, 255, 0.6)"},children:["€",t.originalAmount.toFixed(2)]}),e.jsxs("span",{style:{marginLeft:"0.4rem",fontWeight:"600",color:"#10B981"},children:["→ €",t.amount.toFixed(2)]})]}),0===t.discount&&e.jsxs("div",{style:{fontSize:"0.9rem",fontWeight:"700",color:"rgba(255, 255, 255, 0.95)"},children:["€",t.amount.toFixed(2)]})]}),t.discount>0&&e.jsxs("div",{style:{padding:"0.4rem 0.8rem",background:"#10B981",color:"white",borderRadius:"16px",fontWeight:"700",fontSize:"0.8rem"},children:["🎉 ",t.discount,"% Rabatt"]})]}),t.discount>0&&e.jsxs("div",{style:{marginTop:"0.3rem",fontSize:"0.75rem",color:"#10B981",fontStyle:"italic"},children:["💰 Sie sparen €",(t.originalAmount-t.amount).toFixed(2)," im Jahr!"]})]})}):null})(),n.tarif_id&&e.jsx("div",{className:"form-group",style:{gridColumn:"1 / -1",marginTop:"0.5rem",marginBottom:"1rem"},children:e.jsxs("div",{className:"vertrag-info-box",children:[e.jsx("h4",{children:"📋 Vertragszusammenfassung"}),e.jsxs("div",{className:"info-grid",children:[e.jsxs("div",{children:[e.jsx("div",{className:"info-label",children:"Vertragsende (automatisch):"}),e.jsx("div",{className:"info-value",children:n.vertragsende?new Date(n.vertragsende).toLocaleDateString("de-DE"):"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"info-label",children:"Mindestlaufzeit:"}),e.jsxs("div",{className:"info-value",children:[n.mindestlaufzeit_monate||12," Monate"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"info-label",children:"Kündigungsfrist:"}),e.jsxs("div",{className:"info-value",children:[n.kuendigungsfrist_monate||3," Monate"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"info-label",children:"Zahlungsmethode:"}),e.jsx("div",{className:"info-value",children:"SEPA-Lastschrift"})]})]}),e.jsxs("div",{className:"vertrag-warning-box",children:[e.jsx("strong",{children:"⚠️ Wichtig zur Kündigung:"}),e.jsxs("div",{style:{color:"rgba(255, 255, 255, 0.9)",marginTop:"0.3rem"},children:["• Der Vertrag hat eine Mindestlaufzeit von ",e.jsxs("strong",{children:[n.mindestlaufzeit_monate||12," Monaten"]}),", die vollständig abgelaufen sein muss",e.jsx("br",{}),"• Frühestmögliches Vertragsende: ",e.jsx("strong",{children:n.vertragsende?new Date(n.vertragsende).toLocaleDateString("de-DE"):"N/A"}),e.jsx("br",{}),"• Kündigung muss ",e.jsxs("strong",{children:[n.kuendigungsfrist_monate||3," Monate"]})," vor Vertragsende eingehen",e.jsx("br",{}),"• Spätester Kündigungstermin: ",e.jsx("strong",{children:(()=>{if(!n.vertragsende||!n.kuendigungsfrist_monate)return"N/A";const e=new Date(n.vertragsende),t=new Date(e);return t.setMonth(t.getMonth()-n.kuendigungsfrist_monate),t.toLocaleDateString("de-DE")})()})]})]})]})}),l&&e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1",marginBottom:"0.5rem"},children:[e.jsxs("label",{style:{fontSize:"0.85rem",fontWeight:"600",marginBottom:"0.4rem",display:"block"},children:["SEPA-Mandat ",e.jsx("span",{style:{color:"#EF4444"},children:"*"})]}),e.jsxs("select",{value:n.sepa_mandat_id||"",onChange:e=>r({...n,sepa_mandat_id:e.target.value?parseInt(e.target.value):null}),style:{padding:"0.6rem 0.75rem",fontSize:"0.9rem",lineHeight:"1.5",minHeight:"44px",height:"auto",borderColor:!n.sepa_mandat_id&&(g||f.length>0)?"#EF4444":void 0},children:[e.jsx("option",{value:"",children:"-- Bitte SEPA-Mandat auswählen --"}),g&&e.jsxs("option",{value:g.id,children:["✓ Aktives Mandat: ",g.mandatsreferenz," - ",g.iban]}),f.map(t=>e.jsxs("option",{value:t.id,children:["📋 Archiviert: ",t.mandatsreferenz," - ",t.iban," (bis ",new Date(t.gueltig_bis).toLocaleDateString("de-DE"),")"]},t.id))]}),!n.sepa_mandat_id&&(g||f.length>0)&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"#EF4444",marginTop:"0.4rem",marginBottom:0,padding:"0.5rem 0.75rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"6px",border:"1px solid rgba(239, 68, 68, 0.3)"},children:["⚠️ ",e.jsx("strong",{children:"Pflichtfeld:"})," Bitte wählen Sie ein SEPA-Mandat aus. Ohne SEPA-Mandat kann keine Lastschrift eingezogen werden."]}),!g&&0===f.length&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"#F59E0B",marginTop:"0.4rem",marginBottom:0,padding:"0.5rem 0.75rem",background:"rgba(245, 158, 11, 0.1)",borderRadius:"6px",border:"1px solid rgba(245, 158, 11, 0.3)"},children:["⚠️ ",e.jsx("strong",{children:"Kein SEPA-Mandat vorhanden!"})," Bitte erstellen Sie zuerst ein SEPA-Mandat im Finanzen-Tab, bevor Sie den Vertrag speichern."]}),n.sepa_mandat_id&&e.jsx("p",{style:{fontSize:"0.8rem",color:"#10B981",marginTop:"0.4rem",marginBottom:0,padding:"0.5rem 0.75rem",background:"rgba(16, 185, 129, 0.1)",borderRadius:"6px",border:"1px solid rgba(16, 185, 129, 0.3)"},children:"✓ SEPA-Mandat ausgewählt. Lastschriften können eingezogen werden."})]}),!l&&e.jsx("div",{className:"form-group",style:{gridColumn:"1 / -1",marginBottom:"0.5rem"},children:e.jsxs("div",{style:{padding:"0.75rem 1rem",background:"rgba(59, 130, 246, 0.1)",borderRadius:"8px",border:"1px solid rgba(59, 130, 246, 0.3)",fontSize:"0.85rem",color:"#60A5FA"},children:[e.jsx("strong",{children:"💳 SEPA-Lastschriftmandat:"}),e.jsx("p",{style:{margin:"0.5rem 0 0 0",color:"rgba(255, 255, 255, 0.8)"},children:"Das SEPA-Mandat wird nach dem Speichern des Mitglieds im Finanzen-Tab erstellt. Ohne gültiges SEPA-Mandat können keine Lastschriften eingezogen werden."})]})})]}),e.jsxs("div",{className:"vertrag-legal-box",children:[e.jsx("h4",{children:"📋 Rechtliche Dokumente & Einverständniserklärungen"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[e.jsxs("div",{className:"vertrag-checkbox-wrapper "+(n.agb_akzeptiert?"checked":""),children:[e.jsx("input",{type:"checkbox",className:"vertrag-checkbox",checked:n.agb_akzeptiert||!1,onChange:e=>r({...n,agb_akzeptiert:e.target.checked})}),e.jsxs("span",{className:"vertrag-checkbox-label",style:{fontSize:"0.8rem"},children:[e.jsx("strong",{children:"AGB akzeptiert *"})," (Version ",n.agb_version||"1.0",")"," ",e.jsx("button",{type:"button",onClick:()=>N("agb"),style:{marginLeft:"0.5rem",padding:"0.2rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",background:"rgba(255, 215, 0, 0.2)",border:"1px solid rgba(255, 215, 0, 0.5)",borderRadius:"4px",color:"#ffd700"},children:"📄 Anzeigen"})]})]}),e.jsxs("div",{className:"vertrag-checkbox-wrapper "+(n.datenschutz_akzeptiert?"checked":""),children:[e.jsx("input",{type:"checkbox",className:"vertrag-checkbox",checked:n.datenschutz_akzeptiert||!1,onChange:e=>r({...n,datenschutz_akzeptiert:e.target.checked})}),e.jsxs("span",{className:"vertrag-checkbox-label",style:{fontSize:"0.8rem"},children:[e.jsx("strong",{children:"Datenschutzerklärung akzeptiert *"})," (Version ",n.datenschutz_version||"1.0",")"," ",e.jsx("button",{type:"button",onClick:()=>N("dsgvo"),style:{marginLeft:"0.5rem",padding:"0.2rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",background:"rgba(255, 215, 0, 0.2)",border:"1px solid rgba(255, 215, 0, 0.5)",borderRadius:"4px",color:"#ffd700"},children:"📄 Anzeigen"})]})]}),e.jsxs("div",{className:"vertrag-checkbox-wrapper "+(n.dojo_regeln_akzeptiert?"checked":""),children:[e.jsx("input",{type:"checkbox",className:"vertrag-checkbox",checked:n.dojo_regeln_akzeptiert||!1,onChange:e=>r({...n,dojo_regeln_akzeptiert:e.target.checked})}),e.jsxs("span",{className:"vertrag-checkbox-label",style:{fontSize:"0.8rem"},children:[e.jsx("strong",{children:"Dojo-Regeln akzeptiert *"})," ",e.jsx("button",{type:"button",onClick:()=>N("dojo_regeln"),style:{marginLeft:"0.5rem",padding:"0.2rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",background:"rgba(255, 215, 0, 0.2)",border:"1px solid rgba(255, 215, 0, 0.5)",borderRadius:"4px",color:"#ffd700"},children:"📄 Anzeigen"})]})]}),e.jsxs("div",{className:"vertrag-checkbox-wrapper "+(n.hausordnung_akzeptiert?"checked":""),children:[e.jsx("input",{type:"checkbox",className:"vertrag-checkbox",checked:n.hausordnung_akzeptiert||!1,onChange:e=>r({...n,hausordnung_akzeptiert:e.target.checked})}),e.jsxs("span",{className:"vertrag-checkbox-label",style:{fontSize:"0.8rem"},children:[e.jsx("strong",{children:"Hausordnung akzeptiert *"})," ",e.jsx("button",{type:"button",onClick:()=>N("hausordnung"),style:{marginLeft:"0.5rem",padding:"0.2rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",background:"rgba(255, 215, 0, 0.2)",border:"1px solid rgba(255, 215, 0, 0.5)",borderRadius:"4px",color:"#ffd700"},children:"📄 Anzeigen"})]})]}),e.jsxs("div",{className:"vertrag-checkbox-wrapper "+(n.haftungsausschluss_akzeptiert?"checked":""),children:[e.jsx("input",{type:"checkbox",className:"vertrag-checkbox",checked:n.haftungsausschluss_akzeptiert||!1,onChange:e=>r({...n,haftungsausschluss_akzeptiert:e.target.checked})}),e.jsxs("span",{className:"vertrag-checkbox-label",style:{fontSize:"0.8rem"},children:[e.jsx("strong",{children:"Haftungsausschluss akzeptiert"})," ",e.jsx("button",{type:"button",onClick:()=>N("haftungsausschluss"),style:{marginLeft:"0.5rem",padding:"0.2rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",background:"rgba(255, 215, 0, 0.2)",border:"1px solid rgba(255, 215, 0, 0.5)",borderRadius:"4px",color:"#ffd700"},children:"📄 Anzeigen"})]})]}),e.jsxs("label",{className:"vertrag-checkbox-wrapper "+(n.gesundheitserklaerung?"checked":""),style:{marginTop:"1rem"},children:[e.jsx("input",{type:"checkbox",className:"vertrag-checkbox",checked:n.gesundheitserklaerung||!1,onChange:e=>r({...n,gesundheitserklaerung:e.target.checked})}),e.jsx("span",{className:"vertrag-checkbox-label",style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.9)"},children:"Gesundheitliche Eignung bestätigt"})]}),e.jsxs("label",{className:"vertrag-checkbox-wrapper "+(n.foto_einverstaendnis?"checked":""),children:[e.jsx("input",{type:"checkbox",className:"vertrag-checkbox",checked:n.foto_einverstaendnis||!1,onChange:e=>r({...n,foto_einverstaendnis:e.target.checked})}),e.jsx("span",{className:"vertrag-checkbox-label",style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.9)"},children:"Foto/Video-Einwilligung erteilt"})]})]}),e.jsx("p",{className:"help-text",children:"* Pflichtfelder - Zeitstempel werden automatisch bei Vertragsabschluss erfasst"})]}),v&&_&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"2rem"},onClick:()=>y(!1),children:e.jsxs("div",{style:{background:"linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%)",borderRadius:"12px",maxWidth:"800px",width:"100%",maxHeight:"80vh",overflow:"hidden",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 215, 0, 0.3)"},onClick:e=>e.stopPropagation(),children:[e.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid rgba(255, 215, 0, 0.2)",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(255, 255, 255, 0.05)"},children:[e.jsx("h3",{style:{margin:0,color:"#ffd700",fontSize:"1.3rem"},children:_.titel}),e.jsx("button",{onClick:()=>y(!1),style:{background:"transparent",border:"none",color:"#ffd700",fontSize:"1.5rem",cursor:"pointer",padding:"0.5rem"},children:"✕"})]}),e.jsx("div",{style:{padding:"1.5rem",overflowY:"auto",maxHeight:"calc(80vh - 100px)",color:"rgba(255, 255, 255, 0.9)",lineHeight:"1.6"},children:_.text.split("\n").map((t,n)=>e.jsx("p",{style:{marginBottom:"0.8rem"},children:t},n))})]})})]})},or=({onClose:s,isRegistrationFlow:a=!1,onRegistrationComplete:i})=>{const{activeDojo:o,getBestDojoForNewMember:l}=Dn(),{triggerUpdate:d}=Vn(),c=Date.now();n.useEffect(()=>{const e=document.createElement("style");return e.textContent="\n      @keyframes pulse {\n        0% { transform: scale(1); }\n        50% { transform: scale(1.1); }\n        100% { transform: scale(1); }\n      }\n      \n      /* ULTRA-SPECIFIC MODAL OVERRIDE - BREAK ALL CONTAINERS */\n      .modal-overlay {\n        position: fixed !important;\n        top: 0px !important;\n        left: 0px !important;\n        right: 0px !important;\n        bottom: 0px !important;\n        width: 100vw !important;\n        height: 100vh !important;\n        display: flex !important;\n        align-items: flex-start !important;\n        justify-content: center !important;\n        padding: 0px !important;\n        margin: 0px !important;\n        z-index: 99999 !important;\n        transform: translateY(0px) !important;\n      }\n      \n      .modal-overlay .modal-content {\n        margin: 0px !important;\n        position: relative !important;\n        top: 0px !important;\n        left: 0px !important;\n        right: 0px !important;\n        transform: translateY(0px) !important;\n      }\n      \n      /* BREAK PARENT CONTAINERS */\n      * {\n        overflow: visible !important;\n      }\n      \n      body {\n        overflow: hidden !important;\n        margin: 0px !important;\n        padding: 0px !important;\n      }\n      \n      html {\n        overflow: auto !important;\n        margin: 0px !important;\n        padding: 0px !important;\n      }\n    ",document.head.appendChild(e),()=>document.head.removeChild(e)},[]),n.useEffect(()=>{const e=()=>{const e=document.querySelector(".modal-overlay");if(e){e.style.setProperty("position","fixed","important"),e.style.setProperty("top","0px","important"),e.style.setProperty("left","0px","important"),e.style.setProperty("right","0px","important"),e.style.setProperty("bottom","0px","important"),e.style.setProperty("width","100vw","important"),e.style.setProperty("height","100vh","important"),e.style.setProperty("display","flex","important"),e.style.setProperty("align-items","flex-start","important"),e.style.setProperty("justify-content","center","important"),e.style.setProperty("padding-top","0px","important"),e.style.setProperty("padding-left","0px","important"),e.style.setProperty("padding-right","0px","important"),e.style.setProperty("padding-bottom","0px","important"),e.style.setProperty("margin","0px","important"),e.style.setProperty("z-index","99999","important"),e.style.setProperty("transform","translateY(0px)","important");const t=e.parentElement;t&&(t.style.setProperty("position","static","important"),t.style.setProperty("overflow","visible","important")),document.body.style.setProperty("overflow","hidden","important"),document.documentElement.style.setProperty("overflow","auto","important")}};e();const t=setInterval(e,50);return()=>{clearInterval(t),document.body.style.setProperty("overflow","auto","important"),document.documentElement.style.setProperty("overflow","auto","important")}},[]);const[u,m]=t.useState(1),[h,g]=t.useState(!1),[p,f]=t.useState(""),[b,x]=t.useState(null),[j,v]=t.useState(!1),[y,_]=t.useState(null),[k,w]=t.useState(!1),[S,z]=t.useState([]),[E,N]=t.useState(!1),[D,A]=t.useState(!1),[R,T]=t.useState(null),[B,C]=t.useState([]),[P,I]=t.useState(!1),[L,O]=t.useState({vorname:"",nachname:"",geburtsdatum:"",geschlecht:"",email:"",benutzername:"",tarif_id:"",tarif_name:"",tarif_preis:0}),[F,M]=t.useState([]),[V,U]=t.useState(!1),[W,K]=t.useState({email:"",passwort:"",loading:!1,error:"",loggedIn:!1}),[$,H]=t.useState(null);t.useEffect(()=>{window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0;const e=()=>{const e=document.querySelector(".modal-overlay"),t=document.querySelector(".modal-content");e&&(e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.right="0px",e.style.bottom="0px",e.style.transform="none",e.style.padding="0",e.style.margin="0",e.scrollTop=0,t&&(t.style.marginTop="20px",t.style.marginBottom="20px",t.style.marginLeft="auto",t.style.marginRight="auto"))};e(),setTimeout(e,10),setTimeout(e,50),setTimeout(e,100)},[]);const[q,G]=t.useState({vorname:"",nachname:"",geburtsdatum:"",geschlecht:"",schueler_student:!1,email:"",telefon:"",telefon_mobil:"",strasse:"",hausnummer:"",plz:"",ort:"",erziehungsberechtigt_vorname:"",erziehungsberechtigt_nachname:"",erziehungsberechtigt_telefon:"",erziehungsberechtigt_email:"",verhaeltnis:"",allergien:"",medizinische_hinweise:"",notfallkontakt_name:"",notfallkontakt_telefon:"",notfallkontakt_verhaeltnis:"",iban:"",bic:"",bankname:"",kontoinhaber:"",zahlungsmethode:"SEPA-Lastschrift",kontonummer:"",bankleitzahl:"",dojo_id:(null==o?void 0:o.id)||1,eintrittsdatum:(new Date).toISOString().split("T")[0],aktiv:!0,vertrag_tarif_id:"",vertrag_billing_cycle:"monthly",vertrag_payment_method:"direct_debit",vertrag_vertragsbeginn:(new Date).toISOString().split("T")[0],vertrag_vertragsende:"",vertrag_kuendigungsfrist_monate:3,vertrag_mindestlaufzeit_monate:24,vertrag_aufnahmegebuehr_cents:4999,vertrag_agb_akzeptiert:!1,vertrag_datenschutz_akzeptiert:!1,vertrag_dojo_regeln_akzeptiert:!1,vertrag_hausordnung_akzeptiert:!1,vertrag_haftungsausschluss_akzeptiert:!1,vertrag_gesundheitserklaerung:!1,vertrag_foto_einverstaendnis:!1,vertrag_agb_version:"1.0",vertrag_datenschutz_version:"1.0",vertragsbeginn_option:"",vertrag_sofortbeginn_zustimmung:!1,vertrag_widerrufsrecht_kenntnisnahme:!1,benutzername:"",passwort:"",passwort_wiederholen:""}),J=()=>{if(!q.geburtsdatum)return!1;const e=new Date(q.geburtsdatum),t=new Date,n=t.getFullYear()-e.getFullYear(),r=t.getMonth()-e.getMonth();return r<0||0===r&&t.getDate()<e.getDate()?n-1<18:n<18},Z=()=>a?8:6,Y=()=>a?8:6,X=e=>{if(!e)return!1;const t=new Date(e),n=new Date,r=n.getFullYear()-t.getFullYear(),s=n.getMonth()-t.getMonth();return s<0||0===s&&n.getDate()<t.getDate()?r-1<18:r<18},Q=()=>{L.vorname&&L.nachname&&L.geburtsdatum&&L.geschlecht?L.email||L.benutzername?(C(e=>[...e,{...L,position:e.length+2,isMinor:X(L.geburtsdatum)}]),O({vorname:"",nachname:"",geburtsdatum:"",geschlecht:"",email:"",benutzername:"",tarif_id:"",tarif_name:"",tarif_preis:0}),I(!1),f("")):f("Bitte geben Sie entweder eine E-Mail-Adresse oder einen Benutzernamen ein"):f("Bitte füllen Sie Vorname, Nachname, Geburtsdatum und Geschlecht aus")},ee=()=>{const e=`family_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;T(e),A(!0)},te=async()=>{if(W.email&&W.passwort){K(e=>({...e,loading:!0,error:""}));try{const e=await Ht.post("/public/family-login",{email:W.email,passwort:W.passwort});if(e.data.success){const t=e.data.member;H(t),G(e=>({...e,strasse:t.strasse||"",hausnummer:t.hausnummer||"",plz:t.plz||"",ort:t.ort||"",kontoinhaber:t.kontoinhaber||"",iban:t.iban||"",bic:t.bic||"",bank_name:t.bank_name||""})),ee(),K(e=>({...e,loading:!1,loggedIn:!0,error:""})),f("")}else K(t=>({...t,loading:!1,error:e.data.message||"Login fehlgeschlagen"}))}catch(e){console.error("Login-Fehler:",e),K(t=>{var n,r;return{...t,loading:!1,error:(null==(r=null==(n=e.response)?void 0:n.data)?void 0:r.message)||"Login fehlgeschlagen. Bitte prüfen Sie Ihre Zugangsdaten."}})}}else K(e=>({...e,error:"Bitte E-Mail und Passwort eingeben"}))};t.useEffect(()=>{(B.length>0||D)&&(async()=>{try{const e=a?"/public/tarife":"/tarife",t=await Ht.get(e);M(t.data||[])}catch(e){console.error("Fehler beim Laden der Tarife:",e)}})()},[B.length,D,a]);const ne=e=>2===e?{prozent:10,name:"Familien-Rabatt (2. Mitglied)"}:3===e?{prozent:15,name:"Familien-Rabatt (3. Mitglied)"}:e>=4?{prozent:20,name:"Familien-Rabatt (4.+ Mitglied)"}:{prozent:0,name:""};t.useEffect(()=>{if(1===u&&q.vorname&&q.nachname&&q.geburtsdatum){const e=setTimeout(()=>{(async()=>{if(q.vorname&&q.nachname&&q.geburtsdatum){g(!0),f("");try{const e=a?"/public/check-duplicate":"/mitglieder/check-duplicate",t=(await Ht.post(e,{vorname:q.vorname,nachname:q.nachname,geburtsdatum:q.geburtsdatum,geschlecht:q.geschlecht})).data;console.log("🔍 Duplikatsprüfung Ergebnis:",t),x(t),t.isDuplicate&&t.matches&&t.matches.length>0&&(console.log("⚠️ Duplikat gefunden, zeige Dialog"),v(!0))}catch(e){console.error("❌ Fehler bei Duplikatsprüfung:",e),f(`Fehler bei der Duplikatsprüfung: ${e.message}`),x(null)}finally{g(!1)}}else x(null)})()},1e3);return()=>clearTimeout(e)}},[q.vorname,q.nachname,q.geburtsdatum]),t.useEffect(()=>{const e=l();if(e&&e.id){if(console.log("🏯 Intelligente Dojo-Auswahl:",e.id,e.dojoname),console.log("📊 Status:",e.steuer_status),"kleinunternehmer"===e.steuer_status){const t=e.jahresumsatz_aktuell/e.kleinunternehmer_grenze*100;console.log(`💰 Auslastung: ${t.toFixed(1)}% (${e.jahresumsatz_aktuell}€ / ${e.kleinunternehmer_grenze}€)`)}G(t=>({...t,dojo_id:e.id}))}},[l]);const re=e=>{const{name:t,value:n,type:r,checked:s}=e.target;console.log(`🔄 Input geändert: ${t} = ${"checkbox"===r?s:n}`),G(e=>({...e,[t]:"checkbox"===r?s:n})),f(""),"iban"===t&&n.length>10&&se(n)},se=async e=>{if(e&&!(e.length<22))try{const t=a?"/public/banken/validate-iban":"/banken/validate-iban",n=(await Ht.post(t,{iban:e})).data;_(n),n.valid&&n.bic&&G(e=>({...e,bic:n.bic,bankname:n.bankname}))}catch(t){console.error("Fehler bei IBAN-Validierung:",t)}},ae=async()=>{const{kontonummer:e,bankleitzahl:t}=q;if(e&&t)try{const n=a?"/public/banken/kto-blz-to-iban":"/banken/kto-blz-to-iban",r=(await Ht.post(n,{kontonummer:e,bankleitzahl:t})).data;G(e=>({...e,iban:r.iban,bic:r.bic,bankname:r.bankname})),f(""),w(!1)}catch(n){console.error("Fehler bei IBAN-Konvertierung:",n),f("Fehler bei der IBAN-Erstellung")}else f("Bitte geben Sie Kontonummer und Bankleitzahl ein")},ie=()=>e.jsxs("div",{className:"step-content",children:[e.jsx("h3",{style:{color:"var(--primary-color)",marginTop:"2rem",marginBottom:"1rem",fontSize:"1.1rem",borderBottom:"2px solid var(--primary-color)",paddingBottom:"0.5rem",backgroundColor:"transparent",padding:"0",fontWeight:"600",borderRadius:"0"},children:"Schritt 1: Grunddaten"}),e.jsxs("div",{className:"input-container",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.8rem 1rem",marginBottom:"1rem"},children:[e.jsxs("div",{className:"input-group",style:{display:"flex",flexDirection:"column"},children:[e.jsx("label",{htmlFor:"vorname",className:"input-label",style:{fontWeight:600,marginBottom:"0.4rem",color:"var(--text-color)",fontSize:"0.85rem"},children:"Vorname *"}),e.jsx("input",{type:"text",id:"vorname",name:"vorname",value:q.vorname,onChange:re,className:"input-field","data-cache-break":c,style:{padding:"0.4rem 0.5rem",border:"2px solid var(--border-color)",borderRadius:"6px",fontSize:"0.85rem",lineHeight:"1.3",height:"32px",transition:"all 0.3s ease",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.95)"},required:!0})]}),e.jsxs("div",{className:"input-group",style:{display:"flex",flexDirection:"column"},children:[e.jsx("label",{htmlFor:"nachname",className:"input-label",style:{fontWeight:600,marginBottom:"0.4rem",color:"var(--text-color)",fontSize:"0.85rem"},children:"Nachname *"}),e.jsx("input",{type:"text",id:"nachname",name:"nachname",value:q.nachname,onChange:re,className:"input-field",style:{padding:"0.4rem 0.5rem",border:"2px solid var(--border-color)",borderRadius:"6px",fontSize:"0.85rem",lineHeight:"1.3",height:"32px",transition:"all 0.3s ease",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.95)"},required:!0})]}),e.jsxs("div",{className:"input-group",style:{display:"flex",flexDirection:"column"},children:[e.jsx("label",{htmlFor:"geburtsdatum",className:"input-label",style:{fontWeight:600,marginBottom:"0.4rem",color:"var(--text-color)",fontSize:"0.85rem"},children:"Geburtsdatum *"}),e.jsx("input",{type:"date",id:"geburtsdatum",name:"geburtsdatum",value:q.geburtsdatum,onChange:re,className:"input-field",style:{padding:"0.4rem 0.5rem",border:"2px solid var(--border-color)",borderRadius:"6px",fontSize:"0.85rem",lineHeight:"1.3",height:"32px",transition:"all 0.3s ease",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.95)"},required:!0})]}),e.jsxs("div",{className:"input-group",style:{display:"flex",flexDirection:"column"},children:[e.jsx("label",{htmlFor:"geschlecht",className:"input-label",style:{fontWeight:600,marginBottom:"0.4rem",color:"var(--text-color)",fontSize:"0.85rem"},children:"Geschlecht *"}),e.jsxs("select",{id:"geschlecht",name:"geschlecht",value:q.geschlecht,onChange:re,className:"input-field",style:{padding:"0.4rem 0.5rem",border:"2px solid var(--border-color)",borderRadius:"6px",fontSize:"0.85rem",lineHeight:"1.3",height:"32px",transition:"all 0.3s ease",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.95)"},required:!0,children:[e.jsx("option",{value:"",children:"Bitte wählen"}),e.jsx("option",{value:"m",children:"Männlich"}),e.jsx("option",{value:"w",children:"Weiblich"}),e.jsx("option",{value:"d",children:"Divers"})]})]})]}),!J()&&q.geburtsdatum&&e.jsxs("div",{style:{marginTop:"1.5rem",padding:"1.25rem",background:"rgba(31, 41, 55, 0.8)",border:"2px solid rgba(59, 130, 246, 0.5)",borderRadius:"12px",boxShadow:"none"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"1rem",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",name:"schueler_student",checked:q.schueler_student||!1,onChange:re,style:{width:"22px",height:"22px",cursor:"pointer",accentColor:"#3B82F6"}}),e.jsx("span",{style:{fontSize:"1.05rem",fontWeight:"700",color:"rgba(255, 255, 255, 0.95)",letterSpacing:"0.01em"},children:"🎓 Ich bin Schüler/in oder Student/in"})]}),q.schueler_student&&e.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"rgba(31, 41, 55, 0.8)",border:"2px solid rgba(59, 130, 246, 0.5)",borderRadius:"10px",fontSize:"0.95rem",color:"rgba(255, 255, 255, 0.95)",lineHeight:"1.6",fontWeight:"500"},children:["ℹ️ ",e.jsx("strong",{style:{color:"rgba(255, 255, 255, 0.95)"},children:"Hinweis:"})," Bitte laden Sie später einen gültigen Schülerausweis oder eine Immatrikulationsbescheinigung hoch. Der Upload kann nach der Registrierung im Mitgliederprofil erfolgen."]})]}),(null==b?void 0:b.isDuplicate)&&e.jsxs("div",{className:"duplicate-warning",children:["⚠️ Es wurde bereits ein Mitglied mit diesen Daten gefunden: ",b.message]}),b&&!b.isDuplicate&&e.jsx("div",{className:"no-duplicate-info",children:"✅ Keine Duplikate gefunden"}),h&&e.jsx("div",{className:"loading",children:"Prüfe auf Duplikate..."})]}),oe=()=>e.jsxs("div",{className:"step-content",children:[e.jsx("h3",{children:"Schritt 2: Kontaktdaten"}),e.jsxs("div",{className:"input-container",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"email",className:"input-label",children:"E-Mail *"}),e.jsx("input",{type:"email",id:"email",name:"email",value:q.email,onChange:re,className:"input-field",required:!0})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"telefon",className:"input-label",children:"Telefon (Festnetz)"}),e.jsx("input",{type:"tel",id:"telefon",name:"telefon",value:q.telefon,onChange:re,className:"input-field"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"telefon_mobil",className:"input-label",children:"Telefon (Mobil) *"}),e.jsx("input",{type:"tel",id:"telefon_mobil",name:"telefon_mobil",value:q.telefon_mobil,onChange:re,className:"input-field",required:!0})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"strasse",className:"input-label",children:"Straße *"}),e.jsx("input",{type:"text",id:"strasse",name:"strasse",value:q.strasse,onChange:re,className:"input-field",required:!0})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"hausnummer",className:"input-label",children:"Hausnummer *"}),e.jsx("input",{type:"text",id:"hausnummer",name:"hausnummer",value:q.hausnummer,onChange:re,className:"input-field",required:!0})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"plz",className:"input-label",children:"PLZ *"}),e.jsx("input",{type:"text",id:"plz",name:"plz",value:q.plz,onChange:re,className:"input-field",required:!0})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"ort",className:"input-label",children:"Ort *"}),e.jsx("input",{type:"text",id:"ort",name:"ort",value:q.ort,onChange:re,className:"input-field",required:!0})]})]})]}),le=()=>e.jsxs("div",{className:"step-content",children:[e.jsx("h3",{style:{color:"var(--primary-color)",marginTop:"1rem",marginBottom:"1.5rem",fontSize:"1.1rem",borderBottom:"2px solid var(--primary-color)",paddingBottom:"0.5rem"},children:"Schritt 3: Familien-Registrierung"}),!D&&0===B.length&&!V&&e.jsxs("div",{style:{padding:"1.5rem",background:"rgba(31, 41, 55, 0.8)",borderRadius:"12px",border:"2px solid rgba(59, 130, 246, 0.5)",marginBottom:"1.5rem"},children:[e.jsx("h4",{style:{color:"rgba(255, 255, 255, 0.95)",marginTop:0,marginBottom:"1rem"},children:"Familien-Registrierung"}),e.jsx("p",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"0.9rem",marginBottom:"1.5rem"},children:"Familienmitglieder teilen Adresse und Bankverbindung, erhalten aber jeweils ein eigenes Konto und einen eigenen Vertrag. Ab dem 2. Familienmitglied gilt ein Familien-Rabatt."}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[e.jsxs("button",{type:"button",onClick:ee,style:{padding:"1rem 1.5rem",background:"linear-gradient(135deg, #3b82f6, #2563eb)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"0.95rem",textAlign:"left"},children:[e.jsx("span",{style:{display:"block",marginBottom:"0.25rem"},children:"Ja, weitere Familienmitglieder anmelden"}),e.jsx("span",{style:{fontSize:"0.8rem",opacity:.9,fontWeight:"normal"},children:"Ich bin neu und möchte mich zusammen mit meiner Familie anmelden"})]}),e.jsxs("button",{type:"button",onClick:()=>m(4),style:{padding:"1rem 1.5rem",background:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.95)",border:"2px solid rgba(255, 255, 255, 0.3)",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"0.95rem",textAlign:"left"},children:[e.jsx("span",{style:{display:"block",marginBottom:"0.25rem"},children:"Nein, nur mich anmelden"}),e.jsx("span",{style:{fontSize:"0.8rem",opacity:.8,fontWeight:"normal"},children:"Ich möchte mich einzeln ohne weitere Familienmitglieder anmelden"})]}),e.jsxs("button",{type:"button",onClick:()=>U(!0),style:{padding:"1rem 1.5rem",background:"linear-gradient(135deg, #10b981, #059669)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"0.95rem",textAlign:"left"},children:[e.jsx("span",{style:{display:"block",marginBottom:"0.25rem"},children:"Ich bin bereits Mitglied"}),e.jsx("span",{style:{fontSize:"0.8rem",opacity:.9,fontWeight:"normal"},children:"Ich möchte ein Familienmitglied zu meiner bestehenden Mitgliedschaft hinzufügen"})]})]})]}),V&&!W.loggedIn&&e.jsxs("div",{style:{padding:"1.5rem",background:"rgba(16, 185, 129, 0.1)",borderRadius:"12px",border:"2px solid rgba(16, 185, 129, 0.5)",marginBottom:"1.5rem"},children:[e.jsx("h4",{style:{color:"rgba(255, 255, 255, 0.95)",marginTop:0,marginBottom:"0.5rem"},children:"Anmelden als bestehendes Mitglied"}),e.jsx("p",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"0.85rem",marginBottom:"1.25rem"},children:"Bitte melden Sie sich mit Ihren Zugangsdaten an. Ihre Adresse und Bankdaten werden automatisch für das neue Familienmitglied übernommen."}),e.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",color:"rgba(255, 255, 255, 0.9)",marginBottom:"0.4rem",fontSize:"0.85rem"},children:"E-Mail-Adresse *"}),e.jsx("input",{type:"email",value:W.email,onChange:e=>K(t=>({...t,email:e.target.value,error:""})),placeholder:"Ihre E-Mail-Adresse",style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"2px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.95)",fontSize:"0.9rem"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",color:"rgba(255, 255, 255, 0.9)",marginBottom:"0.4rem",fontSize:"0.85rem"},children:"Passwort *"}),e.jsx("input",{type:"password",value:W.passwort,onChange:e=>K(t=>({...t,passwort:e.target.value,error:""})),placeholder:"Ihr Passwort",onKeyDown:e=>"Enter"===e.key&&te(),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"2px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.95)",fontSize:"0.9rem"}})]}),W.error&&e.jsx("div",{style:{padding:"0.75rem",background:"rgba(239, 68, 68, 0.2)",border:"1px solid rgba(239, 68, 68, 0.5)",borderRadius:"6px",color:"#ef4444",fontSize:"0.85rem"},children:W.error}),e.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"0.5rem"},children:[e.jsx("button",{type:"button",onClick:te,disabled:W.loading,style:{padding:"0.6rem 1.5rem",background:W.loading?"rgba(16, 185, 129, 0.5)":"linear-gradient(135deg, #10b981, #059669)",color:"white",border:"none",borderRadius:"6px",cursor:W.loading?"wait":"pointer",fontWeight:"600",fontSize:"0.9rem"},children:W.loading?"Wird geprüft...":"Anmelden"}),e.jsx("button",{type:"button",onClick:()=>{U(!1),K({email:"",passwort:"",loading:!1,error:"",loggedIn:!1})},style:{padding:"0.6rem 1.5rem",background:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.8)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem"},children:"Zurück"})]})]})]}),V&&W.loggedIn&&$&&e.jsxs("div",{style:{padding:"1rem",background:"rgba(16, 185, 129, 0.15)",border:"2px solid rgba(16, 185, 129, 0.6)",borderRadius:"10px",marginBottom:"1rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[e.jsx("span",{style:{background:"linear-gradient(135deg, #10b981, #059669)",color:"white",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"700"},children:"Bestehendes Mitglied"}),e.jsx("span",{style:{color:"#10b981",fontSize:"0.85rem"},children:"✓ Angemeldet"})]}),e.jsxs("h4",{style:{color:"rgba(255, 255, 255, 0.95)",margin:"0 0 0.25rem 0"},children:[$.vorname," ",$.nachname]}),e.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.7)",margin:0,fontSize:"0.85rem"},children:[$.strasse," ",$.hausnummer,", ",$.plz," ",$.ort]}),e.jsx("p",{style:{color:"rgba(255, 255, 255, 0.6)",margin:"0.5rem 0 0 0",fontSize:"0.8rem",fontStyle:"italic"},children:"Adresse und Bankdaten werden für das neue Familienmitglied übernommen."})]}),(D||B.length>0)&&e.jsxs("div",{children:[V&&$?e.jsxs("div",{style:{padding:"1rem",background:"rgba(16, 185, 129, 0.1)",border:"2px solid rgba(16, 185, 129, 0.5)",borderRadius:"10px",marginBottom:"1rem"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:e.jsx("span",{style:{background:"linear-gradient(135deg, #10b981, #059669)",color:"white",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"700"},children:"Bestehendes Hauptmitglied"})}),e.jsxs("h4",{style:{color:"rgba(255, 255, 255, 0.95)",margin:"0 0 0.25rem 0"},children:[$.vorname," ",$.nachname]}),e.jsx("p",{style:{color:"rgba(255, 255, 255, 0.7)",margin:0,fontSize:"0.85rem"},children:"Bestehender Vertrag - keine Änderung"})]}):e.jsxs("div",{style:{padding:"1rem",background:"rgba(16, 185, 129, 0.1)",border:"2px solid rgba(16, 185, 129, 0.5)",borderRadius:"10px",marginBottom:"1rem"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:e.jsx("span",{style:{background:"linear-gradient(135deg, #10b981, #059669)",color:"white",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"700"},children:"Hauptmitglied"})}),e.jsxs("h4",{style:{color:"rgba(255, 255, 255, 0.95)",margin:"0 0 0.25rem 0"},children:[q.vorname," ",q.nachname]}),e.jsx("p",{style:{color:"rgba(255, 255, 255, 0.7)",margin:0,fontSize:"0.85rem"},children:"Voller Beitrag"})]}),B.map((t,n)=>e.jsxs("div",{style:{padding:"1rem",background:"rgba(59, 130, 246, 0.1)",border:"2px solid rgba(59, 130, 246, 0.5)",borderRadius:"10px",marginBottom:"1rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsxs("span",{style:{background:"linear-gradient(135deg, #3b82f6, #2563eb)",color:"white",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"700"},children:[t.position,". Familienmitglied"]}),t.isMinor&&e.jsx("span",{style:{background:"rgba(245, 158, 11, 0.3)",color:"#fbbf24",padding:"0.25rem 0.5rem",borderRadius:"20px",fontSize:"0.7rem",fontWeight:"600"},children:"Minderjährig"})]}),e.jsx("button",{type:"button",onClick:()=>(e=>{C(t=>t.filter((t,n)=>n!==e).map((e,t)=>({...e,position:t+2})))})(n),style:{background:"rgba(239, 68, 68, 0.2)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.5)",borderRadius:"6px",padding:"0.25rem 0.5rem",cursor:"pointer",fontSize:"0.75rem"},children:"Entfernen"})]}),e.jsxs("h4",{style:{color:"rgba(255, 255, 255, 0.95)",margin:"0 0 0.25rem 0"},children:[t.vorname," ",t.nachname]}),e.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.7)",margin:0,fontSize:"0.85rem"},children:["Mit Familien-Rabatt • ",t.email]}),t.isMinor&&e.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.6)",margin:"0.5rem 0 0 0",fontSize:"0.8rem",fontStyle:"italic"},children:[q.vorname," ",q.nachname," wird als Erziehungsberechtigte/r hinterlegt."]})]},n)),P?e.jsxs("div",{style:{padding:"1.25rem",background:"rgba(31, 41, 55, 0.8)",border:"2px solid rgba(59, 130, 246, 0.5)",borderRadius:"12px",marginBottom:"1rem"},children:[e.jsxs("h4",{style:{color:"rgba(255, 255, 255, 0.95)",marginTop:0,marginBottom:"1rem"},children:["Familienmitglied ",B.length+2," hinzufügen"]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"input-label",style:{color:"rgba(255, 255, 255, 0.9)",marginBottom:"0.4rem",display:"block",fontSize:"0.85rem"},children:"Vorname *"}),e.jsx("input",{type:"text",value:L.vorname,onChange:e=>O(t=>({...t,vorname:e.target.value})),className:"input-field",style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"2px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.95)"}})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"input-label",style:{color:"rgba(255, 255, 255, 0.9)",marginBottom:"0.4rem",display:"block",fontSize:"0.85rem"},children:"Nachname *"}),e.jsx("input",{type:"text",value:L.nachname,onChange:e=>O(t=>({...t,nachname:e.target.value})),className:"input-field",style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"2px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.95)"}})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"input-label",style:{color:"rgba(255, 255, 255, 0.9)",marginBottom:"0.4rem",display:"block",fontSize:"0.85rem"},children:"Geburtsdatum *"}),e.jsx("input",{type:"date",value:L.geburtsdatum,onChange:e=>O(t=>({...t,geburtsdatum:e.target.value})),className:"input-field",style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"2px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.95)"}})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"input-label",style:{color:"rgba(255, 255, 255, 0.9)",marginBottom:"0.4rem",display:"block",fontSize:"0.85rem"},children:"Geschlecht *"}),e.jsxs("select",{value:L.geschlecht,onChange:e=>O(t=>({...t,geschlecht:e.target.value})),className:"input-field",style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"2px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.95)"},children:[e.jsx("option",{value:"",children:"Bitte wählen"}),e.jsx("option",{value:"m",children:"Männlich"}),e.jsx("option",{value:"w",children:"Weiblich"}),e.jsx("option",{value:"d",children:"Divers"})]})]}),e.jsxs("div",{className:"input-group",children:[e.jsxs("label",{className:"input-label",style:{color:"rgba(255, 255, 255, 0.9)",marginBottom:"0.4rem",display:"block",fontSize:"0.85rem"},children:["E-Mail-Adresse ",!L.benutzername&&"*"]}),e.jsx("input",{type:"email",value:L.email,onChange:e=>O(t=>({...t,email:e.target.value})),className:"input-field",placeholder:"Optional wenn Benutzername",style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"2px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.95)"}})]}),e.jsxs("div",{className:"input-group",children:[e.jsxs("label",{className:"input-label",style:{color:"rgba(255, 255, 255, 0.9)",marginBottom:"0.4rem",display:"block",fontSize:"0.85rem"},children:["Benutzername ",!L.email&&"*"]}),e.jsx("input",{type:"text",value:L.benutzername,onChange:e=>O(t=>({...t,benutzername:e.target.value})),className:"input-field",placeholder:"Optional wenn E-Mail",style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"2px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.95)"}})]})]}),e.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(59, 130, 246, 0.1)",borderRadius:"6px",border:"1px solid rgba(59, 130, 246, 0.3)"},children:e.jsxs("p",{style:{margin:0,fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.8)"},children:["ℹ️ Adresse und Bankverbindung werden vom Hauptmitglied übernommen.",e.jsx("br",{}),"💡 E-Mail oder Benutzername - mindestens eines ist erforderlich."]})}),L.geburtsdatum&&X(L.geburtsdatum)&&e.jsx("div",{style:{marginTop:"0.75rem",padding:"0.75rem",background:"rgba(245, 158, 11, 0.1)",borderRadius:"6px",border:"1px solid rgba(245, 158, 11, 0.3)"},children:e.jsxs("p",{style:{margin:0,fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.8)"},children:["👶 Dieses Mitglied ist minderjährig. ",q.vorname," ",q.nachname," wird als Erziehungsberechtigte/r hinterlegt."]})}),e.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[e.jsx("button",{type:"button",onClick:Q,style:{padding:"0.5rem 1rem",background:"linear-gradient(135deg, #10b981, #059669)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600"},children:"Hinzufügen"}),e.jsx("button",{type:"button",onClick:()=>{I(!1),O({vorname:"",nachname:"",geburtsdatum:"",geschlecht:"",email:"",benutzername:"",tarif_id:"",tarif_name:"",tarif_preis:0})},style:{padding:"0.5rem 1rem",background:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.8)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"6px",cursor:"pointer"},children:"Abbrechen"})]})]}):e.jsx("button",{type:"button",onClick:()=>I(!0),style:{width:"100%",padding:"1rem",background:"rgba(255, 255, 255, 0.05)",border:"2px dashed rgba(255, 255, 255, 0.3)",borderRadius:"10px",color:"rgba(255, 255, 255, 0.8)",cursor:"pointer",fontSize:"0.95rem",marginBottom:"1rem",transition:"all 0.2s"},onMouseEnter:e=>{e.target.style.background="rgba(255, 255, 255, 0.1)",e.target.style.borderColor="rgba(59, 130, 246, 0.5)"},onMouseLeave:e=>{e.target.style.background="rgba(255, 255, 255, 0.05)",e.target.style.borderColor="rgba(255, 255, 255, 0.3)"},children:"+ Weiteres Familienmitglied hinzufügen"}),B.length>0&&e.jsx("div",{style:{padding:"1rem",background:"rgba(16, 185, 129, 0.1)",borderRadius:"8px",border:"1px solid rgba(16, 185, 129, 0.3)",marginBottom:"1rem"},children:e.jsxs("p",{style:{margin:0,fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.9)"},children:["✓ ",e.jsx("strong",{children:B.length})," weitere",1===B.length?"s":""," Familienmitglied",1===B.length?"":"er"," hinzugefügt",e.jsx("br",{}),"✓ Familien-Rabatt wird automatisch angewendet",e.jsx("br",{}),"✓ Jedes Mitglied erhält ein eigenes Konto und einen eigenen Vertrag"]})})]})]}),de=()=>e.jsxs("div",{className:"step-content",children:[e.jsx("h3",{children:"Schritt 5: Medizinische Angaben"}),e.jsxs("div",{className:"input-container",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"allergien",className:"input-label",children:"Allergien"}),e.jsx("textarea",{id:"allergien",name:"allergien",value:q.allergien,onChange:re,className:"input-field",rows:"3",placeholder:"Bitte geben Sie bekannte Allergien an..."})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"medizinische_hinweise",className:"input-label",children:"Medizinische Hinweise"}),e.jsx("textarea",{id:"medizinische_hinweise",name:"medizinische_hinweise",value:q.medizinische_hinweise,onChange:re,className:"input-field",rows:"3",placeholder:"Bitte geben Sie wichtige medizinische Informationen an..."})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"notfallkontakt_name",className:"input-label",children:"Notfallkontakt (Name)"}),e.jsx("input",{type:"text",id:"notfallkontakt_name",name:"notfallkontakt_name",value:q.notfallkontakt_name,onChange:re,className:"input-field"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"notfallkontakt_telefon",className:"input-label",children:"Notfallkontakt (Telefon)"}),e.jsx("input",{type:"tel",id:"notfallkontakt_telefon",name:"notfallkontakt_telefon",value:q.notfallkontakt_telefon,onChange:re,className:"input-field"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"notfallkontakt_verhaeltnis",className:"input-label",children:"Verhältnis zum Notfallkontakt"}),e.jsx("input",{type:"text",id:"notfallkontakt_verhaeltnis",name:"notfallkontakt_verhaeltnis",value:q.notfallkontakt_verhaeltnis,onChange:re,className:"input-field",placeholder:"z.B. Ehepartner, Vater, Mutter, Freund..."})]})]})]}),ce=()=>e.jsxs("div",{className:"step-content",children:[e.jsx("h3",{children:"Schritt 4: Bankdaten"}),e.jsxs("div",{className:"input-container",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"kontoinhaber",className:"input-label",children:"Kontoinhaber *"}),e.jsx("input",{type:"text",id:"kontoinhaber",name:"kontoinhaber",value:q.kontoinhaber,onChange:re,className:"input-field",required:!0})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"iban",className:"input-label",children:"IBAN *"}),e.jsx("input",{type:"text",id:"iban",name:"iban",value:q.iban,onChange:re,className:"input-field",placeholder:"DE89 3704 0044 0532 0130 00",required:!0}),y&&e.jsxs("div",{children:[y.message,y.bankname&&e.jsx("br",{}),"Bank: ",y.bankname]})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"bic",className:"input-label",children:"BIC *"}),e.jsx("input",{type:"text",id:"bic",name:"bic",value:q.bic,onChange:re,className:"input-field",placeholder:"COBADEFFXXX",readOnly:!!(null==y?void 0:y.bic),required:!0})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"bankname",className:"input-label",children:"Bankname *"}),e.jsx("input",{type:"text",id:"bankname",name:"bankname",value:q.bankname,onChange:e=>{re(e),e.target.value.length>=2?((async e=>{if(e.length<2)z([]);else try{const t=a?"/public/banken/search":"/banken/search",n=await Ht.get(t,{params:{q:e}});z(n.data)}catch(t){console.error("Fehler bei der Bankensuche:",t),z([])}})(e.target.value),N(!0)):(z([]),N(!1))},className:"input-field",readOnly:!!(null==y?void 0:y.bankname),placeholder:"Bank suchen oder eingeben...",required:!0}),E&&S.length>0&&e.jsx("div",{children:S.map((t,n)=>e.jsxs("div",{onClick:()=>(e=>{G(t=>({...t,bankname:e.bankname,bic:e.bic,bankleitzahl:e.bankleitzahl})),z([]),N(!1)})(t),children:[e.jsx("div",{children:t.bankname}),e.jsxs("div",{children:[t.bic," • BLZ: ",t.bankleitzahl]})]},n))}),E&&q.bankname.length>=2&&0===S.length&&e.jsx("div",{children:"Keine Banken gefunden"})]})]}),e.jsxs("div",{children:[e.jsx("button",{type:"button",onClick:()=>w(!k),children:k?"IBAN-Eingabe verwenden":"Konto-Nummer + BLZ eingeben"}),k&&e.jsxs("div",{className:"input-container",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"kontonummer",className:"input-label",children:"Konto-Nummer"}),e.jsx("input",{type:"text",id:"kontonummer",name:"kontonummer",value:q.kontonummer,onChange:re,className:"input-field",placeholder:"1234567890"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"bankleitzahl",className:"input-label",children:"Bankleitzahl (BLZ)"}),e.jsx("input",{type:"text",id:"bankleitzahl",name:"bankleitzahl",value:q.bankleitzahl,onChange:re,className:"input-field",placeholder:"12345678",maxLength:"8"})]}),e.jsx("div",{className:"input-group",children:e.jsx("button",{type:"button",onClick:ae,disabled:!q.kontonummer||!q.bankleitzahl,children:"Zu IBAN konvertieren"})})]})]})]}),ue=()=>{var t,n;return e.jsxs("div",{className:"step-content",children:[e.jsxs("h3",{children:["Schritt ",a?"4":"3",": Vertragsauswahl"]}),B.length>0&&(V&&$?e.jsxs("div",{style:{padding:"0.75rem 1rem",background:"rgba(16, 185, 129, 0.1)",border:"2px solid rgba(16, 185, 129, 0.5)",borderRadius:"8px",marginBottom:"1rem"},children:[e.jsx("span",{style:{background:"linear-gradient(135deg, #10b981, #059669)",color:"white",padding:"0.2rem 0.6rem",borderRadius:"15px",fontSize:"0.7rem",fontWeight:"700",marginRight:"0.5rem"},children:"Bestehendes Hauptmitglied"}),e.jsxs("strong",{style:{color:"rgba(255, 255, 255, 0.95)"},children:[$.vorname," ",$.nachname]}),e.jsx("span",{style:{color:"rgba(255, 255, 255, 0.7)",marginLeft:"0.5rem",fontSize:"0.85rem"},children:"(bestehender Vertrag - keine Änderung)"})]}):e.jsxs("div",{style:{padding:"0.75rem 1rem",background:"rgba(16, 185, 129, 0.1)",border:"2px solid rgba(16, 185, 129, 0.5)",borderRadius:"8px",marginBottom:"1rem"},children:[e.jsx("span",{style:{background:"linear-gradient(135deg, #10b981, #059669)",color:"white",padding:"0.2rem 0.6rem",borderRadius:"15px",fontSize:"0.7rem",fontWeight:"700",marginRight:"0.5rem"},children:"Hauptmitglied"}),e.jsxs("strong",{style:{color:"rgba(255, 255, 255, 0.95)"},children:[q.vorname," ",q.nachname]}),e.jsx("span",{style:{color:"rgba(255, 255, 255, 0.7)",marginLeft:"0.5rem",fontSize:"0.85rem"},children:"(voller Beitrag)"})]})),!V&&e.jsx(ir,{vertrag:{tarif_id:q.vertrag_tarif_id,billing_cycle:q.vertrag_billing_cycle,payment_method:q.vertrag_payment_method,vertragsbeginn:q.vertrag_vertragsbeginn,vertragsende:q.vertrag_vertragsende,kuendigungsfrist_monate:q.vertrag_kuendigungsfrist_monate,mindestlaufzeit_monate:q.vertrag_mindestlaufzeit_monate,aufnahmegebuehr_cents:q.vertrag_aufnahmegebuehr_cents,agb_akzeptiert:q.vertrag_agb_akzeptiert,datenschutz_akzeptiert:q.vertrag_datenschutz_akzeptiert,dojo_regeln_akzeptiert:q.vertrag_dojo_regeln_akzeptiert,hausordnung_akzeptiert:q.vertrag_hausordnung_akzeptiert,haftungsausschluss_akzeptiert:q.vertrag_haftungsausschluss_akzeptiert,gesundheitserklaerung:q.vertrag_gesundheitserklaerung,foto_einverstaendnis:q.vertrag_foto_einverstaendnis,agb_version:q.vertrag_agb_version,datenschutz_version:q.vertrag_datenschutz_version},onChange:e=>{G(t=>({...t,vertrag_tarif_id:e.tarif_id,vertrag_billing_cycle:e.billing_cycle,vertrag_payment_method:e.payment_method,vertrag_vertragsbeginn:e.vertragsbeginn,vertrag_vertragsende:e.vertragsende,vertrag_kuendigungsfrist_monate:e.kuendigungsfrist_monate,vertrag_mindestlaufzeit_monate:e.mindestlaufzeit_monate,vertrag_aufnahmegebuehr_cents:e.aufnahmegebuehr_cents,vertrag_agb_akzeptiert:e.agb_akzeptiert,vertrag_datenschutz_akzeptiert:e.datenschutz_akzeptiert,vertrag_dojo_regeln_akzeptiert:e.dojo_regeln_akzeptiert,vertrag_hausordnung_akzeptiert:e.hausordnung_akzeptiert,vertrag_haftungsausschluss_akzeptiert:e.haftungsausschluss_akzeptiert,vertrag_gesundheitserklaerung:e.gesundheitserklaerung,vertrag_foto_einverstaendnis:e.foto_einverstaendnis,vertrag_agb_version:e.agb_version,vertrag_datenschutz_version:e.datenschutz_version}))},geburtsdatum:q.geburtsdatum,schuelerStudent:q.schueler_student,mode:"create",mitgliedId:null,isPublic:a}),B.length>0&&e.jsxs("div",{style:{marginTop:V?"0":"2rem"},children:[e.jsx("h4",{style:{color:"var(--primary-color)",borderBottom:"2px solid var(--primary-color)",paddingBottom:"0.5rem",marginBottom:"1rem"},children:"Verträge für Familienmitglieder"}),B.map((t,n)=>{const r=(e=>{const t=X(e);return F.filter(e=>{const n=(e.name||"").toLowerCase(),r=(e.beschreibung||"").toLowerCase(),s=n.includes("kind")||n.includes("kids")||n.includes("jugend")||n.includes("schüler")||r.includes("kind")||r.includes("kids");return n.includes("erwachsen")||n.includes("adult"),t?s||!n.includes("erwachsen")&&!n.includes("adult"):!s})})(t.geburtsdatum),s=ne(t.position),a=F.find(e=>e.tarif_id===t.tarif_id),i=a?a.monatlicher_beitrag_cents:0,o=Math.round(i*s.prozent/100),l=i-o;return e.jsxs("div",{style:{padding:"1.25rem",background:"rgba(59, 130, 246, 0.1)",border:"2px solid rgba(59, 130, 246, 0.5)",borderRadius:"12px",marginBottom:"1rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:[e.jsxs("span",{style:{background:"linear-gradient(135deg, #3b82f6, #2563eb)",color:"white",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"700"},children:[t.position,". Familienmitglied"]}),e.jsxs("strong",{style:{color:"rgba(255, 255, 255, 0.95)"},children:[t.vorname," ",t.nachname]}),t.isMinor&&e.jsx("span",{style:{background:"rgba(245, 158, 11, 0.3)",color:"#fbbf24",padding:"0.2rem 0.5rem",borderRadius:"15px",fontSize:"0.7rem",fontWeight:"600"},children:"Kind (unter 18)"})]}),e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsxs("label",{style:{display:"block",color:"rgba(255, 255, 255, 0.9)",marginBottom:"0.4rem",fontSize:"0.85rem",fontWeight:"600"},children:["Vertrag auswählen * ",t.isMinor?"(Kids-Tarife)":"(Erwachsenen-Tarife)"]}),e.jsxs("select",{value:t.tarif_id||"",onChange:e=>((e,t)=>{const n=F.find(e=>e.tarif_id===parseInt(t));n&&C(t=>t.map((t,r)=>r===e?{...t,tarif_id:n.tarif_id,tarif_name:n.name,tarif_preis:n.monatlicher_beitrag_cents}:t))})(n,e.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"2px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.95)",fontSize:"0.9rem"},children:[e.jsx("option",{value:"",children:"Bitte Tarif wählen..."}),r.map(t=>e.jsxs("option",{value:t.tarif_id,children:[t.name," - ",(t.monatlicher_beitrag_cents/100).toFixed(2)," €/Monat",t.mindestlaufzeit_monate?` (${t.mindestlaufzeit_monate} Mon. Laufzeit)`:""]},t.tarif_id))]})]}),t.tarif_id&&a&&e.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"8px",padding:"1rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[e.jsx("span",{style:{color:"rgba(255, 255, 255, 0.8)"},children:"Regulärer Preis:"}),e.jsxs("span",{style:{color:"rgba(255, 255, 255, 0.9)"},children:[(i/100).toFixed(2)," €/Monat"]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",color:"#10b981"},children:[e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsxs("span",{style:{background:"rgba(16, 185, 129, 0.3)",padding:"0.15rem 0.4rem",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"700"},children:["-",s.prozent,"%"]}),s.name,":"]}),e.jsxs("span",{style:{fontWeight:"600"},children:["-",(o/100).toFixed(2)," €"]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"0.5rem",borderTop:"1px solid rgba(255, 255, 255, 0.2)",fontWeight:"700",fontSize:"1.1rem"},children:[e.jsx("span",{style:{color:"rgba(255, 255, 255, 0.95)"},children:"Endpreis:"}),e.jsxs("span",{style:{color:"#10b981"},children:[(l/100).toFixed(2)," €/Monat"]})]})]}),!t.tarif_id&&e.jsx("div",{style:{padding:"0.5rem",background:"rgba(245, 158, 11, 0.1)",border:"1px solid rgba(245, 158, 11, 0.3)",borderRadius:"6px",fontSize:"0.85rem",color:"#fbbf24"},children:"⚠️ Bitte wählen Sie einen Tarif für dieses Familienmitglied"})]},n)}),e.jsxs("div",{style:{marginTop:"1.5rem",padding:"1.25rem",background:"rgba(31, 41, 55, 0.9)",border:"2px solid rgba(59, 130, 246, 0.6)",borderRadius:"12px"},children:[e.jsx("h5",{style:{color:"rgba(255, 255, 255, 0.95)",margin:"0 0 1rem 0"},children:V?"Neue Mitglieder - Übersicht":"Gesamtübersicht Familie"}),V&&$?e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.5rem 0",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[e.jsxs("span",{style:{color:"rgba(255, 255, 255, 0.8)"},children:[$.vorname," ",$.nachname,e.jsx("span",{style:{color:"#10b981",marginLeft:"0.5rem",fontSize:"0.8rem"},children:"(Bestehendes Mitglied)"})]}),e.jsx("span",{style:{color:"rgba(255, 255, 255, 0.6)",fontStyle:"italic",fontSize:"0.85rem"},children:"bereits Mitglied"})]}):e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.5rem 0",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[e.jsxs("span",{style:{color:"rgba(255, 255, 255, 0.8)"},children:[q.vorname," ",q.nachname," (Hauptmitglied)"]}),e.jsx("span",{style:{color:"rgba(255, 255, 255, 0.9)"},children:q.vertrag_tarif_id?`${(((null==(t=F.find(e=>e.tarif_id===parseInt(q.vertrag_tarif_id)))?void 0:t.monatlicher_beitrag_cents)||0)/100).toFixed(2)} €`:"-- €"})]}),B.map((t,n)=>{const r=ne(t.position),s=t.tarif_preis||0,a=s-Math.round(s*r.prozent/100);return e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.5rem 0",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[e.jsxs("span",{style:{color:"rgba(255, 255, 255, 0.8)"},children:[t.vorname," ",t.nachname,e.jsxs("span",{style:{color:"#10b981",marginLeft:"0.5rem",fontSize:"0.8rem"},children:["(-",r.prozent,"%)"]})]}),e.jsx("span",{style:{color:t.tarif_id?"#10b981":"rgba(255, 255, 255, 0.5)"},children:t.tarif_id?`${(a/100).toFixed(2)} €`:"-- €"})]},n)}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"1rem 0 0 0",marginTop:"0.5rem",fontWeight:"700",fontSize:"1.1rem"},children:[e.jsx("span",{style:{color:"rgba(255, 255, 255, 0.95)"},children:V?"Neue Kosten pro Monat:":"Gesamt pro Monat:"}),e.jsx("span",{style:{color:"#ffd700"},children:`${(((V?0:(null==(n=F.find(e=>e.tarif_id===parseInt(q.vertrag_tarif_id)))?void 0:n.monatlicher_beitrag_cents)||0)+B.reduce((e,t)=>{const n=ne(t.position),r=t.tarif_preis||0;return e+r-Math.round(r*n.prozent/100)},0))/100).toFixed(2)} €`})]})]})]})]})},me=()=>e.jsxs("div",{className:"step-content",children:[e.jsx("h3",{children:"Schritt 6: Widerrufsrecht & Vertragsbeginn"}),e.jsxs("div",{style:{padding:"1.5rem",background:"rgba(31, 41, 55, 0.8)",borderRadius:"12px",border:"2px solid rgba(59, 130, 246, 0.5)",marginBottom:"2rem"},children:[e.jsx("h4",{style:{color:"rgba(255, 255, 255, 0.95)",marginTop:0},children:"⚖️ Wann möchten Sie mit dem Training beginnen?"}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsxs("label",{style:{display:"block",padding:"1rem",background:"sofort"===q.vertragsbeginn_option?"rgba(59, 130, 246, 0.2)":"rgba(31, 41, 55, 0.6)",border:"2px solid "+("sofort"===q.vertragsbeginn_option?"rgba(59, 130, 246, 0.6)":"rgba(59, 130, 246, 0.3)"),borderRadius:"8px",cursor:"pointer",marginBottom:"1rem",color:"rgba(255, 255, 255, 0.95)"},children:[e.jsx("input",{type:"radio",name:"vertragsbeginn_option",value:"sofort",checked:"sofort"===q.vertragsbeginn_option,onChange:e=>G(t=>({...t,vertragsbeginn_option:e.target.value,vertrag_sofortbeginn_zustimmung:!1,vertrag_widerrufsrecht_kenntnisnahme:!1})),style:{marginRight:"0.5rem"}}),e.jsx("strong",{style:{color:"#ffd700"},children:"Sofortbeginn - Ich möchte sofort trainieren ✅"}),e.jsx("div",{style:{marginLeft:"1.5rem",marginTop:"0.5rem",fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.8)"},children:"Sie können sofort mit dem Training beginnen. Durch die ausdrückliche Zustimmung zum Sofortbeginn erlischt Ihr Widerrufsrecht anteilig bei Inanspruchnahme der Leistung."})]}),e.jsxs("label",{style:{display:"block",padding:"1rem",background:"nach_widerruf"===q.vertragsbeginn_option?"rgba(59, 130, 246, 0.2)":"rgba(31, 41, 55, 0.6)",border:"2px solid "+("nach_widerruf"===q.vertragsbeginn_option?"rgba(59, 130, 246, 0.6)":"rgba(59, 130, 246, 0.3)"),borderRadius:"8px",cursor:"pointer",color:"rgba(255, 255, 255, 0.95)"},children:[e.jsx("input",{type:"radio",name:"vertragsbeginn_option",value:"nach_widerruf",checked:"nach_widerruf"===q.vertragsbeginn_option,onChange:e=>G(t=>({...t,vertragsbeginn_option:e.target.value,vertrag_sofortbeginn_zustimmung:!1,vertrag_widerrufsrecht_kenntnisnahme:!1})),style:{marginRight:"0.5rem"}}),e.jsx("strong",{style:{color:"#ffd700"},children:"Normaler Beginn - Nach 14 Tagen Widerrufsfrist 📅"}),e.jsx("div",{style:{marginLeft:"1.5rem",marginTop:"0.5rem",fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.8)"},children:"Sie haben volles 14-tägiges Widerrufsrecht. Das Training beginnt erst nach Ablauf der Widerrufsfrist."})]})]}),"sofort"===q.vertragsbeginn_option&&e.jsxs("div",{style:{padding:"1rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",border:"1px solid rgba(255, 215, 0, 0.3)"},children:[e.jsx("h5",{style:{color:"#ffd700",marginTop:0},children:"Erforderliche Bestätigungen für Sofortbeginn:"}),e.jsxs("label",{style:{display:"flex",alignItems:"start",marginBottom:"1rem",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:q.vertrag_sofortbeginn_zustimmung,onChange:e=>G(t=>({...t,vertrag_sofortbeginn_zustimmung:e.target.checked})),style:{marginRight:"0.5rem",marginTop:"0.2rem"}}),e.jsxs("span",{style:{fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.9)"},children:[e.jsx("strong",{children:"Ich stimme ausdrücklich zu *"}),", dass die Dienstleistung vor Ablauf der 14-tägigen Widerrufsfrist beginnt."]})]}),e.jsxs("label",{style:{display:"flex",alignItems:"start",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:q.vertrag_widerrufsrecht_kenntnisnahme,onChange:e=>G(t=>({...t,vertrag_widerrufsrecht_kenntnisnahme:e.target.checked})),style:{marginRight:"0.5rem",marginTop:"0.2rem"}}),e.jsxs("span",{style:{fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.9)"},children:[e.jsx("strong",{children:"Mir ist bekannt *"}),", dass mein Widerrufsrecht erlischt, wenn die Dienstleistung vollständig erbracht wurde und ich mit der Ausführung vor Ende der Widerrufsfrist begonnen habe."]})]})]}),"nach_widerruf"===q.vertragsbeginn_option&&e.jsx("div",{style:{padding:"1rem",background:"rgba(16, 185, 129, 0.1)",borderRadius:"8px",border:"1px solid rgba(16, 185, 129, 0.3)"},children:e.jsxs("p",{style:{margin:0,fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.9)"},children:["✓ Sie haben volles 14-tägiges Widerrufsrecht gemäß § 355 BGB.",e.jsx("br",{}),"✓ Das Training beginnt automatisch nach Ablauf der Widerrufsfrist.",e.jsx("br",{}),"✓ Sie können den Vertrag innerhalb von 14 Tagen ohne Angabe von Gründen widerrufen."]})})]})]}),he=e.jsxs("div",{className:"modal-overlay",style:{position:"fixed !important",top:"0px !important",left:"0px !important",right:"0px !important",bottom:"0px !important",width:"100vw !important",height:"100vh !important",display:"flex !important",alignItems:"flex-start !important",justifyContent:"center !important",padding:"0px !important",margin:"0px !important",zIndex:"99999 !important",transform:"translateY(0px) !important"},children:[e.jsxs("div",{className:"modal-content step-modal neues-mitglied-modal-v2",style:{marginTop:"20px !important",marginBottom:"20px !important",marginLeft:"auto !important",marginRight:"auto !important",maxHeight:"85vh !important",height:"auto !important",overflowY:"auto !important",overflowX:"hidden !important",width:"750px !important",maxWidth:"90vw !important",position:"relative !important",top:"0px !important",left:"0px !important",right:"0px !important",transform:"translateY(0px) !important",padding:"1.5rem !important"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:"Neues Mitglied anlegen"}),e.jsxs("div",{className:"step-indicator",children:["Schritt ",u," von ",Y()]})]}),e.jsx("div",{className:"progress-bar",style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",margin:"0",padding:"10px 12px",height:"auto",minHeight:"55px",backgroundColor:"transparent",border:"none",borderRadius:"0",gap:"8px",boxShadow:"none",animation:"none",marginBottom:"2.5rem"},children:Array.from({length:Y()},(e,t)=>t+1).map(t=>{const n=t,r=u===n,s=u>=n;return e.jsxs("div",{className:`progress-step ${s?"completed":""} ${r?"active":""}`,style:{display:"flex",flexDirection:"column",alignItems:"center",flex:1,position:"relative",minHeight:"60px",margin:"0",padding:"6px",gap:"5px",minWidth:"70px"},children:[e.jsx("div",{className:"step-number",style:{width:r?"30px":"26px",height:r?"30px":"26px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:r?"0.9rem":"0.8rem",background:r||s?"#ffffff":"#e5e7eb",color:r?"var(--primary-color)":s?"#10b981":"#6b7280",border:r?"3px solid var(--primary-color)":s?"3px solid #10b981":"2px solid #e5e7eb",position:"relative",zIndex:2,transition:"all 0.3s ease",margin:"0",flexShrink:0,boxShadow:r?"0 2px 6px rgba(234, 179, 8, 0.25)":s?"0 2px 6px rgba(16, 185, 129, 0.2)":"none",animation:"none"},children:t}),e.jsxs("div",{className:"step-label",style:{margin:"0",fontSize:"0.7rem",fontWeight:r?600:500,color:r?"#1f2937":s?"#10b981":"#6b7280",textAlign:"center",transition:"all 0.3s ease",lineHeight:1.2,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",textShadow:"none",animation:"none"},children:[a&&e.jsxs(e.Fragment,{children:[1===n&&"Grunddaten",2===n&&"Kontakt",3===n&&"Familie",4===n&&"Vertrag",5===n&&"Bank",6===n&&"Medizinisch",7===n&&"Widerruf",8===n&&"Account"]}),!a&&e.jsxs(e.Fragment,{children:[1===n&&"Grunddaten",2===n&&"Kontakt",3===n&&"Vertrag",4===n&&"Bank",5===n&&"Medizinisch",6===n&&"Widerruf"]})]})]},t)})}),p&&e.jsx("div",{className:"error-message",children:p}),(()=>{if(a)switch(u){case 1:default:return ie();case 2:return oe();case 3:return le();case 4:return ue();case 5:return ce();case 6:return de();case 7:return me();case 8:return e.jsxs("div",{className:"step-content",children:[e.jsx("h3",{children:"Schritt 7: Benutzerkonto erstellen"}),e.jsxs("div",{style:{padding:"1.5rem",background:"rgba(31, 41, 55, 0.8)",borderRadius:"12px",border:"2px solid rgba(59, 130, 246, 0.5)",marginBottom:"2rem"},children:[e.jsx("h4",{style:{color:"rgba(255, 255, 255, 0.95)",marginTop:0,marginBottom:"1rem"},children:"🔐 Erstellen Sie Ihren Login-Zugang"}),e.jsx("p",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"0.9rem",marginBottom:"1.5rem"},children:"Mit diesen Zugangsdaten können Sie sich später im Mitgliederportal anmelden und Ihre Daten verwalten."}),e.jsxs("div",{className:"input-container",children:[e.jsxs("div",{className:"input-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{htmlFor:"benutzername",className:"input-label",children:"Benutzername *"}),e.jsx("input",{type:"text",id:"benutzername",name:"benutzername",value:q.benutzername,onChange:re,className:"input-field",placeholder:"Wählen Sie einen eindeutigen Benutzernamen",autoComplete:"username"}),e.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.7)",marginTop:"0.3rem"},children:"Mindestens 4 Zeichen, nur Buchstaben, Zahlen, Unterstrich und Bindestrich"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"passwort",className:"input-label",children:"Passwort *"}),e.jsx("input",{type:"password",id:"passwort",name:"passwort",value:q.passwort,onChange:re,className:"input-field",placeholder:"Mindestens 8 Zeichen",autoComplete:"new-password"}),e.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.7)",marginTop:"0.3rem"},children:"Mindestens 8 Zeichen mit Buchstaben und Zahlen"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"passwort_wiederholen",className:"input-label",children:"Passwort wiederholen *"}),e.jsx("input",{type:"password",id:"passwort_wiederholen",name:"passwort_wiederholen",value:q.passwort_wiederholen,onChange:re,className:"input-field",placeholder:"Passwort erneut eingeben",autoComplete:"new-password"})]})]}),q.passwort&&q.passwort_wiederholen&&q.passwort!==q.passwort_wiederholen&&e.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(127, 29, 29, 0.6)",border:"2px solid rgba(239, 68, 68, 0.6)",borderRadius:"6px",color:"rgba(255, 255, 255, 0.95)",fontSize:"0.85rem"},children:"⚠️ Die Passwörter stimmen nicht überein"}),q.passwort&&q.passwort.length>0&&q.passwort.length<8&&e.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(120, 53, 15, 0.6)",border:"2px solid rgba(245, 158, 11, 0.6)",borderRadius:"6px",color:"rgba(255, 255, 255, 0.95)",fontSize:"0.85rem"},children:"⚠️ Das Passwort muss mindestens 8 Zeichen lang sein"})]})]})}else switch(u){case 1:default:return ie();case 2:return oe();case 3:return ue();case 4:return ce();case 5:return de();case 6:return me()}})(),e.jsxs("div",{className:"modal-buttons",children:[u>1&&e.jsx("button",{className:"secondary-button",type:"button",onClick:()=>{u>1&&m(u-1)},disabled:h,children:"Zurück"}),u<Z()?e.jsx("button",{className:"primary-button",type:"button",onClick:()=>{if(1===u){if(!(q.vorname&&q.nachname&&q.geburtsdatum&&q.geschlecht))return void f("Bitte füllen Sie alle Felder aus");if((null==b?void 0:b.isDuplicate)&&!j)return void v(!0)}if(2===u&&!(q.email&&q.telefon_mobil&&q.strasse&&q.hausnummer&&q.plz&&q.ort))return void f("Bitte füllen Sie alle Pflichtfelder aus (E-Mail, Telefon Mobil, Straße, Hausnummer, PLZ, Ort)");if(a){if(4===u){if(!V){if(!q.vertrag_tarif_id)return void f("Bitte wählen Sie einen Tarif aus");if(!(q.vertrag_agb_akzeptiert&&q.vertrag_datenschutz_akzeptiert&&q.vertrag_dojo_regeln_akzeptiert&&q.vertrag_hausordnung_akzeptiert))return void f("Bitte akzeptieren Sie AGB, Datenschutz, Dojo-Regeln und Hausordnung")}if(B.length>0){const e=B.find(e=>!e.tarif_id);if(e)return void f(`Bitte wählen Sie einen Tarif für ${e.vorname} ${e.nachname}`)}if(V&&0===B.length)return void f("Bitte fügen Sie mindestens ein Familienmitglied hinzu")}if(!(5!==u||q.kontoinhaber&&q.iban))return void f("Bitte füllen Sie alle Pflichtfelder der Bankdaten aus (Kontoinhaber, IBAN)");if(7===u){if(!q.vertragsbeginn_option)return void f("Bitte wählen Sie eine Option für den Vertragsbeginn");if(!("sofort"!==q.vertragsbeginn_option||q.vertrag_sofortbeginn_zustimmung&&q.vertrag_widerrufsrecht_kenntnisnahme))return void f("Bei Sofortbeginn müssen Sie beide Bestätigungen akzeptieren")}}else{if(3===u){if(!q.vertrag_tarif_id)return void f("Bitte wählen Sie einen Tarif aus");if(!(q.vertrag_agb_akzeptiert&&q.vertrag_datenschutz_akzeptiert&&q.vertrag_dojo_regeln_akzeptiert&&q.vertrag_hausordnung_akzeptiert))return void f("Bitte akzeptieren Sie AGB, Datenschutz, Dojo-Regeln und Hausordnung")}if(!(4!==u||q.kontoinhaber&&q.iban))return void f("Bitte füllen Sie alle Pflichtfelder der Bankdaten aus (Kontoinhaber, IBAN)");if(6===u){if(!q.vertragsbeginn_option)return void f("Bitte wählen Sie eine Option für den Vertragsbeginn");if(!("sofort"!==q.vertragsbeginn_option||q.vertrag_sofortbeginn_zustimmung&&q.vertrag_widerrufsrecht_kenntnisnahme))return void f("Bei Sofortbeginn müssen Sie beide Bestätigungen akzeptieren")}}const e=Z();u<e&&m(u+1)},disabled:h,children:"Weiter"}):e.jsx("button",{className:"submit-button",type:"button",onClick:async()=>{var e,t;if(console.log("🚀 handleSubmit aufgerufen"),console.log("📋 MemberData:",q),a){const e=["vorname","nachname","geburtsdatum","email","telefon","strasse","hausnummer","plz","ort"].filter(e=>!q[e]);if(e.length>0)return void f(`Bitte füllen Sie alle Pflichtfelder aus. Fehlend: ${e.join(", ")}`);if(!(q.vertrag_agb_akzeptiert&&q.vertrag_datenschutz_akzeptiert&&q.vertrag_dojo_regeln_akzeptiert&&q.vertrag_hausordnung_akzeptiert))return void f("Bitte akzeptieren Sie die AGB, Datenschutzerklärung, Dojo-Regeln und Hausordnung.");if(!q.vertragsbeginn_option)return void f("Bitte wählen Sie eine Option für den Vertragsbeginn (Sofortbeginn oder Normaler Beginn).");if(!("sofort"!==q.vertragsbeginn_option||q.vertrag_sofortbeginn_zustimmung&&q.vertrag_widerrufsrecht_kenntnisnahme))return void f("Bei Sofortbeginn müssen Sie beide Bestätigungen akzeptieren.");if(!q.vertrag_tarif_id)return void f("Bitte wählen Sie einen Tarif aus.");if(!q.iban||!q.kontoinhaber)return void f("Bitte geben Sie vollständige Bankdaten ein (IBAN und Kontoinhaber).");if(!q.benutzername||q.benutzername.length<4)return void f("Der Benutzername muss mindestens 4 Zeichen lang sein.");if(!q.passwort||q.passwort.length<8)return void f("Das Passwort muss mindestens 8 Zeichen lang sein.");if(q.passwort!==q.passwort_wiederholen)return void f("Die Passwörter stimmen nicht überein.")}else{if(!(q.vertrag_agb_akzeptiert&&q.vertrag_datenschutz_akzeptiert&&q.vertrag_dojo_regeln_akzeptiert&&q.vertrag_hausordnung_akzeptiert))return void f("Bitte akzeptieren Sie die AGB, Datenschutzerklärung, Dojo-Regeln und Hausordnung.");if(!q.vertragsbeginn_option)return void f("Bitte wählen Sie eine Option für den Vertragsbeginn (Sofortbeginn oder Normaler Beginn).");if(!("sofort"!==q.vertragsbeginn_option||q.vertrag_sofortbeginn_zustimmung&&q.vertrag_widerrufsrecht_kenntnisnahme))return void f("Bei Sofortbeginn müssen Sie beide Bestätigungen akzeptieren.");if(!q.vertrag_tarif_id)return void f("Bitte wählen Sie einen Tarif aus.")}g(!0),f("");try{console.log("📤 Sende Daten an API...");const e={...q,registration_complete:a,registration_source:a?"public_registration":"admin_panel",family_session_id:R,family_members:B,is_hauptmitglied:B.length>0&&!V,familie_position:V?null:1,existing_member_mode:V,existing_member_id:(null==$?void 0:$.mitglied_id)||null,existing_member_familien_id:(null==$?void 0:$.familien_id)||null},t=await Ht.post("/mitglieder",e);console.log("✅ Mitglied erfolgreich erstellt:",t.data),f(""),d("member_created",t.data),a?(i&&i(!0),alert("Registrierung erfolgreich abgeschlossen! Sie können sich jetzt anmelden.")):alert("Mitglied wurde erfolgreich erstellt!"),s()}catch(n){console.error("❌ Fehler beim Erstellen des Mitglieds:",n);const r=(null==(t=null==(e=n.response)?void 0:e.data)?void 0:t.error)||n.message||"Unbekannter Fehler";f(`Fehler beim Speichern: ${r}`),a&&i&&i(!1)}finally{g(!1)}},disabled:h||!q.vertrag_agb_akzeptiert||!q.vertrag_datenschutz_akzeptiert||!q.vertrag_dojo_regeln_akzeptiert||!q.vertrag_hausordnung_akzeptiert||!q.vertrag_tarif_id||!q.vertragsbeginn_option||"sofort"===q.vertragsbeginn_option&&(!q.vertrag_sofortbeginn_zustimmung||!q.vertrag_widerrufsrecht_kenntnisnahme)||a&&(!q.benutzername||q.benutzername.length<4||!q.passwort||q.passwort.length<8||q.passwort!==q.passwort_wiederholen),children:h?"Speichere...":"Mitglied erstellen"}),e.jsx("button",{className:"close-button",type:"button",onClick:s,disabled:h,children:"Abbrechen"})]}),(a&&4===u||!a&&3===u)&&(!q.vertrag_agb_akzeptiert||!q.vertrag_datenschutz_akzeptiert||!q.vertrag_dojo_regeln_akzeptiert||!q.vertrag_hausordnung_akzeptiert||!q.vertrag_tarif_id)&&e.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(120, 53, 15, 0.6)",border:"2px solid rgba(245, 158, 11, 0.6)",borderRadius:"6px",fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.95)",textAlign:"center"},children:"⚠️ Bitte füllen Sie alle Pflichtfelder im Vertrag aus (AGB, Datenschutz, Dojo-Regeln, Hausordnung, Tarif)."}),(a&&7===u||!a&&6===u)&&!q.vertragsbeginn_option&&e.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(120, 53, 15, 0.6)",border:"2px solid rgba(245, 158, 11, 0.6)",borderRadius:"6px",fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.95)",textAlign:"center"},children:"Bitte wählen Sie eine Option für den Vertragsbeginn aus."}),(a&&7===u||!a&&6===u)&&"sofort"===q.vertragsbeginn_option&&(!q.vertrag_sofortbeginn_zustimmung||!q.vertrag_widerrufsrecht_kenntnisnahme)&&e.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(120, 53, 15, 0.6)",border:"2px solid rgba(245, 158, 11, 0.6)",borderRadius:"6px",fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.95)",textAlign:"center"},children:"Für den Sofortbeginn müssen Sie beide Bestätigungen akzeptieren."}),8===u&&a&&e.jsxs(e.Fragment,{children:[(!q.benutzername||q.benutzername.length<4)&&e.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(120, 53, 15, 0.6)",border:"2px solid rgba(245, 158, 11, 0.6)",borderRadius:"6px",fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.95)",textAlign:"center"},children:"Bitte geben Sie einen Benutzernamen mit mindestens 4 Zeichen ein."}),(!q.passwort||q.passwort.length<8)&&e.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(120, 53, 15, 0.6)",border:"2px solid rgba(245, 158, 11, 0.6)",borderRadius:"6px",fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.95)",textAlign:"center"},children:"Das Passwort muss mindestens 8 Zeichen lang sein."}),q.passwort&&q.passwort_wiederholen&&q.passwort!==q.passwort_wiederholen&&e.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(120, 53, 15, 0.6)",border:"2px solid rgba(245, 158, 11, 0.6)",borderRadius:"6px",fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.95)",textAlign:"center"},children:"Die Passwörter stimmen nicht überein."})]})]}),j&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content duplicate-dialog",children:[e.jsx("h3",{children:"Duplikat gefunden"}),e.jsx("p",{children:"Es wurde bereits ein Mitglied mit folgenden Daten gefunden:"}),e.jsxs("div",{className:"duplicate-info",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",b.matches[0].vorname," ",b.matches[0].nachname]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Geburtsdatum:"})," ",new Date(b.matches[0].geburtsdatum).toLocaleDateString("de-DE")]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",b.matches[0].aktiv?"Aktiv":"Inaktiv"]})]}),e.jsx("p",{children:"Möchten Sie trotzdem fortfahren oder das bestehende Mitglied bearbeiten?"}),e.jsxs("div",{className:"modal-buttons",children:[e.jsx("button",{className:"secondary-button",onClick:()=>{v(!1),s()},children:"Mitglied bearbeiten"}),e.jsx("button",{className:"primary-button",onClick:()=>{v(!1),m(2)},children:"Trotzdem fortfahren"}),e.jsx("button",{className:"close-button",onClick:()=>v(!1),children:"Abbrechen"})]})]})})]});return r.createPortal(he,document.body)},lr="/assets/dojo-logo-CEcWNjwb.png",dr=()=>{const[n,r]=t.useState({loginField:"",password:""}),[i,o]=t.useState(!1),[l,d]=t.useState(""),[c,u]=t.useState(!1),[m,h]=t.useState("email"),[g,p]=t.useState(""),[f,b]=t.useState(!1),{login:x,isAuthenticated:j,loading:y}=wn(),{refreshDojos:_}=Dn(),k=s(),{user:w}=wn();if(j&&!y){const t=(null==w?void 0:w.rolle)||(null==w?void 0:w.role);return"eingeschraenkt"!==t&&"trainer"!==t||"TrainerloginTDA"!==(null==w?void 0:w.username)?"super_admin"!==t||(null==w?void 0:w.dojo_id)?e.jsx(a,{to:"/dashboard",replace:!0}):e.jsx(a,{to:"/dashboard/dojos",replace:!0}):e.jsx(a,{to:"/trainer",replace:!0})}const S=e=>{const{name:t,value:n}=e.target;r(e=>({...e,[t]:n})),"loginField"===t&&(e=>{e.includes("@")?h("email"):h("username")})(n),l&&d(""),g&&p("")};return y?e.jsx("div",{className:"login-container",children:e.jsxs("div",{className:"login-loading",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Lade Anmeldung..."})]})}):e.jsxs("div",{className:"login-container",children:[e.jsx("nav",{className:"login-nav",children:e.jsxs("div",{className:"nav-container",children:[e.jsxs("div",{className:"nav-logo",onClick:()=>k("/"),children:[e.jsx("img",{src:lr,alt:"DojoSoftware Logo",className:"nav-logo-image"}),e.jsx("span",{className:"logo-text",children:"DojoSoftware"})]}),e.jsxs("div",{className:"nav-links",children:[e.jsx("a",{href:"/",onClick:e=>{e.preventDefault(),k("/")},children:"Home"}),e.jsx("a",{href:"/#features",children:"Features"}),e.jsx("a",{href:"/galerie",children:"Galerie"}),e.jsx("a",{href:"/pricing",children:"Preise"}),e.jsx("a",{href:"/#testimonials",children:"Referenzen"})]})]})}),e.jsxs("div",{className:"login-split-layout",children:[e.jsx("div",{className:"login-branding",children:e.jsxs("div",{className:"branding-content",children:[e.jsx("img",{src:lr,alt:"Dojo Logo",className:"branding-logo"}),e.jsx("h1",{className:"branding-title",children:"DojoSoftware"}),e.jsx("p",{className:"branding-subtitle",children:"Die professionelle Lösung für Kampfsportschulen"}),e.jsxs("div",{className:"branding-features",children:[e.jsxs("div",{className:"feature-item",children:[e.jsx(E,{size:20}),e.jsx("span",{children:"Mitgliederverwaltung"})]}),e.jsxs("div",{className:"feature-item",children:[e.jsx(E,{size:20}),e.jsx("span",{children:"Check-In System"})]}),e.jsxs("div",{className:"feature-item",children:[e.jsx(E,{size:20}),e.jsx("span",{children:"SEPA & Buchhaltung"})]}),e.jsxs("div",{className:"feature-item",children:[e.jsx(E,{size:20}),e.jsx("span",{children:"Prüfungswesen"})]}),e.jsxs("div",{className:"feature-item",children:[e.jsx(E,{size:20}),e.jsx("span",{children:"uvm..."})]})]})]})}),e.jsxs("div",{className:"login-forms-area",children:[e.jsxs("div",{className:"forms-container",children:[e.jsxs("div",{className:"login-card",children:[e.jsxs("div",{className:"login-card-title",children:[e.jsx(N,{size:16}),e.jsx("span",{children:"Anmelden"})]}),e.jsxs("form",{onSubmit:async e=>{var t,r,s,a,i;if(e.preventDefault(),u(!0),d(""),p(""),!n.loginField.trim())return d("Bitte geben Sie Ihren Benutzernamen oder Ihre E-Mail-Adresse ein"),void u(!1);if(!n.password.trim())return d("Bitte geben Sie Ihr Passwort ein"),void u(!1);try{const e={password:n.password.trim()};"email"===m?e.email=n.loginField.trim().toLowerCase():e.username=n.loginField.trim();const t=await x(e);p(`Willkommen zurück, ${t.username}!`),console.log("🔍 Login userData:",t),console.log("🔍 Role check:",{role:t.role,rolle:t.rolle,username:t.username}),console.log("🔑 Login erfolgreich - lade Dojos neu"),await _();const r=t.rolle||t.role;"eingeschraenkt"!==r&&"trainer"!==r||"TrainerloginTDA"!==t.username?"super_admin"!==r||t.dojo_id?(console.log("✅ Redirecting to /dashboard"),k("/dashboard",{replace:!0})):(console.log("✅ Redirecting super_admin to /dashboard/dojos"),k("/dashboard/dojos",{replace:!0})):(console.log("✅ Redirecting to /trainer"),k("/trainer",{replace:!0}))}catch(o){console.error("? Login-Fehler:",o),401===(null==(t=o.response)?void 0:t.status)?d("Ungültige Anmeldedaten. Bitte prüfen Sie Username/Email und Passwort."):400===(null==(r=o.response)?void 0:r.status)?d("Bitte füllen Sie alle Felder korrekt aus."):500===(null==(s=o.response)?void 0:s.status)?d("Server-Fehler. Bitte versuchen Sie es später erneut."):"ERR_NETWORK"===o.code?d("Verbindung zum Server fehlgeschlagen. Prüfen Sie Ihre Internetverbindung."):d((null==(i=null==(a=o.response)?void 0:a.data)?void 0:i.message)||"Ein unbekannter Fehler ist aufgetreten.")}finally{u(!1)}},className:"login-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:e.jsxs("div",{className:"label-content",children:["email"===m?e.jsx(D,{size:16,className:"label-icon"}):e.jsx(A,{size:16,className:"label-icon"}),e.jsx("span",{children:"email"===m?"E-Mail":"Benutzername"})]})}),e.jsx("input",{type:"text",name:"loginField",value:n.loginField,onChange:S,className:"form-input "+("email"===m?"input-email":"input-username"),placeholder:"email"===m?"ihre-email@beispiel.de":"ihr-benutzername",required:!0,autoComplete:"username",disabled:c})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:e.jsxs("div",{className:"label-content",children:[e.jsx(R,{size:16,className:"label-icon"}),e.jsx("span",{children:"Passwort"})]})}),e.jsxs("div",{className:"password-wrapper",children:[e.jsx("input",{type:i?"text":"password",name:"password",value:n.password,onChange:S,className:"form-input password-input",placeholder:"Ihr Passwort",required:!0,autoComplete:"current-password",disabled:c}),e.jsx("button",{type:"button",className:"password-toggle",onClick:()=>o(!i),tabIndex:-1,disabled:c,"aria-label":i?"Passwort verbergen":"Passwort anzeigen",children:i?e.jsx(T,{size:16}):e.jsx(B,{size:16})})]})]}),l&&e.jsxs("div",{className:"error-message",role:"alert",children:[e.jsx(C,{size:16}),e.jsx("span",{children:l})]}),g&&e.jsxs("div",{className:"success-message",role:"alert",children:[e.jsx(E,{size:16}),e.jsx("span",{children:g})]}),e.jsx("button",{type:"submit",className:"login-button",disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"button-spinner"}),e.jsx("span",{children:"Anmelden..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(N,{size:18}),e.jsx("span",{children:"Anmelden"})]})}),e.jsx("button",{type:"button",className:"forgot-password-link",onClick:()=>k("/password-reset"),disabled:c,children:"Passwort vergessen?"})]})]}),e.jsxs("div",{className:"register-card",children:[e.jsxs("div",{className:"login-card-title",children:[e.jsx(P,{size:16}),e.jsx("span",{children:"Registrieren"})]}),e.jsxs("div",{className:"register-content",children:[e.jsx("p",{className:"register-description",children:"Neu bei DojoSoftware? Registrieren Sie sich jetzt und starten Sie Ihre 14-tägige kostenlose Testphase."}),e.jsxs("div",{className:"register-benefits",children:[e.jsxs("div",{className:"benefit-item",children:[e.jsx(E,{size:16}),e.jsx("span",{children:"14 Tage kostenlos testen"})]}),e.jsxs("div",{className:"benefit-item",children:[e.jsx(E,{size:16}),e.jsx("span",{children:"Keine Kreditkarte erforderlich"})]}),e.jsxs("div",{className:"benefit-item",children:[e.jsx(E,{size:16}),e.jsx("span",{children:"Vollständiger Funktionsumfang"})]}),e.jsxs("div",{className:"benefit-item",children:[e.jsx(E,{size:16}),e.jsx("span",{children:"Persönliche Einrichtungshilfe"})]}),e.jsxs("div",{className:"benefit-item",children:[e.jsx(E,{size:16}),e.jsx("span",{children:"uvm..."})]})]}),e.jsxs("button",{type:"button",className:"register-button",onClick:()=>b(!0),disabled:c,children:[e.jsx(P,{size:18}),e.jsx("span",{children:"Jetzt registrieren"})]}),e.jsxs("p",{className:"register-note",children:[e.jsx(I,{size:14}),e.jsx("span",{children:"Vollständige Registrierung inkl. Vertragsdaten"})]})]})]})]}),e.jsxs("div",{className:"login-footer",children:[e.jsx("p",{className:"version-info",children:"DojoSoftware v2.0 | © 2024-2025"}),e.jsxs("div",{className:"security-info",children:[e.jsx(v,{size:12}),e.jsx("span",{children:"SSL-verschlüsselt | DSGVO-konform"})]})]})]})]}),f&&e.jsx(or,{onClose:()=>b(!1),isRegistrationFlow:!0,onRegistrationComplete:e=>{e&&(b(!1),p("Registrierung erfolgreich abgeschlossen! Sie können sich jetzt anmelden."))}})]})};function cr(){const n=s(),r=[{name:"",dojo:"",text:"",rating:5,image:null},{name:"",dojo:"",text:"",rating:5,image:null},{name:"Sascha S.",dojo:"Kampfsportschule Schreiner",text:"Endlich eine Software die speziell für Kampfsportschulen entwickelt wurde.",rating:5,image:null}],[a,i]=t.useState(2);return t.useEffect(()=>{const e=setInterval(()=>{i(e=>2)},5e3);return()=>clearInterval(e)},[]),e.jsxs("div",{className:"landing-page",children:[e.jsx("nav",{className:"landing-nav",children:e.jsxs("div",{className:"nav-container",children:[e.jsxs("div",{className:"nav-logo",children:[e.jsx("img",{src:lr,alt:"DojoSoftware Logo",className:"nav-logo-image"}),e.jsx("span",{className:"logo-text",children:"DojoSoftware"})]}),e.jsxs("div",{className:"nav-links",children:[e.jsx("a",{href:"/",onClick:e=>{e.preventDefault(),n("/")},children:"Home"}),e.jsx("a",{href:"#features",children:"Features"}),e.jsx("a",{href:"#galerie",onClick:e=>{e.preventDefault(),n("/galerie")},children:"Galerie"}),e.jsx("a",{href:"#pricing",onClick:e=>{e.preventDefault(),n("/pricing")},children:"Preise"}),e.jsx("a",{href:"#testimonials",children:"Referenzen"}),e.jsx("button",{className:"nav-login-btn",onClick:()=>n("/login"),children:"Login"})]})]})}),e.jsx("section",{className:"hero-section",children:e.jsxs("div",{className:"hero-container",children:[e.jsxs("div",{className:"hero-content",children:[e.jsxs("h1",{className:"hero-title",children:["Die professionelle Lösung für",e.jsx("br",{}),e.jsx("span",{className:"hero-highlight",children:"Kampfsportschulen"})]}),e.jsx("p",{className:"hero-subtitle",children:"Mitgliederverwaltung • Check-In • SEPA • Verkauf • Buchführung • Online-Registrierung für Neumitglieder • Prüfungswesen • uvm."}),e.jsxs("div",{className:"hero-cta",children:[e.jsxs("button",{className:"cta-primary",onClick:()=>n("/register"),children:[e.jsx("span",{className:"cta-icon",children:"🚀"}),"Jetzt kostenlos testen (14 Tage)"]}),e.jsxs("button",{className:"cta-secondary",onClick:()=>n("/demo"),children:[e.jsx("span",{className:"cta-icon",children:"📺"}),"Demo ansehen"]})]}),e.jsxs("div",{className:"hero-benefits",children:[e.jsx("div",{className:"benefit",children:"✓ Keine Kreditkarte nötig"}),e.jsx("div",{className:"benefit",children:"✓ In 5 Minuten startklar"})]})]}),e.jsx("div",{className:"hero-image",children:e.jsx("div",{className:"hero-logo-container",children:e.jsx("img",{src:lr,alt:"DojoSoftware Logo",className:"hero-logo"})})})]})}),e.jsx("section",{className:"mockup-section",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"dashboard-mockup",children:[e.jsxs("div",{className:"mockup-header",children:[e.jsx("div",{className:"mockup-dot"}),e.jsx("div",{className:"mockup-dot"}),e.jsx("div",{className:"mockup-dot"})]}),e.jsxs("div",{className:"mockup-content",children:[e.jsx("div",{className:"mockup-sidebar",children:e.jsxs("div",{className:"sidebar-content",children:[e.jsx("div",{className:"sidebar-title",children:"WARUM"}),e.jsx("div",{className:"sidebar-arrow",children:"→"}),e.jsx("div",{className:"sidebar-title",children:"DARUM"}),e.jsx("div",{className:"sidebar-subtitle",children:"Die Lösung für mehr Zeit & weniger Arbeit"})]})}),e.jsxs("div",{className:"mockup-main",children:[e.jsxs("div",{className:"mockup-card",children:[e.jsx("div",{className:"mockup-card-icon",children:"📝"}),e.jsxs("div",{className:"mockup-card-content",children:[e.jsx("h4",{children:"Online-Registrierung"}),e.jsx("p",{children:"Mitglieder registrieren sich selbst online. Alles ist sofort im System verfügbar - Mitgliederzugang, Vertrag, alles automatisch angelegt."})]})]}),e.jsxs("div",{className:"mockup-card",children:[e.jsx("div",{className:"mockup-card-icon",children:"⚡"}),e.jsxs("div",{className:"mockup-card-content",children:[e.jsx("h4",{children:"Keine Papierarbeit mehr"}),e.jsx("p",{children:"Keine Zeitverschwendung durch manuelles Erfassen. Kein Papier, keine Akten - alles digital und sofort verfügbar."})]})]}),e.jsxs("div",{className:"mockup-card",children:[e.jsx("div",{className:"mockup-card-icon",children:"👤"}),e.jsxs("div",{className:"mockup-card-content",children:[e.jsx("h4",{children:"Selbstverwaltung durch Mitglieder"}),e.jsxs("p",{children:["Mitglieder verwalten ihren Vertrag selbst: Ruhepause, Adress- und Kontoänderungen, Kündigung - alles online. ",e.jsx("strong",{children:"Absolut kein Arbeitsaufwand mehr für dich."})]})]})]})]})]})]})})}),e.jsx("section",{className:"social-proof",children:e.jsxs("div",{className:"container",children:[e.jsxs("p",{className:"social-proof-text",children:["Vertrauen von ",e.jsx("strong",{children:"Kampfsportschulen"})," auf der ganzen Welt"]}),e.jsxs("div",{className:"trust-badges",children:[e.jsxs("div",{className:"trust-badge",children:[e.jsx("span",{children:"🥋"}),e.jsx("span",{children:"Karate"})]}),e.jsxs("div",{className:"trust-badge",children:[e.jsx("span",{children:"🥊"}),e.jsx("span",{children:"Kickboxen"})]}),e.jsxs("div",{className:"trust-badge",children:[e.jsx("span",{children:"🤺"}),e.jsx("span",{children:"Taekwondo"})]}),e.jsxs("div",{className:"trust-badge",children:[e.jsx("span",{children:"🤼"}),e.jsx("span",{children:"Judo"})]}),e.jsxs("div",{className:"trust-badge",children:[e.jsx("span",{children:"🥋"}),e.jsx("span",{children:"BJJ"})]}),e.jsxs("div",{className:"trust-badge",children:[e.jsx("span",{children:"👊"}),e.jsx("span",{children:"Kung Fu"})]}),e.jsxs("div",{className:"trust-badge",children:[e.jsx("span",{children:"⚔️"}),e.jsx("span",{children:"MMA"})]}),e.jsxs("div",{className:"trust-badge",children:[e.jsx("span",{children:"🛡️"}),e.jsx("span",{children:"ShieldX"})]}),e.jsxs("div",{className:"trust-badge",children:[e.jsx("span",{children:"⚡"}),e.jsx("span",{children:"Krav Maga"})]}),e.jsxs("div",{className:"trust-badge",children:[e.jsx("span",{children:"🥋"}),e.jsx("span",{children:"Hapkido"})]}),e.jsxs("div",{className:"trust-badge",children:[e.jsx("span",{children:"⚡"}),e.jsx("span",{children:"und mehr..."})]})]})]})}),e.jsx("section",{className:"features-section",id:"features",children:e.jsxs("div",{className:"container",children:[e.jsx("h2",{className:"section-title",children:"Alles was dein Dojo braucht"}),e.jsx("p",{className:"section-subtitle",children:"Eine komplette Lösung - von der Mitgliederverwaltung bis zur Buchführung"}),e.jsx("div",{className:"features-grid",children:[{icon:"👥",title:"Mitgliederverwaltung",description:"Verträge, Kündigungen, Dokumente, Familienverbund - alles an einem Ort"},{icon:"🌐",title:"Online-Registrierung",description:"Selbstständige Anmeldung mit automatischer Vertragserstellung"},{icon:"📱",title:"Mitglieder-Portal",description:"Self-Service: Adressänderung, Kündigung, Ruhepause - ohne deinen Aufwand"},{icon:"✅",title:"Check-In System",description:"QR-Code basiertes Check-In mit Live-Display für dein Dojo"},{icon:"💶",title:"SEPA & Finanzen",description:"Automatische Lastschriften, Rabattsystem, Mahnwesen, Buchführung"},{icon:"🥋",title:"Prüfungswesen",description:"Gürtelprüfungen, historische Prüfungen, Lehrgänge & Ehrungen"},{icon:"📄",title:"Vertragsverwaltung",description:"Automatische Verlängerung, Tarifwechsel, Rabatte, PDF-Export"},{icon:"👨‍👩‍👧‍👦",title:"Familienverwaltung",description:"Familienrabatte, Erziehungsberechtigte, verknüpfte Konten"},{icon:"🛒",title:"Verkauf & Lager",description:"Artikel, Kassensystem, Bestandsverwaltung, Verkaufsstatistik"},{icon:"📊",title:"Dashboard & Statistiken",description:"Echtzeit-Auswertungen, Einnahmen, Austritte, Anwesenheit"},{icon:"📅",title:"Stundenplan & Events",description:"Trainingszeiten, Turniere, Seminare, Veranstaltungen"},{icon:"📧",title:"Kommunikation",description:"E-Mail-Versand, Newsletter, Benachrichtigungen"},{icon:"🔔",title:"Benachrichtigungen",description:"Automatische Erinnerungen, Zahlungseingänge, Kündigungen"},{icon:"🏢",title:"Multi-Dojo",description:"Mehrere Standorte zentral verwalten mit einem Account"},{icon:"📁",title:"Dokumentenverwaltung",description:"Upload, Speicherung und Verwaltung aller Dokumente"},{icon:"🔒",title:"Sicherheit & DSGVO",description:"Verschlüsselte Daten, deutsche Server, 100% DSGVO-konform"}].map((t,n)=>e.jsxs("div",{className:"feature-card",children:[e.jsx("div",{className:"feature-icon",children:t.icon}),e.jsx("h3",{className:"feature-title",children:t.title}),e.jsx("p",{className:"feature-description",children:t.description})]},n))})]})}),e.jsx("section",{className:"testimonials-section",id:"testimonials",children:e.jsxs("div",{className:"container",children:[e.jsx("h2",{className:"section-title",children:"Was unsere Kunden sagen"}),e.jsxs("div",{className:"testimonials-gallery",children:[e.jsx("div",{className:"testimonial-slide active",children:e.jsx("div",{className:"testimonial-card",children:r[a].text&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"testimonial-stars",children:[...Array(r[a].rating)].map((t,n)=>e.jsx("span",{className:"star",children:"⭐"},n))}),e.jsxs("p",{className:"testimonial-text",children:['"',r[a].text,'"']}),r[a].name&&e.jsxs("div",{className:"testimonial-author",children:[e.jsx("strong",{children:r[a].name}),r[a].dojo&&e.jsx("span",{children:r[a].dojo})]})]})})}),e.jsx("div",{className:"testimonial-indicators",children:r.map((t,n)=>n<2?null:e.jsx("button",{className:"indicator "+(a===n?"active":""),onClick:()=>i(n),"aria-label":`Gehe zu Testimonial ${n+1}`},n))})]})]})}),e.jsx("section",{className:"pricing-preview",children:e.jsxs("div",{className:"container",children:[e.jsx("h2",{className:"section-title",children:"Transparent & Fair"}),e.jsx("p",{className:"section-subtitle",children:"Wähle den Plan der zu deinem Dojo passt"}),e.jsxs("div",{className:"pricing-cards-preview",children:[e.jsxs("div",{className:"pricing-card-preview",children:[e.jsx("h3",{children:"Starter"}),e.jsxs("div",{className:"price",children:["€49",e.jsx("span",{children:"/Monat"})]}),e.jsx("p",{children:"Bis 100 Mitglieder"})]}),e.jsxs("div",{className:"pricing-card-preview featured",children:[e.jsx("div",{className:"popular-badge",children:"Beliebt"}),e.jsx("h3",{children:"Professional"}),e.jsxs("div",{className:"price",children:["€89",e.jsx("span",{children:"/Monat"})]}),e.jsx("p",{children:"Bis 300 Mitglieder"})]}),e.jsxs("div",{className:"pricing-card-preview",children:[e.jsx("h3",{children:"Premium"}),e.jsxs("div",{className:"price",children:["€149",e.jsx("span",{children:"/Monat"})]}),e.jsx("p",{children:"Unbegrenzt Mitglieder"})]})]}),e.jsx("button",{className:"cta-secondary",onClick:()=>n("/pricing"),children:"Alle Preise & Features ansehen"})]})}),e.jsx("section",{className:"faq-section",children:e.jsxs("div",{className:"container",children:[e.jsx("h2",{className:"section-title",children:"Häufig gestellte Fragen"}),e.jsxs("div",{className:"faq-grid",children:[e.jsxs("div",{className:"faq-item",children:[e.jsx("h3",{children:"Wie funktioniert der 14-Tage-Test?"}),e.jsx("p",{children:"Registriere dich kostenlos und teste alle Features 14 Tage lang. Keine Kreditkarte erforderlich."})]}),e.jsxs("div",{className:"faq-item",children:[e.jsx("h3",{children:"Sind meine Daten sicher (DSGVO)?"}),e.jsx("p",{children:"Ja, alle Daten werden verschlüsselt auf deutschen Servern gespeichert. 100% DSGVO-konform."})]}),e.jsxs("div",{className:"faq-item",children:[e.jsx("h3",{children:"Funktioniert es für mehrere Standorte?"}),e.jsx("p",{children:"Ja, mit dem Enterprise-Plan kannst du mehrere Dojos zentral verwalten mit einem Account. Getrennte oder gemeinsame Ansicht und Auswertung."})]})]})]})}),e.jsx("section",{className:"final-cta",children:e.jsxs("div",{className:"container",children:[e.jsx("h2",{children:"Bereit dein Dojo zu digitalisieren?"}),e.jsx("p",{children:"Starte jetzt - komplett kostenlos"}),e.jsxs("button",{className:"cta-primary large",onClick:()=>n("/register"),children:[e.jsx("span",{className:"cta-icon",children:"🚀"}),"Jetzt 14 Tage gratis testen"]}),e.jsx("p",{className:"cta-note",children:"Keine Kreditkarte nötig"})]})}),e.jsx("footer",{className:"landing-footer",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"footer-grid",children:[e.jsxs("div",{className:"footer-col",children:[e.jsx("h4",{children:"Produkt"}),e.jsx("a",{href:"#features",children:"Features"}),e.jsx("a",{href:"/pricing",children:"Preise"}),e.jsx("a",{href:"/demo",children:"Demo"})]}),e.jsxs("div",{className:"footer-col",children:[e.jsx("h4",{children:"Unternehmen"}),e.jsx("a",{href:"/about",children:"Über uns"}),e.jsx("a",{href:"/contact",children:"Kontakt"}),e.jsx("a",{href:"/impressum",children:"Impressum"})]}),e.jsxs("div",{className:"footer-col",children:[e.jsx("h4",{children:"Support"}),e.jsx("a",{href:"/help",children:"Hilfe-Center"}),e.jsx("a",{href:"/login",children:"Login"}),e.jsx("a",{href:"mailto:support@dojo.tda-intl.org",children:"Email Support"})]}),e.jsxs("div",{className:"footer-col",children:[e.jsx("h4",{children:"Rechtliches"}),e.jsx("a",{href:"/datenschutz",children:"Datenschutz"}),e.jsx("a",{href:"/agb",children:"AGB"})]})]}),e.jsxs("div",{className:"footer-bottom",children:[e.jsx("p",{children:"© 2026 DojoSoftware by TDA International • Alle Rechte vorbehalten"}),e.jsx("p",{style:{marginTop:"0.5rem",fontSize:"0.75rem",opacity:.7},children:"Coming soon: English • Español • Français • Italiano"})]})]})})]})}const ur=t.lazy(()=>V(()=>import("./Dashboard-Co2OpsG1.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]))),mr=t.lazy(()=>V(()=>import("./DashboardTdaVib-dEGZgBqN.js"),__vite__mapDeps([24,1,2,3,4,5,6,7,8,9,10,11,12,13,14,17,19]))),hr=t.lazy(()=>V(()=>import("./DashboardStart-C3-YnetP.js"),__vite__mapDeps([25,1,2,3,8,9,10,6,11,12,13,14,22,16,17,18,19]))),gr=t.lazy(()=>V(()=>import("./MitgliederListe-BBmDAwGk.js"),__vite__mapDeps([26,1,2,3,10,6]))),pr=t.lazy(()=>V(()=>import("./MitgliedDetail-B29v8gw7.js"),__vite__mapDeps([27,1,2,3,28,10,6,29,30]))),fr=t.lazy(()=>V(()=>import("./MitgliedDetailShared-B_ERVqnV.js"),__vite__mapDeps([28,1,2,3,10,6,29,30]))),br=t.lazy(()=>V(()=>import("./EhemaligenListe-o2c2bknM.js"),__vite__mapDeps([31,1,2,3,10,6]))),xr=t.lazy(()=>V(()=>import("./InteressentenListe-LSXOet-0.js"),__vite__mapDeps([32,1,2,3,10,6]))),jr=t.lazy(()=>V(()=>import("./MitgliederFilter-BDjUYeGn.js"),__vite__mapDeps([33,1,2,3,6,10,34]))),vr=t.lazy(()=>V(()=>import("./Anwesenheit-DkrKUnrW.js"),__vite__mapDeps([35,1,2,3,10,6,36]))),yr=t.lazy(()=>V(()=>import("./AnwesenheitDashboard-Bfa3Rmx7.js"),__vite__mapDeps([37,1,2,3,15,10,6,38]))),_r=t.lazy(()=>V(()=>import("./CheckinSystem-BAwPue_m.js"),__vite__mapDeps([39,1,2,3,40,6,10,41,14]))),kr=t.lazy(()=>V(()=>import("./PersonalCheckin-D4cjjtCF.js"),__vite__mapDeps([42,1,2,3,10,6,43]))),wr=t.lazy(()=>V(()=>import("./PublicCheckinDisplay-uiXgkh4O.js"),__vite__mapDeps([44,1,2,3,10,6,45]))),Sr=t.lazy(()=>V(()=>import("./Stundenplan-CK-ZanU9.js"),__vite__mapDeps([46,1,2,3,10,6,47]))),zr=t.lazy(()=>V(()=>import("./Kurse-EeiLxJRW.js"),__vite__mapDeps([48,1,2,3,10,6,49]))),Er=t.lazy(()=>V(()=>import("./Trainer-BK_PcfSe.js"),__vite__mapDeps([50,1,2,3,10,6,51]))),Nr=t.lazy(()=>V(()=>import("./GruppenStilverwaltung-BD8OgEu5.js"),__vite__mapDeps([52,1,2,3,10,6,53]))),Dr=t.lazy(()=>V(()=>import("./Stilverwaltung-DKd5yrWb.js"),__vite__mapDeps([54,1,2,3,10,6,55]))),Ar=t.lazy(()=>V(()=>import("./StandortVerwaltung-64T-7B4Y.js"),__vite__mapDeps([56,1,2,3,6,10,57]))),Rr=t.lazy(()=>V(()=>import("./PublicTimetableDisplay-q-ba6VxM.js"),__vite__mapDeps([58,1,2,3,10,6,59]))),Tr=t.lazy(()=>V(()=>import("./Finanzcockpit-BDjKVvAT.js"),__vite__mapDeps([60,1,2,3,6,15,10,61]))),Br=t.lazy(()=>V(()=>import("./EuerUebersicht-BwgquKPo.js"),__vite__mapDeps([62,1,2,3,6,15,10]))),Cr=t.lazy(()=>V(()=>import("./AusgabenVerwaltung-CBf_jWSA.js"),__vite__mapDeps([63,1,2,3,6,10]))),Pr=t.lazy(()=>V(()=>import("./Beitraege-DXVnArha.js"),__vite__mapDeps([64,1,2,3,6,10,65]))),Ir=t.lazy(()=>V(()=>import("./Mahnwesen-VQIkEWGo.js"),__vite__mapDeps([66,1,2,3,6,10,67]))),Lr=t.lazy(()=>V(()=>import("./MahnstufenEinstellungen-11rhlQBS.js"),__vite__mapDeps([68,1,2,3,6,10,69]))),Or=t.lazy(()=>V(()=>import("./Rechnungsverwaltung-C-wgmwn2.js"),__vite__mapDeps([70,1,2,3,6,10,71]))),Fr=t.lazy(()=>V(()=>import("./RechnungErstellen-B3HYKLNW.js"),__vite__mapDeps([72,1,2,3,12,6,10,73]))),Mr=t.lazy(()=>V(()=>import("./SepaMandateVerwaltung-DjiJmz10.js"),__vite__mapDeps([74,1,2,3,6,10,75]))),Vr=t.lazy(()=>V(()=>import("./LastschriftManagement-DrnLB9Zg.js"),__vite__mapDeps([76,1,2,3,6,10,77]))),Ur=t.lazy(()=>V(()=>import("./TarifePreise-C53Kkftl.js"),__vite__mapDeps([78,1,2,3,6,10,79]))),Wr=t.lazy(()=>V(()=>import("./Rabattsystem-C-3AXqJl.js"),__vite__mapDeps([80,1,2,3,6,10,79]))),Kr=t.lazy(()=>V(()=>import("./ZahlungszyklenSeite-Uxe29DHa.js"),__vite__mapDeps([81,1,2,3,6,10,82]))),$r=t.lazy(()=>V(()=>import("./ZahlungsEinstellungen-Be4UUftI.js"),__vite__mapDeps([83,1,2,3,10,6]))),Hr=t.lazy(()=>V(()=>import("./TresenUebersicht-BGl0AkuF.js"),__vite__mapDeps([84,1,2,3,10,6,85]))),qr=t.lazy(()=>V(()=>import("./ArtikelVerwaltung-BqIW0O0-.js"),__vite__mapDeps([86,1,2,3,10,6,87]))),Gr=t.lazy(()=>V(()=>import("./ArtikelFormular-XUxpkt3N.js"),__vite__mapDeps([88,1,2,3,10,6,87]))),Jr=t.lazy(()=>V(()=>import("./VerkaufKasse-nCKzCSu5.js"),__vite__mapDeps([40,1,2,3,6,10,41,14]))),Zr=t.lazy(()=>V(()=>import("./ArtikelgruppenVerwaltung-C_dfiobl.js"),__vite__mapDeps([89,1,2,3,10,6,90])));t.lazy(()=>V(()=>import("./MemberDashboard-UzEt1MGm.js"),__vite__mapDeps([8,1,2,3,9,10,6,11,12,13,14])));const Yr=t.lazy(()=>V(()=>import("./MemberHeader-B9i2VG32.js"),__vite__mapDeps([9,1,2,3,10,6,11]))),Xr=t.lazy(()=>V(()=>import("./MemberSchedule-BvDM4VJJ.js"),__vite__mapDeps([91,1,2,3,9,10,6,11]))),Qr=t.lazy(()=>V(()=>import("./MemberEvents-Ceap_F0C.js"),__vite__mapDeps([92,1,2,3,9,10,6,11]))),es=t.lazy(()=>V(()=>import("./MemberPayments-JeUocfON.js"),__vite__mapDeps([93,1,2,3,9,10,6,11]))),ts=t.lazy(()=>V(()=>import("./MemberStats-x04R4fQZ.js"),__vite__mapDeps([94,1,2,3,9,10,6,11,95]))),ns=t.lazy(()=>V(()=>import("./MemberStyles-CFLJChU5.js"),__vite__mapDeps([96,1,2,3,9,10,6,11,97]))),rs=t.lazy(()=>V(()=>import("./CourseRating-D9UNvWhv.js"),__vite__mapDeps([98,1,2,3,9,10,6,11,99]))),ss=t.lazy(()=>V(()=>import("./EquipmentChecklist-CDvrM2a_.js"),__vite__mapDeps([100,1,2,3,9,10,6,11]))),as=t.lazy(()=>V(()=>import("./AppInstallPage-BJYF4oaB.js"),__vite__mapDeps([101,1,2,3,12,6]))),is=t.lazy(()=>V(()=>import("./TrainerDashboard-Bx3LRda9.js"),__vite__mapDeps([102,1,2,3,39,40,6,10,41,14,35,36,46,47]))),os=t.lazy(()=>V(()=>import("./TrainerOnlyRoute-D0rwgyA0.js"),__vite__mapDeps([103,1,2,3,10,6]))),ls=t.lazy(()=>V(()=>import("./CourseRatingAdmin-650nucy_.js"),__vite__mapDeps([104,1,2,3,6,10,105]))),ds=t.lazy(()=>V(()=>import("./Personal-Ctww7ifb.js"),__vite__mapDeps([106,1,2,3,10,6,107])));t.lazy(()=>V(()=>import("./EinstellungenDojo-CqWo6gM4.js"),__vite__mapDeps([108,1,2,3,109,6,110,10,111])));const cs=t.lazy(()=>V(()=>import("./AuditLog-DzHkWqWf.js"),__vite__mapDeps([112,1,2,3,6,10,113]))),us=t.lazy(()=>V(()=>import("./BuddyVerwaltung-BwfZUHcb.js"),__vite__mapDeps([114,1,2,3,6,10,115,11]))),ms=t.lazy(()=>V(()=>import("./Auswertungen-BmETQLhE.js"),__vite__mapDeps([116,1,2,3,15,10,6,117,34]))),hs=t.lazy(()=>V(()=>import("./BerichteDokumente-BJkrOZW7.js"),__vite__mapDeps([118,1,2,3,6,10,119]))),gs=t.lazy(()=>V(()=>import("./DojosVerwaltung-Cghtve-J.js"),__vite__mapDeps([120,1,2,3,6,10,121]))),ps=t.lazy(()=>V(()=>import("./DojoEdit-DBjmDbXc.js"),__vite__mapDeps([122,1,2,3,109,6,110,10,123]))),fs=t.lazy(()=>V(()=>import("./DokumenteVerwaltung-DttF2xA7.js"),__vite__mapDeps([124,1,2,3,125,29,10,6,126,11]))),bs=t.lazy(()=>V(()=>import("./NotificationSystem-D5fvDA1Q.js"),__vite__mapDeps([127,1,2,3,4,29,128,10,6,129,15,130]))),xs=t.lazy(()=>V(()=>import("./PruefungsVerwaltung-Bvtxfyso.js"),__vite__mapDeps([131,1,2,3,6,10,11]))),js=t.lazy(()=>V(()=>import("./PruefungDurchfuehren-RoCoGn0M.js"),__vite__mapDeps([132,1,2,3,6,10,11]))),vs=t.lazy(()=>V(()=>import("./BadgeAdminOverview-NmeAiNjN.js"),__vite__mapDeps([133,1,2,3,6,10]))),ys=t.lazy(()=>V(()=>import("./SupportTickets-HJX-q22-.js"),__vite__mapDeps([18,1,2,3,6,10,19]))),_s=t.lazy(()=>V(()=>import("./VerbandDashboard-Bg9-cqkl.js"),__vite__mapDeps([20,1,2,3,6,16,17,18,10,19,21]))),ks=t.lazy(()=>V(()=>import("./WebhookVerwaltung-COS5NhuW.js"),__vite__mapDeps([134,1,2,3,6,10]))),ws=t.lazy(()=>V(()=>import("./IntegrationsEinstellungen-5KQt3oDF.js"),__vite__mapDeps([135,1,2,3,6,10]))),Ss=t.lazy(()=>V(()=>import("./DatevExport-DqQuKnLA.js"),__vite__mapDeps([136,1,2,3,6,10]))),zs=t.lazy(()=>V(()=>import("./KalenderAbo-DggXqDZH.js"),__vite__mapDeps([137,1,2,3,6,10]))),Es=t.lazy(()=>V(()=>import("./Events-045cKsiU.js"),__vite__mapDeps([138,1,2,3,10,6,139,140,11]))),Ns=t.lazy(()=>V(()=>import("./MeineEvents-CiL9ZkH3.js"),__vite__mapDeps([141,1,2,3,4,10,6,140]))),Ds=t.lazy(()=>V(()=>import("./NewsVerwaltung-BbY7JQ25.js"),__vite__mapDeps([128,1,2,3,4,10,6,129]))),As=t.lazy(()=>V(()=>import("./NewsFormular-DYTUl_g5.js"),__vite__mapDeps([142,1,2,3,4,10,6,129]))),Rs=t.lazy(()=>V(()=>import("./Homepage-CkD6Viou.js"),__vite__mapDeps([143,1,2,3,144,10,6,145,146])));t.lazy(()=>V(()=>import("./PublicRegistration-DSb8YJnC.js"),__vite__mapDeps([144,1,2,3,10,6,145])));const Ts=t.lazy(()=>V(()=>import("./BuddyInviteRegistration-aAo_mwU7.js"),__vite__mapDeps([147,1,2,3,144,10,6,145]))),Bs=t.lazy(()=>V(()=>import("./VerbandMitgliedWerden-Bm5woa1-.js"),__vite__mapDeps([148,1,2,3,6,10]))),Cs=t.lazy(()=>V(()=>import("./MagicLineImport-CTHUT5V_.js"),__vite__mapDeps([149,1,2,3,6]))),Ps=t.lazy(()=>V(()=>import("./PricingPage-pkhAefW9.js"),__vite__mapDeps([150,1,2,3,151,152,10,6,153]))),Is=t.lazy(()=>V(()=>import("./RegisterPage-BPja2OiV.js"),__vite__mapDeps([154,1,2,3,151,152,10,6,155]))),Ls=t.lazy(()=>V(()=>import("./ContactPage-QENIVFAs.js"),__vite__mapDeps([156,1,2,3]))),Os=t.lazy(()=>V(()=>import("./ImpressumPage-DIfXqc2z.js"),__vite__mapDeps([157,1,2,3]))),Fs=t.lazy(()=>V(()=>import("./AboutPage-BRr4Q6uM.js"),__vite__mapDeps([158,1,2,3]))),Ms=t.lazy(()=>V(()=>import("./DatenschutzPage-2yKWmtmc.js"),__vite__mapDeps([159,1,2,3]))),Vs=t.lazy(()=>V(()=>import("./AGBPage-B0R3WWSI.js"),__vite__mapDeps([160,1,2,3]))),Us=t.lazy(()=>V(()=>import("./HelpPage-DIiub_xS.js"),__vite__mapDeps([161,1,2,3]))),Ws=t.lazy(()=>V(()=>import("./GaleriePage-B6fxxv8t.js"),__vite__mapDeps([162,1,2,3]))),Ks=t.lazy(()=>V(()=>import("./DemoPage-4NU1jZgW.js"),__vite__mapDeps([163,1,2,3]))),$s=()=>e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",fontSize:"1rem",color:"#666"},children:e.jsx("div",{className:"loading-spinner"})}),Hs=({children:t})=>{const{token:n,loading:r}=wn();return r?e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"1.2rem",flexDirection:"column",gap:"1rem"},children:[e.jsx("div",{className:"loading-spinner-large"}),e.jsx("div",{children:"Authentifizierung wird gepr�ft..."})]}):n?t:(console.log("Kein Token gefunden, Weiterleitung zu Login"),e.jsx(a,{to:"/login",replace:!0}))},qs=({children:t})=>{const{token:n,user:r,loading:s}=wn();return s?e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"1.2rem",flexDirection:"column",gap:"1rem"},children:[e.jsx("div",{className:"loading-spinner-large"}),e.jsx("div",{children:"Authentifizierung wird gepr�ft..."})]}):n?"admin"===(null==r?void 0:r.role)?(console.log("Admin versucht auf Member-Route zuzugreifen, Weiterleitung zu Dashboard"),e.jsx(a,{to:"/dashboard",replace:!0})):t:(console.log("Kein Token gefunden, Weiterleitung zu Login"),e.jsx(a,{to:"/login",replace:!0}))},Gs=()=>{const{token:t,user:n,loading:r}=wn();return r?e.jsx("div",{children:"Lade..."}):t?e.jsx(a,{to:"/dashboard",replace:!0}):e.jsx(cr,{})},Js=()=>e.jsx(Zn,{children:e.jsx(kn,{children:e.jsx($n,{children:e.jsx(An,{children:e.jsx(Bn,{children:e.jsx(En,{children:e.jsx(Un,{children:e.jsx(i,{children:e.jsx(ar,{children:e.jsxs(o,{children:[e.jsx(l,{path:"/login",element:e.jsx(dr,{})}),e.jsx(l,{path:"/pricing",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Ps,{})})}),e.jsx(l,{path:"/register",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Is,{})})}),e.jsx(l,{path:"/contact",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Ls,{})})}),e.jsx(l,{path:"/impressum",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Os,{})})}),e.jsx(l,{path:"/about",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Fs,{})})}),e.jsx(l,{path:"/datenschutz",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Ms,{})})}),e.jsx(l,{path:"/agb",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Vs,{})})}),e.jsx(l,{path:"/help",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Us,{})})}),e.jsx(l,{path:"/galerie",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Ws,{})})}),e.jsx(l,{path:"/demo",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Ks,{})})}),e.jsx(l,{path:"/home",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Rs,{})})}),e.jsx(l,{path:"/public-checkin",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(wr,{})})}),e.jsx(l,{path:"/public-timetable",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Rr,{})})}),e.jsx(l,{path:"/registration/buddy-invite/:token",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Ts,{})})}),e.jsx(l,{path:"/verband/mitglied-werden",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Bs,{})})}),e.jsx(l,{path:"/app-install",element:e.jsx(qs,{children:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(as,{})})})}),e.jsx(l,{path:"/member/profile",element:e.jsx(qs,{children:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsxs("div",{className:"member-profile-wrapper",children:[e.jsx(Yr,{}),e.jsx(fr,{isAdmin:!1})]})})})}),e.jsx(l,{path:"/member/schedule",element:e.jsx(qs,{children:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Xr,{})})})}),e.jsx(l,{path:"/member/events",element:e.jsx(qs,{children:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Qr,{})})})}),e.jsx(l,{path:"/trainer",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(os,{children:e.jsx(is,{})})})}),e.jsx(l,{path:"/member/payments",element:e.jsx(qs,{children:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(es,{})})})}),e.jsx(l,{path:"/member/stats",element:e.jsx(qs,{children:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(ts,{})})})}),e.jsx(l,{path:"/member/rating",element:e.jsx(qs,{children:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(rs,{})})})}),e.jsx(l,{path:"/member/equipment",element:e.jsx(qs,{children:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(ss,{})})})}),e.jsx(l,{path:"/member/styles",element:e.jsx(qs,{children:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(ns,{})})})}),e.jsx(l,{path:"/member/kalender",element:e.jsx(qs,{children:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(zs,{})})})}),e.jsx(l,{path:"/",element:e.jsx(Gs,{})}),e.jsx(l,{path:"/dashboard-tda-vib",element:e.jsx(Hs,{children:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(mr,{})})})}),e.jsx(l,{path:"/verband",element:e.jsx(Hs,{children:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(_s,{})})})}),e.jsxs(l,{path:"/dashboard",element:e.jsx(Hs,{children:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(ur,{})})}),children:[e.jsx(l,{index:!0,element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(hr,{})})}),e.jsx(l,{path:"uebersicht",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(yr,{})})}),e.jsx(l,{path:"anwesenheit",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(vr,{})})}),e.jsx(l,{path:"mitglieder",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(gr,{})})}),e.jsx(l,{path:"mitglieder/:id",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(pr,{})})}),e.jsx(l,{path:"ehemalige",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(br,{})})}),e.jsx(l,{path:"interessenten",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(xr,{})})}),e.jsx(l,{path:"checkin",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(_r,{})})}),e.jsx(l,{path:"personal-checkin",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(kr,{})})}),e.jsx(l,{path:"tresen",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Hr,{})})}),e.jsx(l,{path:"artikelgruppen",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Zr,{})})}),e.jsx(l,{path:"artikel",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(qr,{})})}),e.jsx(l,{path:"artikel/neu",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Gr,{mode:"create"})})}),e.jsx(l,{path:"artikel/bearbeiten/:id",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Gr,{mode:"edit"})})}),e.jsx(l,{path:"kasse",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Jr,{})})}),e.jsx(l,{path:"stile",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Dr,{})})}),e.jsx(l,{path:"stile/:stilId",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Dr,{})})}),e.jsx(l,{path:"gruppen",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Nr,{})})}),e.jsx(l,{path:"standorte",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Ar,{})})}),e.jsx(l,{path:"kurse",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(zr,{})})}),e.jsx(l,{path:"stundenplan",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Sr,{})})}),e.jsx(l,{path:"trainer",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Er,{})})}),e.jsx(l,{path:"termine",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(xs,{})})}),e.jsx(l,{path:"pruefung-durchfuehren",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(js,{})})}),e.jsx(l,{path:"badges",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(vs,{})})}),e.jsx(l,{path:"events",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Es,{})})}),e.jsx(l,{path:"meine-events",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Ns,{})})}),e.jsx(l,{path:"news",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Ds,{})})}),e.jsx(l,{path:"news/neu",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(As,{mode:"create"})})}),e.jsx(l,{path:"news/bearbeiten/:id",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(As,{mode:"edit"})})}),e.jsx(l,{path:"support",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(ys,{})})}),e.jsx(l,{path:"finanzcockpit",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Tr,{})})}),e.jsx(l,{path:"euer",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Br,{})})}),e.jsx(l,{path:"euer-tda",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Br,{isTDA:!0})})}),e.jsx(l,{path:"ausgaben",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Cr,{})})}),e.jsx(l,{path:"mitglieder-filter/:filterType",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(jr,{})})}),e.jsx(l,{path:"beitraege",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Pr,{})})}),e.jsx(l,{path:"mahnwesen",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Ir,{})})}),e.jsx(l,{path:"mahnstufen-einstellungen",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Lr,{})})}),e.jsx(l,{path:"rechnungen",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Or,{})})}),e.jsx(l,{path:"rechnungen/:id",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Or,{})})}),e.jsx(l,{path:"rechnung-erstellen",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Fr,{})})}),e.jsx(l,{path:"lastschriftlauf",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Vr,{})})}),e.jsx(l,{path:"sepa-mandate",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Mr,{})})}),e.jsx(l,{path:"zahllaeufe",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Vr,{})})}),e.jsx(l,{path:"zahlungszyklen",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Kr,{})})}),e.jsx(l,{path:"tarife",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Ur,{})})}),e.jsx(l,{path:"rabattsystem",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Wr,{})})}),e.jsx(l,{path:"personal",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(ds,{})})}),e.jsx(l,{path:"buddy-gruppen",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(us,{})})}),e.jsx(l,{path:"auswertungen",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(ms,{})})}),e.jsx(l,{path:"course-ratings",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(ls,{})})}),e.jsx(l,{path:"magicline-import",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Cs,{})})}),e.jsx(l,{path:"berichte",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(hs,{})})}),e.jsx(l,{path:"vertragsdokumente",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(fs,{})})}),e.jsx(l,{path:"dojos",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(gs,{})})}),e.jsx(l,{path:"dojos/edit/:id",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(ps,{})})}),e.jsx(l,{path:"dojos/new",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(ps,{})})}),e.jsx(l,{path:"notifications",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(bs,{})})}),e.jsx(l,{path:"einstellungen",element:e.jsx(a,{to:"/dashboard/dojos",replace:!0})}),e.jsx(l,{path:"einstellungen/meindojo",element:e.jsx(a,{to:"/dashboard/dojos",replace:!0})}),e.jsx(l,{path:"einstellungen/zahlungen",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx($r,{})})}),e.jsx(l,{path:"audit-log",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(cs,{})})}),e.jsx(l,{path:"webhooks",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(ks,{})})}),e.jsx(l,{path:"integrationen",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(ws,{})})}),e.jsx(l,{path:"datev-export",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(Ss,{})})}),e.jsx(l,{path:"kalender-sync",element:e.jsx(t.Suspense,{fallback:e.jsx($s,{}),children:e.jsx(zs,{})})}),e.jsx(l,{path:"*",element:e.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"#666"},children:[e.jsx("h2",{children:"Seite nicht gefunden"}),e.jsx("p",{children:"Die angeforderte Dashboard-Seite existiert nicht."}),e.jsx("button",{onClick:()=>window.history.back(),style:{padding:"0.5rem 1rem",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Zur�ck"})]})})]}),e.jsx(l,{path:"*",element:e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",textAlign:"center",backgroundColor:"#f8f9fa"},children:[e.jsx("h1",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"404"}),e.jsx("h2",{style:{marginBottom:"1rem"},children:"Seite nicht gefunden"}),e.jsx("p",{style:{marginBottom:"2rem",color:"#666"},children:"Die angeforderte URL existiert nicht."}),e.jsx("button",{onClick:()=>window.location.href="/dashboard",style:{padding:"0.75rem 1.5rem",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem"},children:"Zum Dashboard"})]})})]})})})})})})})})})}),Zs=t.createContext(),Ys=({children:n})=>{const[r,s]=t.useState([]),[a,i]=t.useState([]),[o,l]=t.useState([]),[d,c]=t.useState([]),[u,m]=t.useState(!1),[h,g]=t.useState(!1),p=t.useCallback(async()=>{if(h)console.log("📊 DatenContext: Daten bereits geladen - Skip");else{console.log("📊 DatenContext: Lade Daten..."),m(!0);try{const[e,t,n,r]=await Promise.all([Sn.get("/kurse").catch(e=>{var t;return console.warn("⚠️ Fehler beim Laden der Kurse:",null==(t=e.response)?void 0:t.status),{data:[]}}),Sn.get("/trainer").catch(e=>{var t;return console.warn("⚠️ Fehler beim Laden der Trainer:",null==(t=e.response)?void 0:t.status),{data:[]}}),Sn.get("/stile").catch(e=>{var t;return console.warn("⚠️ Fehler beim Laden der Stile:",null==(t=e.response)?void 0:t.status),{data:[]}}),Sn.get("/gruppen").catch(e=>{var t;return console.warn("⚠️ Fehler beim Laden der Gruppen:",null==(t=e.response)?void 0:t.status),{data:[]}})]);s(e.data),i(t.data),l(n.data),c(r.data),g(!0),console.log("✅ DatenContext: Daten erfolgreich geladen")}catch(e){console.error("❌ DatenContext: Fehler beim Laden der Daten:",e)}finally{m(!1)}}},[h]);t.useEffect(()=>{const e=e=>{console.log("📊 DatenContext: User eingeloggt - Lade Daten"),p()};return window.addEventListener("userLoggedIn",e),()=>{window.removeEventListener("userLoggedIn",e)}},[p]);const f={kurse:r,trainer:a,stile:o,gruppen:d,loading:u,ladeAlleDaten:p,setKurse:s,setTrainer:i,setStile:l,setGruppen:c};return e.jsx(Zs.Provider,{value:f,children:n})};Ht.defaults.baseURL=vn.apiBaseUrl,Ht.interceptors.request.use(e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));const Xs=new u({defaultOptions:{queries:{staleTime:3e5,gcTime:18e5,retry:1,refetchOnWindowFocus:!1}}});F.createRoot(document.getElementById("root")).render(e.jsx(n.StrictMode,{children:e.jsx(m,{client:Xs,children:e.jsx(Ys,{children:e.jsx(Js,{})})})}));const Qs=window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone;"serviceWorker"in navigator&&!Qs?(console.log("📱 PWA läuft im Browser - Service Worker wird registriert"),window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js",{scope:"/"}).then(e=>{console.log("✅ Service Worker registriert:",e.scope),setInterval(()=>{e.update()},36e5)}).catch(e=>{console.warn("⚠️ Service Worker Registrierung fehlgeschlagen:",e)})})):Qs&&(console.log("🚀 PWA läuft als installierte App - Service Worker DEAKTIVIERT (verhindert Flackern)"),"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(e=>{e.forEach(e=>{console.log("🧹 Deregistriere Service Worker in standalone mode:",e.scope),e.unregister()})}));export{Zs as D,or as N,fn as S,ir as V,Ht as a,Dn as b,vn as c,Tn as d,Vn as e,Yn as f,lr as g,In as h,Ln as i,On as j,rr as k,tr as l,wn as u};
