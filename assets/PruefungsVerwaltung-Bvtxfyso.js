import{j as e}from"./animation-1wuIdCBS.js";import{r}from"./vendor-router-BhMXg4Z-.js";import{b as n}from"./index-DUnH23_2.js";/* empty css                  */import{C as t,Y as a,A as i,p as s,a as l,b as o,J as d,K as g,$ as c,w as u}from"./icons-D7rg4pDH.js";import"./vendor-react-DtuzQOD1.js";import"./query-Bs1dTGah.js";const m=()=>{const{getDojoFilterParam:m,activeDojo:h}=n(),p="/api",[x,b]=r.useState([]),[f,y]=r.useState([]),[j,v]=r.useState("all"),[k,S]=r.useState(!1),[z,_]=r.useState(""),[w,B]=r.useState(""),[C,E]=r.useState("termine"),[T,D]=r.useState("alle"),[A,W]=r.useState({pruefungsdatum:"",pruefungszeit:"10:00",pruefungsort:"",pruefungsgebuehr:"",anmeldefrist:"",gurtlaenge:"",bemerkungen:"",teilnahmebedingungen:"",ist_historisch:!1,historisch_bemerkung:""}),[N,$]=r.useState(!1),[I,R]=r.useState(null),[P,M]=r.useState({bestanden:!1,punktzahl:"",max_punktzahl:"",prueferkommentar:"",graduierung_nachher_index:0,graduierung_nachher_id:null,graduierung_nachher_name:"",graduierung_nachher_farbe:""}),[F,L]=r.useState([]),[K,G]=r.useState([]),[O,H]=r.useState([]),[U,Z]=r.useState(null),[V,Y]=r.useState([]),[q,J]=r.useState(!1),[Q,X]=r.useState(1),[ee,re]=r.useState({pruefungsdatum:"",pruefungszeit:"10:00",pruefungsort:"",pruefer_name:"",stil_id:"",pruefungsgebuehr:"",anmeldefrist:"",gurtlaenge:"",bemerkungen:"",teilnahmebedingungen:"",ist_historisch:!1,historisch_bemerkung:""}),[ne,te]=r.useState(!1),[ae,ie]=r.useState(null),[se,le]=r.useState({}),[oe,de]=r.useState(!1),[ge,ce]=r.useState(null),[ue,me]=r.useState({}),[he,pe]=r.useState("all"),[xe,be]=r.useState("all"),[fe,ye]=r.useState("all"),[je,ve]=r.useState({key:null,direction:"asc"});r.useEffect(()=>{ke()},[]),r.useEffect(()=>{"termine"===C?Be():"zugelassen"===C?ze():"abgeschlossen"===C?_e():"statistiken"===C&&(we(),Se(),ze(),_e())},[C,j]);const ke=async()=>{try{const e=await fetch(`${p}/stile?aktiv=true`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),r=await e.json();y(r||[])}catch(e){console.error("Fehler beim Laden der Stile:",e)}},Se=async()=>{var e;S(!0),_("");try{const r=m(),n="all"!==j?`&stil_id=${j}`:"",t=await fetch(`${p}/pruefungen/kandidaten?${r}${n}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!t.ok)throw new Error("Fehler beim Laden der Kandidaten");const a=await t.json();console.log("üéØ Kandidaten-Daten:",a.kandidaten),console.log("üîç Beispiel-Kandidat:",null==(e=a.kandidaten)?void 0:e[0]),b(a.kandidaten||[])}catch(r){_(r.message)}finally{S(!1)}},ze=async()=>{S(!0);try{const e=m(),r="all"!==j?`&stil_id=${j}`:"",n=await fetch(`${p}/pruefungen?status=geplant&${e}${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),t=await n.json();G(t.pruefungen||[])}catch(e){_(e.message)}finally{S(!1)}},_e=async()=>{S(!0);try{const e=m(),r="all"!==j?`&stil_id=${j}`:"",n=await fetch(`${p}/pruefungen?status=bestanden&${e}${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),t=await n.json();H(t.pruefungen||[])}catch(e){_(e.message)}finally{S(!1)}},we=async()=>{S(!0);try{const e=m(),r=await fetch(`${p}/pruefungen/stats/statistiken?${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),n=await r.json();Z(n.statistiken)}catch(e){_(e.message)}finally{S(!1)}},Be=async()=>{S(!0);try{const e=m(),r="all"!==j?`&stil_id=${j}`:"",n=await fetch(`${p}/pruefungen?status=geplant&${e}${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),t=await n.json(),a=await fetch(`${p}/pruefungen/termine?${e}${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),i=await a.json(),s={};(t.pruefungen||[]).forEach(e=>{const r=e.pruefungsdatum?e.pruefungsdatum.split("T")[0]:"Kein Datum",n=`${r}_${e.stil_id}`;s[n]||(s[n]={datum:r,stil_id:e.stil_id,stil_name:e.stil_name,pruefungen:[]}),s[n].pruefungen.push(e)}),(i.termine||[]).forEach(e=>{const r=e.pruefungsdatum?e.pruefungsdatum.split("T")[0]:"Kein Datum",n=`${r}_${e.stil_id}`;s[n]||(s[n]={datum:r,stil_id:e.stil_id,stil_name:e.stil_name,pruefungen:[],isVorlage:!0}),s[n].isVorlage=!0,s[n].vorlageData={termin_id:e.termin_id,ort:e.pruefungsort,zeit:e.pruefungszeit,pruefer_name:e.pruefer_name,stil_id:e.stil_id,stil_name:e.stil_name,pruefungsgebuehr:e.pruefungsgebuehr,anmeldefrist:e.anmeldefrist?e.anmeldefrist.split("T")[0]:null,bemerkungen:e.bemerkungen,teilnahmebedingungen:e.teilnahmebedingungen}});const l=Object.keys(s).map(e=>{var r,n,t,a,i,l;const o=s[e];return{datum:o.datum,stil_id:o.stil_id,stil_name:o.stil_name,pruefungen:o.pruefungen,anzahl:o.pruefungen.length,ort:(null==(r=o.pruefungen[0])?void 0:r.pruefungsort)||(null==(n=o.vorlageData)?void 0:n.ort)||"Nicht festgelegt",zeit:(null==(t=o.pruefungen[0])?void 0:t.pruefungszeit)||(null==(a=o.vorlageData)?void 0:a.zeit)||"Nicht festgelegt",pruefer_name:(null==(i=o.pruefungen[0])?void 0:i.pruefer_name)||(null==(l=o.vorlageData)?void 0:l.pruefer_name)||"Nicht festgelegt",isVorlage:0===o.pruefungen.length&&o.vorlageData,vorlageData:o.vorlageData}}).sort((e,r)=>{const n=new Date(r.datum)-new Date(e.datum);return 0!==n?n:(e.stil_name||"").localeCompare(r.stil_name||"")});Y(l)}catch(e){_(e.message)}finally{S(!1)}},Ce=async()=>{if(I)try{const e={bestanden:P.bestanden,punktzahl:P.punktzahl?parseFloat(P.punktzahl):null,max_punktzahl:P.max_punktzahl?parseFloat(P.max_punktzahl):null,prueferkommentar:P.prueferkommentar,status:P.bestanden?"bestanden":"nicht_bestanden",graduierung_nachher_id:P.graduierung_nachher_id};if(!(await fetch(`${p}/pruefungen/${I.pruefung_id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(e)})).ok)throw new Error("Fehler beim Speichern des Ergebnisses");P.bestanden&&P.graduierung_nachher_id&&(await De(I.mitglied_id,I.stil_id,P.graduierung_nachher_id),await Ae(I.pruefung_id)),$(!1),R(null),M({bestanden:!1,punktzahl:"",max_punktzahl:"",prueferkommentar:"",graduierung_nachher_index:0,graduierung_nachher_id:null,graduierung_nachher_name:"",graduierung_nachher_farbe:""}),L([]),B("Pr√ºfungsergebnis erfolgreich gespeichert!"),setTimeout(()=>B(""),3e3),ze()}catch(e){_(e.message)}},Ee=e=>{ce(e);const r={};e.pruefungen.forEach(e=>{r[e.pruefung_id]={bestanden:!0,punktzahl:"",prueferkommentar:""}}),me(r),de(!0)},Te=e=>{const r={...ue};Object.keys(r).forEach(n=>{r[n].bestanden=e}),me(r)},De=async(e,r,n)=>{try{await fetch(`${p}/mitglieder/${e}/stil/${r}/data`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({current_graduierung_id:n,letzte_pruefung:(new Date).toISOString().split("T")[0]})})}catch(t){console.error("Fehler beim Aktualisieren der Graduierung:",t)}},Ae=async e=>{try{console.log("Urkunde f√ºr Pr√ºfung",e,"wird generiert...")}catch(r){console.error("Fehler beim Generieren der Urkunde:",r)}},We=e=>{var r,n,t,a,i,s,l;const o=e=>{if(!e)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;if(e.includes("T"))return e.split("T")[0];try{const r=new Date(e),n=r.getUTCFullYear(),t=String(r.getUTCMonth()+1).padStart(2,"0");return`${n}-${t}-${String(r.getUTCDate()).padStart(2,"0")}`}catch(r){return console.error("Fehler beim Formatieren des Datums:",e,r),""}};ie({id:null==(r=e.vorlageData)?void 0:r.termin_id,datum:o(e.datum),pruefungsdatum:o(e.datum),pruefungszeit:e.zeit||"10:00",pruefungsort:e.ort||"",pruefer_name:(null==(n=e.vorlageData)?void 0:n.pruefer_name)||"",stil_id:(null==(t=e.vorlageData)?void 0:t.stil_id)||"",pruefungsgebuehr:(null==(a=e.vorlageData)?void 0:a.pruefungsgebuehr)||"",anmeldefrist:o(null==(i=e.vorlageData)?void 0:i.anmeldefrist),bemerkungen:(null==(s=e.vorlageData)?void 0:s.bemerkungen)||"",teilnahmebedingungen:(null==(l=e.vorlageData)?void 0:l.teilnahmebedingungen)||""}),te(!0)},Ne=e=>{le(r=>({...r,[e]:!r[e]}))},$e=e=>{let r="asc";je.key===e&&"asc"===je.direction&&(r="desc"),ve({key:e,direction:r})},Ie=({columnKey:r})=>je.key!==r?e.jsx("span",{style:{marginLeft:"0.25rem",opacity:.3,fontSize:"0.75rem"},children:"‚áÖ"}):e.jsx("span",{style:{marginLeft:"0.25rem",color:"#EAB308",fontSize:"0.75rem"},children:"asc"===je.direction?"‚Üë":"‚Üì"}),Re=(e,r,n)=>r?[...e].sort((e,t)=>{let a=e[r],i=t[r];return null==a?1:null==i?-1:("string"==typeof a&&"string"==typeof i&&(a=a.toLowerCase(),i=i.toLowerCase()),a<i?"asc"===n?-1:1:a>i?"asc"===n?1:-1:0)}):e,Pe=async e=>{var r;if(!(null==(r=e.vorlageData)?void 0:r.termin_id))return e.pruefungen&&e.pruefungen.length>0?void _(`Dieser Termin hat ${e.pruefungen.length} zugelassene Kandidaten. Bitte entfernen Sie zuerst alle Kandidaten √ºber "Zugelassene Pr√ºfungen".`):void _("Dieser Termin existiert nicht in der Datenbank. Bitte aktualisieren Sie die Seite.");if(window.confirm(`M√∂chten Sie den Pr√ºfungstermin am ${new Date(e.datum).toLocaleDateString("de-DE")} wirklich l√∂schen?`))try{const r=await fetch(`${p}/pruefungen/termine/${e.vorlageData.termin_id}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),n=await r.json();if(!r.ok)throw new Error(n.error||"Fehler beim L√∂schen des Termins");B("Pr√ºfungstermin wurde erfolgreich gel√∂scht!"),setTimeout(()=>B(""),3e3),Be()}catch(n){_(n.message),setTimeout(()=>_(""),5e3)}},Me=async e=>{try{const r=`${p}/pruefungen/termine/${e.datum}/pdf?stil_id=${e.stil_id}&dojo_id=${h.id}`;window.open(r,"_blank")}catch(r){_("Fehler beim Generieren der PDF: "+r.message),setTimeout(()=>_(""),5e3)}},Fe=e=>{if(!I||0===F.length)return;let r=P.graduierung_nachher_index;"up"===e?r=Math.min(r+1,F.length-1):"down"===e&&(r=Math.max(r-1,0));const n=F[r];n&&M({...P,graduierung_nachher_index:r,graduierung_nachher_id:n.graduierung_id,graduierung_nachher_name:n.name,graduierung_nachher_farbe:n.farbe_hex})};return r.useEffect(()=>{const e=e=>{N&&("ArrowUp"===e.key?(e.preventDefault(),Fe("up")):"ArrowDown"===e.key?(e.preventDefault(),Fe("down")):"Enter"===e.key&&e.ctrlKey&&(e.preventDefault(),Ce()))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[N,P,I,F]),e.jsxs("div",{className:"content-card",children:[e.jsxs("div",{className:"page-header",children:[e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.25rem",marginBottom:"0.5rem"},children:[e.jsx("span",{style:{fontSize:"2.5rem",filter:"drop-shadow(0 2px 8px rgba(255, 215, 0, 0.3))",position:"relative",zIndex:10,lineHeight:1,display:"inline-block",flexShrink:0},children:"üéì"}),e.jsx("h1",{style:{fontSize:"2.5rem",fontWeight:"700",color:"#FFD700",margin:0,textShadow:"none",WebkitTextFillColor:"#FFD700",background:"none",WebkitBackgroundClip:"initial",backgroundClip:"initial",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",letterSpacing:"0.5px",position:"relative",zIndex:2},children:"Pr√ºfungsverwaltung"})]}),e.jsx("p",{children:"Gurtpr√ºfungen planen, durchf√ºhren und dokumentieren"})]}),e.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[e.jsxs("select",{value:j,onChange:e=>v(e.target.value),className:"form-select",style:{minWidth:"200px"},children:[e.jsx("option",{value:"all",children:"Alle Stile"}),f.map(r=>e.jsx("option",{value:r.stil_id,children:r.name},r.stil_id))]}),e.jsx("button",{onClick:()=>{"termine"===C?Be():"zugelassen"===C?ze():"abgeschlossen"===C?_e():"statistiken"===C&&we()},className:"logout-button",style:{padding:"12px 28px",minWidth:"160px"},children:"üîÑ Aktualisieren"})]})]}),e.jsxs("div",{style:{marginBottom:"2rem",display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[e.jsxs("button",{onClick:()=>E("termine"),style:{background:"termine"===C?"linear-gradient(135deg, rgba(255, 215, 0, 0.4) 0%, rgba(255, 215, 0, 0.2) 50%, transparent 100%)":"linear-gradient(135deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 215, 0, 0.05) 50%, transparent 100%)",border:"none",color:"rgba(255, 255, 255, 0.95)",padding:"0.5rem 0.75rem",cursor:"pointer",transition:"all 0.3s ease",borderRadius:"6px",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.95rem",fontWeight:"600",boxShadow:"termine"===C?"0 4px 12px rgba(255, 215, 0, 0.3)":"0 2px 8px rgba(255, 215, 0, 0.15)",whiteSpace:"nowrap"},onMouseEnter:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 215, 0, 0.4) 0%, rgba(255, 215, 0, 0.2) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 4px 12px rgba(255, 215, 0, 0.3)"},onMouseLeave:e=>{"termine"!==C&&(e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 215, 0, 0.05) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 2px 8px rgba(255, 215, 0, 0.15)")},children:[e.jsx(t,{size:18}),"Pr√ºfungstermine"]}),e.jsxs("button",{onClick:()=>E("zugelassen"),style:{background:"zugelassen"===C?"linear-gradient(135deg, rgba(255, 215, 0, 0.4) 0%, rgba(255, 215, 0, 0.2) 50%, transparent 100%)":"linear-gradient(135deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 215, 0, 0.05) 50%, transparent 100%)",border:"none",color:"rgba(255, 255, 255, 0.95)",padding:"0.5rem 0.75rem",cursor:"pointer",transition:"all 0.3s ease",borderRadius:"6px",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.95rem",fontWeight:"600",boxShadow:"zugelassen"===C?"0 4px 12px rgba(255, 215, 0, 0.3)":"0 2px 8px rgba(255, 215, 0, 0.15)",whiteSpace:"nowrap"},onMouseEnter:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 215, 0, 0.4) 0%, rgba(255, 215, 0, 0.2) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 4px 12px rgba(255, 215, 0, 0.3)"},onMouseLeave:e=>{"zugelassen"!==C&&(e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 215, 0, 0.05) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 2px 8px rgba(255, 215, 0, 0.15)")},children:[e.jsx(a,{size:18}),"Zugelassene Pr√ºfungen"]}),e.jsxs("button",{onClick:()=>E("abgeschlossen"),style:{background:"abgeschlossen"===C?"linear-gradient(135deg, rgba(255, 215, 0, 0.4) 0%, rgba(255, 215, 0, 0.2) 50%, transparent 100%)":"linear-gradient(135deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 215, 0, 0.05) 50%, transparent 100%)",border:"none",color:"rgba(255, 255, 255, 0.95)",padding:"0.5rem 0.75rem",cursor:"pointer",transition:"all 0.3s ease",borderRadius:"6px",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.95rem",fontWeight:"600",boxShadow:"abgeschlossen"===C?"0 4px 12px rgba(255, 215, 0, 0.3)":"0 2px 8px rgba(255, 215, 0, 0.15)",whiteSpace:"nowrap"},onMouseEnter:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 215, 0, 0.4) 0%, rgba(255, 215, 0, 0.2) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 4px 12px rgba(255, 215, 0, 0.3)"},onMouseLeave:e=>{"abgeschlossen"!==C&&(e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 215, 0, 0.05) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 2px 8px rgba(255, 215, 0, 0.15)")},children:[e.jsx(i,{size:18}),"Abgeschlossene Pr√ºfungen"]}),e.jsxs("button",{onClick:()=>E("statistiken"),style:{background:"statistiken"===C?"linear-gradient(135deg, rgba(255, 215, 0, 0.4) 0%, rgba(255, 215, 0, 0.2) 50%, transparent 100%)":"linear-gradient(135deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 215, 0, 0.05) 50%, transparent 100%)",border:"none",color:"rgba(255, 255, 255, 0.95)",padding:"0.5rem 0.75rem",cursor:"pointer",transition:"all 0.3s ease",borderRadius:"6px",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.95rem",fontWeight:"600",boxShadow:"statistiken"===C?"0 4px 12px rgba(255, 215, 0, 0.3)":"0 2px 8px rgba(255, 215, 0, 0.15)",whiteSpace:"nowrap"},onMouseEnter:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 215, 0, 0.4) 0%, rgba(255, 215, 0, 0.2) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 4px 12px rgba(255, 215, 0, 0.3)"},onMouseLeave:e=>{"statistiken"!==C&&(e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 215, 0, 0.05) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 2px 8px rgba(255, 215, 0, 0.15)")},children:[e.jsx(s,{size:18}),"Statistiken"]})]}),w&&e.jsxs("div",{className:"alert alert-success",style:{marginBottom:"1rem"},children:["‚úÖ ",w]}),z&&e.jsxs("div",{className:"alert alert-error",style:{marginBottom:"1rem"},children:["‚ùå ",z]}),"termine"===C&&e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[e.jsxs("div",{children:[e.jsxs("h2",{style:{margin:0,fontSize:"1.25rem"},children:["GEPLANTE PR√úFUNGSTERMINE",e.jsxs("span",{style:{marginLeft:"0.5rem",color:"#EAB308",fontWeight:"bold"},children:["(",(()=>{const e=new Date;e.setHours(0,0,0,0);return V.filter(r=>{const n=new Date(r.datum);return n.setHours(0,0,0,0),n>=e}).length})()," ",(()=>{const e=new Date;e.setHours(0,0,0,0);return 1===V.filter(r=>{const n=new Date(r.datum);return n.setHours(0,0,0,0),n>=e}).length?"TERMIN":"TERMINE"})(),")"]})]}),e.jsx("p",{style:{margin:"0.25rem 0 0 0",fontSize:"0.875rem",color:"#6b7280"},children:"√úbersicht aller geplanten Pr√ºfungen gruppiert nach Datum"})]}),e.jsxs("button",{onClick:()=>J(!0),style:{background:"linear-gradient(135deg, rgba(255, 215, 0, 0.3) 0%, rgba(255, 215, 0, 0.1) 50%, transparent 100%)",border:"none",color:"rgba(255, 255, 255, 0.95)",padding:"0.5rem 0.75rem",cursor:"pointer",transition:"all 0.3s ease",borderRadius:"6px",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.95rem",fontWeight:"600",boxShadow:"0 2px 8px rgba(255, 215, 0, 0.2)"},onMouseEnter:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 215, 0, 0.4) 0%, rgba(255, 215, 0, 0.2) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 4px 12px rgba(255, 215, 0, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 215, 0, 0.3) 0%, rgba(255, 215, 0, 0.1) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 2px 8px rgba(255, 215, 0, 0.2)"},children:[e.jsx(t,{size:18}),"Neuer Termin"]})]}),k?e.jsxs("div",{style:{textAlign:"center",padding:"4rem",display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:[e.jsx("div",{className:"loading-spinner-large"}),e.jsx("p",{style:{color:"#6b7280"},children:"Termine werden geladen..."})]}):0===V.length?e.jsxs("div",{style:{textAlign:"center",padding:"3rem",backgroundColor:"rgba(255, 255, 255, 0.03)",borderRadius:"0.5rem",border:"1px dashed rgba(255, 255, 255, 0.1)"},children:[e.jsx(t,{size:48,style:{color:"rgba(255, 255, 255, 0.3)",marginBottom:"1rem"}}),e.jsx("h3",{style:{color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem"},children:"Keine Pr√ºfungstermine geplant"}),e.jsx("p",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:"0.875rem"},children:"Aktuell gibt es keine geplanten Pr√ºfungstermine. Lassen Sie Kandidaten zur Pr√ºfung zu, um Termine zu erstellen."})]}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2rem"},children:[(()=>{const r=new Date;r.setHours(0,0,0,0);const n=V.filter(e=>{const n=new Date(e.datum);return n.setHours(0,0,0,0),n>=r});return 0===n.length?null:e.jsxs("div",{children:[e.jsxs("h3",{style:{marginBottom:"1rem",fontSize:"1.1rem",fontWeight:"700",color:"#EAB308",textTransform:"uppercase",letterSpacing:"0.05em"},children:["GEPLANTE PR√úFUNGSTERMINE (",n.length," ",1===n.length?"TERMIN":"TERMINE",")"]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:n.map((r,n)=>{const s=new Date(r.datum),c=r.datum===(new Date).toISOString().split("T")[0];return e.jsxs("div",{style:{backgroundColor:c?"rgba(59, 130, 246, 0.1)":"rgba(255, 255, 255, 0.05)",border:c?"1px solid rgba(59, 130, 246, 0.3)":"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"0.75rem",padding:"1.5rem",boxShadow:c?"0 4px 12px rgba(59, 130, 246, 0.15)":"0 2px 8px rgba(0, 0, 0, 0.1)",opacity:1},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem",paddingBottom:"1rem",borderBottom:"1px solid #e5e7eb"},children:[e.jsxs("div",{style:{flex:1,cursor:"pointer"},onClick:()=>Ne(`${r.datum}_${r.stil_id}`),children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[e.jsx(t,{size:24,style:{color:c?"#3b82f6":"#8b5cf6"}}),e.jsx("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:"700",color:c?"#3b82f6":"#EAB308"},children:s.toLocaleDateString("de-DE",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),se[`${r.datum}_${r.stil_id}`]?e.jsx(l,{size:24,style:{color:"#EAB308",transition:"transform 0.2s"}}):e.jsx(o,{size:24,style:{color:"#6b7280",transition:"transform 0.2s"}}),c&&e.jsx("span",{style:{padding:"0.25rem 0.75rem",backgroundColor:"#3b82f6",color:"white",borderRadius:"0.375rem",fontSize:"0.75rem",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Heute"}),!1]}),e.jsxs("div",{style:{display:"flex",gap:"2rem",fontSize:"0.875rem",color:"#6b7280"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("span",{style:{fontWeight:"600"},children:"‚è∞ Uhrzeit:"}),e.jsx("span",{children:r.zeit})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("span",{style:{fontWeight:"600"},children:"ü•ã Stil:"}),e.jsx("span",{style:{padding:"0.125rem 0.5rem",backgroundColor:"#EAB308",color:"#1a1a1a",borderRadius:"0.375rem",fontWeight:"700"},children:r.stil_name})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("span",{style:{fontWeight:"600"},children:"üìç Ort:"}),e.jsx("span",{children:r.ort})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("span",{style:{fontWeight:"600"},children:"üë• Teilnehmer:"}),e.jsx("span",{style:{padding:"0.125rem 0.5rem",backgroundColor:"#8b5cf6",color:"white",borderRadius:"0.375rem",fontWeight:"700"},children:r.anzahl})]})]})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{onClick:e=>{e.stopPropagation(),Me(r)},className:"logout-button",style:{padding:"0.4rem 0.6rem",fontSize:"0.85rem"},title:"Teilnehmerliste als PDF drucken",children:"üìÑ PDF"}),r.anzahl>0&&!r.isVorlage&&e.jsxs("button",{onClick:e=>{e.stopPropagation(),Ee(r)},className:"logout-button",style:{padding:"0.4rem 0.6rem",fontSize:"0.85rem",background:"linear-gradient(135deg, rgba(34, 197, 94, 0.3) 0%, rgba(34, 197, 94, 0.1) 50%, transparent 100%)",border:"none",color:"rgba(255, 255, 255, 0.95)",boxShadow:"0 2px 8px rgba(34, 197, 94, 0.2)"},onMouseEnter:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(34, 197, 94, 0.4) 0%, rgba(34, 197, 94, 0.2) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 4px 12px rgba(34, 197, 94, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(34, 197, 94, 0.3) 0%, rgba(34, 197, 94, 0.1) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 2px 8px rgba(34, 197, 94, 0.2)"},title:"Ergebnisse fuer alle Teilnehmer eintragen",children:[e.jsx(i,{size:16}),"Ergebnisse eintragen"]}),e.jsxs("button",{onClick:e=>{e.stopPropagation(),We(r)},className:"logout-button",style:{padding:"0.4rem 0.6rem",fontSize:"0.85rem"},title:"Termin bearbeiten",children:[e.jsx(d,{size:16}),"Bearbeiten"]}),e.jsxs("button",{onClick:e=>{e.stopPropagation(),Pe(r)},className:"logout-button",style:{padding:"0.4rem 0.6rem",fontSize:"0.85rem",background:"linear-gradient(135deg, rgba(220, 53, 69, 0.3) 0%, rgba(220, 53, 69, 0.1) 50%, transparent 100%)",border:"none",color:"rgba(255, 255, 255, 0.95)",boxShadow:"0 2px 8px rgba(220, 53, 69, 0.2)"},onMouseEnter:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(220, 53, 69, 0.4) 0%, rgba(220, 53, 69, 0.2) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 4px 12px rgba(220, 53, 69, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(220, 53, 69, 0.3) 0%, rgba(220, 53, 69, 0.1) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 2px 8px rgba(220, 53, 69, 0.2)"},title:"Termin l√∂schen",children:[e.jsx(g,{size:16}),"L√∂schen"]})]})]}),se[`${r.datum}_${r.stil_id}`]&&e.jsx(e.Fragment,{children:r.isVorlage?e.jsxs("div",{style:{padding:"2rem",textAlign:"center",backgroundColor:"rgba(245, 158, 11, 0.1)",borderRadius:"0.5rem",border:"1px dashed rgba(245, 158, 11, 0.3)"},children:[e.jsx(t,{size:48,style:{color:"#f59e0b",margin:"0 auto 1rem"}}),e.jsx("h4",{style:{color:"rgba(255, 255, 255, 0.9)",margin:"0 0 0.5rem 0"},children:"Termin ohne Teilnehmer"}),e.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.875rem",margin:0},children:["Dieser Termin wurde angelegt, hat aber noch keine zugelassenen Kandidaten.",e.jsx("br",{}),"Teilnehmer koennen ueber das Mitgliederprofil zu diesem Termin angemeldet werden."]})]}):e.jsx("div",{className:"table-container",style:{marginTop:"1rem"},children:e.jsxs("table",{className:"data-table",style:{fontSize:"0.875rem"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{minWidth:"180px",color:"#EAB308"},children:"Name"}),e.jsx("th",{style:{minWidth:"110px",color:"#EAB308"},children:"Geburtsdatum"}),e.jsx("th",{style:{minWidth:"100px",color:"#EAB308"},children:"Stil"}),e.jsx("th",{style:{minWidth:"150px",color:"#EAB308"},children:"Aktueller Gurt"}),e.jsx("th",{style:{minWidth:"150px",color:"#EAB308"},children:"Angestrebter Gurt"}),e.jsx("th",{style:{minWidth:"140px",color:"#EAB308"},children:"Trainingsstunden"}),e.jsx("th",{style:{minWidth:"100px",color:"#EAB308"},children:"Wartezeit"}),e.jsx("th",{style:{minWidth:"130px",color:"#EAB308"},children:"Status"})]})}),e.jsx("tbody",{children:r.pruefungen.map((r,n)=>e.jsxs("tr",{style:{backgroundColor:"rgba(255, 215, 0, 0.05)",borderLeft:"3px solid rgba(255, 215, 0, 0.5)",transition:"all 0.2s ease"},className:"hover-row",children:[e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.125rem"},children:[e.jsxs("span",{style:{fontWeight:"700",color:"rgba(255, 255, 255, 0.95)"},children:[r.vorname," ",r.nachname]}),e.jsxs("span",{style:{fontSize:"0.75rem",color:"#6b7280"},children:["ID: ",r.mitglied_id]})]})}),e.jsx("td",{children:e.jsx("span",{style:{color:"rgba(255, 255, 255, 0.8)"},children:r.geburtsdatum?new Date(r.geburtsdatum).toLocaleDateString("de-DE"):"‚Äî"})}),e.jsx("td",{children:e.jsx("span",{style:{display:"inline-block",padding:"0.25rem 0.75rem",backgroundColor:"rgba(139, 92, 246, 0.2)",color:"#a78bfa",borderRadius:"0.375rem",fontSize:"0.8125rem",fontWeight:"600",border:"1px solid rgba(139, 92, 246, 0.3)"},children:r.stil_name})}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:r.farbe_vorher||"#6b7280",border:"2px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",flexShrink:0}}),e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsx("span",{style:{fontWeight:"600",color:"rgba(255, 255, 255, 0.9)",fontSize:"0.8125rem"},children:r.graduierung_vorher||"Keine"}),e.jsx("span",{style:{fontSize:"0.6875rem",color:"#9ca3af"},children:"Ziel-Gurt"})]})]})}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:r.farbe_nachher||"#EAB308",border:"2px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",flexShrink:0}}),e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsx("span",{style:{fontWeight:"600",color:"rgba(255, 255, 255, 0.9)",fontSize:"0.8125rem"},children:r.graduierung_nachher}),e.jsx("span",{style:{fontSize:"0.6875rem",color:"#9ca3af"},children:"Ziel-Gurt"})]})]})}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("span",{style:{fontWeight:"700",color:"#22c55e",fontSize:"1rem"},children:r.anwesenheiten_aktuell||0}),e.jsxs("span",{style:{color:"#6b7280",fontSize:"0.8125rem"},children:["/ ",r.min_trainingseinheiten||0]})]}),e.jsx("div",{style:{width:"100%",height:"6px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"3px",overflow:"hidden"},children:e.jsx("div",{style:{width:`${Math.min(100,(r.anwesenheiten_aktuell||0)/(r.min_trainingseinheiten||1)*100)}%`,height:"100%",backgroundColor:(r.anwesenheiten_aktuell||0)>=(r.min_trainingseinheiten||0)?"#22c55e":"#f59e0b",transition:"width 0.3s ease"}})}),e.jsxs("span",{style:{fontSize:"0.6875rem",color:"#9ca3af"},children:[(r.anwesenheiten_aktuell||0)>=(r.min_trainingseinheiten||0)?"100%":Math.round((r.anwesenheiten_aktuell||0)/(r.min_trainingseinheiten||1)*100)+"%"," erreicht"]})]})}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[e.jsxs("span",{style:{fontWeight:"700",color:"#22c55e",fontSize:"0.9375rem"},children:[r.monate_seit_letzter_pruefung||0," Mon."]}),e.jsxs("span",{style:{fontSize:"0.6875rem",color:"#9ca3af"},children:["von ",r.min_wartezeit_monate||0]})]})}),e.jsx("td",{children:e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.375rem",padding:"0.375rem 0.75rem",backgroundColor:"rgba(255, 215, 0, 0.2)",color:"#fbbf24",borderRadius:"0.375rem",fontSize:"0.8125rem",fontWeight:"600",border:"1px solid rgba(255, 215, 0, 0.3)"},children:[e.jsx(a,{size:14}),"Zugelassen"]})})]},n))})]})})})]},n)})})]})})(),(()=>{const r=new Date;r.setHours(0,0,0,0);const n=V.filter(e=>{const n=new Date(e.datum);return n.setHours(0,0,0,0),n<r});return 0===n.length?null:e.jsxs("div",{children:[e.jsxs("h3",{style:{marginBottom:"1rem",fontSize:"1.1rem",fontWeight:"700",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:["VERGANGENE PR√úFUNGSTERMINE (",n.length," ",1===n.length?"TERMIN":"TERMINE",")"]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:n.map((r,n)=>{const s=new Date(r.datum);return e.jsxs("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.03)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"0.75rem",padding:"1.5rem",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",opacity:.6},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem",paddingBottom:"1rem",borderBottom:"1px solid #e5e7eb"},children:[e.jsxs("div",{style:{flex:1,cursor:"pointer"},onClick:()=>Ne(`${r.datum}_${r.stil_id}`),children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[e.jsx(t,{size:24,style:{color:"#8b5cf6"}}),e.jsx("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:"700",color:"#EAB308"},children:s.toLocaleDateString("de-DE",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),se[`${r.datum}_${r.stil_id}`]?e.jsx(l,{size:24,style:{color:"#EAB308",transition:"transform 0.2s"}}):e.jsx(o,{size:24,style:{color:"#6b7280",transition:"transform 0.2s"}}),e.jsx("span",{style:{padding:"0.25rem 0.75rem",backgroundColor:"#6b7280",color:"white",borderRadius:"0.375rem",fontSize:"0.75rem",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Vergangen"})]}),e.jsxs("div",{style:{display:"flex",gap:"2rem",fontSize:"0.875rem",color:"#6b7280"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("span",{style:{fontWeight:"600"},children:"‚è∞ Uhrzeit:"}),e.jsx("span",{children:r.zeit})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("span",{style:{fontWeight:"600"},children:"ü•ã Stil:"}),e.jsx("span",{style:{padding:"0.125rem 0.5rem",backgroundColor:"#EAB308",color:"#1a1a1a",borderRadius:"0.375rem",fontWeight:"700"},children:r.stil_name})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("span",{style:{fontWeight:"600"},children:"üìç Ort:"}),e.jsx("span",{children:r.ort})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("span",{style:{fontWeight:"600"},children:"üë• Teilnehmer:"}),e.jsx("span",{style:{padding:"0.125rem 0.5rem",backgroundColor:"#8b5cf6",color:"white",borderRadius:"0.375rem",fontWeight:"700"},children:r.anzahl})]})]})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{onClick:e=>{e.stopPropagation(),Me(r)},className:"logout-button",style:{padding:"0.4rem 0.6rem",fontSize:"0.85rem"},title:"Teilnehmerliste als PDF drucken",children:"üìÑ PDF"}),r.anzahl>0&&!r.isVorlage&&e.jsxs("button",{onClick:e=>{e.stopPropagation(),Ee(r)},className:"logout-button",style:{padding:"0.4rem 0.6rem",fontSize:"0.85rem",background:"linear-gradient(135deg, rgba(34, 197, 94, 0.3) 0%, rgba(34, 197, 94, 0.1) 50%, transparent 100%)",border:"none",color:"rgba(255, 255, 255, 0.95)",boxShadow:"0 2px 8px rgba(34, 197, 94, 0.2)"},onMouseEnter:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(34, 197, 94, 0.4) 0%, rgba(34, 197, 94, 0.2) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 4px 12px rgba(34, 197, 94, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(34, 197, 94, 0.3) 0%, rgba(34, 197, 94, 0.1) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 2px 8px rgba(34, 197, 94, 0.2)"},title:"Ergebnisse fuer alle Teilnehmer eintragen",children:[e.jsx(i,{size:16}),"Ergebnisse eintragen"]}),e.jsxs("button",{onClick:e=>{e.stopPropagation(),We(r)},className:"logout-button",style:{padding:"0.4rem 0.6rem",fontSize:"0.85rem"},title:"Termin bearbeiten",children:[e.jsx(d,{size:16}),"Bearbeiten"]}),e.jsxs("button",{onClick:e=>{e.stopPropagation(),Pe(r)},className:"logout-button",style:{padding:"0.4rem 0.6rem",fontSize:"0.85rem",background:"linear-gradient(135deg, rgba(220, 53, 69, 0.3) 0%, rgba(220, 53, 69, 0.1) 50%, transparent 100%)",border:"none",color:"rgba(255, 255, 255, 0.95)",boxShadow:"0 2px 8px rgba(220, 53, 69, 0.2)"},onMouseEnter:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(220, 53, 69, 0.4) 0%, rgba(220, 53, 69, 0.2) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 4px 12px rgba(220, 53, 69, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(220, 53, 69, 0.3) 0%, rgba(220, 53, 69, 0.1) 50%, transparent 100%)",e.currentTarget.style.boxShadow="0 2px 8px rgba(220, 53, 69, 0.2)"},title:"Termin l√∂schen",children:[e.jsx(g,{size:16}),"L√∂schen"]})]})]}),se[`${r.datum}_${r.stil_id}`]&&e.jsx(e.Fragment,{children:r.isVorlage?e.jsxs("div",{style:{padding:"2rem",textAlign:"center",backgroundColor:"rgba(245, 158, 11, 0.1)",borderRadius:"0.5rem",border:"1px dashed rgba(245, 158, 11, 0.3)"},children:[e.jsx(t,{size:48,style:{color:"#f59e0b",margin:"0 auto 1rem"}}),e.jsx("h4",{style:{color:"rgba(255, 255, 255, 0.9)",margin:"0 0 0.5rem 0"},children:"Termin ohne Teilnehmer"}),e.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.875rem",margin:0},children:["Dieser Termin wurde angelegt, hat aber noch keine zugelassenen Kandidaten.",e.jsx("br",{}),"Teilnehmer koennen ueber das Mitgliederprofil zu diesem Termin angemeldet werden."]})]}):e.jsx("div",{className:"table-container",style:{marginTop:"1rem"},children:e.jsxs("table",{className:"data-table",style:{fontSize:"0.875rem"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{minWidth:"180px",color:"#EAB308"},children:"Name"}),e.jsx("th",{style:{minWidth:"110px",color:"#EAB308"},children:"Geburtsdatum"}),e.jsx("th",{style:{minWidth:"100px",color:"#EAB308"},children:"Stil"}),e.jsx("th",{style:{minWidth:"150px",color:"#EAB308"},children:"Aktueller Gurt"}),e.jsx("th",{style:{minWidth:"150px",color:"#EAB308"},children:"Angestrebter Gurt"}),e.jsx("th",{style:{minWidth:"140px",color:"#EAB308"},children:"Trainingsstunden"}),e.jsx("th",{style:{minWidth:"100px",color:"#EAB308"},children:"Wartezeit"}),e.jsx("th",{style:{minWidth:"130px",color:"#EAB308"},children:"Status"})]})}),e.jsx("tbody",{children:r.pruefungen.map((r,n)=>e.jsxs("tr",{style:{backgroundColor:"rgba(255, 215, 0, 0.05)",borderLeft:"3px solid rgba(255, 215, 0, 0.5)",transition:"all 0.2s ease"},className:"hover-row",children:[e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.125rem"},children:[e.jsxs("span",{style:{fontWeight:"700",color:"rgba(255, 255, 255, 0.95)"},children:[r.vorname," ",r.nachname]}),e.jsxs("span",{style:{fontSize:"0.75rem",color:"#6b7280"},children:["ID: ",r.mitglied_id]})]})}),e.jsx("td",{children:e.jsx("span",{style:{color:"rgba(255, 255, 255, 0.8)"},children:r.geburtsdatum?new Date(r.geburtsdatum).toLocaleDateString("de-DE"):"‚Äî"})}),e.jsx("td",{children:e.jsx("span",{style:{display:"inline-block",padding:"0.25rem 0.75rem",backgroundColor:"rgba(139, 92, 246, 0.2)",color:"#a78bfa",borderRadius:"0.375rem",fontSize:"0.8125rem",fontWeight:"600",border:"1px solid rgba(139, 92, 246, 0.3)"},children:r.stil_name})}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:r.farbe_vorher||"#6b7280",border:"2px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",flexShrink:0}}),e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsx("span",{style:{fontWeight:"600",color:"rgba(255, 255, 255, 0.9)",fontSize:"0.8125rem"},children:r.graduierung_vorher||"Keine"}),e.jsx("span",{style:{fontSize:"0.6875rem",color:"#9ca3af"},children:"Ziel-Gurt"})]})]})}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:r.farbe_nachher||"#EAB308",border:"2px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",flexShrink:0}}),e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsx("span",{style:{fontWeight:"600",color:"rgba(255, 255, 255, 0.9)",fontSize:"0.8125rem"},children:r.graduierung_nachher}),e.jsx("span",{style:{fontSize:"0.6875rem",color:"#9ca3af"},children:"Ziel-Gurt"})]})]})}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("span",{style:{fontWeight:"700",color:"#22c55e",fontSize:"1rem"},children:r.anwesenheiten_aktuell||0}),e.jsxs("span",{style:{color:"#6b7280",fontSize:"0.8125rem"},children:["/ ",r.min_trainingseinheiten||0]})]}),e.jsx("div",{style:{width:"100%",height:"6px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"3px",overflow:"hidden"},children:e.jsx("div",{style:{width:`${Math.min(100,(r.anwesenheiten_aktuell||0)/(r.min_trainingseinheiten||1)*100)}%`,height:"100%",backgroundColor:(r.anwesenheiten_aktuell||0)>=(r.min_trainingseinheiten||0)?"#22c55e":"#f59e0b",transition:"width 0.3s ease"}})}),e.jsxs("span",{style:{fontSize:"0.6875rem",color:"#9ca3af"},children:[(r.anwesenheiten_aktuell||0)>=(r.min_trainingseinheiten||0)?"100%":Math.round((r.anwesenheiten_aktuell||0)/(r.min_trainingseinheiten||1)*100)+"%"," erreicht"]})]})}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[e.jsxs("span",{style:{fontWeight:"700",color:"#22c55e",fontSize:"0.9375rem"},children:[r.monate_seit_letzter_pruefung||0," Mon."]}),e.jsxs("span",{style:{fontSize:"0.6875rem",color:"#9ca3af"},children:["von ",r.min_wartezeit_monate||0]})]})}),e.jsx("td",{children:e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.375rem",padding:"0.375rem 0.75rem",backgroundColor:"rgba(255, 215, 0, 0.2)",color:"#fbbf24",borderRadius:"0.375rem",fontSize:"0.8125rem",fontWeight:"600",border:"1px solid rgba(255, 215, 0, 0.3)"},children:[e.jsx(a,{size:14}),"Zugelassen"]})})]},n))})]})})})]},n)})})]})})()]})]}),"zugelassen"===C&&e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsxs("h2",{children:["Zugelassene Pr√ºfungen (",K.length,")"]}),e.jsxs("div",{className:"btn-toggle-group",children:[e.jsx("button",{onClick:()=>D("alle"),className:"btn-toggle "+("alle"===T?"active":""),children:"Alle"}),e.jsx("button",{onClick:()=>D("zukuenftig"),className:"btn-toggle "+("zukuenftig"===T?"active":""),children:"Zuk√ºnftig"}),e.jsx("button",{onClick:()=>D("vergangen"),className:"btn-toggle "+("vergangen"===T?"active":""),children:"Vergangen"})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("span",{style:{fontSize:"0.875rem",color:"rgba(255, 255, 255, 0.7)",fontWeight:"500"},children:"Stil:"}),e.jsxs("select",{value:xe,onChange:e=>be(e.target.value),style:{padding:"0.375rem 0.75rem",fontSize:"0.875rem",backgroundColor:"#1a1a1a",color:"rgba(255, 255, 255, 0.9)",border:"1px solid rgba(234, 179, 8, 0.3)",borderRadius:"0.375rem",cursor:"pointer",fontWeight:"500",outline:"none"},children:[e.jsx("option",{value:"all",style:{backgroundColor:"#1a1a1a",color:"rgba(255, 255, 255, 0.9)"},children:"Alle Stile"}),f.map(r=>e.jsx("option",{value:r.stil_id,style:{backgroundColor:"#1a1a1a",color:"rgba(255, 255, 255, 0.9)"},children:r.name},r.stil_id))]})]})]}),k?e.jsx("div",{style:{textAlign:"center",padding:"3rem"},children:"L√§dt..."}):e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsxs("th",{style:{color:"#EAB308",cursor:"pointer",userSelect:"none"},onClick:()=>$e("name"),children:["Name ",e.jsx(Ie,{columnKey:"name"})]}),e.jsxs("th",{style:{color:"#EAB308",cursor:"pointer",userSelect:"none"},onClick:()=>$e("stil_name"),children:["Stil ",e.jsx(Ie,{columnKey:"stil_name"})]}),e.jsxs("th",{style:{color:"#EAB308",cursor:"pointer",userSelect:"none"},onClick:()=>$e("graduierung_nachher_name"),children:["Angestrebt ",e.jsx(Ie,{columnKey:"graduierung_nachher_name"})]}),e.jsxs("th",{style:{color:"#EAB308",cursor:"pointer",userSelect:"none"},onClick:()=>$e("pruefungsdatum"),children:["Pr√ºfungsdatum ",e.jsx(Ie,{columnKey:"pruefungsdatum"})]}),e.jsx("th",{style:{color:"#EAB308"},children:"Aktionen"})]})}),e.jsx("tbody",{children:(()=>{const r=new Date;r.setHours(0,0,0,0);let n=K.filter(e=>{if("all"!==xe&&e.stil_id!==parseInt(xe))return!1;if(!e.pruefungsdatum)return!0;const n=new Date(e.pruefungsdatum);return n.setHours(0,0,0,0),"zukuenftig"===T?n>=r:"vergangen"!==T||n<r});return je.key?n=Re(n,je.key,je.direction):n.sort((e,n)=>{if(!e.pruefungsdatum&&!n.pruefungsdatum)return 0;if(!e.pruefungsdatum)return 1;if(!n.pruefungsdatum)return-1;const t=new Date(e.pruefungsdatum),a=new Date(n.pruefungsdatum);t.setHours(0,0,0,0),a.setHours(0,0,0,0);const i=t>=r,s=a>=r;return i&&s?t-a:i||s?i?-1:1:a-t}),n.map(r=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("strong",{children:[r.vorname," ",r.nachname]})}),e.jsx("td",{children:e.jsx("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.4rem",padding:"0.4rem 0.6rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"6px",fontSize:"0.85rem",fontWeight:"500",color:"rgba(255, 255, 255, 0.8)",border:"1px solid rgba(255, 215, 0, 0.2)"},children:r.stil_name})}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:r.farbe_nachher||"rgba(255, 255, 255, 0.1)",border:"2px solid rgba(255, 255, 255, 0.3)",flexShrink:0},title:r.graduierung_nachher}),e.jsx("span",{style:{fontSize:"0.875rem",color:"rgba(255, 255, 255, 0.9)",fontWeight:"600"},children:r.graduierung_nachher})]})}),e.jsx("td",{children:r.pruefungsdatum?new Date(r.pruefungsdatum).toLocaleDateString("de-DE"):"Nicht festgelegt"}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[e.jsx("button",{onClick:async()=>{if(!r.stil_id)return void _("Stil-ID fehlt f√ºr diese Pr√ºfung");R(r);const e=await(async e=>{try{const r=await fetch(`${p}/stile/${e}/graduierungen`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),n=await r.json();return L(n.graduierungen||[]),n.graduierungen||[]}catch(r){return console.error("Fehler beim Laden der Graduierungen:",r),[]}})(r.stil_id),n=e.findIndex(e=>e.graduierung_id===r.graduierung_nachher_id),t=e[n]||e[0];M({bestanden:!1,punktzahl:"",max_punktzahl:"100",prueferkommentar:"",graduierung_nachher_index:n>=0?n:0,graduierung_nachher_id:(null==t?void 0:t.graduierung_id)||null,graduierung_nachher_name:(null==t?void 0:t.name)||"",graduierung_nachher_farbe:(null==t?void 0:t.farbe_hex)||""}),$(!0)},className:"btn btn-sm btn-primary",children:"üìù Ergebnis eintragen"}),e.jsxs("button",{onClick:()=>(async e=>{if(window.confirm(`M√∂chten Sie die Zulassung von ${e.vorname} ${e.nachname} wirklich entfernen?`))try{if(!(await fetch(`${p}/pruefungen/kandidaten/${e.mitglied_id}/zulassung/${e.pruefung_id}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Fehler beim Entfernen der Zulassung");B(`Zulassung von ${e.vorname} ${e.nachname} wurde entfernt.`),ze(),Se(),setTimeout(()=>B(""),3e3)}catch(r){_(r.message)}})(r),className:"btn btn-sm btn-danger",style:{display:"inline-flex",alignItems:"center",gap:"0.375rem"},children:[e.jsx(c,{size:16}),"Entfernen"]})]})})]},r.pruefung_id))})()})]})})]}),"abgeschlossen"===C&&e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsxs("h2",{style:{marginBottom:"1rem"},children:["Abgeschlossene Pr√ºfungen (",O.length,")"]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("span",{style:{fontSize:"0.875rem",color:"rgba(255, 255, 255, 0.7)",fontWeight:"500"},children:"Stil:"}),e.jsxs("select",{value:fe,onChange:e=>ye(e.target.value),style:{padding:"0.375rem 0.75rem",fontSize:"0.875rem",backgroundColor:"#1a1a1a",color:"rgba(255, 255, 255, 0.9)",border:"1px solid rgba(234, 179, 8, 0.3)",borderRadius:"0.375rem",cursor:"pointer",fontWeight:"500",outline:"none"},children:[e.jsx("option",{value:"all",style:{backgroundColor:"#1a1a1a",color:"rgba(255, 255, 255, 0.9)"},children:"Alle Stile"}),f.map(r=>e.jsx("option",{value:r.stil_id,style:{backgroundColor:"#1a1a1a",color:"rgba(255, 255, 255, 0.9)"},children:r.name},r.stil_id))]})]})]}),k?e.jsx("div",{style:{textAlign:"center",padding:"3rem"},children:"L√§dt..."}):e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsxs("th",{style:{color:"#EAB308",cursor:"pointer",userSelect:"none"},onClick:()=>$e("name"),children:["Name ",e.jsx(Ie,{columnKey:"name"})]}),e.jsxs("th",{style:{color:"#EAB308",cursor:"pointer",userSelect:"none"},onClick:()=>$e("stil_name"),children:["Stil ",e.jsx(Ie,{columnKey:"stil_name"})]}),e.jsxs("th",{style:{color:"#EAB308",cursor:"pointer",userSelect:"none"},onClick:()=>$e("graduierung_nachher"),children:["Graduierung ",e.jsx(Ie,{columnKey:"graduierung_nachher"})]}),e.jsxs("th",{style:{color:"#EAB308",cursor:"pointer",userSelect:"none"},onClick:()=>$e("pruefungsdatum"),children:["Datum ",e.jsx(Ie,{columnKey:"pruefungsdatum"})]}),e.jsxs("th",{style:{color:"#EAB308",cursor:"pointer",userSelect:"none"},onClick:()=>$e("bestanden"),children:["Ergebnis ",e.jsx(Ie,{columnKey:"bestanden"})]}),e.jsx("th",{style:{color:"#EAB308"},children:"Aktionen"})]})}),e.jsx("tbody",{children:(()=>{let r=O;return"all"!==fe&&(r=r.filter(e=>e.stil_id===parseInt(fe))),je.key&&(r=Re(r,je.key,je.direction)),r.map(r=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("strong",{children:[r.vorname," ",r.nachname]})}),e.jsx("td",{children:e.jsx("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.4rem",padding:"0.4rem 0.6rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"6px",fontSize:"0.85rem",fontWeight:"500",color:"rgba(255, 255, 255, 0.8)",border:"1px solid rgba(255, 215, 0, 0.2)"},children:r.stil_name})}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:r.farbe_nachher||"rgba(255, 255, 255, 0.1)",border:"2px solid rgba(255, 255, 255, 0.3)",flexShrink:0},title:r.graduierung_nachher}),e.jsx("span",{style:{fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.9)",fontWeight:"500"},children:r.graduierung_nachher})]})}),e.jsx("td",{children:new Date(r.pruefungsdatum).toLocaleDateString("de-DE")}),e.jsx("td",{children:e.jsxs("div",{children:[r.bestanden?e.jsx("span",{className:"badge badge-success",children:"‚úì Bestanden"}):e.jsx("span",{className:"badge badge-danger",children:"‚úó Nicht bestanden"}),r.punktzahl&&e.jsxs("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.5)",marginTop:"0.25rem"},children:[r.punktzahl," / ",r.max_punktzahl," Pkt."]})]})}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[e.jsxs("button",{className:"btn btn-sm btn-secondary",children:[e.jsx(u,{size:16})," Urkunde"]}),e.jsxs("button",{onClick:()=>(async e=>{const r=!e.bestanden,n=r?"bestanden":"nicht bestanden";let t=`M√∂chten Sie den Status von ${e.vorname} ${e.nachname} wirklich auf "${n}" √§ndern?`;if(r||(t+="\n\nHinweis: Die Graduierung des Mitglieds wird auf den Stand vor der Pr√ºfung zur√ºckgesetzt."),window.confirm(t))try{const t=await fetch(`${p}/pruefungen/${e.pruefung_id}/status-aendern`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({bestanden:r,mitglied_id:e.mitglied_id,stil_id:e.stil_id,graduierung_vorher_id:e.graduierung_vorher_id,graduierung_nachher_id:e.graduierung_nachher_id})});if(!t.ok){const e=await t.json();throw new Error(e.error||"Fehler beim √Ñndern des Status")}B(`Status von ${e.vorname} ${e.nachname} wurde auf "${n}" ge√§ndert.`),_e(),Se(),setTimeout(()=>B(""),3e3)}catch(a){_(a.message)}})(r),className:"btn btn-sm btn-warning",style:{display:"inline-flex",alignItems:"center",gap:"0.375rem"},children:[e.jsx(d,{size:16}),"Status √§ndern"]})]})})]},r.pruefung_id))})()})]})})]}),"statistiken"===C&&U&&e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:"1.25rem",marginBottom:"1rem"},children:"Pr√ºfungsstatistiken"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"0.75rem",marginBottom:"1.5rem"},children:[e.jsxs("div",{className:"stat-card",style:{padding:"0.75rem"},children:[e.jsx("h3",{style:{fontSize:"0.75rem",margin:"0 0 0.375rem 0",color:"rgba(255, 255, 255, 0.7)"},children:"Gesamt"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#8b5cf6"},children:U.gesamt.gesamt}),e.jsx("div",{style:{fontSize:"0.625rem",color:"rgba(255, 255, 255, 0.5)"},children:"Pr√ºfungen"})]}),e.jsxs("div",{className:"stat-card",style:{padding:"0.75rem"},children:[e.jsx("h3",{style:{fontSize:"0.75rem",margin:"0 0 0.375rem 0",color:"rgba(255, 255, 255, 0.7)"},children:"Bestanden"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#10b981"},children:U.gesamt.bestanden}),e.jsx("div",{style:{fontSize:"0.625rem",color:"rgba(255, 255, 255, 0.5)"},children:U.gesamt.gesamt>0?`${Math.round(U.gesamt.bestanden/U.gesamt.gesamt*100)}% Quote`:"0% Quote"})]}),e.jsxs("div",{className:"stat-card",style:{padding:"0.75rem"},children:[e.jsx("h3",{style:{fontSize:"0.75rem",margin:"0 0 0.375rem 0",color:"rgba(255, 255, 255, 0.7)"},children:"Nicht bestanden"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#ef4444"},children:U.gesamt.nicht_bestanden}),e.jsx("div",{style:{fontSize:"0.625rem",color:"rgba(255, 255, 255, 0.5)"},children:U.gesamt.gesamt>0?`${Math.round(U.gesamt.nicht_bestanden/U.gesamt.gesamt*100)}%`:"0%"})]}),e.jsxs("div",{className:"stat-card",style:{padding:"0.75rem"},children:[e.jsx("h3",{style:{fontSize:"0.75rem",margin:"0 0 0.375rem 0",color:"rgba(255, 255, 255, 0.7)"},children:"Geplant"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#f59e0b"},children:U.gesamt.geplant}),e.jsx("div",{style:{fontSize:"0.625rem",color:"rgba(255, 255, 255, 0.5)"},children:"Anstehend"})]}),e.jsxs("div",{className:"stat-card",style:{padding:"0.75rem"},children:[e.jsx("h3",{style:{fontSize:"0.75rem",margin:"0 0 0.375rem 0",color:"rgba(255, 255, 255, 0.7)"},children:"Kandidaten"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#3b82f6"},children:x.length}),e.jsxs("div",{style:{fontSize:"0.625rem",color:"rgba(255, 255, 255, 0.5)"},children:[x.filter(e=>e.berechtigt).length," berechtigt"]})]}),e.jsxs("div",{className:"stat-card",style:{padding:"0.75rem"},children:[e.jsx("h3",{style:{fontSize:"0.75rem",margin:"0 0 0.375rem 0",color:"rgba(255, 255, 255, 0.7)"},children:"√ò Punktzahl"}),e.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#8b5cf6"},children:[(()=>{const e=O.filter(e=>e.bestanden&&e.punktzahl&&e.max_punktzahl);return(e.length>0?e.reduce((e,r)=>e+r.punktzahl/r.max_punktzahl*100,0)/e.length:0).toFixed(0)})(),"%"]}),e.jsx("div",{style:{fontSize:"0.625rem",color:"rgba(255, 255, 255, 0.5)"},children:"Bestanden"})]}),e.jsxs("div",{className:"stat-card",style:{padding:"0.75rem"},children:[e.jsx("h3",{style:{fontSize:"0.75rem",margin:"0 0 0.375rem 0",color:"rgba(255, 255, 255, 0.7)"},children:"√ò Training"}),e.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#10b981"},children:[(x.length>0?x.reduce((e,r)=>e+(r.trainingsstunden||0),0)/x.length:0).toFixed(0),"h"]}),e.jsx("div",{style:{fontSize:"0.625rem",color:"rgba(255, 255, 255, 0.5)"},children:"Kandidaten"})]}),e.jsxs("div",{className:"stat-card",style:{padding:"0.75rem"},children:[e.jsx("h3",{style:{fontSize:"0.75rem",margin:"0 0 0.375rem 0",color:"rgba(255, 255, 255, 0.7)"},children:"√ò Monate"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#06b6d4"},children:(x.length>0?x.reduce((e,r)=>e+(r.monate_seit_letzter||0),0)/x.length:0).toFixed(0)}),e.jsx("div",{style:{fontSize:"0.625rem",color:"rgba(255, 255, 255, 0.5)"},children:"Seit letzter"})]})]}),e.jsx("h3",{children:"Nach Stil"}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{color:"#EAB308"},children:"Stil"}),e.jsx("th",{style:{color:"#EAB308"},children:"Anzahl Pr√ºfungen"}),e.jsx("th",{style:{color:"#EAB308"},children:"Bestanden"}),e.jsx("th",{style:{color:"#EAB308"},children:"Erfolgsquote"})]})}),e.jsx("tbody",{children:U.nach_stil.map((r,n)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:r.stil_name})}),e.jsx("td",{children:r.anzahl}),e.jsx("td",{children:r.bestanden}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("div",{style:{flex:1,height:"8px",backgroundColor:"#e5e7eb",borderRadius:"4px",overflow:"hidden"},children:e.jsx("div",{style:{width:r.bestanden/r.anzahl*100+"%",height:"100%",backgroundColor:"#10b981"}})}),e.jsxs("span",{style:{fontWeight:"bold"},children:[Math.round(r.bestanden/r.anzahl*100),"%"]})]})})]},n))})]})}),e.jsxs("div",{style:{marginTop:"2rem"},children:[e.jsx("h3",{style:{marginBottom:"1rem"},children:"Pr√ºfungen nach Graduierung"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:(()=>{const r={};return O.forEach(e=>{const n=e.graduierung_nachher||"Unbekannt";r[n]||(r[n]={gesamt:0,bestanden:0,farbe:e.farbe_nachher}),r[n].gesamt++,e.bestanden&&r[n].bestanden++}),Object.entries(r).sort((e,r)=>r[1].gesamt-e[1].gesamt).slice(0,6).map(([r,n])=>e.jsxs("div",{className:"stat-card",style:{padding:"1rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[e.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",backgroundColor:n.farbe||"rgba(255, 255, 255, 0.1)",border:"2px solid rgba(255, 255, 255, 0.3)"}}),e.jsx("h4",{style:{margin:0,fontSize:"0.875rem"},children:r})]}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#EAB308",marginBottom:"0.25rem"},children:n.gesamt}),e.jsxs("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)"},children:[n.bestanden," bestanden (",Math.round(n.bestanden/n.gesamt*100),"%)"]})]},r))})()})]}),U.gurtverteilung&&U.gurtverteilung.length>0&&e.jsxs("div",{style:{marginTop:"2rem"},children:[e.jsx("h3",{style:{marginBottom:"1rem"},children:"Aktuelle Gurtverteilung"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:U.gurtverteilung.map((r,n)=>e.jsxs("div",{className:"stat-card",style:{padding:"1rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.75rem"},children:[e.jsx("div",{style:{width:"50px",height:"18px",backgroundColor:r.farbe||"#CCCCCC",borderRadius:"9px",boxShadow:"0 3px 10px rgba(0, 0, 0, 0.4)",flexShrink:0,border:"1.5px solid rgba(0, 0, 0, 0.2)"}}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.125rem"},children:[e.jsx("h4",{style:{margin:0,fontSize:"1rem",fontWeight:"600",color:"rgba(255, 255, 255, 0.95)"},children:r.graduierung_name}),e.jsx("span",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.5)"},children:r.stil_name})]})]}),e.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#EAB308",marginBottom:"0.25rem"},children:r.anzahl}),e.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)"},children:1===r.anzahl?"Mitglied":"Mitglieder"})]},n))})]}),e.jsxs("div",{style:{marginTop:"2rem"},children:[e.jsx("h3",{style:{marginBottom:"1rem"},children:"Pr√ºfungen der letzten 12 Monate"}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{color:"#EAB308"},children:"Monat"}),e.jsx("th",{style:{color:"#EAB308"},children:"Gesamt"}),e.jsx("th",{style:{color:"#EAB308"},children:"Bestanden"}),e.jsx("th",{style:{color:"#EAB308"},children:"Nicht bestanden"}),e.jsx("th",{style:{color:"#EAB308"},children:"Erfolgsquote"})]})}),e.jsx("tbody",{children:(()=>{const r={},n=new Date;for(let e=11;e>=0;e--){const t=new Date(n.getFullYear(),n.getMonth()-e,1),a=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`;r[a]={monat:t.toLocaleDateString("de-DE",{month:"long",year:"numeric"}),gesamt:0,bestanden:0,nichtBestanden:0}}return O.forEach(e=>{if(e.pruefungsdatum){const n=new Date(e.pruefungsdatum),t=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}`;r[t]&&(r[t].gesamt++,e.bestanden?r[t].bestanden++:r[t].nichtBestanden++)}}),Object.values(r).map((r,n)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:r.monat})}),e.jsx("td",{children:r.gesamt}),e.jsx("td",{style:{color:"#10b981"},children:r.bestanden}),e.jsx("td",{style:{color:"#ef4444"},children:r.nichtBestanden}),e.jsx("td",{children:r.gesamt>0?e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("div",{style:{flex:1,height:"6px",backgroundColor:"#e5e7eb",borderRadius:"3px",overflow:"hidden"},children:e.jsx("div",{style:{width:r.bestanden/r.gesamt*100+"%",height:"100%",backgroundColor:"#10b981"}})}),e.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"600"},children:[Math.round(r.bestanden/r.gesamt*100),"%"]})]}):e.jsx("span",{style:{color:"rgba(255, 255, 255, 0.4)"},children:"-"})})]},n))})()})]})})]}),e.jsxs("div",{style:{marginTop:"2rem"},children:[e.jsx("h3",{style:{marginBottom:"1rem"},children:"Pr√ºfungs-Insights"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1rem"},children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("h4",{style:{margin:"0 0 1rem 0",fontSize:"0.9rem",color:"#EAB308"},children:"üèÜ Beste Erfolgsquote"}),(()=>{const r=U.nach_stil.length>0?U.nach_stil.reduce((e,r)=>r.bestanden/r.anzahl>e.bestanden/e.anzahl?r:e):null;return r?e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"rgba(255, 255, 255, 0.9)",marginBottom:"0.5rem"},children:r.stil_name}),e.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#10b981"},children:[Math.round(r.bestanden/r.anzahl*100),"%"]}),e.jsxs("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.5)",marginTop:"0.5rem"},children:[r.bestanden," von ",r.anzahl," Pr√ºfungen bestanden"]})]}):e.jsx("div",{style:{color:"rgba(255, 255, 255, 0.5)"},children:"Keine Daten vorhanden"})})()]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h4",{style:{margin:"0 0 1rem 0",fontSize:"0.9rem",color:"#EAB308"},children:"üìä Aktivster Monat"}),(()=>{const r={};O.forEach(e=>{if(e.pruefungsdatum){const n=new Date(e.pruefungsdatum).toLocaleDateString("de-DE",{month:"long",year:"numeric"});r[n]=(r[n]||0)+1}});const n=Object.entries(r).sort((e,r)=>r[1]-e[1])[0];return n?e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"rgba(255, 255, 255, 0.9)",marginBottom:"0.5rem"},children:n[0]}),e.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#8b5cf6"},children:n[1]}),e.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.5)",marginTop:"0.5rem"},children:"Pr√ºfungen durchgef√ºhrt"})]}):e.jsx("div",{style:{color:"rgba(255, 255, 255, 0.5)"},children:"Keine Daten vorhanden"})})()]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h4",{style:{margin:"0 0 1rem 0",fontSize:"0.9rem",color:"#EAB308"},children:"üìÖ N√§chste Pr√ºfung"}),(()=>{const r=new Date;r.setHours(0,0,0,0);const n=K.filter(e=>{if(!e.pruefungsdatum)return!1;const n=new Date(e.pruefungsdatum);return n.setHours(0,0,0,0),n>=r});if(0===n.length)return e.jsx("div",{style:{color:"rgba(255, 255, 255, 0.5)"},children:"Keine geplanten Pr√ºfungen"});const t={};n.forEach(e=>{const r=`${e.pruefungsdatum}_${e.stil_name||"Unbekannt"}`;t[r]||(t[r]={datum:e.pruefungsdatum,stil:e.stil_name||"Unbekannt",anzahl:0}),t[r].anzahl++});const a=Object.values(t).sort((e,r)=>new Date(e.datum)-new Date(r.datum))[0];return e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"rgba(255, 255, 255, 0.9)",marginBottom:"0.5rem"},children:new Date(a.datum).toLocaleDateString("de-DE",{day:"2-digit",month:"long",year:"numeric"})}),e.jsx("div",{style:{fontSize:"1rem",color:"#f59e0b",marginTop:"0.5rem"},children:a.stil}),e.jsxs("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.5)",marginTop:"0.5rem"},children:[a.anzahl," Teilnehmer"]})]})})()]})]})]})]}),N&&I&&e.jsx("div",{className:"modal-overlay",onClick:()=>$(!1),children:e.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"600px"},children:[e.jsx("h2",{children:"Pr√ºfungsergebnis eintragen"}),e.jsxs("p",{style:{marginBottom:"1.5rem",color:"#6b7280"},children:[e.jsxs("strong",{style:{color:"rgba(255, 255, 255, 0.95)"},children:[I.vorname," ",I.nachname]})," - ",I.stil_name]}),e.jsx("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"1rem",backgroundColor:P.bestanden?"#d1fae5":"#fee2e2",borderRadius:"0.5rem",border:"2px solid "+(P.bestanden?"#10b981":"#ef4444"),cursor:"pointer",transition:"all 0.3s ease"},children:[e.jsx("input",{type:"checkbox",checked:P.bestanden,onChange:e=>M({...P,bestanden:e.target.checked}),style:{width:"20px",height:"20px",cursor:"pointer",accentColor:"#10b981"}}),e.jsx("div",{style:{flex:1},children:e.jsx("strong",{style:{fontSize:"1.1rem",color:P.bestanden?"#065f46":"#991b1b"},children:P.bestanden?"‚úì Pr√ºfung bestanden":"‚úó Pr√ºfung nicht bestanden"})})]})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Erreichte Punktzahl"}),e.jsx("input",{type:"number",step:"0.5",value:P.punktzahl,onChange:e=>M({...P,punktzahl:e.target.value}),className:"form-input",placeholder:"0"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Max. Punktzahl"}),e.jsx("input",{type:"number",step:"0.5",value:P.max_punktzahl,onChange:e=>M({...P,max_punktzahl:e.target.value}),className:"form-input",placeholder:"100"})]})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[e.jsxs("label",{style:{marginBottom:"0.5rem",display:"block",fontWeight:"600"},children:["Gurt nach Pr√ºfung",e.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"normal",color:"#6b7280",marginLeft:"0.5rem"},children:"(‚Üë‚Üì Pfeiltasten zum Navigieren)"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"1rem",backgroundColor:"#f9fafb",borderRadius:"0.5rem",border:"2px solid #e5e7eb"},children:[e.jsx("button",{type:"button",onClick:()=>Fe("down"),className:"btn btn-sm btn-secondary",style:{padding:"0.5rem",minWidth:"auto",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},disabled:0===P.graduierung_nachher_index,children:e.jsx(o,{size:20})}),e.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",gap:"1rem",padding:"0.75rem 1rem",background:"linear-gradient(135deg, #ffffff 0%, #f3f4f6 100%)",borderRadius:"0.5rem",border:"2px solid #d1d5db",minHeight:"60px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:P.graduierung_nachher_farbe||"#e5e7eb",border:"3px solid #fff",boxShadow:"0 3px 12px rgba(0,0,0,0.2), inset 0 2px 4px rgba(255,255,255,0.4)",flexShrink:0,position:"relative"},children:e.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"28px",height:"28px",borderRadius:"50%",background:"radial-gradient(circle at 30% 30%, rgba(255,255,255,0.5), transparent)",pointerEvents:"none"}})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"700",color:"#111827",marginBottom:"0.25rem"},children:P.graduierung_nachher_name||"Keine Auswahl"}),e.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:F.length>0?`Graduierung ${P.graduierung_nachher_index+1} von ${F.length}`:"Keine Graduierungen verf√ºgbar"})]})]}),e.jsx("button",{type:"button",onClick:()=>Fe("up"),className:"btn btn-sm btn-secondary",style:{padding:"0.5rem",minWidth:"auto",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},disabled:P.graduierung_nachher_index===F.length-1,children:e.jsx(l,{size:20})})]})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[e.jsx("label",{children:"Pr√ºfer-Kommentar"}),e.jsx("textarea",{value:P.prueferkommentar,onChange:e=>M({...P,prueferkommentar:e.target.value}),className:"form-input",rows:"3",placeholder:"Bemerkungen zur Pr√ºfung, St√§rken, Verbesserungspotenzial..."})]}),e.jsxs("div",{style:{padding:"0.75rem",backgroundColor:"#eff6ff",borderRadius:"0.5rem",border:"1px solid #bfdbfe",marginBottom:"1.5rem"},children:[e.jsx("div",{style:{fontSize:"0.875rem",color:"#1e40af"},children:e.jsx("strong",{children:"‚å®Ô∏è Tastenkombinationen:"})}),e.jsx("div",{style:{fontSize:"0.8125rem",color:"#3b82f6",marginTop:"0.25rem"},children:"‚Üë‚Üì Pfeiltasten = Gurt wechseln ‚Ä¢ Strg+Enter = Speichern"})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{onClick:()=>$(!1),className:"btn btn-secondary",children:"Abbrechen"}),e.jsxs("button",{onClick:Ce,className:"btn btn-primary",children:[e.jsx(a,{size:18,style:{marginRight:"0.5rem"}}),"Speichern (Strg+Enter)"]})]})]})}),oe&&ge&&e.jsx("div",{className:"modal-overlay",onClick:()=>de(!1),children:e.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[e.jsx("h2",{style:{marginBottom:"0.5rem"},children:"Pruefungsergebnisse eintragen"}),e.jsxs("p",{style:{marginBottom:"1rem",color:"#6b7280"},children:[e.jsx("strong",{style:{color:"rgba(255, 255, 255, 0.95)"},children:new Date(ge.datum).toLocaleDateString("de-DE",{weekday:"long",day:"2-digit",month:"long",year:"numeric"})})," - ",e.jsx("span",{style:{color:"#EAB308"},children:ge.stil_name})," - ",ge.anzahl," Teilnehmer"]}),e.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginBottom:"1.5rem",padding:"0.75rem",backgroundColor:"rgba(255, 215, 0, 0.1)",borderRadius:"0.5rem",border:"1px solid rgba(255, 215, 0, 0.3)"},children:[e.jsx("span",{style:{color:"rgba(255, 255, 255, 0.8)",marginRight:"0.5rem"},children:"Schnellauswahl:"}),e.jsxs("button",{onClick:()=>Te(!0),className:"btn btn-sm",style:{backgroundColor:"rgba(34, 197, 94, 0.3)",color:"#22c55e",border:"1px solid rgba(34, 197, 94, 0.5)",padding:"0.25rem 0.75rem",fontSize:"0.8125rem"},children:[e.jsx(a,{size:14,style:{marginRight:"0.25rem"}}),"Alle bestanden"]}),e.jsxs("button",{onClick:()=>Te(!1),className:"btn btn-sm",style:{backgroundColor:"rgba(239, 68, 68, 0.3)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.5)",padding:"0.25rem 0.75rem",fontSize:"0.8125rem"},children:[e.jsx(c,{size:14,style:{marginRight:"0.25rem"}}),"Alle nicht bestanden"]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",style:{fontSize:"0.875rem"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{minWidth:"200px",color:"#EAB308"},children:"Name"}),e.jsx("th",{style:{minWidth:"120px",color:"#EAB308"},children:"Aktueller Gurt"}),e.jsx("th",{style:{minWidth:"120px",color:"#EAB308"},children:"Neuer Gurt"}),e.jsx("th",{style:{minWidth:"130px",color:"#EAB308",textAlign:"center"},children:"Ergebnis"}),e.jsx("th",{style:{minWidth:"100px",color:"#EAB308"},children:"Punkte"}),e.jsx("th",{style:{minWidth:"180px",color:"#EAB308"},children:"Kommentar"})]})}),e.jsx("tbody",{children:ge.pruefungen.map(r=>{const n=ue[r.pruefung_id]||{bestanden:!0,punktzahl:"",prueferkommentar:""};return e.jsxs("tr",{style:{backgroundColor:n.bestanden?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)"},children:[e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.125rem"},children:[e.jsxs("span",{style:{fontWeight:"700",color:"rgba(255, 255, 255, 0.95)"},children:[r.vorname," ",r.nachname]}),e.jsxs("span",{style:{fontSize:"0.75rem",color:"#6b7280"},children:["ID: ",r.mitglied_id]})]})}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",backgroundColor:r.farbe_vorher||"#6b7280",border:"2px solid rgba(255, 255, 255, 0.3)"}}),e.jsx("span",{style:{fontSize:"0.8125rem",color:"rgba(255, 255, 255, 0.8)"},children:r.graduierung_vorher||"Keine"})]})}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",backgroundColor:n.bestanden?r.farbe_nachher||"#EAB308":"#6b7280",border:"2px solid rgba(255, 255, 255, 0.3)",opacity:n.bestanden?1:.5}}),e.jsx("span",{style:{fontSize:"0.8125rem",color:n.bestanden?"rgba(255, 255, 255, 0.9)":"rgba(255, 255, 255, 0.5)",textDecoration:n.bestanden?"none":"line-through"},children:r.graduierung_nachher})]})}),e.jsx("td",{style:{textAlign:"center"},children:e.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.375rem 0.75rem",backgroundColor:n.bestanden?"#d1fae5":"#fee2e2",borderRadius:"0.375rem",border:"2px solid "+(n.bestanden?"#10b981":"#ef4444"),cursor:"pointer",transition:"all 0.2s ease"},children:[e.jsx("input",{type:"checkbox",checked:n.bestanden,onChange:e=>{me({...ue,[r.pruefung_id]:{...n,bestanden:e.target.checked}})},style:{width:"16px",height:"16px",cursor:"pointer",accentColor:"#10b981"}}),e.jsx("span",{style:{fontWeight:"600",fontSize:"0.8125rem",color:n.bestanden?"#065f46":"#991b1b"},children:n.bestanden?"Bestanden":"Nicht bestanden"})]})}),e.jsx("td",{children:e.jsx("input",{type:"number",step:"0.5",value:n.punktzahl,onChange:e=>{me({...ue,[r.pruefung_id]:{...n,punktzahl:e.target.value}})},className:"form-input",style:{padding:"0.375rem",fontSize:"0.8125rem"},placeholder:"Punkte"})}),e.jsx("td",{children:e.jsx("input",{type:"text",value:n.prueferkommentar,onChange:e=>{me({...ue,[r.pruefung_id]:{...n,prueferkommentar:e.target.value}})},className:"form-input",style:{padding:"0.375rem",fontSize:"0.8125rem"},placeholder:"Kommentar..."})})]},r.pruefung_id)})})]})}),e.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"0.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",gap:"2rem"},children:[e.jsxs("div",{children:[e.jsx("span",{style:{color:"#22c55e",fontWeight:"700",fontSize:"1.25rem"},children:Object.values(ue).filter(e=>e.bestanden).length}),e.jsx("span",{style:{color:"#6b7280",marginLeft:"0.5rem"},children:"Bestanden"})]}),e.jsxs("div",{children:[e.jsx("span",{style:{color:"#ef4444",fontWeight:"700",fontSize:"1.25rem"},children:Object.values(ue).filter(e=>!e.bestanden).length}),e.jsx("span",{style:{color:"#6b7280",marginLeft:"0.5rem"},children:"Nicht bestanden"})]})]}),e.jsxs("div",{style:{color:"#6b7280",fontSize:"0.875rem"},children:["Bestehensquote: ",Math.round(Object.values(ue).filter(e=>e.bestanden).length/Object.values(ue).length*100),"%"]})]}),e.jsxs("div",{className:"modal-actions",style:{marginTop:"1.5rem"},children:[e.jsx("button",{onClick:()=>de(!1),className:"btn btn-secondary",children:"Abbrechen"}),e.jsx("button",{onClick:async()=>{if(ge){S(!0);try{let r=0,n=0;for(const t of ge.pruefungen){const a=ue[t.pruefung_id];if(!a)continue;const i={bestanden:a.bestanden,punktzahl:a.punktzahl?parseFloat(a.punktzahl):null,prueferkommentar:a.prueferkommentar||null,status:a.bestanden?"bestanden":"nicht_bestanden",graduierung_nachher_id:a.bestanden?t.graduierung_nachher_id:null};try{(await fetch(`${p}/pruefungen/${t.pruefung_id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(i)})).ok?(a.bestanden&&t.graduierung_nachher_id&&await De(t.mitglied_id,t.stil_id,t.graduierung_nachher_id),r++):n++}catch(e){n++,console.error("Fehler bei Pruefung",t.pruefung_id,e)}}de(!1),ce(null),me({}),B(0===n?`Alle ${r} Pruefungsergebnisse erfolgreich gespeichert!`:`${r} Ergebnisse gespeichert, ${n} Fehler aufgetreten.`),setTimeout(()=>B(""),5e3),Be(),ze(),_e()}catch(r){_(r.message)}finally{S(!1)}}},className:"btn btn-primary",disabled:k,children:k?e.jsx(e.Fragment,{children:"Speichern..."}):e.jsxs(e.Fragment,{children:[e.jsx(a,{size:18,style:{marginRight:"0.5rem"}}),"Alle Ergebnisse speichern"]})})]})]})}),q&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",zIndex:99999,display:"flex",alignItems:"flex-start",justifyContent:"center",overflowY:"auto"},onClick:()=>{J(!1),X(1)},children:e.jsxs("div",{onClick:e=>e.stopPropagation(),style:{background:"#1a1a1a",borderRadius:"0 0 12px 12px",boxShadow:"0 10px 40px rgba(0,0,0,0.5)",border:"1px solid #333",borderTop:"none",maxWidth:"750px",width:"90%",margin:"0 auto 20px",color:"#e5e5e5"},children:[e.jsx("div",{style:{padding:"1.5rem 2rem 1rem",borderBottom:"1px solid #333"},children:e.jsx("h2",{style:{margin:0,fontSize:"1.4rem",fontWeight:"700",color:"#EAB308"},children:"Neuer Pr√ºfungstermin"})}),e.jsx("div",{style:{display:"flex",padding:"1.5rem 2rem",background:"#0a0a0a",borderBottom:"1px solid #333"},children:[{num:1,label:"Grunddaten"},{num:2,label:"Organisation"},{num:3,label:"Zusatzinfos"}].map((r,n)=>e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",position:"relative"},children:[n>0&&e.jsx("div",{style:{position:"absolute",top:"15px",left:"-50%",right:"50%",height:"2px",background:Q>r.num-1?"#EAB308":"#333"}}),e.jsx("div",{style:{width:"30px",height:"30px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",background:Q>=r.num?"#EAB308":"#2a2a2a",color:Q>=r.num?"#000":"#666",fontWeight:"700",fontSize:"0.9rem",border:"2px solid "+(Q>=r.num?"#EAB308":"#333"),position:"relative",zIndex:2},children:r.num}),e.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.75rem",color:Q===r.num?"#EAB308":"#999",fontWeight:Q===r.num?"600":"400",textAlign:"center"},children:r.label})]},r.num))}),e.jsxs("div",{style:{padding:"2rem",minHeight:"300px"},children:[1===Q&&e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"0.9rem"},children:"Kampfkunst-Stil *"}),e.jsxs("select",{value:ee.stil_id,onChange:e=>re({...ee,stil_id:e.target.value}),style:{padding:"0.6rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.95rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5"},children:[e.jsx("option",{value:"",style:{background:"#2a2a2a",color:"#e5e5e5"},children:"Bitte w√§hlen..."}),f.map(r=>e.jsx("option",{value:r.stil_id,style:{background:"#2a2a2a",color:"#e5e5e5"},children:r.name},r.stil_id))]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"0.9rem"},children:"Pr√ºfungsdatum *"}),e.jsx("input",{type:"date",value:ee.pruefungsdatum,onChange:e=>re({...ee,pruefungsdatum:e.target.value}),style:{padding:"0.6rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.95rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"0.9rem"},children:"Uhrzeit"}),e.jsx("input",{type:"time",value:ee.pruefungszeit,onChange:e=>re({...ee,pruefungszeit:e.target.value}),style:{padding:"0.6rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.95rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5"}})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"0.9rem"},children:"Pr√ºfungsort"}),e.jsx("input",{type:"text",value:ee.pruefungsort,onChange:e=>re({...ee,pruefungsort:e.target.value}),placeholder:"z.B. Dojo Haupthalle",style:{padding:"0.6rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.95rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"0.9rem"},children:"Pr√ºfer"}),e.jsx("input",{type:"text",value:ee.pruefer_name,onChange:e=>re({...ee,pruefer_name:e.target.value}),placeholder:"z.B. Meister Schmidt",style:{padding:"0.6rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.95rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5"}})]})]})]}),2===Q&&e.jsxs("div",{children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"0.9rem"},children:"Pr√ºfungsgeb√ºhr (‚Ç¨)"}),e.jsx("input",{type:"number",step:"0.01",value:ee.pruefungsgebuehr,onChange:e=>re({...ee,pruefungsgebuehr:e.target.value}),placeholder:"0.00",style:{padding:"0.6rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.95rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"0.9rem"},children:"Anmeldefrist"}),e.jsx("input",{type:"date",value:ee.anmeldefrist,onChange:e=>re({...ee,anmeldefrist:e.target.value}),style:{padding:"0.6rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.95rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5"}})]})]}),ee.anmeldefrist&&ee.pruefungsdatum&&new Date(ee.anmeldefrist)>new Date(ee.pruefungsdatum)&&e.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"#4a1515",border:"1px solid #8b2020",borderRadius:"6px",color:"#ff6b6b",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("span",{style:{fontSize:"1.2rem"},children:"‚ö†Ô∏è"}),e.jsx("span",{children:"Die Anmeldefrist muss vor dem Pr√ºfungsdatum liegen. Bitte passen Sie das Datum an."})]})]}),3===Q&&e.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"0.9rem"},children:"Bemerkungen"}),e.jsx("textarea",{value:ee.bemerkungen,onChange:e=>re({...ee,bemerkungen:e.target.value}),placeholder:"Zus√§tzliche Informationen...",rows:"3",style:{padding:"0.6rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.95rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5",fontFamily:"inherit",resize:"vertical"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"0.9rem"},children:"Teilnahmebedingungen"}),e.jsx("textarea",{value:ee.teilnahmebedingungen,onChange:e=>re({...ee,teilnahmebedingungen:e.target.value}),placeholder:"Bedingungen f√ºr Teilnehmer...",rows:"4",style:{padding:"0.6rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.95rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5",fontFamily:"inherit",resize:"vertical"}})]})]})]}),e.jsxs("div",{style:{padding:"1rem 2rem",borderTop:"1px solid #333",display:"flex",gap:"0.5rem",justifyContent:"space-between"},children:[e.jsx("button",{onClick:()=>{J(!1),X(1)},style:{padding:"0.6rem 1.2rem",border:"1px solid #555",borderRadius:"6px",background:"#2a2a2a",color:"#e5e5e5",cursor:"pointer",fontSize:"0.9rem"},children:"Abbrechen"}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[Q>1&&e.jsx("button",{onClick:()=>X(Q-1),style:{padding:"0.6rem 1.2rem",border:"1px solid #555",borderRadius:"6px",background:"#2a2a2a",color:"#e5e5e5",cursor:"pointer",fontSize:"0.9rem"},children:"Zur√ºck"}),Q<3?e.jsx("button",{onClick:()=>X(Q+1),disabled:1===Q&&(!ee.stil_id||!ee.pruefungsdatum)||2===Q&&ee.anmeldefrist&&ee.pruefungsdatum&&new Date(ee.anmeldefrist)>new Date(ee.pruefungsdatum),style:{padding:"0.6rem 1.2rem",border:"none",borderRadius:"6px",background:1===Q&&(!ee.stil_id||!ee.pruefungsdatum)||2===Q&&ee.anmeldefrist&&ee.pruefungsdatum&&new Date(ee.anmeldefrist)>new Date(ee.pruefungsdatum)?"#555":"#EAB308",color:1===Q&&(!ee.stil_id||!ee.pruefungsdatum)||2===Q&&ee.anmeldefrist&&ee.pruefungsdatum&&new Date(ee.anmeldefrist)>new Date(ee.pruefungsdatum)?"#888":"#000",cursor:1===Q&&(!ee.stil_id||!ee.pruefungsdatum)||2===Q&&ee.anmeldefrist&&ee.pruefungsdatum&&new Date(ee.anmeldefrist)>new Date(ee.pruefungsdatum)?"not-allowed":"pointer",fontSize:"0.9rem",fontWeight:"600"},children:"Weiter"}):e.jsxs("button",{onClick:()=>{(async()=>{if(ee.pruefungsdatum)if(ee.stil_id)if(h&&h.id)try{const e={datum:ee.pruefungsdatum,zeit:ee.pruefungszeit,ort:ee.pruefungsort,pruefer_name:ee.pruefer_name||null,stil_id:ee.stil_id,pruefungsgebuehr:ee.pruefungsgebuehr?parseFloat(ee.pruefungsgebuehr):null,anmeldefrist:ee.anmeldefrist||null,bemerkungen:ee.bemerkungen||null,teilnahmebedingungen:ee.teilnahmebedingungen||null,dojo_id:h.id},r=await fetch(`${p}/pruefungen/termine`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(e)});if(!r.ok){const e=await r.json();if(409===r.status)throw new Error(e.message||e.error||"Zeit√ºberschneidung");throw new Error(e.error||"Fehler beim Erstellen des Termins")}B(`Pr√ºfungstermin f√ºr ${new Date(ee.pruefungsdatum).toLocaleDateString("de-DE")} wurde erstellt!`),setTimeout(()=>B(""),3e3),J(!1),re({pruefungsdatum:"",pruefungszeit:"10:00",pruefungsort:"",pruefer_name:"",stil_id:"",pruefungsgebuehr:"",anmeldefrist:"",gurtlaenge:"",bemerkungen:"",teilnahmebedingungen:"",ist_historisch:!1,historisch_bemerkung:""}),Be()}catch(e){_(e.message)}else _("Kein Dojo ausgew√§hlt");else _("Bitte w√§hlen Sie einen Stil aus");else _("Bitte geben Sie ein Pr√ºfungsdatum an")})(),X(1)},style:{padding:"0.6rem 1.2rem",border:"none",borderRadius:"6px",background:"#EAB308",color:"#000",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:[e.jsx(t,{size:18,style:{marginRight:"0.5rem",display:"inline"}}),"Termin erstellen"]})]})]})]})}),ne&&ae&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",zIndex:9999,display:"flex",alignItems:"flex-start",justifyContent:"center",paddingTop:"0",overflowY:"auto"},onClick:()=>te(!1),children:e.jsxs("div",{onClick:e=>e.stopPropagation(),style:{background:"#1a1a1a",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0,0,0,0.5)",border:"1px solid #333",maxWidth:"850px",width:"90%",maxHeight:"90vh",overflowY:"auto",padding:"2rem",margin:"0 auto 20px",color:"#e5e5e5"},children:[e.jsx("h2",{style:{marginBottom:"0.5rem",fontSize:"1.5rem",fontWeight:"700",color:"#e5e5e5"},children:"Pr√ºfungstermin bearbeiten"}),e.jsx("p",{style:{marginBottom:"2rem",color:"#999",fontSize:"0.9rem"},children:"Bearbeiten Sie die Details des Pr√ºfungstermins."}),e.jsx("h3",{style:{color:"#EAB308",marginTop:"0",marginBottom:"1rem",fontSize:"1.1rem",borderBottom:"2px solid #EAB308",paddingBottom:"0.5rem",fontWeight:"600",background:"transparent"},children:"Grunddaten"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.8rem 1rem",marginBottom:"1.5rem"},children:[e.jsxs("div",{style:{gridColumn:"1 / -1"},children:[e.jsx("label",{style:{fontWeight:600,marginBottom:"0.4rem",color:"#e5e5e5",fontSize:"0.85rem",display:"block"},children:"Kampfkunst-Stil *"}),e.jsxs("select",{value:ae.stil_id,onChange:e=>ie({...ae,stil_id:e.target.value}),style:{padding:"0.5rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.9rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5"},required:!0,children:[e.jsx("option",{value:"",children:"Bitte w√§hlen..."}),f.map(r=>e.jsx("option",{value:r.stil_id,children:r.name},r.stil_id))]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontWeight:600,marginBottom:"0.4rem",color:"#e5e5e5",fontSize:"0.85rem",display:"block"},children:"Pr√ºfungsdatum *"}),e.jsx("input",{type:"date",value:ae.pruefungsdatum,onChange:e=>ie({...ae,pruefungsdatum:e.target.value}),style:{padding:"0.5rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.9rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5"},required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontWeight:600,marginBottom:"0.4rem",color:"#e5e5e5",fontSize:"0.85rem",display:"block"},children:"Uhrzeit"}),e.jsx("input",{type:"time",value:ae.pruefungszeit,onChange:e=>ie({...ae,pruefungszeit:e.target.value}),style:{padding:"0.5rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.9rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5"}})]}),e.jsxs("div",{style:{gridColumn:"1 / -1"},children:[e.jsx("label",{style:{fontWeight:600,marginBottom:"0.4rem",color:"#e5e5e5",fontSize:"0.85rem",display:"block"},children:"Pr√ºfungsort"}),e.jsx("input",{type:"text",value:ae.pruefungsort,onChange:e=>ie({...ae,pruefungsort:e.target.value}),style:{padding:"0.5rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.9rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5"},placeholder:"z.B. Dojo Haupthalle, Sporthalle XYZ"})]})]}),e.jsx("h3",{style:{color:"#EAB308",marginTop:"1.5rem",marginBottom:"1rem",fontSize:"1.1rem",borderBottom:"2px solid #EAB308",paddingBottom:"0.5rem",fontWeight:"600",background:"transparent"},children:"Organisatorisches"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.8rem 1rem",marginBottom:"1.5rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{fontWeight:600,marginBottom:"0.4rem",color:"#e5e5e5",fontSize:"0.85rem",display:"block"},children:"Pr√ºfungsgeb√ºhr (‚Ç¨)"}),e.jsx("input",{type:"number",step:"0.01",value:ae.pruefungsgebuehr,onChange:e=>ie({...ae,pruefungsgebuehr:e.target.value}),style:{padding:"0.5rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.9rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5"},placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontWeight:600,marginBottom:"0.4rem",color:"#e5e5e5",fontSize:"0.85rem",display:"block"},children:"Anmeldefrist"}),e.jsx("input",{type:"date",value:ae.anmeldefrist,onChange:e=>ie({...ae,anmeldefrist:e.target.value}),style:{padding:"0.5rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.9rem",width:"100%",background:"#2a2a2a",color:"#e5e5e5"}})]})]}),e.jsx("h3",{style:{color:"#EAB308",marginTop:"1.5rem",marginBottom:"1rem",fontSize:"1.1rem",borderBottom:"2px solid #EAB308",paddingBottom:"0.5rem",fontWeight:"600",background:"transparent"},children:"Zus√§tzliche Informationen"}),e.jsxs("div",{style:{display:"grid",gap:"0.8rem",marginBottom:"1.5rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{fontWeight:600,marginBottom:"0.4rem",color:"#e5e5e5",fontSize:"0.85rem",display:"block"},children:"Bemerkungen"}),e.jsx("textarea",{value:ae.bemerkungen,onChange:e=>ie({...ae,bemerkungen:e.target.value}),style:{padding:"0.5rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.9rem",width:"100%",minHeight:"70px",resize:"vertical",background:"#2a2a2a",color:"#e5e5e5",fontFamily:"inherit"},rows:"2",placeholder:"Zus√§tzliche Informationen zur Pr√ºfung..."})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontWeight:600,marginBottom:"0.4rem",color:"#e5e5e5",fontSize:"0.85rem",display:"block"},children:"Teilnahmebedingungen"}),e.jsx("textarea",{value:ae.teilnahmebedingungen,onChange:e=>ie({...ae,teilnahmebedingungen:e.target.value}),style:{padding:"0.5rem",border:"1px solid #444",borderRadius:"6px",fontSize:"0.9rem",width:"100%",minHeight:"90px",resize:"vertical",background:"#2a2a2a",color:"#e5e5e5",fontFamily:"inherit"},rows:"3",placeholder:"Beispiel:\n- Vollst√§ndige Trainingsausr√ºstung mitbringen\n- P√ºnktliches Erscheinen erforderlich\n- Pr√ºfungsgeb√ºhr vorab √ºberweisen"})]})]}),e.jsxs("div",{style:{marginTop:"1.5rem",display:"flex",gap:"0.5rem",justifyContent:"flex-end",background:"transparent"},children:[e.jsx("button",{onClick:()=>te(!1),style:{padding:"0.5rem 1rem",border:"1px solid #555",borderRadius:"6px",background:"#2a2a2a",color:"#e5e5e5",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.2s"},onMouseOver:e=>e.target.style.background="#333",onMouseOut:e=>e.target.style.background="#2a2a2a",children:"Abbrechen"}),e.jsxs("button",{onClick:async()=>{if(ae&&ae.pruefungsdatum)if(ae.id)try{const e=await fetch(`${p}/pruefungen/termine/${ae.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({datum:ae.pruefungsdatum,zeit:ae.pruefungszeit,ort:ae.pruefungsort,pruefer_name:ae.pruefer_name||null,stil_id:ae.stil_id,pruefungsgebuehr:ae.pruefungsgebuehr?parseFloat(ae.pruefungsgebuehr):null,anmeldefrist:ae.anmeldefrist||null,bemerkungen:ae.bemerkungen||null,teilnahmebedingungen:ae.teilnahmebedingungen||null})}),r=await e.json();if(!e.ok)throw new Error(r.error||"Fehler beim Aktualisieren des Termins");B("Pr√ºfungstermin wurde erfolgreich aktualisiert!"),setTimeout(()=>B(""),3e3),te(!1),ie(null),Be()}catch(e){_(e.message),setTimeout(()=>_(""),5e3)}else _("Termin-ID fehlt");else _("Bitte geben Sie ein Pr√ºfungsdatum an")},disabled:!ae.pruefungsdatum,style:{padding:"0.5rem 1rem",border:"none",borderRadius:"6px",background:ae.pruefungsdatum?"#EAB308":"#555",color:ae.pruefungsdatum?"#000":"#888",cursor:ae.pruefungsdatum?"pointer":"not-allowed",fontSize:"0.9rem",fontWeight:"600",display:"flex",alignItems:"center",transition:"all 0.2s"},onMouseOver:e=>{e.target.disabled||(e.target.style.background="#F59E0B")},onMouseOut:e=>{e.target.disabled||(e.target.style.background="#EAB308")},children:[e.jsx(d,{size:18,style:{marginRight:"0.5rem"}}),"√Ñnderungen speichern"]})]})]})})]})};export{m as default};
