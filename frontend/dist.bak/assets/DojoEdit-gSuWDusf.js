import{a as e,j as r}from"./query-Caj74EYQ.js";import{R as a,F as n,A as s}from"./AdminVerwaltung-DNs-gKmO.js";import{a as t,b as i,u as l,h as o,f as d,c}from"./index-BfO9IvyN.js";import{k as g,e as m,P as h,a9 as u,X as p,D as x,a0 as b,g as j,t as v,br as f,bn as _,as as k,bi as y,u as N}from"./icons-DiLw-1i5.js";import{e as z,u as w}from"./vendor-router-Co3o87Zc.js";import"./charts-C1Gv3M_c.js";const S=({dojoId:a})=>{const[n,s]=e.useState([]),[i,l]=e.useState(null),[o,d]=e.useState(!1),[c,j]=e.useState(""),[v,f]=e.useState(!1),[_,k]=e.useState({bank_name:"",bank_typ:"bank",ist_aktiv:!0,ist_standard:!1,iban:"",bic:"",kontoinhaber:"",sepa_glaeubiger_id:"",stripe_publishable_key:"",stripe_secret_key:"",stripe_account_id:"",paypal_email:"",paypal_client_id:"",paypal_client_secret:"",notizen:""});e.useEffect(()=>{a&&y()},[a]);const y=async()=>{try{d(!0);const e=await t.get(`/dojo-banken/${a}`);if(0===e.data.length){await t.post(`/dojo-banken/${a}/init-defaults`);const e=await t.get(`/dojo-banken/${a}`);s(e.data),e.data.length>0&&(l(e.data[0].id),N(e.data[0]))}else if(s(e.data),!i&&e.data.length>0)l(e.data[0].id),N(e.data[0]);else if(i){const r=e.data.find(e=>e.id===i);r&&N(r)}}catch(e){console.error("Fehler beim Laden der Banken:",e),j("Fehler beim Laden der Banken")}finally{d(!1)}},N=e=>{k({bank_name:e.bank_name||"",bank_typ:e.bank_typ||"bank",ist_aktiv:e.ist_aktiv||!1,ist_standard:e.ist_standard||!1,iban:e.iban||"",bic:e.bic||"",kontoinhaber:e.kontoinhaber||"",sepa_glaeubiger_id:e.sepa_glaeubiger_id||"",stripe_publishable_key:e.stripe_publishable_key||"",stripe_secret_key:e.stripe_secret_key||"",stripe_account_id:e.stripe_account_id||"",paypal_email:e.paypal_email||"",paypal_client_id:e.paypal_client_id||"",paypal_client_secret:e.paypal_client_secret||"",notizen:e.notizen||""})},z=(e=!1)=>{if(!e){if(!n.find(e=>e.id===i))return null}return r.jsxs("div",{className:"bank-form",children:[r.jsxs("div",{className:"form-section-three-column",children:[r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"Allgemeine Infos"}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Bankname *"}),r.jsx("input",{type:"text",value:_.bank_name,onChange:e=>k({..._,bank_name:e.target.value}),placeholder:"z.B. Sparkasse Stuttgart"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Typ"}),r.jsxs("select",{value:_.bank_typ,onChange:e=>k({..._,bank_typ:e.target.value}),children:[r.jsx("option",{value:"bank",children:"Bank / SEPA"}),r.jsx("option",{value:"stripe",children:"Stripe"}),r.jsx("option",{value:"paypal",children:"PayPal"}),r.jsx("option",{value:"sonstige",children:"Sonstige"})]})]}),r.jsx("div",{className:"form-group",children:r.jsxs("button",{type:"button",onClick:()=>k({..._,ist_aktiv:!_.ist_aktiv}),className:"logout-button checkbox-button "+(_.ist_aktiv?"active":""),style:{width:"100%",justifyContent:"flex-start",background:_.ist_aktiv?"linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 215, 0, 0.1))":"transparent",borderColor:_.ist_aktiv?"#ffd700":"rgba(255, 215, 0, 0.2)",color:_.ist_aktiv?"#ffd700":"rgba(255, 255, 255, 0.7)"},children:[r.jsx("div",{className:"checkbox-indicator",style:{width:"18px",height:"18px",border:"2px solid",borderColor:_.ist_aktiv?"#ffd700":"rgba(255, 215, 0, 0.4)",borderRadius:"4px",background:_.ist_aktiv?"#ffd700":"transparent",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"10px",transition:"all 0.2s"},children:_.ist_aktiv&&r.jsx(u,{size:12,color:"#1a1a2e",style:{strokeWidth:3}})}),r.jsx("span",{children:"AKTIV (SICHTBAR FÃœR MITGLIEDER)"})]})}),r.jsx("div",{className:"form-group",children:r.jsxs("button",{type:"button",onClick:()=>k({..._,ist_standard:!_.ist_standard}),className:"logout-button checkbox-button "+(_.ist_standard?"active":""),style:{width:"100%",justifyContent:"flex-start",background:_.ist_standard?"linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 215, 0, 0.1))":"transparent",borderColor:_.ist_standard?"#ffd700":"rgba(255, 215, 0, 0.2)",color:_.ist_standard?"#ffd700":"rgba(255, 255, 255, 0.7)"},children:[r.jsx("div",{className:"checkbox-indicator",style:{width:"18px",height:"18px",border:"2px solid",borderColor:_.ist_standard?"#ffd700":"rgba(255, 215, 0, 0.4)",borderRadius:"4px",background:_.ist_standard?"#ffd700":"transparent",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"10px",transition:"all 0.2s"},children:_.ist_standard&&r.jsx(u,{size:12,color:"#1a1a2e",style:{strokeWidth:3}})}),r.jsx("span",{children:"STANDARD-KONTO"}),r.jsx(m,{size:16,fill:_.ist_standard?"#ffd700":"none",color:"#ffd700",style:{marginLeft:"8px"}})]})})]}),"bank"===_.bank_typ&&r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"SEPA / Bankverbindung"}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"IBAN"}),r.jsx("input",{type:"text",value:_.iban,onChange:e=>k({..._,iban:e.target.value.toUpperCase()}),placeholder:"DE89370400440532013000"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"BIC"}),r.jsx("input",{type:"text",value:_.bic,onChange:e=>k({..._,bic:e.target.value.toUpperCase()}),placeholder:"COBADEFFXXX"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Kontoinhaber"}),r.jsx("input",{type:"text",value:_.kontoinhaber,onChange:e=>k({..._,kontoinhaber:e.target.value}),placeholder:"Dojo Name e.V."})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"SEPA GlÃ¤ubiger-ID"}),r.jsx("input",{type:"text",value:_.sepa_glaeubiger_id,onChange:e=>k({..._,sepa_glaeubiger_id:e.target.value}),placeholder:"DE98ZZZ09999999999"})]})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"Notizen"}),r.jsx("div",{className:"form-group",children:r.jsx("textarea",{value:_.notizen,onChange:e=>k({..._,notizen:e.target.value}),placeholder:"Interne Notizen, Hinweise...",rows:"6"})})]})]}),"stripe"===_.bank_typ&&r.jsxs("div",{className:"form-section-three-column",children:[r.jsx("div",{}),r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"Stripe Zugangsdaten"}),r.jsxs("div",{className:"form-row-compact",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Publishable Key"}),r.jsx("input",{type:"text",value:_.stripe_publishable_key,onChange:e=>k({..._,stripe_publishable_key:e.target.value}),placeholder:"pk_live_..."})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Secret Key"}),r.jsx("input",{type:"password",value:_.stripe_secret_key,onChange:e=>k({..._,stripe_secret_key:e.target.value}),placeholder:"sk_live_..."})]})]}),r.jsx("div",{className:"form-row-compact",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Account ID (optional)"}),r.jsx("input",{type:"text",value:_.stripe_account_id,onChange:e=>k({..._,stripe_account_id:e.target.value}),placeholder:"acct_..."})]})})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"Notizen"}),r.jsx("div",{className:"form-group",children:r.jsx("textarea",{value:_.notizen,onChange:e=>k({..._,notizen:e.target.value}),placeholder:"Interne Notizen, Hinweise...",rows:"6"})})]})]}),"paypal"===_.bank_typ&&r.jsxs("div",{className:"form-section-three-column",children:[r.jsx("div",{}),r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"PayPal Zugangsdaten"}),r.jsxs("div",{className:"form-row-compact",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"PayPal E-Mail"}),r.jsx("input",{type:"email",value:_.paypal_email,onChange:e=>k({..._,paypal_email:e.target.value}),placeholder:"business@example.com"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Client ID"}),r.jsx("input",{type:"text",value:_.paypal_client_id,onChange:e=>k({..._,paypal_client_id:e.target.value}),placeholder:"PayPal Client ID"})]})]}),r.jsx("div",{className:"form-row-compact",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Client Secret"}),r.jsx("input",{type:"password",value:_.paypal_client_secret,onChange:e=>k({..._,paypal_client_secret:e.target.value}),placeholder:"PayPal Client Secret"})]})})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"Notizen"}),r.jsx("div",{className:"form-group",children:r.jsx("textarea",{value:_.notizen,onChange:e=>k({..._,notizen:e.target.value}),placeholder:"Interne Notizen, Hinweise...",rows:"6"})})]})]})]})};return r.jsxs("div",{className:"bank-tabs-container",children:[c&&r.jsxs("div",{className:"message "+(c.includes("Fehler")?"error":"success"),children:[r.jsx(g,{size:16}),c]}),r.jsxs("div",{className:"tabs-header",children:[n.map(e=>{return r.jsxs("div",{className:`tab ${i===e.id?"active":""} ${e.ist_aktiv?"":"inactive"}`,onClick:()=>{l(e.id),N(e)},children:[(a=e.bank_typ,"stripe"===a?r.jsx(b,{size:16}):r.jsx(x,{size:16})),r.jsx("span",{children:e.bank_name}),e.ist_standard&&r.jsx(m,{size:14,fill:"#ffd700",color:"#ffd700"})]},e.id);var a}),r.jsxs("button",{type:"button",className:"tab tab-add",onClick:()=>{k({bank_name:"",bank_typ:"bank",ist_aktiv:!0,ist_standard:!1,iban:"",bic:"",kontoinhaber:"",sepa_glaeubiger_id:"",stripe_publishable_key:"",stripe_secret_key:"",stripe_account_id:"",paypal_email:"",paypal_client_id:"",paypal_client_secret:"",notizen:""}),f(!0)},children:[r.jsx(h,{size:16}),"Neue Bank"]})]}),r.jsx("div",{className:"tabs-content",children:o?r.jsx("div",{className:"loading",children:"LÃ¤dt..."}):v?r.jsxs("div",{className:"bank-form",children:[r.jsx("h2",{className:"bank-form-title",children:"NEUE BANKVERBINDUNG HINZUFÃœGEN"}),z(!0),r.jsxs("div",{className:"form-actions",children:[r.jsxs("button",{type:"button",onClick:async()=>{if(_.bank_name)try{d(!0);const e=await t.post(`/dojo-banken/${a}`,{..._,ist_aktiv:!0});j("Bank erfolgreich hinzugefÃ¼gt"),f(!1),await y(),l(e.data.id),setTimeout(()=>j(""),3e3)}catch(e){console.error("Fehler beim HinzufÃ¼gen:",e),j("Fehler beim HinzufÃ¼gen der Bank")}finally{d(!1)}else j("Bankname ist erforderlich")},className:"logout-button",children:[r.jsx(h,{size:16}),"Speichern"]}),r.jsx("button",{type:"button",onClick:()=>f(!1),className:"logout-button",children:"Abbrechen"})]})]}):r.jsxs("div",{className:"bank-form",children:[z(),r.jsxs("div",{className:"form-actions",children:[r.jsxs("button",{type:"button",onClick:async()=>{var e,r,n;if(console.log("ðŸ”„ handleSaveBank aufgerufen",{dojoId:a,activeTab:i,formData:_}),_.bank_name){if(!a||!i)return console.error("âŒ dojoId oder activeTab fehlt:",{dojoId:a,activeTab:i}),void j("Fehler: Dojo oder Bank nicht ausgewÃ¤hlt");try{d(!0);const e=`/dojo-banken/${a}/${i}`;console.log("ðŸ“¤ PUT Request an:",e,"mit Daten:",_);const r=await t.put(e,_);console.log("âœ… Speichern erfolgreich:",r.data),j("Bank erfolgreich gespeichert"),y(),setTimeout(()=>j(""),3e3)}catch(s){console.error("âŒ Fehler beim Speichern:",(null==(e=s.response)?void 0:e.data)||s.message),j("Fehler beim Speichern der Bank: "+((null==(n=null==(r=s.response)?void 0:r.data)?void 0:n.error)||s.message))}finally{d(!1)}}else j("Bankname ist erforderlich")},disabled:o,className:"logout-button",children:[r.jsx(u,{size:16}),"Speichern"]}),n.length>2&&r.jsxs("button",{type:"button",onClick:()=>(async e=>{if(confirm("MÃ¶chten Sie diese Bankverbindung wirklich lÃ¶schen?"))try{d(!0),await t.delete(`/dojo-banken/${a}/${e}`),j("Bank erfolgreich gelÃ¶scht"),await y(),setTimeout(()=>j(""),3e3)}catch(r){console.error("Fehler beim LÃ¶schen:",r),j("Fehler beim LÃ¶schen der Bank")}finally{d(!1)}})(i),disabled:o,className:"logout-button",style:{background:"rgba(239, 68, 68, 0.1)",borderColor:"rgba(239, 68, 68, 0.4)",color:"#ef4444"},children:[r.jsx(p,{size:16}),"LÃ¶schen"]}),r.jsx("button",{type:"button",onClick:()=>{if(i){const e=n.find(e=>e.id===i);e&&N(e)}},disabled:o,className:"logout-button",children:"Abbrechen"})]})]})})]})},C=({dojoId:a})=>{const[n,s]=e.useState({}),[i,l]=e.useState(!1),[o,d]=e.useState(null),[c,m]=e.useState({type:"",text:""});e.useEffect(()=>{a&&"new"!==a&&h()},[a]);const h=async()=>{try{l(!0);const e=await t.get(`/dojos/${a}/logos`),r={};e.data.forEach(e=>{r[e.logo_type]=e}),s(r)}catch(e){console.error("Fehler beim Laden der Logos:",e),x("error","Fehler beim Laden der Logos")}finally{l(!1)}},u=async(e,r)=>{if(!r)return;if(r.size>2097152)return void x("error","Datei zu groÃŸ. Maximum: 2 MB");["image/png","image/jpeg","image/jpg","image/svg+xml","image/webp"].includes(r.type)?await p(e,r):x("error","UngÃ¼ltiges Format. Erlaubt: PNG, JPG, SVG, WebP")},p=async(e,r)=>{var n,s;try{d(e);const n=new FormData;n.append("logo",r);const s=await t.post(`/dojos/${a}/logos/${e}`,n,{headers:{"Content-Type":"multipart/form-data"}});x("success",s.data.message||"Logo erfolgreich hochgeladen"),await h()}catch(i){console.error("Fehler beim Hochladen:",i),x("error",(null==(s=null==(n=i.response)?void 0:n.data)?void 0:s.error)||"Fehler beim Hochladen")}finally{d(null)}},x=(e,r)=>{m({type:e,text:r}),setTimeout(()=>m({type:"",text:""}),5e3)},b=e=>{e.preventDefault(),e.stopPropagation()};return"new"===a?r.jsxs("div",{className:"logo-section-disabled",children:[r.jsx(g,{size:48,color:"#ffd700"}),r.jsx("p",{children:"Logo-Verwaltung ist nur fÃ¼r gespeicherte Dojos verfÃ¼gbar."}),r.jsx("p",{className:"hint",children:"Bitte speichern Sie zuerst die Grunddaten."})]}):r.jsxs("div",{className:"dojo-logos-container",children:[c.text&&r.jsxs("div",{className:`message-banner ${c.type}`,children:["success"===c.type?r.jsx(j,{size:20}):r.jsx(g,{size:20}),r.jsx("span",{children:c.text})]}),r.jsx("div",{className:"logos-grid",children:[{key:"haupt",label:"Haupt-Logo",description:"PrimÃ¤res Dojo-Logo"},{key:"alternativ",label:"Alternatives Logo",description:"Alternative Version"},{key:"partner1",label:"Partner-Logo 1",description:"Erster Partner"},{key:"partner2",label:"Partner-Logo 2",description:"Zweiter Partner"},{key:"social",label:"Social Media Logo",description:"FÃ¼r Social Media"}].map(e=>{const d=n[e.key],c=o===e.key;return r.jsxs("div",{className:"logo-upload-card",children:[r.jsxs("div",{className:"logo-card-header",children:[r.jsx("h3",{children:e.label}),r.jsx("span",{className:"logo-description",children:e.description})]}),r.jsx("div",{className:`logo-dropzone ${d?"has-logo":""} ${c?"uploading":""}`,onDragOver:b,onDrop:r=>((e,r)=>{e.preventDefault(),e.stopPropagation();const a=e.dataTransfer.files[0];u(r,a)})(r,e.key),children:d?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"logo-preview",children:r.jsx("img",{src:d.url,alt:e.label,className:"logo-image"})}),r.jsxs("div",{className:"logo-info",children:[r.jsx("p",{className:"logo-filename",children:d.file_name}),r.jsxs("p",{className:"logo-size",children:[(d.file_size/1024).toFixed(1)," KB"]})]}),r.jsxs("button",{className:"btn-delete-logo",onClick:()=>(async(e,r)=>{if(window.confirm("Logo wirklich lÃ¶schen?"))try{l(!0),await t.delete(`/dojos/${a}/logos/${e}`),x("success","Logo erfolgreich gelÃ¶scht");const i={...n};delete i[r],s(i)}catch(i){console.error("Fehler beim LÃ¶schen:",i),x("error","Fehler beim LÃ¶schen des Logos")}finally{l(!1)}})(d.logo_id,e.key),disabled:i,children:[r.jsx(v,{size:18}),"LÃ¶schen"]})]}):r.jsxs(r.Fragment,{children:[r.jsx("input",{type:"file",id:`file-${e.key}`,accept:"image/png,image/jpeg,image/jpg,image/svg+xml,image/webp",onChange:r=>u(e.key,r.target.files[0]),className:"file-input",disabled:c}),r.jsx("label",{htmlFor:`file-${e.key}`,className:"upload-label",children:c?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"spinner"}),r.jsx("p",{children:"Wird hochgeladen..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(f,{size:48,color:"rgba(255, 215, 0, 0.4)"}),r.jsx("p",{className:"upload-title",children:"Logo hochladen"}),r.jsx("p",{className:"upload-hint",children:"Klicken oder Drag & Drop"}),r.jsx("p",{className:"upload-format",children:"PNG, JPG, SVG, WebP â€¢ Max 2 MB"})]})})]})})]},e.key)})}),r.jsxs("div",{className:"logos-info-box",children:[r.jsx(_,{size:20,color:"#ffd700"}),r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"UnterstÃ¼tzte Formate:"})," PNG, JPG, SVG, WebP"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Maximale GrÃ¶ÃŸe:"})," 2 MB pro Logo"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Verwendung:"})," Logos werden automatisch im System verfÃ¼gbar gemacht"]})]})]})]})},B=()=>{const{id:t}=z(),m=w(),{updateDojo:h}=i(),{isAdmin:u}=l(),{theme:p,setTheme:x,currentTheme:b,themes:j,isDarkMode:v}=o(),[f,_]=e.useState(!1),[B,T]=e.useState(""),[D,I]=e.useState("grunddaten"),[E,A]=e.useState(!1),[F,P]=e.useState(null),[R,V]=e.useState(null),[M,L]=e.useState(null),[G,$]=e.useState(!1),[U,W]=e.useState(!1),[K,H]=e.useState(!1),[O,Z]=e.useState(""),[J,q]=e.useState(!1),[X,Y]=e.useState(""),[Q,ee]=e.useState(!1),[re,ae]=e.useState({email_mode:"zentral",smtp_host:"",smtp_port:587,smtp_secure:!0,smtp_user:"",smtp_password:"",tda_email:"",tda_email_password:""}),[ne,se]=e.useState(!1),[te,ie]=e.useState(""),[le,oe]=e.useState(""),de="new"===t,ce=Object.values(j),ge=[{key:"grunddaten",label:"Grunddaten",icon:"ðŸ¯"},{key:"kontakt",label:"Kontakt",icon:"ðŸ“"},{key:"raeume",label:"RÃ¤ume",icon:"ðŸšª"},{key:"steuer",label:"Steuern",icon:"âš–ï¸"},{key:"rechtliches",label:"Rechtliches",icon:"ðŸ“œ"},{key:"bank",label:"Bank",icon:"ðŸ¦"},{key:"versicherungen",label:"Versicherungen",icon:"ðŸ›¡ï¸"},{key:"vertraege",label:"VertrÃ¤ge",icon:"ðŸ“"},{key:"sport",label:"Sport",icon:"ðŸ¥‹"},{key:"social",label:"Social Media",icon:"ðŸ“±"},{key:"betrieb",label:"Betrieb & Kontakte",icon:"â˜Žï¸"},{key:"dokumente",label:"Dokumente",icon:"ðŸ“„"},{key:"logos",label:"Logos",icon:"ðŸ–¼ï¸"},{key:"admins",label:"Admin-Accounts",icon:"ðŸ”"},{key:"api",label:"API-Zugang",icon:"ðŸ”—",adminOnly:!0},{key:"system",label:"System",icon:"âš™ï¸"},{key:"design",label:"Design",icon:"ðŸŽ¨"},{key:"probetraining",label:"Probetraining",icon:"ðŸ¥‹"},{key:"email",label:"E-Mail",icon:"âœ‰ï¸"}].filter(e=>!e.adminOnly||u),[me,he]=e.useState({dojoname:"",inhaber:"",untertitel:"",vertreter:"",gruendungsjahr:"",rechtsform:"Verein",strasse:"",hausnummer:"",plz:"",ort:"",land:"Deutschland",telefon:"",mobil:"",fax:"",email:"",email_info:"",email_anmeldung:"",internet:"",whatsapp_nummer:"",steuer_status:"kleinunternehmer",ust_satz:0,kleinunternehmer_grenze:22e3,steuernummer:"",ust_id:"",umsatzsteuer_id:"",finanzamt_name:"",finanzamt:null,steuerberater:"",steuerberater_telefon:"",umsatzsteuerpflichtig:!1,kleinunternehmer:!1,gemeinnuetzig:!1,freistellungsbescheid_datum:"",vereinsregister_nr:"",amtsgericht:"",handelsregister_nr:"",geschaeftsfuehrer:"",vorstand_1_vorsitzender:"",vorstand_2_vorsitzender:"",vorstand_kassenwart:"",vorstand_schriftfuehrer:"",sepa_glaeubiger_id:"",iban:"",bic:"",bank:"",bank_inhaber:"",bank_verwendungszweck:"",paypal_email:"",lastschrift_aktiv:!1,haftpflicht_versicherung:"",haftpflicht_police_nr:"",haftpflicht_ablauf:"",unfallversicherung:"",unfallversicherung_police_nr:"",gebaeudeversicherung:"",kuendigungsfrist_monate:3,mindestlaufzeit_monate:12,probezeit_tage:14,kuendigung_nur_monatsende:!0,kuendigung_schriftlich:!0,automatische_verlaengerung:!0,verlaengerung_monate:12,kuendigung_erstlaufzeit_monate:3,kuendigung_verlaengerung_monate:1,vertragsmodell:"gesetzlich",beitragsgarantie_bei_nichtverlaengerung:"aktueller_tarif",verlaengerung_erinnerung_tage:60,verlaengerung_erinnerung2_tage:30,verlaengerung_erinnerung3_tage:14,verlaengerung_email_text:"",vertrag_3_monate_preis:"",vertrag_6_monate_preis:"",vertrag_12_monate_preis:"",vertrag_3_monate_aktiv:!0,vertrag_6_monate_aktiv:!0,vertrag_12_monate_aktiv:!0,jahresbeitrag:"",familienrabatt_prozent:"",schuelerrabatt_prozent:"",vereinsmitglied_rabatt_prozent:"",mehrfachtraining_rabatt_prozent:"",beitrag_erwachsene:"",beitrag_kinder:"",beitrag_familien:"",aufnahmegebuehr:"",mahnung_gebuehr:5,kampfkunst_stil:"",verband:"",verband_mitgliedsnummer:"",lizenz_trainer_a:0,lizenz_trainer_b:0,lizenz_trainer_c:0,notfallkontakt_name:"",notfallkontakt_telefon:"",hausmeister_kontakt:"",feiertage_geschlossen:!0,ferien_geschlossen:!1,facebook_url:"",instagram_url:"",youtube_url:"",twitter_url:"",google_maps_url:"",newsletter_aktiv:!1,agb_text:"",agb_version:"1.0",agb_letzte_aenderung:null,dsgvo_text:"",dsgvo_version:"1.0",dsgvo_letzte_aenderung:null,dojo_regeln_text:"",hausordnung_text:"",haftungsausschluss_text:"",widerrufsbelehrung_text:"",impressum_text:"",vertragsbedingungen_text:"",farbe:"#FFD700",logo_url:"",theme_scheme:"default",sprache:"de",zeitzone:"Europe/Berlin",waehrung:"EUR",dsgvo_beauftragte:"",max_mitglieder:500});e.useEffect(()=>{de||ue()},[t,de]);const ue=async()=>{_(!0);try{const e=await d(`${c.apiBaseUrl}/dojos/${t}`);if(!e.ok)throw new Error("Fehler beim Laden des Dojos");const r=await e.json();Y(r.subdomain||""),he({dojoname:r.dojoname||"",inhaber:r.inhaber||"",untertitel:r.untertitel||"",vertreter:r.vertreter||"",gruendungsjahr:r.gruendungsjahr||"",rechtsform:r.rechtsform||"Verein",strasse:r.strasse||"",hausnummer:r.hausnummer||"",plz:r.plz||"",ort:r.ort||"",land:r.land||"Deutschland",telefon:r.telefon||"",mobil:r.mobil||"",fax:r.fax||"",email:r.email||"",email_info:r.email_info||"",email_anmeldung:r.email_anmeldung||"",internet:r.internet||"",whatsapp_nummer:r.whatsapp_nummer||"",steuer_status:r.steuer_status||"kleinunternehmer",ust_satz:r.ust_satz||0,kleinunternehmer_grenze:r.kleinunternehmer_grenze||22e3,steuernummer:r.steuernummer||"",ust_id:r.ust_id||"",finanzamt_name:r.finanzamt_name||"",finanzamt:r.finanzamt||null,steuerberater:r.steuerberater||"",umsatzsteuerpflichtig:r.umsatzsteuerpflichtig||!1,kleinunternehmer:r.kleinunternehmer||!1,gemeinnuetzig:r.gemeinnuetzig||!1,vereinsregister_nr:r.vereinsregister_nr||"",amtsgericht:r.amtsgericht||"",handelsregister_nr:r.handelsregister_nr||"",geschaeftsfuehrer:r.geschaeftsfuehrer||"",vorstand_1_vorsitzender:r.vorstand_1_vorsitzender||"",vorstand_2_vorsitzender:r.vorstand_2_vorsitzender||"",vorstand_kassenwart:r.vorstand_kassenwart||"",vorstand_schriftfuehrer:r.vorstand_schriftfuehrer||"",sepa_glaeubiger_id:r.sepa_glaeubiger_id||"",iban:r.iban||"",bic:r.bic||"",bank:r.bank||"",bank_inhaber:r.bank_inhaber||"",bank_verwendungszweck:r.bank_verwendungszweck||"",paypal_email:r.paypal_email||"",lastschrift_aktiv:r.lastschrift_aktiv??!1,haftpflicht_versicherung:r.haftpflicht_versicherung||"",haftpflicht_police_nr:r.haftpflicht_police_nr||"",haftpflicht_ablauf:r.haftpflicht_ablauf||"",unfallversicherung:r.unfallversicherung||"",unfallversicherung_police_nr:r.unfallversicherung_police_nr||"",gebaeudeversicherung:r.gebaeudeversicherung||"",kuendigungsfrist_monate:r.kuendigungsfrist_monate||3,mindestlaufzeit_monate:r.mindestlaufzeit_monate||12,probezeit_tage:r.probezeit_tage||14,kuendigung_nur_monatsende:r.kuendigung_nur_monatsende??!0,kuendigung_schriftlich:r.kuendigung_schriftlich??!0,automatische_verlaengerung:r.automatische_verlaengerung??!0,verlaengerung_monate:r.verlaengerung_monate||12,kuendigung_erstlaufzeit_monate:r.kuendigung_erstlaufzeit_monate||3,kuendigung_verlaengerung_monate:r.kuendigung_verlaengerung_monate||1,vertragsmodell:r.vertragsmodell||"gesetzlich",beitragsgarantie_bei_nichtverlaengerung:r.beitragsgarantie_bei_nichtverlaengerung||"aktueller_tarif",verlaengerung_erinnerung_tage:r.verlaengerung_erinnerung_tage||60,verlaengerung_erinnerung2_tage:r.verlaengerung_erinnerung2_tage||30,verlaengerung_erinnerung3_tage:r.verlaengerung_erinnerung3_tage||14,verlaengerung_email_text:r.verlaengerung_email_text||"",vertrag_3_monate_preis:r.vertrag_3_monate_preis||"",vertrag_6_monate_preis:r.vertrag_6_monate_preis||"",vertrag_12_monate_preis:r.vertrag_12_monate_preis||"",vertrag_3_monate_aktiv:r.vertrag_3_monate_aktiv??!0,vertrag_6_monate_aktiv:r.vertrag_6_monate_aktiv??!0,vertrag_12_monate_aktiv:r.vertrag_12_monate_aktiv??!0,jahresbeitrag:r.jahresbeitrag||"",familienrabatt_prozent:r.familienrabatt_prozent||"",schuelerrabatt_prozent:r.schuelerrabatt_prozent||"",vereinsmitglied_rabatt_prozent:r.vereinsmitglied_rabatt_prozent||"",mehrfachtraining_rabatt_prozent:r.mehrfachtraining_rabatt_prozent||"",beitrag_erwachsene:r.beitrag_erwachsene||"",beitrag_kinder:r.beitrag_kinder||"",beitrag_familien:r.beitrag_familien||"",aufnahmegebuehr:r.aufnahmegebuehr||"",mahnung_gebuehr:r.mahnung_gebuehr||5,kampfkunst_stil:r.kampfkunst_stil||"",verband:r.verband||"",verband_mitgliedsnummer:r.verband_mitgliedsnummer||"",lizenz_trainer_a:r.lizenz_trainer_a||0,lizenz_trainer_b:r.lizenz_trainer_b||0,lizenz_trainer_c:r.lizenz_trainer_c||0,notfallkontakt_name:r.notfallkontakt_name||"",notfallkontakt_telefon:r.notfallkontakt_telefon||"",hausmeister_kontakt:r.hausmeister_kontakt||"",feiertage_geschlossen:r.feiertage_geschlossen??!0,ferien_geschlossen:r.ferien_geschlossen??!1,facebook_url:r.facebook_url||"",instagram_url:r.instagram_url||"",youtube_url:r.youtube_url||"",twitter_url:r.twitter_url||"",google_maps_url:r.google_maps_url||"",newsletter_aktiv:r.newsletter_aktiv??!1,agb_text:r.agb_text||"",agb_version:r.agb_version||"1.0",agb_letzte_aenderung:r.agb_letzte_aenderung||null,dsgvo_text:r.dsgvo_text||"",dsgvo_version:r.dsgvo_version||"1.0",dsgvo_letzte_aenderung:r.dsgvo_letzte_aenderung||null,dojo_regeln_text:r.dojo_regeln_text||"",hausordnung_text:r.hausordnung_text||"",haftungsausschluss_text:r.haftungsausschluss_text||"",widerrufsbelehrung_text:r.widerrufsbelehrung_text||"",impressum_text:r.impressum_text||"",vertragsbedingungen_text:r.vertragsbedingungen_text||"",farbe:r.farbe||"#FFD700",logo_url:r.logo_url||"",theme_scheme:r.theme_scheme||"default",sprache:r.sprache||"de",zeitzone:r.zeitzone||"Europe/Berlin",waehrung:r.waehrung||"EUR",dsgvo_beauftragte:r.dsgvo_beauftragte||"",max_mitglieder:r.max_mitglieder||500})}catch(e){T("Fehler beim Laden des Dojos"),console.error(e)}finally{_(!1)}},pe=async()=>{if(de)return void T("âš ï¸ Bitte speichern Sie das Dojo zuerst, bevor Sie einen API-Token generieren.");const e=F?"âš ï¸ WARNUNG: Dies wird Ihren bestehenden API-Token ungÃ¼ltig machen!\n\nAlle TDA-Turniere, die den alten Token verwenden, mÃ¼ssen aktualisiert werden.\n\nMÃ¶chten Sie wirklich einen neuen Token generieren?":"MÃ¶chten Sie einen neuen API-Token generieren?";if(window.confirm(e)){$(!0);try{const e=await d(`${c.apiBaseUrl}/dojos/${t}/generate-api-token`,{method:"POST",headers:{"Content-Type":"application/json"}}),r=await e.json();if(!r.success)throw new Error(r.error||"Token-Generierung fehlgeschlagen");P(r.token),V(r.created_at),L(null),T("âœ… API-Token erfolgreich generiert!"),setTimeout(()=>T(""),3e3)}catch(r){console.error("Error generating API token:",r),T("âŒ Fehler beim Generieren des Tokens: "+r.message)}finally{$(!1)}}},xe=(e,r)=>{navigator.clipboard.writeText(e),T(`âœ… ${r} kopiert!`),setTimeout(()=>T(""),2e3)},be=e=>{if(!e)return"1.1";const r=e.split("."),a=parseInt(r[1]||"0")+1;return`${r[0]}.${a}`},je=async(e=!1)=>{if(de)Z("Bitte speichern Sie das Dojo zuerst.");else{W(!0),Z("");try{const r=e?be(me.agb_version):me.agb_version,a=e?be(me.dsgvo_version):me.dsgvo_version,n=await d(`${c.apiBaseUrl}/agb/${t}/update`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({agb_text:me.agb_text,agb_version:r,dsgvo_text:me.dsgvo_text,dsgvo_version:a,sendNotification:K})}),s=await n.json();if(!s.success)throw new Error(s.error||"Speichern fehlgeschlagen");{he(e=>({...e,agb_version:r,dsgvo_version:a,agb_letzte_aenderung:(new Date).toISOString(),dsgvo_letzte_aenderung:(new Date).toISOString()}));let e="AGB & Datenschutz erfolgreich gespeichert!";s.notifications&&(e+=` (${s.notifications.sent}/${s.notifications.total} E-Mails gesendet)`),Z(e),H(!1),setTimeout(()=>Z(""),5e3)}}catch(r){console.error("Error saving AGB:",r),Z("Fehler: "+r.message)}finally{W(!1)}}};e.useEffect(()=>{de||"api"!==D||(async()=>{if(!de)try{const e=await d(`${c.apiBaseUrl}/dojos/${t}/api-token`),r=await e.json();r.success&&r.token&&(P(r.token),V(r.created_at),L(r.last_used))}catch(e){console.error("Error loading API token:",e)}})(),de||"email"!==D||(async()=>{try{se(!0);const e=await d(`${c.apiBaseUrl}/email-settings/dojo/${t}`);if(e.ok){const r=await e.json();r.success&&ae({email_mode:r.data.email_mode||"zentral",smtp_host:r.data.smtp_host||"",smtp_port:r.data.smtp_port||587,smtp_secure:r.data.smtp_secure??!0,smtp_user:r.data.smtp_user||"",smtp_password:"",tda_email:r.data.tda_email||"",tda_email_password:"",has_smtp_password:r.data.has_smtp_password,has_tda_password:r.data.has_tda_password})}}catch(e){console.error("Fehler beim Laden der E-Mail-Einstellungen:",e)}finally{se(!1)}})()},[t,de,D]);return r.jsxs("div",{className:"dojo-edit-page",children:[r.jsxs("div",{className:"dojo-edit-header",children:[r.jsxs("button",{className:"back-button",onClick:()=>m("/dashboard/dojos"),children:[r.jsx(k,{size:20}),"ZurÃ¼ck"]}),r.jsx("h1",{children:de?"Neues Dojo hinzufÃ¼gen":"Dojo bearbeiten"}),me.dojoname&&r.jsx("span",{className:"dojo-name-header",children:me.dojoname})]}),B&&r.jsxs("div",{className:"message "+(B.includes("Fehler")?"error":"success"),children:[B.includes("Fehler")?r.jsx(g,{size:20}):null,B]}),r.jsxs("div",{className:"dojo-edit-layout",children:[r.jsxs("aside",{className:"dojo-sidebar "+(E?"collapsed":""),children:[r.jsx("button",{className:"tab-vertical-btn sidebar-toggle-btn active",onClick:()=>A(!E),title:E?"Sidebar Ã¶ffnen":"Sidebar schlieÃŸen",children:r.jsx("span",{className:"tab-icon",children:E?"Â»":"Â«"})}),r.jsxs("div",{className:"mitglied-header",children:[r.jsx("div",{className:"mitglied-avatar",style:{fontSize:"2.5rem"},children:"ðŸ¯"}),!E&&r.jsx("div",{className:"mitglied-name",children:me.dojoname||"Dojo-Einstellungen"})]}),r.jsx("nav",{className:"tabs-vertical","aria-label":"Dojo Tabs",children:ge.map(e=>r.jsxs("button",{className:"tab-vertical-btn "+(D===e.key?"active":""),onClick:()=>I(e.key),title:E?e.label:"",type:"button",children:[r.jsx("span",{className:"tab-icon",children:e.icon}),!E&&r.jsx("span",{className:"tab-label",children:e.label})]},e.key))})]}),r.jsx("div",{className:"dojo-content "+(E?"collapsed":""),children:r.jsxs("form",{onSubmit:async e=>{e.preventDefault(),_(!0);try{const e=de?`${c.apiBaseUrl}/dojos`:`${c.apiBaseUrl}/dojos/${t}`,r=de?"POST":"PUT",a={...me,ust_satz:"regelbesteuerung"===me.steuer_status?19:0,finanzamt:me.finanzamt?JSON.stringify(me.finanzamt):null},n=await d(e,{method:r,headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!n.ok){const e=await n.json();throw new Error(e.error||"Fehler beim Speichern")}if(T(`Dojo erfolgreich ${de?"erstellt":"gespeichert"}!`),de){const e=await n.json();e.id&&setTimeout(()=>{m(`/dashboard/dojos/edit/${e.id}`)},1e3)}else setTimeout(()=>{T("")},3e3)}catch(r){T(`Fehler: ${r.message}`)}finally{_(!1)}},className:"dojo-form",children:[r.jsxs("div",{className:"form-content",children:["grunddaten"===D&&r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"Grunddaten"}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Dojo-Name *"}),r.jsx("input",{type:"text",value:me.dojoname,onChange:e=>he({...me,dojoname:e.target.value}),required:!0,placeholder:"z.B. Tiger & Dragon Dojo"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Untertitel"}),r.jsx("input",{type:"text",value:me.untertitel,onChange:e=>he({...me,untertitel:e.target.value}),placeholder:"z.B. Traditionelles Karate seit 1985"})]})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Inhaber/Dojo-Leiter *"}),r.jsx("input",{type:"text",value:me.inhaber,onChange:e=>he({...me,inhaber:e.target.value}),required:!0,placeholder:"Vor- und Nachname"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Stellvertreter"}),r.jsx("input",{type:"text",value:me.vertreter,onChange:e=>he({...me,vertreter:e.target.value}),placeholder:"2. Vorsitzender/Stellvertreter"})]})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"GrÃ¼ndungsjahr"}),r.jsx("input",{type:"number",value:me.gruendungsjahr,onChange:e=>he({...me,gruendungsjahr:e.target.value}),placeholder:"z.B. 1985",min:"1900",max:"2030"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Rechtsform"}),r.jsxs("select",{value:me.rechtsform,onChange:e=>he({...me,rechtsform:e.target.value}),children:[r.jsx("option",{value:"Verein",children:"Eingetragener Verein (e.V.)"}),r.jsx("option",{value:"GmbH",children:"GmbH"}),r.jsx("option",{value:"Einzelunternehmen",children:"Einzelunternehmen"}),r.jsx("option",{value:"GbR",children:"GbR"}),r.jsx("option",{value:"UG",children:"UG (haftungsbeschrÃ¤nkt)"}),r.jsx("option",{value:"AG",children:"AG"})]})]})]}),r.jsx("h4",{style:{marginTop:"1.5rem",marginBottom:"1rem",color:"#ffd700"},children:"Adresse"}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"StraÃŸe"}),r.jsx("input",{type:"text",value:me.strasse,onChange:e=>he({...me,strasse:e.target.value}),placeholder:"StraÃŸenname"})]}),r.jsxs("div",{className:"form-group",style:{maxWidth:"120px"},children:[r.jsx("label",{children:"Hausnummer"}),r.jsx("input",{type:"text",value:me.hausnummer,onChange:e=>he({...me,hausnummer:e.target.value}),placeholder:"123a"})]})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",style:{maxWidth:"150px"},children:[r.jsx("label",{children:"PLZ"}),r.jsx("input",{type:"text",value:me.plz,onChange:e=>he({...me,plz:e.target.value}),placeholder:"12345"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Ort"}),r.jsx("input",{type:"text",value:me.ort,onChange:e=>he({...me,ort:e.target.value}),placeholder:"Musterstadt"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Land"}),r.jsx("input",{type:"text",value:me.land,onChange:e=>he({...me,land:e.target.value}),placeholder:"Deutschland"})]})]})]}),"kontakt"===D&&r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"Kontaktdaten"}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Telefon (Festnetz)"}),r.jsx("input",{type:"tel",value:me.telefon,onChange:e=>he({...me,telefon:e.target.value}),placeholder:"+49 123 456789"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Mobil"}),r.jsx("input",{type:"tel",value:me.mobil,onChange:e=>he({...me,mobil:e.target.value}),placeholder:"+49 170 1234567"})]})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Fax"}),r.jsx("input",{type:"tel",value:me.fax,onChange:e=>he({...me,fax:e.target.value}),placeholder:"+49 123 456788"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"WhatsApp Nummer"}),r.jsx("input",{type:"tel",value:me.whatsapp_nummer,onChange:e=>he({...me,whatsapp_nummer:e.target.value}),placeholder:"+49 170 1234567"})]})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"E-Mail (Haupt)"}),r.jsx("input",{type:"email",value:me.email,onChange:e=>he({...me,email:e.target.value}),placeholder:"kontakt@dojo.de"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"E-Mail (Info)"}),r.jsx("input",{type:"email",value:me.email_info,onChange:e=>he({...me,email_info:e.target.value}),placeholder:"info@dojo.de"})]})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"E-Mail (Anmeldungen)"}),r.jsx("input",{type:"email",value:me.email_anmeldung,onChange:e=>he({...me,email_anmeldung:e.target.value}),placeholder:"anmeldung@dojo.de"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Webseite"}),r.jsx("input",{type:"url",value:me.internet,onChange:e=>he({...me,internet:e.target.value}),placeholder:"https://www.dojo.de"})]})]})]}),"raeume"===D&&r.jsx("div",{className:"form-section",style:{padding:0,background:"transparent"},children:r.jsx(a,{})}),"rechtliches"===D&&r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"Rechtliche Informationen"}),r.jsx("h4",{style:{marginTop:"1.5rem",marginBottom:"1rem",color:"#ffd700"},children:"Register & BehÃ¶rden"}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Vereinsregister-Nr."}),r.jsx("input",{type:"text",value:me.vereinsregister_nr,onChange:e=>he({...me,vereinsregister_nr:e.target.value}),placeholder:"VR 12345"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Amtsgericht"}),r.jsx("input",{type:"text",value:me.amtsgericht,onChange:e=>he({...me,amtsgericht:e.target.value}),placeholder:"z.B. Amtsgericht MÃ¼nchen"})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Handelsregister-Nr."}),r.jsx("input",{type:"text",value:me.handelsregister_nr,onChange:e=>he({...me,handelsregister_nr:e.target.value}),placeholder:"HRB 12345"})]}),r.jsx("h4",{style:{marginTop:"1.5rem",marginBottom:"1rem",color:"#ffd700"},children:"Vorstand (fÃ¼r Vereine)"}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"1. Vorsitzender"}),r.jsx("input",{type:"text",value:me.vorstand_1_vorsitzender,onChange:e=>he({...me,vorstand_1_vorsitzender:e.target.value}),placeholder:"Vor- und Nachname"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"2. Vorsitzender"}),r.jsx("input",{type:"text",value:me.vorstand_2_vorsitzender,onChange:e=>he({...me,vorstand_2_vorsitzender:e.target.value}),placeholder:"Vor- und Nachname"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Kassenwart"}),r.jsx("input",{type:"text",value:me.vorstand_kassenwart,onChange:e=>he({...me,vorstand_kassenwart:e.target.value}),placeholder:"Vor- und Nachname"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"SchriftfÃ¼hrer"}),r.jsx("input",{type:"text",value:me.vorstand_schriftfuehrer,onChange:e=>he({...me,vorstand_schriftfuehrer:e.target.value}),placeholder:"Vor- und Nachname"})]}),"Verein"!==me.rechtsform&&r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"GeschÃ¤ftsfÃ¼hrer"}),r.jsx("input",{type:"text",value:me.geschaeftsfuehrer,onChange:e=>he({...me,geschaeftsfuehrer:e.target.value}),placeholder:"Vor- und Nachname"})]})]}),"versicherungen"===D&&r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"Versicherungen"}),r.jsx("h4",{style:{marginTop:"1.5rem",marginBottom:"1rem",color:"#ffd700"},children:"Haftpflichtversicherung"}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Versicherungsgesellschaft"}),r.jsx("input",{type:"text",value:me.haftpflicht_versicherung,onChange:e=>he({...me,haftpflicht_versicherung:e.target.value}),placeholder:"z.B. ARAG Sportversicherung"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Policen-Nr."}),r.jsx("input",{type:"text",value:me.haftpflicht_police_nr,onChange:e=>he({...me,haftpflicht_police_nr:e.target.value}),placeholder:"123456789"})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Ablaufdatum"}),r.jsx("input",{type:"date",value:me.haftpflicht_ablauf,onChange:e=>he({...me,haftpflicht_ablauf:e.target.value})})]}),r.jsx("h4",{style:{marginTop:"1.5rem",marginBottom:"1rem",color:"#ffd700"},children:"Weitere Versicherungen"}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Unfallversicherung"}),r.jsx("input",{type:"text",value:me.unfallversicherung,onChange:e=>he({...me,unfallversicherung:e.target.value}),placeholder:"Versicherungsgesellschaft"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Policen-Nr."}),r.jsx("input",{type:"text",value:me.unfallversicherung_police_nr,onChange:e=>he({...me,unfallversicherung_police_nr:e.target.value}),placeholder:"123456789"})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"GebÃ¤udeversicherung"}),r.jsx("input",{type:"text",value:me.gebaeudeversicherung,onChange:e=>he({...me,gebaeudeversicherung:e.target.value}),placeholder:"Versicherung und Policen-Nr."})]})]}),"vertraege"===D&&r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"Vertragsmodell & Einstellungen"}),r.jsx("p",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.6)",marginBottom:"1.5rem"},children:"WÃ¤hlen Sie das Vertragsmodell und konfigurieren Sie die Standardeinstellungen fÃ¼r neue VertrÃ¤ge"}),r.jsx("h4",{style:{marginTop:"1rem",marginBottom:"1rem",color:"#ffd700"},children:"ðŸ”„ Vertragsmodell auswÃ¤hlen"}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginBottom:"1.5rem"},children:[r.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"1rem",padding:"1rem",background:"gesetzlich"===me.vertragsmodell?"rgba(16, 185, 129, 0.15)":"rgba(255,255,255,0.05)",border:"gesetzlich"===me.vertragsmodell?"2px solid #10b981":"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s ease"},children:[r.jsx("input",{type:"radio",name:"vertragsmodell",value:"gesetzlich",checked:"gesetzlich"===me.vertragsmodell,onChange:e=>he({...me,vertragsmodell:e.target.value}),style:{marginTop:"4px"}}),r.jsxs("div",{children:[r.jsx("div",{style:{fontWeight:"600",color:"#fff",marginBottom:"0.25rem"},children:"ðŸ“œ Gesetzliche VerlÃ¤ngerung (Standard)"}),r.jsxs("div",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.6)",lineHeight:"1.5"},children:["Vertrag verlÃ¤ngert sich automatisch. Nach der VerlÃ¤ngerung kann das Mitglied jederzeit mit ",r.jsx("strong",{children:"1 Monat Frist"})," kÃ¼ndigen (gemÃ¤ÃŸ Gesetz fÃ¼r faire VerbrauchervertrÃ¤ge 2022)."]})]})]}),r.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"1rem",padding:"1rem",background:"beitragsgarantie"===me.vertragsmodell?"rgba(20, 184, 166, 0.15)":"rgba(255,255,255,0.05)",border:"beitragsgarantie"===me.vertragsmodell?"2px solid #14b8a6":"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s ease"},children:[r.jsx("input",{type:"radio",name:"vertragsmodell",value:"beitragsgarantie",checked:"beitragsgarantie"===me.vertragsmodell,onChange:e=>he({...me,vertragsmodell:e.target.value}),style:{marginTop:"4px"}}),r.jsxs("div",{children:[r.jsx("div",{style:{fontWeight:"600",color:"#fff",marginBottom:"0.25rem"},children:"ðŸ’° Beitragsgarantie-Modell"}),r.jsxs("div",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.6)",lineHeight:"1.5"},children:["Mitglied muss ",r.jsx("strong",{children:"aktiv verlÃ¤ngern"}),", um seinen aktuellen Beitrag zu behalten. Bei Nicht-VerlÃ¤ngerung gilt automatisch der aktuelle Tarifpreis oder der Vertrag endet."]})]})]})]}),"beitragsgarantie"===me.vertragsmodell&&r.jsxs("div",{style:{background:"rgba(20, 184, 166, 0.1)",border:"1px solid rgba(20, 184, 166, 0.3)",borderRadius:"12px",padding:"1.5rem",marginBottom:"1.5rem"},children:[r.jsx("h4",{style:{color:"#14b8a6",marginBottom:"1rem"},children:"âš™ï¸ Beitragsgarantie-Einstellungen"}),r.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[r.jsx("label",{children:"Bei Nicht-VerlÃ¤ngerung"}),r.jsxs("select",{value:me.beitragsgarantie_bei_nichtverlaengerung,onChange:e=>he({...me,beitragsgarantie_bei_nichtverlaengerung:e.target.value}),children:[r.jsx("option",{value:"aktueller_tarif",children:"Automatisch aktueller Tarifpreis"}),r.jsx("option",{value:"vertrag_endet",children:"Vertrag endet"})]})]}),r.jsx("h5",{style:{marginTop:"1rem",marginBottom:"0.75rem",color:"#fff"},children:"ðŸ“§ Erinnerungs-E-Mails"}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"1. Erinnerung (Tage vorher)"}),r.jsx("input",{type:"number",value:me.verlaengerung_erinnerung_tage,onChange:e=>he({...me,verlaengerung_erinnerung_tage:parseInt(e.target.value)}),min:"14",max:"90"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"2. Erinnerung (Tage vorher)"}),r.jsx("input",{type:"number",value:me.verlaengerung_erinnerung2_tage,onChange:e=>he({...me,verlaengerung_erinnerung2_tage:parseInt(e.target.value)}),min:"0",max:"60"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Letzte Erinnerung (Tage vorher)"}),r.jsx("input",{type:"number",value:me.verlaengerung_erinnerung3_tage,onChange:e=>he({...me,verlaengerung_erinnerung3_tage:parseInt(e.target.value)}),min:"0",max:"30"})]})]})]}),r.jsx("h4",{style:{marginTop:"1.5rem",marginBottom:"1rem",color:"#ffd700"},children:"ðŸ“ Allgemeine Einstellungen"}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"KÃ¼ndigungsfrist (Monate)"}),r.jsx("input",{type:"number",value:me.kuendigungsfrist_monate,onChange:e=>he({...me,kuendigungsfrist_monate:parseInt(e.target.value)}),min:"0",max:"12",placeholder:"z.B. 3"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Mindestlaufzeit (Monate)"}),r.jsx("input",{type:"number",value:me.mindestlaufzeit_monate,onChange:e=>he({...me,mindestlaufzeit_monate:parseInt(e.target.value)}),min:"0",max:"24",placeholder:"z.B. 12"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"VerlÃ¤ngerung (Monate)"}),r.jsx("input",{type:"number",value:me.verlaengerung_monate,onChange:e=>he({...me,verlaengerung_monate:parseInt(e.target.value)}),min:"1",max:"24",placeholder:"z.B. 12"})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Probezeit (Tage)"}),r.jsx("input",{type:"number",value:me.probezeit_tage,onChange:e=>he({...me,probezeit_tage:parseInt(e.target.value)}),min:"0",max:"90",placeholder:"z.B. 14"})]}),r.jsxs("div",{className:"form-row",style:{marginTop:"1rem"},children:[r.jsx("div",{className:"form-group",children:r.jsxs("label",{className:"checkbox-label",children:[r.jsx("input",{type:"checkbox",checked:me.kuendigung_nur_monatsende,onChange:e=>he({...me,kuendigung_nur_monatsende:e.target.checked})}),r.jsx("span",{children:"KÃ¼ndigung nur zum Monatsende"})]})}),r.jsx("div",{className:"form-group",children:r.jsxs("label",{className:"checkbox-label",children:[r.jsx("input",{type:"checkbox",checked:me.kuendigung_schriftlich,onChange:e=>he({...me,kuendigung_schriftlich:e.target.checked})}),r.jsx("span",{children:"KÃ¼ndigung muss schriftlich erfolgen"})]})})]}),r.jsx("h4",{style:{marginTop:"2rem",marginBottom:"1rem",color:"#ffd700"},children:"ðŸ’¶ Vertragslaufzeiten & Preise"}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{className:"checkbox-label",children:[r.jsx("input",{type:"checkbox",checked:me.vertrag_3_monate_aktiv,onChange:e=>he({...me,vertrag_3_monate_aktiv:e.target.checked})}),r.jsx("span",{children:"3-Monats-Vertrag aktiv"})]}),me.vertrag_3_monate_aktiv&&r.jsx("input",{type:"number",step:"0.01",value:me.vertrag_3_monate_preis,onChange:e=>he({...me,vertrag_3_monate_preis:e.target.value}),placeholder:"Preis in EUR",style:{marginTop:"0.5rem"}})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{className:"checkbox-label",children:[r.jsx("input",{type:"checkbox",checked:me.vertrag_6_monate_aktiv,onChange:e=>he({...me,vertrag_6_monate_aktiv:e.target.checked})}),r.jsx("span",{children:"6-Monats-Vertrag aktiv"})]}),me.vertrag_6_monate_aktiv&&r.jsx("input",{type:"number",step:"0.01",value:me.vertrag_6_monate_preis,onChange:e=>he({...me,vertrag_6_monate_preis:e.target.value}),placeholder:"Preis in EUR",style:{marginTop:"0.5rem"}})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{className:"checkbox-label",children:[r.jsx("input",{type:"checkbox",checked:me.vertrag_12_monate_aktiv,onChange:e=>he({...me,vertrag_12_monate_aktiv:e.target.checked})}),r.jsx("span",{children:"12-Monats-Vertrag aktiv"})]}),me.vertrag_12_monate_aktiv&&r.jsx("input",{type:"number",step:"0.01",value:me.vertrag_12_monate_preis,onChange:e=>he({...me,vertrag_12_monate_preis:e.target.value}),placeholder:"Preis in EUR",style:{marginTop:"0.5rem"}})]})]}),r.jsx("h4",{style:{marginTop:"2rem",marginBottom:"1rem",color:"#ffd700"},children:"ðŸ·ï¸ Rabatte"}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Familienrabatt (%)"}),r.jsx("input",{type:"number",step:"0.01",value:me.familienrabatt_prozent,onChange:e=>he({...me,familienrabatt_prozent:e.target.value}),placeholder:"z.B. 10",min:"0",max:"100"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"SchÃ¼lerrabatt (%)"}),r.jsx("input",{type:"number",step:"0.01",value:me.schuelerrabatt_prozent,onChange:e=>he({...me,schuelerrabatt_prozent:e.target.value}),placeholder:"z.B. 15",min:"0",max:"100"})]})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Vereinsmitglied-Rabatt (%)"}),r.jsx("input",{type:"number",step:"0.01",value:me.vereinsmitglied_rabatt_prozent,onChange:e=>he({...me,vereinsmitglied_rabatt_prozent:e.target.value}),placeholder:"z.B. 5",min:"0",max:"100"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Mehrfachtraining-Rabatt (%)"}),r.jsx("input",{type:"number",step:"0.01",value:me.mehrfachtraining_rabatt_prozent,onChange:e=>he({...me,mehrfachtraining_rabatt_prozent:e.target.value}),placeholder:"z.B. 10",min:"0",max:"100"})]})]}),r.jsx("div",{style:{background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"12px",padding:"1rem",marginTop:"2rem"},children:r.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[r.jsx("span",{style:{fontSize:"1.5rem"},children:"â„¹ï¸"}),r.jsxs("div",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.8)",lineHeight:"1.6"},children:[r.jsx("strong",{children:"Hinweis zum deutschen Verbraucherrecht:"}),r.jsx("br",{}),"Seit MÃ¤rz 2022 kÃ¶nnen Verbraucher nach automatischer VertragsverlÃ¤ngerung jederzeit mit 1 Monat Frist kÃ¼ndigen. Das Beitragsgarantie-Modell bietet eine faire Alternative: Mitglieder behalten ihren Preis, wenn sie aktiv verlÃ¤ngern."]})]})})]}),"sport"===D&&r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"Sport & Verband"}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Kampfkunst-Stil"}),r.jsx("input",{type:"text",value:me.kampfkunst_stil,onChange:e=>he({...me,kampfkunst_stil:e.target.value}),placeholder:"z.B. Shotokan Karate, Taekwondo, Jiu-Jitsu"})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Verband"}),r.jsx("input",{type:"text",value:me.verband,onChange:e=>he({...me,verband:e.target.value}),placeholder:"z.B. DKV, DOSB, DTB"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Verbands-Mitgliedsnummer"}),r.jsx("input",{type:"text",value:me.verband_mitgliedsnummer,onChange:e=>he({...me,verband_mitgliedsnummer:e.target.value}),placeholder:"123456"})]})]}),r.jsx("h4",{style:{marginTop:"1.5rem",marginBottom:"1rem",color:"#ffd700"},children:"Trainer-Lizenzen"}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"A-Lizenz Trainer"}),r.jsx("input",{type:"number",value:me.lizenz_trainer_a,onChange:e=>he({...me,lizenz_trainer_a:parseInt(e.target.value)||0}),min:"0",placeholder:"Anzahl"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"B-Lizenz Trainer"}),r.jsx("input",{type:"number",value:me.lizenz_trainer_b,onChange:e=>he({...me,lizenz_trainer_b:parseInt(e.target.value)||0}),min:"0",placeholder:"Anzahl"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"C-Lizenz Trainer"}),r.jsx("input",{type:"number",value:me.lizenz_trainer_c,onChange:e=>he({...me,lizenz_trainer_c:parseInt(e.target.value)||0}),min:"0",placeholder:"Anzahl"})]})]})]}),"social"===D&&r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"Social Media & Online-PrÃ¤senz"}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Facebook URL"}),r.jsx("input",{type:"url",value:me.facebook_url,onChange:e=>he({...me,facebook_url:e.target.value}),placeholder:"https://facebook.com/ihr-dojo"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Instagram URL"}),r.jsx("input",{type:"url",value:me.instagram_url,onChange:e=>he({...me,instagram_url:e.target.value}),placeholder:"https://instagram.com/ihr-dojo"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"YouTube URL"}),r.jsx("input",{type:"url",value:me.youtube_url,onChange:e=>he({...me,youtube_url:e.target.value}),placeholder:"https://youtube.com/@ihr-dojo"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Twitter/X URL"}),r.jsx("input",{type:"url",value:me.twitter_url,onChange:e=>he({...me,twitter_url:e.target.value}),placeholder:"https://twitter.com/ihr-dojo"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Google Maps URL"}),r.jsx("input",{type:"url",value:me.google_maps_url,onChange:e=>he({...me,google_maps_url:e.target.value}),placeholder:"https://maps.google.com/?cid=..."}),r.jsx("p",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.5)",marginTop:"0.5rem"},children:"Link zu Ihrem Google Maps Eintrag fÃ¼r Standort-Anzeige"})]}),r.jsx("div",{className:"form-group",children:r.jsxs("label",{className:"checkbox-label",children:[r.jsx("input",{type:"checkbox",checked:me.newsletter_aktiv,onChange:e=>he({...me,newsletter_aktiv:e.target.checked})}),r.jsx("span",{children:"Newsletter-Funktion aktiv"})]})})]}),"betrieb"===D&&r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"Betrieb & Kontakte"}),r.jsx("h4",{style:{marginTop:"1.5rem",marginBottom:"1rem",color:"#ffd700"},children:"Notfallkontakte"}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Notfallkontakt Name"}),r.jsx("input",{type:"text",value:me.notfallkontakt_name,onChange:e=>he({...me,notfallkontakt_name:e.target.value}),placeholder:"Vor- und Nachname"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Notfallkontakt Telefon"}),r.jsx("input",{type:"tel",value:me.notfallkontakt_telefon,onChange:e=>he({...me,notfallkontakt_telefon:e.target.value}),placeholder:"+49 170 1234567"})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Hausmeister Kontakt"}),r.jsx("input",{type:"text",value:me.hausmeister_kontakt,onChange:e=>he({...me,hausmeister_kontakt:e.target.value}),placeholder:"Name und Telefon des Hausmeisters"})]}),r.jsx("h4",{style:{marginTop:"1.5rem",marginBottom:"1rem",color:"#ffd700"},children:"Betriebszeiten"}),r.jsxs("div",{className:"form-row",children:[r.jsx("div",{className:"form-group",children:r.jsxs("label",{className:"checkbox-label",children:[r.jsx("input",{type:"checkbox",checked:me.feiertage_geschlossen,onChange:e=>he({...me,feiertage_geschlossen:e.target.checked})}),r.jsx("span",{children:"An Feiertagen geschlossen"})]})}),r.jsx("div",{className:"form-group",children:r.jsxs("label",{className:"checkbox-label",children:[r.jsx("input",{type:"checkbox",checked:me.ferien_geschlossen,onChange:e=>he({...me,ferien_geschlossen:e.target.checked})}),r.jsx("span",{children:"In den Schulferien geschlossen"})]})})]})]}),"dokumente"===D&&r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"Rechtliche Dokumente"}),r.jsx("div",{style:{background:"linear-gradient(135deg, #DBEAFE 0%, #BFDBFE 100%)",border:"2px solid #3B82F6",borderRadius:"12px",padding:"1.5rem",marginBottom:"2rem",boxShadow:"0 4px 6px rgba(59, 130, 246, 0.1)"},children:r.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem"},children:[r.jsx("div",{style:{fontSize:"2rem"},children:"â„¹ï¸"}),r.jsxs("div",{children:[r.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#1E3A8A",fontSize:"1.1rem",fontWeight:"700"},children:"Versionierte Dokumentenverwaltung"}),r.jsxs("p",{style:{margin:"0 0 0.75rem 0",color:"#1E40AF",fontSize:"0.95rem",lineHeight:"1.6"},children:["Ihre rechtlichen Dokumente (AGB, DatenschutzerklÃ¤rung) werden jetzt ",r.jsx("strong",{children:"versioniert"})," in der Datenbank gespeichert. Dies ermÃ¶glicht:"]}),r.jsxs("ul",{style:{margin:"0",paddingLeft:"1.5rem",color:"#1E40AF",fontSize:"0.9rem",lineHeight:"1.6"},children:[r.jsx("li",{children:"Automatische Versionsverwaltung (z.B. Version 1.0, 1.1, 2.0)"}),r.jsx("li",{children:"Zeitstempel fÃ¼r jede DokumentenÃ¤nderung"}),r.jsx("li",{children:"Nachvollziehbarkeit: Welche AGB-Version wurde bei Vertragsabschluss akzeptiert?"}),r.jsx("li",{children:"GÃ¼ltigkeit von/bis Datum fÃ¼r jede Version"})]}),r.jsxs("p",{style:{margin:"1rem 0 0 0",color:"#1E40AF",fontSize:"0.85rem",fontStyle:"italic"},children:["ðŸ’¡ ",r.jsx("strong",{children:"Hinweis:"})," Standard-Dokumente (AGB v1.0, Datenschutz v1.0) wurden bereits automatisch fÃ¼r Ihr Dojo erstellt. Die Dokumente werden beim Vertragsabschluss automatisch mit Zeitstempel erfasst."]})]})]})}),r.jsxs("div",{style:{background:"rgba(255, 215, 0, 0.05)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px",padding:"1.5rem",marginBottom:"2rem"},children:[r.jsx("h4",{style:{color:"#FFD700",marginBottom:"1rem"},children:"AGB & Datenschutz (mit Versionierung)"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem",padding:"1rem",background:"rgba(0,0,0,0.2)",borderRadius:"6px"},children:[r.jsxs("div",{children:[r.jsx("span",{style:{color:"rgba(255,255,255,0.6)",fontSize:"0.85rem"},children:"AGB Version:"}),r.jsxs("strong",{style:{marginLeft:"0.5rem",color:"#FFD700"},children:["v",me.agb_version]}),me.agb_letzte_aenderung&&r.jsxs("span",{style:{marginLeft:"0.5rem",color:"rgba(255,255,255,0.5)",fontSize:"0.8rem"},children:["(geaendert: ",new Date(me.agb_letzte_aenderung).toLocaleDateString("de-DE"),")"]})]}),r.jsxs("div",{children:[r.jsx("span",{style:{color:"rgba(255,255,255,0.6)",fontSize:"0.85rem"},children:"Datenschutz Version:"}),r.jsxs("strong",{style:{marginLeft:"0.5rem",color:"#FFD700"},children:["v",me.dsgvo_version]}),me.dsgvo_letzte_aenderung&&r.jsxs("span",{style:{marginLeft:"0.5rem",color:"rgba(255,255,255,0.5)",fontSize:"0.8rem"},children:["(geaendert: ",new Date(me.dsgvo_letzte_aenderung).toLocaleDateString("de-DE"),")"]})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"AGB (Allgemeine Geschaeftsbedingungen)"}),r.jsx("textarea",{value:me.agb_text,onChange:e=>he({...me,agb_text:e.target.value}),rows:"8",placeholder:"Ihre AGB...",style:{fontFamily:"monospace",fontSize:"0.9rem"}})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"DSGVO / Datenschutzerklaerung"}),r.jsx("textarea",{value:me.dsgvo_text,onChange:e=>he({...me,dsgvo_text:e.target.value}),rows:"8",placeholder:"Ihre Datenschutzerklaerung...",style:{fontFamily:"monospace",fontSize:"0.9rem"}})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"1rem",marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid rgba(255,255,255,0.1)"},children:[r.jsxs("label",{className:"checkbox-label",style:{margin:0},children:[r.jsx("input",{type:"checkbox",checked:K,onChange:e=>H(e.target.checked)}),r.jsx("span",{children:"Mitglieder per E-Mail benachrichtigen"})]}),r.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[r.jsx("button",{type:"button",onClick:()=>je(!1),disabled:U||de,style:{padding:"0.6rem 1rem",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"6px",color:"#fff",cursor:U?"wait":"pointer"},children:U?"Speichere...":"Speichern"}),r.jsx("button",{type:"button",onClick:()=>je(!0),disabled:U||de,style:{padding:"0.6rem 1rem",background:"#FFD700",border:"none",borderRadius:"6px",color:"#000",fontWeight:"600",cursor:U?"wait":"pointer"},children:U?"Speichere...":"Speichern + Version erhoehen"})]})]}),O&&r.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem 1rem",borderRadius:"6px",background:O.includes("Fehler")?"rgba(239, 68, 68, 0.2)":"rgba(34, 197, 94, 0.2)",color:O.includes("Fehler")?"#FCA5A5":"#86EFAC",fontSize:"0.9rem"},children:O})]}),r.jsx("h4",{style:{color:"rgba(255,255,255,0.7)",marginBottom:"1rem"},children:"Weitere Dokumente"}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Dojo-Regeln"}),r.jsx("textarea",{value:me.dojo_regeln_text,onChange:e=>he({...me,dojo_regeln_text:e.target.value}),rows:"6",placeholder:"Ihre Dojo-Regeln (Etikette, Verhaltensregeln, etc.)..."})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Hausordnung"}),r.jsx("textarea",{value:me.hausordnung_text,onChange:e=>he({...me,hausordnung_text:e.target.value}),rows:"6",placeholder:"Ihre Hausordnung..."})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Haftungsausschluss"}),r.jsx("textarea",{value:me.haftungsausschluss_text,onChange:e=>he({...me,haftungsausschluss_text:e.target.value}),rows:"6",placeholder:"Ihr Haftungsausschluss..."})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Widerrufsbelehrung"}),r.jsx("textarea",{value:me.widerrufsbelehrung_text,onChange:e=>he({...me,widerrufsbelehrung_text:e.target.value}),rows:"6",placeholder:"Ihre Widerrufsbelehrung..."})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Impressum"}),r.jsx("textarea",{value:me.impressum_text,onChange:e=>he({...me,impressum_text:e.target.value}),rows:"6",placeholder:"Ihr Impressum..."})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Vertragsbedingungen"}),r.jsx("textarea",{value:me.vertragsbedingungen_text,onChange:e=>he({...me,vertragsbedingungen_text:e.target.value}),rows:"6",placeholder:"Ihre Vertragsbedingungen..."})]})]}),"steuer"===D&&r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"Steuereinstellungen"}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Steuerstatus"}),r.jsxs("select",{value:me.steuer_status,onChange:e=>he({...me,steuer_status:e.target.value,ust_satz:"regelbesteuerung"===e.target.value?19:0}),children:[r.jsx("option",{value:"kleinunternehmer",children:"Kleinunternehmer (Paragraph 19 UStG)"}),r.jsx("option",{value:"regelbesteuerung",children:"Regelbesteuerung (19% USt)"})]})]}),"kleinunternehmer"===me.steuer_status&&r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Kleinunternehmer-Grenze (EUR)"}),r.jsx("input",{type:"number",value:me.kleinunternehmer_grenze,onChange:e=>he({...me,kleinunternehmer_grenze:parseFloat(e.target.value)})})]})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Finanzamt"}),r.jsx(n,{value:me.finanzamt,onChange:e=>he({...me,finanzamt:e,finanzamt_name:e?`${e.name}, ${e.ort}`:""}),placeholder:"Finanzamt suchen..."})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Steuernummer"}),r.jsx("input",{type:"text",value:me.steuernummer,onChange:e=>he({...me,steuernummer:e.target.value})})]})]}),"regelbesteuerung"===me.steuer_status&&r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"USt-IdNr."}),r.jsx("input",{type:"text",value:me.ust_id,onChange:e=>he({...me,ust_id:e.target.value}),placeholder:"DE123456789"})]})]}),"bank"===D&&!de&&r.jsx(S,{dojoId:t}),"bank"===D&&de&&r.jsx("div",{className:"form-section",children:r.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"rgba(255, 255, 255, 0.6)",background:"rgba(255, 215, 0, 0.05)",borderRadius:"12px",border:"1px dashed rgba(255, 215, 0, 0.3)"},children:[r.jsx(g,{size:48,style:{marginBottom:"16px",color:"#ffd700"}}),r.jsx("h3",{style:{color:"#ffd700",marginBottom:"8px"},children:"Dojo zuerst speichern"}),r.jsx("p",{children:"Bankverbindungen kÃ¶nnen nach dem Erstellen des Dojos hinzugefÃ¼gt werden."})]})}),"logos"===D&&r.jsx("div",{className:"form-section",style:{padding:0,background:"transparent"},children:r.jsx(C,{dojoId:t})}),"admins"===D&&r.jsx("div",{className:"form-section",style:{padding:0,background:"transparent"},children:r.jsx(s,{})}),"api"===D&&r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"ðŸ”— API-Token fÃ¼r TDA-Turnierverwaltung"}),r.jsx("div",{className:"api-info-box",children:r.jsxs("p",{children:[r.jsx("strong",{children:"â„¹ï¸ Sicherer API-Zugang"}),r.jsx("br",{}),"Jedes Dojo hat einen eindeutigen API-Token fÃ¼r die sichere Verbindung zur TDA-Turnierverwaltung. Dieser Token ermÃ¶glicht den automatischen Import Ihrer Mitglieder."]})}),r.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[r.jsx("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:r.jsx("span",{children:"ðŸŒ API Base URL"})}),r.jsxs("div",{className:"api-input-group",children:[r.jsx("input",{type:"text",value:window.location.origin+"/api",readOnly:!0,className:"api-input-readonly"}),r.jsx("button",{type:"button",onClick:()=>xe(window.location.origin+"/api","API URL"),className:"api-copy-btn",children:"ðŸ“‹ Kopieren"})]}),r.jsx("small",{className:"api-hint",children:"Diese URL verwenden Sie im Schritt 2 der TDA-Registrierung"})]}),r.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[r.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[r.jsx("span",{children:"ðŸ”‘ API-Token"}),F&&r.jsx("span",{className:"api-status-badge",children:"âœ“ Aktiv"})]}),F?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"api-input-group",style:{marginBottom:"1rem"},children:[r.jsx("input",{type:"text",value:F,readOnly:!0,className:"api-input-token"}),r.jsx("button",{type:"button",onClick:()=>xe(F,"API-Token"),className:"api-copy-btn api-copy-btn-green",children:"ðŸ“‹ Kopieren"})]}),r.jsx("div",{className:"api-metadata-box",children:r.jsxs("div",{className:"api-metadata-grid",children:[r.jsxs("div",{children:[r.jsx("span",{className:"api-metadata-label",children:"Erstellt am:"}),r.jsx("div",{className:"api-metadata-value",children:R?new Date(R).toLocaleString("de-DE"):"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"api-metadata-label",children:"Zuletzt verwendet:"}),r.jsx("div",{className:"api-metadata-value",children:M?new Date(M).toLocaleString("de-DE"):"Noch nie"})]})]})}),r.jsx("button",{type:"button",onClick:pe,disabled:G,className:"api-regenerate-btn",children:G?"â³ Generiere...":"ðŸ”„ Token regenerieren"}),r.jsx("small",{className:"api-warning-text",children:"âš ï¸ Warnung: Das Regenerieren macht den alten Token ungÃ¼ltig!"})]}):r.jsx(r.Fragment,{children:r.jsxs("div",{className:"api-empty-state",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Kein API-Token vorhanden"}),r.jsx("br",{}),"Generieren Sie einen Token, um die TDA-Integration zu nutzen."]}),r.jsx("button",{type:"button",onClick:pe,disabled:G||de,className:"api-generate-btn",children:G?"â³ Generiere...":"ðŸ”‘ API-Token generieren"}),de&&r.jsx("small",{className:"api-save-hint",children:"Bitte speichern Sie das Dojo zuerst"})]})})]}),r.jsxs("div",{className:"api-instructions",children:[r.jsx("h4",{children:"ðŸ“ So verwenden Sie den API-Token:"}),r.jsxs("ol",{children:[r.jsx("li",{children:"Generieren Sie einen API-Token (falls noch nicht vorhanden)"}),r.jsx("li",{children:"Ã–ffnen Sie die TDA-Turnierverwaltung Registrierung"}),r.jsxs("li",{children:["Geben Sie im ",r.jsx("strong",{children:"Schritt 2"})," folgende Daten ein:",r.jsxs("ul",{children:[r.jsxs("li",{children:[r.jsx("strong",{children:"API-URL:"})," ",window.location.origin,"/api"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"API-Token:"})," Ihr generierter Token (kopieren Sie ihn mit dem Button)"]})]})]}),r.jsx("li",{children:'Klicken Sie auf "Verbindung testen"'}),r.jsx("li",{children:"WÃ¤hlen Sie Ihre Dojos aus, die Sie synchronisieren mÃ¶chten"}),r.jsx("li",{children:"SchlieÃŸen Sie die Registrierung ab"})]})]}),r.jsx("div",{className:"api-security-note",children:r.jsxs("p",{children:[r.jsx("strong",{children:"ðŸ”’ Sicherheitshinweise:"}),r.jsx("br",{}),"â€¢ Jedes Dojo hat einen eindeutigen, sicheren Token",r.jsx("br",{}),"â€¢ Geben Sie Ihren Token niemals an Dritte weiter",r.jsx("br",{}),"â€¢ Bei Verdacht auf Kompromittierung: Token sofort regenerieren",r.jsx("br",{}),"â€¢ Der alte Token wird ungÃ¼ltig, sobald Sie einen neuen generieren"]})})]}),"system"===D&&r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"System-Einstellungen"}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Sprache"}),r.jsxs("select",{value:me.sprache,onChange:e=>he({...me,sprache:e.target.value}),children:[r.jsx("option",{value:"de",children:"Deutsch"}),r.jsx("option",{value:"en",children:"English"}),r.jsx("option",{value:"fr",children:"FranÃ§ais"})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Zeitzone"}),r.jsxs("select",{value:me.zeitzone,onChange:e=>he({...me,zeitzone:e.target.value}),children:[r.jsx("option",{value:"Europe/Berlin",children:"Europa/Berlin"}),r.jsx("option",{value:"Europe/Vienna",children:"Europa/Wien"}),r.jsx("option",{value:"Europe/Zurich",children:"Europa/ZÃ¼rich"})]})]})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"WÃ¤hrung"}),r.jsxs("select",{value:me.waehrung,onChange:e=>he({...me,waehrung:e.target.value}),children:[r.jsx("option",{value:"EUR",children:"EUR (â‚¬)"}),r.jsx("option",{value:"USD",children:"USD ($)"}),r.jsx("option",{value:"CHF",children:"CHF"})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Max. Mitglieder"}),r.jsx("input",{type:"number",min:"1",max:"10000",value:me.max_mitglieder,onChange:e=>he({...me,max_mitglieder:parseInt(e.target.value)}),placeholder:"500"})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"DSGVO-Beauftragter"}),r.jsx("input",{type:"text",value:me.dsgvo_beauftragte,onChange:e=>he({...me,dsgvo_beauftragte:e.target.value}),placeholder:"Name des Datenschutzbeauftragten"})]})]}),"design"===D&&r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"Design & Theme"}),r.jsx("h4",{style:{marginTop:"1rem",marginBottom:"1rem",color:"#ffd700"},children:"ðŸŽ¨ Theme-Auswahl"}),r.jsxs("div",{style:{marginBottom:"1.5rem"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"1rem",background:"rgba(255,255,255,0.05)",borderRadius:"12px",marginBottom:"1rem"},children:[r.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"8px",background:(null==b?void 0:b.preview)||"linear-gradient(135deg, #0f0f23, #16213e)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:v?"ðŸŒ™":"â˜€ï¸"}),r.jsxs("div",{children:[r.jsx("div",{style:{fontWeight:"600",color:"#fff"},children:(null==b?void 0:b.name)||"Midnight Blue"}),r.jsx("div",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.6)"},children:null==b?void 0:b.description}),r.jsx("span",{style:{display:"inline-block",marginTop:"0.25rem",padding:"0.15rem 0.5rem",fontSize:"0.75rem",borderRadius:"4px",background:v?"rgba(139, 92, 246, 0.2)":"rgba(251, 191, 36, 0.2)",color:v?"#a78bfa":"#fbbf24"},children:v?"Dark Mode":"Light Mode"})]}),r.jsxs("button",{type:"button",onClick:()=>q(!J),style:{marginLeft:"auto",padding:"0.5rem 1rem",background:"#ffd700",border:"none",borderRadius:"8px",color:"#000",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx(y,{size:18}),"Theme wechseln"]})]}),J&&r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"1rem",marginTop:"1rem"},children:ce.map(e=>r.jsxs("div",{onClick:()=>(e=>{var r;x(e),q(!1);const a=(null==(r=j[e])?void 0:r.name)||e;T(`âœ… Theme zu "${a}" geÃ¤ndert!`),setTimeout(()=>T(""),3e3)})(e.id),style:{padding:"1rem",background:p===e.id?"rgba(255, 215, 0, 0.15)":"rgba(255,255,255,0.05)",border:p===e.id?"2px solid #ffd700":"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s ease"},children:[r.jsx("div",{style:{width:"100%",height:"40px",borderRadius:"6px",background:e.preview,marginBottom:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center"},children:e.isDark?"ðŸŒ™":"â˜€ï¸"}),r.jsx("div",{style:{fontWeight:"600",color:"#fff",fontSize:"0.9rem"},children:e.name}),r.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.5)"},children:e.description}),p===e.id&&r.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.75rem",color:"#ffd700",fontWeight:"600"},children:"âœ“ Aktiv"})]},e.id))})]}),r.jsx("h4",{style:{marginTop:"1.5rem",marginBottom:"1rem",color:"#ffd700"},children:"ðŸŽ¯ Dojo-Farbe"}),r.jsxs("div",{className:"form-group",children:[r.jsx("p",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.6)",marginBottom:"1rem"},children:"Diese Farbe wird zur visuellen Kennzeichnung des Dojos verwendet (z.B. im Switcher, Dashboards, etc.)"}),r.jsxs("div",{className:"color-picker-wrapper",children:[r.jsx("input",{type:"color",value:me.farbe,onChange:e=>he({...me,farbe:e.target.value})}),r.jsx("div",{className:"color-preview",style:{backgroundColor:me.farbe},children:r.jsx("span",{children:me.farbe})})]})]}),r.jsxs("div",{className:"color-suggestions",children:[r.jsx("p",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.6)",marginBottom:"0.5rem"},children:"VorschlÃ¤ge:"}),r.jsx("div",{className:"color-buttons",children:["#FFD700","#FF6B35","#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899"].map(e=>r.jsx("button",{type:"button",className:"color-button",style:{backgroundColor:e},onClick:()=>he({...me,farbe:e}),title:e},e))})]})]}),"probetraining"===D&&r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"Probetraining-Buchung"}),r.jsx("p",{style:{color:"rgba(255,255,255,0.7)",marginBottom:"1.5rem"},children:"Hier finden Sie den Link zu Ihrem Probetraining-Buchungsformular. Teilen Sie diesen Link auf Ihrer Website oder Social Media, damit Interessenten direkt ein Probetraining bei Ihnen buchen kÃ¶nnen."}),X?r.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"12px",padding:"1.5rem",border:"1px solid rgba(255,215,0,0.2)"},children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#ffd700",fontWeight:"600"},children:"Ihr Probetraining-Link:"}),r.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",marginBottom:"1rem"},children:[r.jsx("input",{type:"text",readOnly:!0,value:`https://${X}.dojo.tda-intl.org/probetraining`,style:{flex:1,padding:"0.75rem 1rem",background:"rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",color:"#fff",fontSize:"0.95rem"}}),r.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(`https://${X}.dojo.tda-intl.org/probetraining`),ee(!0),setTimeout(()=>ee(!1),2e3)},style:{padding:"0.75rem 1.25rem",background:Q?"#10b981":"#ffd700",border:"none",borderRadius:"8px",color:"#000",fontWeight:"600",cursor:"pointer",whiteSpace:"nowrap",transition:"all 0.2s"},children:Q?"âœ“ Kopiert!":"ðŸ“‹ Kopieren"})]}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginTop:"1.5rem"},children:r.jsx("a",{href:`https://${X}.dojo.tda-intl.org/probetraining`,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"0.75rem 1rem",background:"rgba(59, 130, 246, 0.2)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"8px",color:"#60a5fa",textDecoration:"none",fontWeight:"500"},children:"ðŸ”— Link Ã¶ffnen"})}),r.jsxs("div",{style:{marginTop:"2rem",padding:"1rem",background:"rgba(16, 185, 129, 0.1)",borderRadius:"8px",border:"1px solid rgba(16, 185, 129, 0.2)"},children:[r.jsx("h4",{style:{color:"#10b981",marginBottom:"0.5rem"},children:"ðŸ’¡ Tipp"}),r.jsxs("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"0.9rem",margin:0},children:["Alle Probetraining-Anfragen werden automatisch in Ihrer Interessenten-Liste gespeichert. Sie finden diese unter ",r.jsx("strong",{children:"Mitglieder â†’ Interessenten"}),"."]})]})]}):r.jsxs("div",{style:{padding:"2rem",textAlign:"center",background:"rgba(255,255,255,0.05)",borderRadius:"12px",color:"rgba(255,255,255,0.6)"},children:[r.jsx("p",{children:"Keine Subdomain konfiguriert."}),r.jsx("p",{style:{fontSize:"0.9rem"},children:"Bitte kontaktieren Sie den Support, um eine Subdomain fÃ¼r Ihr Dojo einzurichten."})]})]}),"email"===D&&r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"E-Mail-Konfiguration"}),r.jsx("p",{style:{color:"rgba(255,255,255,0.7)",marginBottom:"1.5rem"},children:"WÃ¤hlen Sie, wie E-Mails von Ihrem Dojo versendet werden sollen."}),te&&r.jsx("div",{style:{padding:"1rem",marginBottom:"1.5rem",borderRadius:"8px",background:te.includes("âŒ")?"rgba(239, 68, 68, 0.1)":te.includes("âš ï¸")?"rgba(245, 158, 11, 0.1)":"rgba(16, 185, 129, 0.1)",border:te.includes("âŒ")?"1px solid rgba(239, 68, 68, 0.3)":te.includes("âš ï¸")?"1px solid rgba(245, 158, 11, 0.3)":"1px solid rgba(16, 185, 129, 0.3)",color:te.includes("âŒ")?"#f87171":te.includes("âš ï¸")?"#fbbf24":"#34d399"},children:te}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[r.jsx("label",{style:{display:"block",padding:"1.5rem",background:"zentral"===re.email_mode?"rgba(16, 185, 129, 0.15)":"rgba(255,255,255,0.05)",border:"zentral"===re.email_mode?"2px solid #10b981":"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s"},children:r.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[r.jsx("input",{type:"radio",name:"email_mode",value:"zentral",checked:"zentral"===re.email_mode,onChange:e=>ae({...re,email_mode:e.target.value}),style:{marginTop:"0.25rem"}}),r.jsxs("div",{children:[r.jsx("div",{style:{fontWeight:"600",color:"#fff",marginBottom:"0.25rem"},children:"Zentraler Versand (Standard)"}),r.jsx("div",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.6)"},children:"E-Mails werden Ã¼ber den zentralen DojoSoftware-Server versendet. Keine Konfiguration nÃ¶tig."})]})]})}),r.jsx("label",{style:{display:"block",padding:"1.5rem",background:"eigener_smtp"===re.email_mode?"rgba(59, 130, 246, 0.15)":"rgba(255,255,255,0.05)",border:"eigener_smtp"===re.email_mode?"2px solid #3b82f6":"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s"},children:r.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[r.jsx("input",{type:"radio",name:"email_mode",value:"eigener_smtp",checked:"eigener_smtp"===re.email_mode,onChange:e=>ae({...re,email_mode:e.target.value}),style:{marginTop:"0.25rem"}}),r.jsxs("div",{children:[r.jsx("div",{style:{fontWeight:"600",color:"#fff",marginBottom:"0.25rem"},children:"Eigener SMTP-Server"}),r.jsx("div",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.6)"},children:"Verwenden Sie Ihren eigenen Mailserver (z.B. Gmail, Outlook). Erfordert SMTP-Zugangsdaten."})]})]})}),r.jsx("label",{style:{display:"block",padding:"1.5rem",background:"tda_email"===re.email_mode?"rgba(139, 92, 246, 0.15)":"rgba(255,255,255,0.05)",border:"tda_email"===re.email_mode?"2px solid #8b5cf6":"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s"},children:r.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[r.jsx("input",{type:"radio",name:"email_mode",value:"tda_email",checked:"tda_email"===re.email_mode,onChange:e=>ae({...re,email_mode:e.target.value}),style:{marginTop:"0.25rem"}}),r.jsxs("div",{children:[r.jsx("div",{style:{fontWeight:"600",color:"#fff",marginBottom:"0.25rem"},children:"@tda-intl.com E-Mail"}),r.jsx("div",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.6)"},children:"Nutzen Sie eine professionelle E-Mail-Adresse wie dojo@tda-intl.com"})]})]})})]}),"eigener_smtp"===re.email_mode&&r.jsxs("div",{style:{background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.2)",borderRadius:"12px",padding:"1.5rem",marginBottom:"1.5rem"},children:[r.jsx("h4",{style:{color:"#60a5fa",marginBottom:"1rem"},children:"SMTP-Server Einstellungen"}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"SMTP Host *"}),r.jsx("input",{type:"text",value:re.smtp_host,onChange:e=>ae({...re,smtp_host:e.target.value}),placeholder:"z.B. smtp.gmail.com"})]}),r.jsxs("div",{className:"form-group",style:{maxWidth:"150px"},children:[r.jsx("label",{children:"Port *"}),r.jsx("input",{type:"number",value:re.smtp_port,onChange:e=>ae({...re,smtp_port:parseInt(e.target.value)||587}),placeholder:"587"})]}),r.jsxs("div",{className:"form-group",style:{maxWidth:"100px"},children:[r.jsx("label",{children:"SSL/TLS"}),r.jsxs("select",{value:re.smtp_secure?"1":"0",onChange:e=>ae({...re,smtp_secure:"1"===e.target.value}),children:[r.jsx("option",{value:"1",children:"Ja"}),r.jsx("option",{value:"0",children:"Nein"})]})]})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"SMTP Benutzername *"}),r.jsx("input",{type:"text",value:re.smtp_user,onChange:e=>ae({...re,smtp_user:e.target.value}),placeholder:"user@example.com"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"SMTP Passwort *"}),r.jsx("input",{type:"password",value:re.smtp_password,onChange:e=>ae({...re,smtp_password:e.target.value}),placeholder:re.has_smtp_password?"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢":"Passwort eingeben"}),re.has_smtp_password&&r.jsx("small",{style:{color:"rgba(255,255,255,0.5)",marginTop:"0.25rem",display:"block"},children:"Passwort ist hinterlegt. Leer lassen, um es beizubehalten."})]})]})]}),"tda_email"===re.email_mode&&r.jsxs("div",{style:{background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"12px",padding:"1.5rem",marginBottom:"1.5rem"},children:[r.jsx("h4",{style:{color:"#a78bfa",marginBottom:"1rem"},children:"TDA E-Mail Zugangsdaten"}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"TDA E-Mail-Adresse *"}),r.jsx("input",{type:"email",value:re.tda_email,onChange:e=>ae({...re,tda_email:e.target.value}),placeholder:"ihrdojo@tda-intl.com"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"TDA E-Mail Passwort *"}),r.jsx("input",{type:"password",value:re.tda_email_password,onChange:e=>ae({...re,tda_email_password:e.target.value}),placeholder:re.has_tda_password?"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢":"Passwort eingeben"}),re.has_tda_password&&r.jsx("small",{style:{color:"rgba(255,255,255,0.5)",marginTop:"0.25rem",display:"block"},children:"Passwort ist hinterlegt. Leer lassen, um es beizubehalten."})]})]}),r.jsx("div",{style:{marginTop:"1rem",padding:"1rem",background:"rgba(139, 92, 246, 0.1)",borderRadius:"8px"},children:r.jsxs("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"0.9rem",margin:0},children:["ðŸ’¡ ",r.jsx("strong",{children:"Hinweis:"})," Eine @tda-intl.com E-Mail-Adresse muss zunÃ¤chst vom TDA Intl Support eingerichtet werden. Kontaktieren Sie uns, falls Sie noch keine haben."]})})]}),r.jsx("div",{style:{marginBottom:"2rem"},children:r.jsx("button",{type:"button",onClick:async()=>{try{se(!0),ie("");const e=await d(`${c.apiBaseUrl}/email-settings/dojo/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({email_mode:re.email_mode,smtp_host:re.smtp_host,smtp_port:re.smtp_port,smtp_secure:re.smtp_secure,smtp_user:re.smtp_user,smtp_password:re.smtp_password||(re.has_smtp_password?"********":""),tda_email:re.tda_email,tda_email_password:re.tda_email_password||(re.has_tda_password?"********":"")})}),r=await e.json();if(!r.success)throw new Error(r.error||"Speichern fehlgeschlagen");ie("âœ… E-Mail-Einstellungen erfolgreich gespeichert"),setTimeout(()=>ie(""),5e3)}catch(e){ie("âŒ Fehler: "+e.message)}finally{se(!1)}},disabled:ne,style:{padding:"0.75rem 1.5rem",background:"#ffd700",border:"none",borderRadius:"8px",color:"#000",fontWeight:"600",cursor:ne?"not-allowed":"pointer",opacity:ne?.7:1},children:ne?"Wird gespeichert...":"E-Mail-Einstellungen speichern"})}),r.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",padding:"1.5rem"},children:[r.jsx("h4",{style:{color:"#ffd700",marginBottom:"1rem"},children:"Test-E-Mail senden"}),r.jsx("p",{style:{color:"rgba(255,255,255,0.6)",fontSize:"0.9rem",marginBottom:"1rem"},children:"Senden Sie eine Test-E-Mail, um Ihre Konfiguration zu Ã¼berprÃ¼fen."}),r.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"flex-end"},children:[r.jsxs("div",{style:{flex:1},children:[r.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"rgba(255,255,255,0.8)"},children:"Test-E-Mail-Adresse"}),r.jsx("input",{type:"email",value:le,onChange:e=>oe(e.target.value),placeholder:"ihre@email.de",style:{width:"100%",padding:"0.75rem 1rem",background:"rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",color:"#fff"}})]}),r.jsx("button",{type:"button",onClick:async()=>{if(le)try{se(!0),ie("");const e=await d(`${c.apiBaseUrl}/email-settings/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({test_email:le,dojo_id:t,use_global:!1})}),r=await e.json();if(!r.success)throw new Error(r.error||"Test fehlgeschlagen");ie(`âœ… ${r.message}`)}catch(e){ie("âŒ "+e.message)}finally{se(!1)}else ie("âš ï¸ Bitte geben Sie eine Test-E-Mail-Adresse ein")},disabled:ne||!le,style:{padding:"0.75rem 1.25rem",background:ne?"rgba(59, 130, 246, 0.5)":"#3b82f6",border:"none",borderRadius:"8px",color:"#fff",fontWeight:"600",cursor:ne||!le?"not-allowed":"pointer",whiteSpace:"nowrap"},children:ne?"Wird gesendet...":"ðŸ“¤ Test senden"})]})]})]})]}),r.jsxs("div",{className:"form-actions-sticky",children:[r.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>m("/dashboard/dojos"),children:"Abbrechen"}),r.jsxs("button",{type:"submit",className:"btn-primary",disabled:f,children:[r.jsx(N,{size:20}),f?"Speichern...":"Speichern"]})]})]})})]})]})};export{B as default};
