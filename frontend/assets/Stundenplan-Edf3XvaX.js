import{j as e}from"./animation-1wuIdCBS.js";import{r as s}from"./vendor-router-BhMXg4Z-.js";import{D as n,c as a,a as t}from"./index-BJCk5MxH.js";import"./vendor-react-DtuzQOD1.js";import"./query-Bs1dTGah.js";import"./icons-C6KFH58b.js";const r=()=>{const{kurse:r}=s.useContext(n),{standorte:i,activeStandort:l,hasMultipleLocations:d}=a(),[c,o]=s.useState([]),[h,m]=s.useState([]),[u,p]=s.useState(!0),[x,g]=s.useState(""),[j,v]=s.useState({tag:"",uhrzeit_start:"",uhrzeit_ende:"",kurs_id:"",raum_id:""}),[f,b]=s.useState({key:null,direction:"asc"}),[N,_]=s.useState(null),[y,z]=s.useState({}),[k,S]=s.useState("Wochen√ºbersicht"),[C,w]=s.useState(!1),[E,F]=s.useState({}),K=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"];s.useEffect(()=>{W()},[]);const W=async()=>{try{const[e,s]=await Promise.all([t.get("/stundenplan"),t.get("/raeume")]);o(e.data),m(s.data.data||s.data||[])}catch(e){console.error("Fehler beim Laden:",e),g("Fehler beim Laden der Daten")}finally{p(!1)}},T=c.filter(e=>"all"===l||(!e.standort_id||e.standort_id===l)),I=[...T].sort((e,s)=>{var n,a,t,r;if(!f.key)return 0;const i=(null==(a=null==(n=e[f.key])?void 0:n.toLowerCase)?void 0:a.call(n))||"",l=(null==(r=null==(t=s[f.key])?void 0:t.toLowerCase)?void 0:r.call(t))||"";return"asc"===f.direction?i.localeCompare(l):l.localeCompare(i)}),$=async e=>{var s,n;if(y.tag&&y.uhrzeit_start&&y.uhrzeit_ende&&y.kurs_id)try{await t.put(`/stundenplan/${e}`,{tag:y.tag,uhrzeit_start:y.uhrzeit_start,uhrzeit_ende:y.uhrzeit_ende,kurs_id:parseInt(y.kurs_id)}),_(null),W(),alert("Stundenplan-Eintrag erfolgreich aktualisiert!")}catch(a){console.error("Fehler beim Speichern:",a),alert("Fehler beim Speichern: "+((null==(n=null==(s=a.response)?void 0:s.data)?void 0:n.error)||a.message))}else alert("Bitte alle Felder ausf√ºllen.")},B=async e=>{var s,n;if(window.confirm("Soll dieser Stundenplan-Eintrag wirklich gel√∂scht werden?"))try{await t.delete(`/stundenplan/${e}`),o(c.filter(s=>s.id!==e)),alert("Stundenplan-Eintrag erfolgreich gel√∂scht!")}catch(a){console.error("Fehler beim L√∂schen:",a),alert("Fehler beim L√∂schen: "+((null==(n=null==(s=a.response)?void 0:s.data)?void 0:n.error)||a.message))}},D=e=>e?e.substring(0,5):"",L=(()=>{const e={};return K.forEach(s=>{e[s]=T.filter(e=>e.tag===s).sort((e,s)=>e.uhrzeit_start.localeCompare(s.uhrzeit_start))}),e})(),R=((e=c)=>{const s=[];for(let n=0;n<e.length;n++)for(let a=n+1;a<e.length;a++){const t=e[n],r=e[a];if(t.tag===r.tag){const e=new Date(`2000-01-01 ${t.uhrzeit_start}`),n=new Date(`2000-01-01 ${t.uhrzeit_ende}`),a=new Date(`2000-01-01 ${r.uhrzeit_start}`);e<new Date(`2000-01-01 ${r.uhrzeit_ende}`)&&a<n&&s.push({a:t,b:r})}}return s})(T);return u?e.jsx("div",{className:"stundenplan-container-modern",children:"Lade Stundenplan..."}):x?e.jsx("div",{className:"stundenplan-container-modern error",children:x}):e.jsxs("div",{className:"stundenplan-container-modern",children:[e.jsxs("div",{className:"stundenplan-header",children:[e.jsx("h2",{children:"üìã Stundenplan-Verwaltung"}),e.jsx("p",{className:"stundenplan-subtitle",children:"Kurszeiten und Trainingsplan verwalten"})]}),e.jsx("div",{className:"stundenplan-controls",children:e.jsx("button",{className:"export-button-modern",onClick:()=>{const e=[["Tag","Startzeit","Endzeit","Gruppe","Stil","Trainer"],...c.map(e=>[e.tag,e.uhrzeit_start,e.uhrzeit_ende,e.kursname||"Unbekannt",e.stil||"?",`${e.trainer_vorname||"?"} ${e.trainer_nachname||""}`])].map(e=>e.join(";")).join("\n"),s=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(s),a=document.createElement("a");a.setAttribute("href",n),a.setAttribute("download","stundenplan.csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a)},children:"üìä CSV Export"})}),e.jsxs("div",{className:"stundenplan-stats",children:[e.jsxs("div",{className:"stat-card",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginBottom:"0.1rem"},children:[e.jsx("span",{style:{fontSize:"1.2rem"},children:"üìÖ"}),e.jsx("span",{style:{fontSize:"1.3rem",fontWeight:"bold",color:"#ffffff"},children:T.length})]}),e.jsx("div",{style:{fontSize:"0.7rem",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Eintr√§ge"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginBottom:"0.1rem"},children:[e.jsx("span",{style:{fontSize:"1.2rem"},children:"üèÉ‚Äç‚ôÇÔ∏è"}),e.jsx("span",{style:{fontSize:"1.3rem",fontWeight:"bold",color:"#ffffff"},children:new Set(T.map(e=>e.tag)).size})]}),e.jsx("div",{style:{fontSize:"0.7rem",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Trainingstage"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginBottom:"0.1rem"},children:[e.jsx("span",{style:{fontSize:"1.2rem"},children:"ü•ã"}),e.jsx("span",{style:{fontSize:"1.3rem",fontWeight:"bold",color:"#ffffff"},children:new Set(T.map(e=>e.kurs_id)).size})]}),e.jsx("div",{style:{fontSize:"0.7rem",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Kurse"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginBottom:"0.1rem"},children:[e.jsx("span",{style:{fontSize:"1.2rem"},children:"‚è∞"}),e.jsx("span",{style:{fontSize:"1.3rem",fontWeight:"bold",color:"#ffffff"},children:T.length>0?D(T.reduce((e,s)=>s.uhrzeit_start<e?s.uhrzeit_start:e,T[0].uhrzeit_start)):"--"})]}),e.jsx("div",{style:{fontSize:"0.7rem",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Fr√ºhester Start"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginBottom:"0.1rem"},children:[e.jsx("span",{style:{fontSize:"1.2rem"},children:"üåô"}),e.jsx("span",{style:{fontSize:"1.3rem",fontWeight:"bold",color:"#ffffff"},children:T.length>0?D(T.reduce((e,s)=>s.uhrzeit_ende>e?s.uhrzeit_ende:e,T[0].uhrzeit_ende)):"--"})]}),e.jsx("div",{style:{fontSize:"0.7rem",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Sp√§testes Ende"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginBottom:"0.1rem"},children:[e.jsx("span",{style:{fontSize:"1.2rem"},children:"üìä"}),e.jsx("span",{style:{fontSize:"1.3rem",fontWeight:"bold",color:"#ffffff"},children:T.filter(e=>"Montag"===e.tag).length})]}),e.jsx("div",{style:{fontSize:"0.7rem",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Montags"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginBottom:"0.1rem"},children:[e.jsx("span",{style:{fontSize:"1.2rem"},children:"üéâ"}),e.jsx("span",{style:{fontSize:"1.3rem",fontWeight:"bold",color:"#ffffff"},children:T.filter(e=>"Samstag"===e.tag||"Sonntag"===e.tag).length})]}),e.jsx("div",{style:{fontSize:"0.7rem",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Wochenende"})]})]}),R.length>0&&e.jsxs("div",{className:"overlap-warning",children:[e.jsx("div",{className:"warning-icon",children:"‚ö†Ô∏è"}),e.jsxs("div",{className:"warning-content",children:[e.jsx("h3",{children:"Kurs√ºberschneidungen gefunden!"}),e.jsxs("p",{children:[R.length," √úberschneidung(en) erkannt. Bitte pr√ºfen Sie die Zeiten:"]}),e.jsx("ul",{children:R.map((s,n)=>e.jsxs("li",{children:[e.jsxs("strong",{children:[s.a.tag,":"]})," ",s.a.kursname||"Kurs"," (",D(s.a.uhrzeit_start),"-",D(s.a.uhrzeit_ende),") ‚Üî ",s.b.kursname||"Kurs"," (",D(s.b.uhrzeit_start),"-",D(s.b.uhrzeit_ende),")"]},n))})]})]}),e.jsxs("div",{className:"week-accordion-container",children:[e.jsxs("div",{className:"accordion-tabs",children:[e.jsxs("button",{onClick:()=>S("Wochen√ºbersicht"),className:"accordion-tab "+("Wochen√ºbersicht"===k?"active":""),children:[e.jsx("span",{className:"tab-name",children:"üìä Woche"}),e.jsx("span",{className:"tab-count",children:T.length})]}),K.map(s=>e.jsxs("button",{onClick:()=>S(s),className:"accordion-tab "+(k===s?"active":""),children:[e.jsx("span",{className:"tab-name",children:s}),e.jsx("span",{className:"tab-count",children:L[s].length})]},s))]}),e.jsx("div",{className:"accordion-content",children:"Wochen√ºbersicht"===k?e.jsx("div",{className:"weekly-overview-content",children:e.jsx("div",{className:"weekly-grid",children:K.map((s,n)=>e.jsxs("div",{className:"day-column",style:{animationDelay:.1*n+"s"},children:[e.jsxs("div",{className:"day-header",children:[e.jsx("div",{className:"day-name",children:s}),e.jsxs("div",{className:"day-count",children:[L[s].length," Kurse"]})]}),e.jsx("div",{className:"day-classes",children:0===L[s].length?e.jsx("div",{className:"no-day-classes",children:"Kein Kurs"}):L[s].map((s,n)=>e.jsxs("div",{className:"mini-class-card",children:[e.jsxs("div",{className:"mini-time",children:[D(s.uhrzeit_start)," - ",D(s.uhrzeit_ende)]}),e.jsx("div",{className:"mini-style",children:s.stil}),e.jsx("div",{className:"mini-name",children:s.kursname}),s.raumname&&e.jsxs("div",{className:"mini-raum",children:["üè¢ ",s.raumname]}),d&&s.standort_name&&e.jsxs("div",{className:"mini-standort",style:{background:s.standort_farbe||"#4F46E5",color:"white",padding:"3px 8px",fontSize:"0.65rem",fontWeight:"600",borderRadius:"4px",marginTop:"4px",display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx("span",{style:{fontSize:"0.75rem"},children:"üìç"}),e.jsx("span",{children:s.standort_name})]})]},`${s.id}-${n}`))})]},s))})}):e.jsxs("div",{className:"day-content-expanded",children:[e.jsxs("div",{className:"expanded-header",children:[e.jsxs("h3",{children:["üìÖ ",k]}),e.jsxs("span",{className:"day-stats",children:[L[k].length," Kurse",R.some(e=>L[k].some(s=>e.a.id===s.id||e.b.id===s.id))&&e.jsx("span",{className:"has-conflicts",children:"‚ö†Ô∏è"})]})]}),0===L[k].length?e.jsxs("div",{className:"no-classes-expanded",children:[e.jsx("div",{className:"no-classes-icon",children:"üèÆ"}),e.jsxs("h4",{children:["Keine Kurse am ",k]}),e.jsx("p",{children:"An diesem Tag sind keine Trainingszeiten geplant."})]}):e.jsx("div",{className:"time-slots-expanded",children:L[k].map(s=>{const n=R.some(e=>e.a.id===s.id||e.b.id===s.id);return e.jsxs("div",{className:"time-slot-expanded "+(n?"overlap":""),children:[e.jsx("div",{className:"slot-left",children:e.jsxs("div",{className:"time-range-big",children:[D(s.uhrzeit_start)," - ",D(s.uhrzeit_ende)]})}),e.jsx("div",{className:"slot-center",children:e.jsxs("div",{className:"course-info-expanded",children:[e.jsx("div",{className:"course-name-big",children:s.kursname||"Unbekannt"}),e.jsxs("div",{className:"course-details-expanded",children:[e.jsxs("span",{className:"course-style-big",children:["ü•ã ",s.stil||"?"]}),e.jsxs("span",{className:"course-trainer-big",children:["üë®‚Äçüè´ ",s.trainer_vorname||"?"," ",s.trainer_nachname||""]}),d&&s.standort_name&&e.jsxs("span",{style:{background:s.standort_farbe||"#4F46E5",color:"white",padding:"4px 10px",fontSize:"0.75rem",fontWeight:"600",borderRadius:"5px",display:"inline-flex",alignItems:"center",gap:"5px"},children:[e.jsx("span",{children:"üìç"}),e.jsx("span",{children:s.standort_name})]})]})]})}),e.jsxs("div",{className:"slot-right",children:[N===s.id?e.jsxs("div",{className:"edit-actions-expanded",children:[e.jsx("button",{onClick:()=>$(),className:"save-btn-big",children:"üíæ Speichern"}),e.jsx("button",{onClick:()=>_(null),className:"cancel-btn-big",children:"‚ùå Abbrechen"})]}):e.jsxs("div",{className:"slot-actions-expanded",children:[e.jsx("button",{onClick:()=>(e=>{F({id:e.id,tag:e.tag,uhrzeit_start:e.uhrzeit_start,uhrzeit_ende:e.uhrzeit_ende,kurs_id:e.kurs_id||"",raum_id:e.raum_id||"",kursname:e.kursname,stil:e.stil,trainer_vorname:e.trainer_vorname,trainer_nachname:e.trainer_nachname,raumname:e.raumname}),w(!0)})(s),className:"edit-btn-big",children:"‚úèÔ∏è Bearbeiten"}),e.jsx("button",{onClick:()=>B(s.id),className:"delete-btn-big",children:"üóëÔ∏è L√∂schen"})]}),n&&e.jsx("div",{className:"overlap-indicator-big",children:"‚ö†Ô∏è √úberschneidung"})]})]},s.id)})})]})})]}),C&&e.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:e.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"üìù Stundenplan-Eintrag bearbeiten"}),e.jsx("button",{className:"modal-close",onClick:()=>w(!1),children:"‚ùå"})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"course-preview",children:[e.jsxs("h4",{children:[E.kursname," - ",E.stil]}),e.jsxs("p",{children:["Trainer: ",E.trainer_vorname," ",E.trainer_nachname]})]}),e.jsxs("div",{className:"modal-form",children:[e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Wochentag:"}),e.jsx("select",{value:E.tag||"",onChange:e=>F({...E,tag:e.target.value}),children:K.map(s=>e.jsx("option",{value:s,children:s},s))})]})}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Startzeit:"}),e.jsx("input",{type:"time",value:E.uhrzeit_start||"",onChange:e=>F({...E,uhrzeit_start:e.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Endzeit:"}),e.jsx("input",{type:"time",value:E.uhrzeit_ende||"",onChange:e=>F({...E,uhrzeit_ende:e.target.value})})]})]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Kurs:"}),e.jsxs("select",{value:E.kurs_id||"",onChange:e=>F({...E,kurs_id:e.target.value}),children:[e.jsx("option",{value:"",children:"Kurs w√§hlen..."}),r.map(s=>e.jsxs("option",{value:s.kurs_id,children:[s.gruppenname," - ",s.stil]},s.kurs_id))]})]})}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Raum:"}),e.jsxs("select",{value:E.raum_id||"",onChange:e=>F({...E,raum_id:e.target.value}),children:[e.jsx("option",{value:"",children:"Kein Raum"}),h.filter(e=>e.aktiv).map(s=>e.jsxs("option",{value:s.id,children:[s.name," ",s.groesse?`(${s.groesse})`:""]},s.id))]})]})})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn-secondary",onClick:()=>w(!1),children:"Abbrechen"}),e.jsx("button",{className:"btn-primary",onClick:async()=>{var e,s;try{await t.put(`/stundenplan/${E.id}`,{tag:E.tag,uhrzeit_start:E.uhrzeit_start,uhrzeit_ende:E.uhrzeit_ende,kurs_id:parseInt(E.kurs_id),raum_id:E.raum_id?parseInt(E.raum_id):null}),w(!1),F({}),W(),E.tag!==k&&S(E.tag),alert("Stundenplan-Eintrag erfolgreich aktualisiert!")}catch(n){console.error("Fehler beim Speichern:",n),alert("Fehler beim Speichern: "+((null==(s=null==(e=n.response)?void 0:e.data)?void 0:s.error)||n.message))}},children:"üíæ Speichern"})]})]})}),e.jsx("div",{className:"stundenplan-grid",style:{display:"none"},children:I.length>0?I.map((s,n)=>e.jsxs("div",{className:"stundenplan-card",style:{animationDelay:.1*n+"s"},children:[e.jsxs("div",{className:"stundenplan-card-header",children:[e.jsx("div",{className:"tag-badge",children:N===s.id?e.jsx("select",{className:"edit-select-small",value:y.tag,onChange:e=>z({...y,tag:e.target.value}),children:K.map(s=>e.jsx("option",{value:s,children:s},s))}):s.tag}),e.jsx("div",{className:"stundenplan-actions",children:N===s.id?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"action-btn save-btn",onClick:()=>$(s.id),title:"√Ñnderungen speichern",children:"‚úÖ"}),e.jsx("button",{className:"action-btn cancel-btn",onClick:()=>_(null),title:"Bearbeitung abbrechen",children:"‚ùå"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"action-btn edit-btn",onClick:()=>(e=>{_(e.id),z({tag:e.tag,uhrzeit_start:e.uhrzeit_start,uhrzeit_ende:e.uhrzeit_ende,kurs_id:e.kurs_id})})(s),title:"Eintrag bearbeiten",children:"‚úèÔ∏è"}),e.jsx("button",{className:"action-btn delete-btn",onClick:()=>B(s.id),title:"Eintrag l√∂schen",children:"üóëÔ∏è"})]})})]}),e.jsxs("div",{className:"stundenplan-card-content",children:[e.jsxs("div",{className:"stundenplan-field",children:[e.jsx("label",{children:"üïê Zeit:"}),N===s.id?e.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[e.jsx("input",{type:"time",className:"edit-input-small",value:y.uhrzeit_start,onChange:e=>z({...y,uhrzeit_start:e.target.value})}),e.jsx("span",{style:{color:"#ffffff"},children:"bis"}),e.jsx("input",{type:"time",className:"edit-input-small",value:y.uhrzeit_ende,onChange:e=>z({...y,uhrzeit_ende:e.target.value})})]}):e.jsxs("span",{className:"stundenplan-value time-value",children:[D(s.uhrzeit_start)," - ",D(s.uhrzeit_ende)]})]}),e.jsxs("div",{className:"stundenplan-field",children:[e.jsx("label",{children:"ü•ã Kurs:"}),N===s.id?e.jsxs("select",{className:"edit-select",value:y.kurs_id,onChange:e=>z({...y,kurs_id:e.target.value}),children:[e.jsx("option",{value:"",children:"Kurs ausw√§hlen"}),r.map(s=>e.jsxs("option",{value:s.kurs_id,children:[s.gruppenname," (",s.stil,")"]},s.kurs_id))]}):e.jsxs("div",{children:[e.jsx("span",{className:"stundenplan-value kurs-name",children:s.kursname||"Unbekannt"}),e.jsx("div",{className:"stil-tag",children:s.stil||"?"})]})]}),e.jsxs("div",{className:"stundenplan-field",children:[e.jsx("label",{children:"üë®‚Äçüè´ Trainer:"}),e.jsx("span",{className:"stundenplan-value trainer-name",children:`${s.trainer_vorname||"?"} ${s.trainer_nachname||""}`.trim()})]})]})]},s.id)):e.jsx("div",{className:"no-stundenplan-message",children:e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-icon",children:"üìÖ"}),e.jsx("h3",{children:"Kein Stundenplan vorhanden"}),e.jsx("p",{children:"F√ºgen Sie unten den ersten Stundenplan-Eintrag hinzu."})]})})}),e.jsxs("div",{className:"neuer-stundenplan-card",style:{animationDelay:.1*I.length+.3+"s",backdropFilter:"none",WebkitBackdropFilter:"none",background:"rgba(30, 30, 50, 0.95)"},children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{style:{backdropFilter:"none",WebkitBackdropFilter:"none",filter:"none",textShadow:"0 2px 10px rgba(255, 215, 0, 0.3)"},children:"‚ûï Neuen Stundenplan-Eintrag hinzuf√ºgen"})}),e.jsxs("div",{className:"stundenplan-form-modern",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"üìÖ Wochentag:"}),e.jsxs("select",{className:"form-select",value:j.tag,onChange:e=>v({...j,tag:e.target.value}),children:[e.jsx("option",{value:"",children:"Tag ausw√§hlen"}),K.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"üïê Startzeit:"}),e.jsx("input",{type:"time",className:"form-input",value:j.uhrzeit_start,onChange:e=>v({...j,uhrzeit_start:e.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"üïë Endzeit:"}),e.jsx("input",{type:"time",className:"form-input",value:j.uhrzeit_ende,onChange:e=>v({...j,uhrzeit_ende:e.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"ü•ã Kurs:"}),e.jsxs("select",{className:"form-select",value:j.kurs_id,onChange:e=>v({...j,kurs_id:e.target.value}),children:[e.jsx("option",{value:"",children:"Kurs ausw√§hlen"}),r.map(s=>e.jsxs("option",{value:s.kurs_id,children:[s.gruppenname," (",s.stil,")"]},s.kurs_id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"üè¢ Raum:"}),e.jsxs("select",{className:"form-select",value:j.raum_id,onChange:e=>v({...j,raum_id:e.target.value}),children:[e.jsx("option",{value:"",children:"Kein Raum"}),h.filter(e=>e.aktiv).map(s=>e.jsxs("option",{value:s.id,children:[s.name," ",s.groesse?`(${s.groesse})`:""]},s.id))]})]}),e.jsxs("button",{className:"add-button-modern",onClick:async()=>{var e,s;const{tag:n,uhrzeit_start:a,uhrzeit_ende:r,kurs_id:i,raum_id:l}=j;if(n&&a&&r&&i)try{const e=await t.post("/stundenplan",{tag:n,uhrzeit_start:a,uhrzeit_ende:r,kurs_id:parseInt(i),raum_id:l?parseInt(l):null});o([...c,e.data]),v({tag:"",uhrzeit_start:"",uhrzeit_ende:"",kurs_id:"",raum_id:""}),alert("Stundenplan-Eintrag erfolgreich hinzugef√ºgt!")}catch(d){console.error("Fehler beim Hinzuf√ºgen:",d),alert("Fehler beim Hinzuf√ºgen des Eintrags: "+((null==(s=null==(e=d.response)?void 0:e.data)?void 0:s.error)||d.message))}else alert("Alle Felder ausf√ºllen.")},children:[e.jsx("span",{className:"btn-icon",children:"‚ûï"}),"Stundenplan-Eintrag hinzuf√ºgen"]})]})]})]})};export{r as default};
