import{j as e}from"./animation-1wuIdCBS.js";import{r}from"./vendor-router-BhMXg4Z-.js";import{D as n,b as a,c as s,k as t,a as i}from"./index-BJCk5MxH.js";import"./vendor-react-DtuzQOD1.js";import"./query-Bs1dTGah.js";import"./icons-C6KFH58b.js";const l=()=>{const{kurse:l,trainer:o,stile:d,gruppen:c,ladeAlleDaten:m}=r.useContext(n),{getDojoFilterParam:u,activeDojo:p}=a(),{standorte:h,activeStandort:g,switchStandort:x,hasMultipleLocations:b}=s(),[f,j]=r.useState({gruppenname:"",stil:"",trainer_ids:[],raum_id:""}),[v,y]=r.useState([]),[k,N]=r.useState(!1),[S,_]=r.useState({vorname:"",nachname:"",email:"",telefon:""}),[z,C]=r.useState(""),[w,R]=r.useState(!1),[T,B]=r.useState(""),[K,F]=r.useState(!1),[A,D]=r.useState({name:"",beschreibung:"",groesse:"",kapazitaet:""}),[E,G]=r.useState(!1),[H,L]=r.useState(!1),[$,I]=r.useState({name:"",beschreibung:"",groesse:"",kapazitaet:""});r.useEffect(()=>{W()},[]);const W=async()=>{try{const e=await t("/raeume"),r=await e.json();r.success&&y(r.data)}catch(e){console.error("Fehler beim Laden der RÃ¤ume:",e)}},[M,V]=r.useState("kurse"),[U,P]=r.useState(null),[O,J]=r.useState({gruppenname:"",stil:"",trainer_ids:[],raum_id:""}),[q,Q]=r.useState({key:"gruppenname",direction:"asc"}),[X,Y]=r.useState(""),[Z,ee]=r.useState(""),[re,ne]=r.useState({}),ae=e=>{const r=o.find(r=>r.trainer_id===Number(e));return r?`${r.vorname} ${r.nachname}`:"Unbekannter Trainer"},se=e=>{if(!e||0===e.length)return"Keine Trainer";return e.map(e=>{const r=o.find(r=>r.trainer_id===Number(e));return r?`${r.vorname} ${r.nachname}`:"Unbekannt"}).join(", ")},te=e=>{if(!e)return"Kein Raum zugewiesen";const r=v.find(r=>r.id===Number(e));return r?r.name:"Unbekannter Raum"},ie=e=>{let r="asc";q.key===e&&"asc"===q.direction&&(r="desc"),Q({key:e,direction:r})},le=e=>q.key!==e?"â‡…":"asc"===q.direction?"â†‘":"â†“",oe=r.useMemo(()=>{const e={};return l.filter(e=>!Z||e.trainer_id.toString()===Z).filter(e=>"all"===g||!e.standort_id||e.standort_id===g).forEach(r=>{const n=r.stil||"Unbekannter Stil";e[n]||(e[n]=[]),e[n].push(r)}),Object.keys(e).forEach(r=>{e[r].sort((e,r)=>{var n,a;if(!q.key){const n=e.gruppenname||"",a=r.gruppenname||"";return n.localeCompare(a)}let s,t;return"trainer"===q.key?(s=Array.isArray(e.trainer_ids)?se(e.trainer_ids):ae(e.trainer_id),t=Array.isArray(r.trainer_ids)?se(r.trainer_ids):ae(r.trainer_id)):"raum"===q.key?(s=te(e.raum_id),t=te(r.raum_id)):"gruppenname"===q.key?(s=e.gruppenname||"",t=r.gruppenname||""):(s=(null==(n=e[q.key])?void 0:n.toString())||"",t=(null==(a=r[q.key])?void 0:a.toString())||""),s=s.toLowerCase(),t=t.toLowerCase(),s<t?"asc"===q.direction?-1:1:s>t?"asc"===q.direction?1:-1:0})}),e},[l,Z,q,g]),de=r.useMemo(()=>[...l].filter(e=>!(X&&e.stil!==X||Z&&e.trainer_id.toString()!==Z||"all"!==g&&e.standort_id&&e.standort_id!==g)).sort((e,r)=>{var n,a;if(!q.key)return 0;let s,t;return"trainer"===q.key?(s=Array.isArray(e.trainer_ids)?se(e.trainer_ids):ae(e.trainer_id),t=Array.isArray(r.trainer_ids)?se(r.trainer_ids):ae(r.trainer_id)):"raum"===q.key?(s=te(e.raum_id),t=te(r.raum_id)):"gruppenname"===q.key?(s=e.gruppenname||"",t=r.gruppenname||""):(s=(null==(n=e[q.key])?void 0:n.toString())||"",t=(null==(a=r[q.key])?void 0:a.toString())||""),s=s.toLowerCase(),t=t.toLowerCase(),s<t?"asc"===q.direction?-1:1:s>t?"asc"===q.direction?1:-1:0}),[l,X,Z,q,g]),ce=()=>{const e=[["Stil","Gruppe","Trainer"],...l.map(e=>[e.stil,e.gruppenname,ae(e.trainer_id)])].map(e=>e.join(";")).join("\n"),r=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(r),a=document.createElement("a");a.setAttribute("href",n),a.setAttribute("download","kurse.csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a)},me=async()=>{var e,r,n;if(f.gruppenname&&f.stil&&0!==f.trainer_ids.length)if(p)try{await i.post("/kurse",{gruppenname:f.gruppenname,stil:f.stil,trainer_ids:f.trainer_ids,raum_id:f.raum_id||null,dojo_id:p.id}),j({gruppenname:"",stil:"",trainer_ids:[],raum_id:""}),m(),alert("Kurs erfolgreich hinzugefÃ¼gt!")}catch(a){console.error("Fehler beim HinzufÃ¼gen:",a),console.error("Fehlerdetails:",null==(e=a.response)?void 0:e.data),alert("Fehler beim HinzufÃ¼gen des Kurses: "+((null==(n=null==(r=a.response)?void 0:r.data)?void 0:n.error)||a.message))}else alert("Fehler: Kein Dojo ausgewÃ¤hlt. Bitte wÃ¤hlen Sie ein Dojo aus.");else alert("Bitte Gruppenname, Stil und mindestens einen Trainer angeben.")},ue=()=>P(null),pe=async()=>{var e,r;if(S.vorname&&S.nachname)try{await i.post("/trainer",{vorname:S.vorname,nachname:S.nachname,email:S.email||"",telefon:S.telefon||""});_({vorname:"",nachname:"",email:"",telefon:""}),N(!1),m(),alert("Trainer erfolgreich hinzugefÃ¼gt!")}catch(n){console.error("Fehler beim HinzufÃ¼gen des Trainers:",n),alert("Fehler beim HinzufÃ¼gen des Trainers: "+((null==(r=null==(e=n.response)?void 0:e.data)?void 0:r.error)||n.message))}else alert("Bitte Vor- und Nachname eingeben.")},he=async()=>{var e,r;if(z.trim())try{await i.post("/gruppen",{name:z.trim()}),C(""),R(!1),m(),alert("Gruppe erfolgreich hinzugefÃ¼gt!")}catch(n){console.error("Fehler beim HinzufÃ¼gen der Gruppe:",n),alert("Fehler beim HinzufÃ¼gen der Gruppe: "+((null==(r=null==(e=n.response)?void 0:e.data)?void 0:r.error)||n.message))}else alert("Bitte Gruppennamen eingeben.")},ge=async()=>{var e,r;if(T.trim())try{await i.post("/stile",{name:T.trim()}),B(""),F(!1),m(),alert("Stil erfolgreich hinzugefÃ¼gt!")}catch(n){console.error("Fehler beim HinzufÃ¼gen des Stils:",n),alert("Fehler beim HinzufÃ¼gen des Stils: "+((null==(r=null==(e=n.response)?void 0:e.data)?void 0:r.error)||n.message))}else alert("Bitte Stil-Namen eingeben.")},xe=async(e,r=!1)=>{var n,a;if(e.name.trim())try{await i.post("/raeume",{name:e.name.trim(),beschreibung:e.beschreibung.trim(),groesse:e.groesse.trim()||null,kapazitaet:e.kapazitaet.trim()||null}),r?(I({name:"",beschreibung:"",groesse:"",kapazitaet:""}),L(!1)):(D({name:"",beschreibung:"",groesse:"",kapazitaet:""}),G(!1)),W(),alert("Raum erfolgreich hinzugefÃ¼gt!")}catch(s){console.error("Fehler beim HinzufÃ¼gen des Raums:",s),alert("Fehler beim HinzufÃ¼gen des Raums: "+((null==(a=null==(n=s.response)?void 0:n.data)?void 0:a.error)||s.message))}else alert("Bitte Raum-Name eingeben.")};return e.jsxs("div",{className:"kurse-container-modern",children:[e.jsx("div",{className:"kurse-header",style:{marginBottom:"0.5rem"},children:e.jsx("h2",{style:{fontSize:"1.2rem",marginBottom:"0.2rem"},children:"ğŸ¥‹ Kurs-Management"})}),e.jsxs("div",{className:"tab-navigation",style:{marginBottom:"0.5rem"},children:[e.jsx("button",{className:"tab-button "+("kurse"===M?"active":""),onClick:()=>V("kurse"),children:"ğŸ“‹ Kurse verwalten"}),e.jsx("button",{className:"tab-button "+("einstellungen"===M?"active":""),onClick:()=>V("einstellungen"),children:"âš™ï¸ Stammdaten-Einstellungen"})]}),"kurse"===M&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem",flexWrap:"wrap",alignItems:"center"},children:[e.jsx("span",{style:{color:"#ffffff",fontWeight:600,marginRight:"0.5rem"},children:"ğŸ“Š Kurse sortieren nach:"}),e.jsxs("button",{onClick:()=>ie("gruppenname"),style:{padding:"0.5rem 1rem",background:"gruppenname"===q.key?"rgba(255, 215, 0, 0.3)":"rgba(255, 255, 255, 0.1)",border:"gruppenname"===q.key?"2px solid rgba(255, 215, 0, 0.6)":"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px",color:"#ffffff",cursor:"pointer",fontSize:"0.9rem",fontWeight:600,transition:"all 0.2s"},children:["ğŸ·ï¸ Gruppe ","gruppenname"===q.key&&le("gruppenname")]}),e.jsxs("button",{onClick:()=>ie("raum"),style:{padding:"0.5rem 1rem",background:"raum"===q.key?"rgba(255, 215, 0, 0.3)":"rgba(255, 255, 255, 0.1)",border:"raum"===q.key?"2px solid rgba(255, 215, 0, 0.6)":"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px",color:"#ffffff",cursor:"pointer",fontSize:"0.9rem",fontWeight:600,transition:"all 0.2s"},children:["ğŸ›ï¸ Raum ","raum"===q.key&&le("raum")]}),e.jsxs("button",{onClick:()=>ie("trainer"),style:{padding:"0.5rem 1rem",background:"trainer"===q.key?"rgba(255, 215, 0, 0.3)":"rgba(255, 255, 255, 0.1)",border:"trainer"===q.key?"2px solid rgba(255, 215, 0, 0.6)":"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px",color:"#ffffff",cursor:"pointer",fontSize:"0.9rem",fontWeight:600,transition:"all 0.2s"},children:["ğŸ‘¨â€ğŸ« Trainer ","trainer"===q.key&&le("trainer")]})]}),e.jsxs("div",{className:"kurse-controls",children:[e.jsx("div",{className:"kurse-filters",children:e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"ğŸ‘¨â€ğŸ« Trainer filtern:"}),e.jsxs("select",{className:"filter-select",onChange:e=>ee(e.target.value),value:Z,children:[e.jsx("option",{value:"",children:"Alle Trainer anzeigen"}),o.map(r=>e.jsxs("option",{value:r.trainer_id,children:[r.vorname," ",r.nachname]},r.trainer_id))]})]})}),e.jsx("button",{className:"export-button-modern",onClick:ce,children:"ğŸ“Š CSV Export"})]}),e.jsxs("div",{className:"kurse-stats",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"0.5rem",marginBottom:"0.5rem",marginTop:"0.2rem"},children:[e.jsxs("div",{className:"stat-card",style:{padding:"0.5rem",borderRadius:"6px",boxShadow:"0 1px 2px rgba(0,0,0,0.1)",textAlign:"center",minHeight:"78px",display:"flex",flexDirection:"column",justifyContent:"center",background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 215, 0, 0.2)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginBottom:"0.1rem"},children:[e.jsx("span",{style:{fontSize:"1.2rem"},children:"ğŸ¥‹"}),e.jsx("span",{style:{fontSize:"1.3rem",fontWeight:"bold",color:"#1f2937"},children:l.length})]}),e.jsx("div",{style:{fontSize:"0.7rem",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Kurse insgesamt"})]}),e.jsxs("div",{className:"stat-card",style:{padding:"0.5rem",borderRadius:"6px",boxShadow:"0 1px 2px rgba(0,0,0,0.1)",textAlign:"center",minHeight:"78px",display:"flex",flexDirection:"column",justifyContent:"center",background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 215, 0, 0.2)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.3rem",marginBottom:"0.05rem"},children:[e.jsx("span",{style:{fontSize:"1rem"},children:"ğŸ¯"}),e.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#ffffff"},children:de.length})]}),e.jsx("div",{style:{fontSize:"0.6rem",color:"#ffffff",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Gefilterte Ergebnisse"})]}),e.jsxs("div",{className:"stat-card",style:{padding:"0.5rem",borderRadius:"6px",boxShadow:"0 1px 2px rgba(0,0,0,0.1)",textAlign:"center",minHeight:"78px",display:"flex",flexDirection:"column",justifyContent:"center",background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 215, 0, 0.2)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.3rem",marginBottom:"0.05rem"},children:[e.jsx("span",{style:{fontSize:"1rem"},children:"ğŸ‘¥"}),e.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#ffffff"},children:new Set(l.map(e=>e.trainer_id)).size})]}),e.jsx("div",{style:{fontSize:"0.6rem",color:"#ffffff",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Aktive Trainer"})]}),e.jsxs("div",{className:"stat-card",style:{padding:"0.5rem",borderRadius:"6px",boxShadow:"0 1px 2px rgba(0,0,0,0.1)",textAlign:"center",minHeight:"78px",display:"flex",flexDirection:"column",justifyContent:"center",background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 215, 0, 0.2)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.3rem",marginBottom:"0.05rem"},children:[e.jsx("span",{style:{fontSize:"1rem"},children:"ğŸ "}),e.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#ffffff"},children:new Set(l.map(e=>e.raum_id)).size||0})]}),e.jsx("div",{style:{fontSize:"0.6rem",color:"#ffffff",textTransform:"uppercase",letterSpacing:"0.3px"},children:"RÃ¤ume"})]}),e.jsxs("div",{className:"stat-card",style:{padding:"0.5rem",borderRadius:"6px",boxShadow:"0 1px 2px rgba(0,0,0,0.1)",textAlign:"center",minHeight:"78px",display:"flex",flexDirection:"column",justifyContent:"center",background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 215, 0, 0.2)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.3rem",marginBottom:"0.05rem"},children:[e.jsx("span",{style:{fontSize:"1rem"},children:"ğŸ‘¶"}),e.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#ffffff"},children:l.filter(e=>e.gruppe&&e.gruppe.toLowerCase().includes("kind")).length})]}),e.jsx("div",{style:{fontSize:"0.6rem",color:"#ffffff",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Kinder Kurse"})]}),e.jsxs("div",{className:"stat-card",style:{padding:"0.5rem",borderRadius:"6px",boxShadow:"0 1px 2px rgba(0,0,0,0.1)",textAlign:"center",minHeight:"78px",display:"flex",flexDirection:"column",justifyContent:"center",background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 215, 0, 0.2)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.3rem",marginBottom:"0.05rem"},children:[e.jsx("span",{style:{fontSize:"1rem"},children:"ğŸ‘¨â€ğŸ’¼"}),e.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#ffffff"},children:l.filter(e=>e.gruppe&&!e.gruppe.toLowerCase().includes("kind")).length})]}),e.jsx("div",{style:{fontSize:"0.6rem",color:"#ffffff",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Erwachsene Kurse"})]})]}),e.jsx("div",{className:"kurse-by-stil",children:Object.keys(oe).length>0?Object.keys(oe).sort().map((r,n)=>e.jsxs("div",{className:"stil-section",style:{marginBottom:"2rem"},children:[e.jsxs("h2",{className:"stil-header",onClick:()=>(e=>{ne(r=>({...r,[e]:!r[e]}))})(r),style:{cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem 1.5rem",background:"linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 215, 0, 0.1))",border:"2px solid rgba(255, 215, 0, 0.3)",borderRadius:"12px",marginBottom:"1rem",transition:"all 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 215, 0, 0.3), rgba(255, 215, 0, 0.15))",e.currentTarget.style.borderColor="rgba(255, 215, 0, 0.5)"},onMouseLeave:e=>{e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 215, 0, 0.1))",e.currentTarget.style.borderColor="rgba(255, 215, 0, 0.3)"},children:[e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("span",{style:{fontSize:"1.5rem"},children:"ğŸ¥‹"}),e.jsx("span",{style:{fontSize:"1.3rem",fontWeight:700,color:"#ffffff",textShadow:"0 2px 4px rgba(0, 0, 0, 0.8)"},children:r}),e.jsxs("span",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)",background:"rgba(255, 255, 255, 0.1)",padding:"0.25rem 0.75rem",borderRadius:"12px",fontWeight:600},children:[oe[r].length," ",1===oe[r].length?"Kurs":"Kurse"]})]}),e.jsx("span",{style:{transform:re[r]?"rotate(-90deg)":"rotate(0deg)",transition:"transform 0.3s ease",fontSize:"1.2rem",color:"#ffffff"},children:"â–¼"})]}),!re[r]&&e.jsx("div",{className:"kurse-grid",style:{animationDelay:.1*n+"s"},children:oe[r].map((r,n)=>e.jsxs("div",{className:"kurs-card",style:{animationDelay:.1*n+"s"},children:[e.jsxs("div",{className:"kurs-card-header",children:[e.jsx("div",{className:"kurs-stil-badge",children:U===r.kurs_id?e.jsx("input",{type:"text",className:"edit-header-input",value:O.stil,onChange:e=>J({...O,stil:e.target.value}),placeholder:"Stil eingeben"}):r.stil}),e.jsx("div",{className:"kurs-actions",children:U===r.kurs_id?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"action-btn save-btn",onClick:()=>(async e=>{var r,n,a;if(console.log("=== SPEICHERN START ==="),console.log("EditingData beim Speichern:",O),console.log("Gruppenname:",O.gruppenname),console.log("Stil:",O.stil),console.log("Trainer IDs:",O.trainer_ids),!O.gruppenname||!O.stil||0===O.trainer_ids.length)return console.log("VALIDIERUNG FEHLGESCHLAGEN!"),void alert("Bitte Gruppenname, Stil und mindestens einen Trainer angeben.");const s=u(),t=s?`/kurse/${e}?${s}`:`/kurse/${e}`;try{await i.put(t,{gruppenname:O.gruppenname,stil:O.stil,trainer_ids:O.trainer_ids,raum_id:O.raum_id||null}),P(null),m()}catch(l){console.error("Fehler beim Speichern:",l),console.error("Fehlerdetails:",null==(r=l.response)?void 0:r.data),alert("Fehler beim Speichern des Kurses: "+((null==(a=null==(n=l.response)?void 0:n.data)?void 0:a.error)||l.message))}})(r.kurs_id),title:"Ã„nderungen speichern",children:"âœ…"}),e.jsx("button",{className:"action-btn cancel-btn",onClick:ue,title:"Bearbeitung abbrechen",children:"âŒ"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"action-btn edit-btn",onClick:()=>(e=>{console.log("=== BEARBEITEN START ==="),console.log("Kurs Daten:",e),P(e.kurs_id);const r={gruppenname:e.gruppenname,stil:e.stil,trainer_ids:Array.isArray(e.trainer_ids)?e.trainer_ids:[e.trainer_id],raum_id:e.raum_id||""};console.log("EditingData gesetzt auf:",r),J(r)})(r),title:"Kurs bearbeiten",children:"âœï¸"}),e.jsx("button",{className:"action-btn delete-btn",onClick:()=>(async e=>{var r,n,a;if(window.confirm("Soll dieser Kurs wirklich gelÃ¶scht werden?"))try{const r=u(),n=r?`/kurse/${e}?${r}`:`/kurse/${e}`;await i.delete(n),m()}catch(s){console.error("Fehler beim LÃ¶schen:",s),console.error("Fehlerdetails:",null==(r=s.response)?void 0:r.data),alert("Fehler beim LÃ¶schen des Kurses: "+((null==(a=null==(n=s.response)?void 0:n.data)?void 0:a.error)||s.message))}})(r.kurs_id),title:"Kurs lÃ¶schen",children:"ğŸ—‘ï¸"})]})})]}),b&&r.standort_name&&e.jsxs("div",{className:"kurs-standort-badge",style:{background:r.standort_farbe||"#4F46E5",color:"white",padding:"6px 12px",fontSize:"0.75rem",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px",borderRadius:"6px",marginTop:"8px",marginBottom:"4px"},children:[e.jsx("span",{style:{fontSize:"0.9rem"},children:"ğŸ“"}),e.jsx("span",{children:r.standort_name})]}),e.jsx("div",{className:"kurs-card-content",children:e.jsxs("div",{className:"kurs-info-left",children:[e.jsxs("div",{className:"kurs-field",children:[e.jsx("label",{children:"ğŸ¥‹ Stil:"}),U===r.kurs_id?e.jsx("input",{type:"text",className:"edit-input",value:O.stil,onChange:e=>J({...O,stil:e.target.value}),placeholder:"Stil eingeben"}):e.jsx("span",{className:"kurs-value",children:r.stil})]}),e.jsxs("div",{className:"kurs-field",children:[e.jsx("label",{children:"ğŸ·ï¸ Gruppe:"}),U===r.kurs_id?e.jsxs("select",{className:"edit-select",value:O.gruppenname,onChange:e=>J({...O,gruppenname:e.target.value}),children:[e.jsx("option",{value:"",children:"Gruppe auswÃ¤hlen..."}),c.map(r=>e.jsx("option",{value:r.name,children:r.name},r.gruppen_id))]}):e.jsx("span",{className:"kurs-value gruppe",children:r.gruppenname||"Keine Gruppe"})]}),e.jsxs("div",{className:"kurs-field",children:[e.jsx("label",{children:"ğŸ›ï¸ Raum:"}),U===r.kurs_id?e.jsxs("select",{className:"edit-select",value:O.raum_id||"",onChange:e=>J({...O,raum_id:e.target.value}),children:[e.jsx("option",{value:"",children:"Kein Raum zugewiesen"}),v.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]}):e.jsx("span",{className:"kurs-value",children:te(r.raum_id)})]}),e.jsxs("div",{className:"kurs-field",children:[e.jsx("label",{children:"ğŸ‘¨â€ğŸ« Trainer:"}),U===r.kurs_id?e.jsx("div",{className:"trainer-multiselect",children:o.map(r=>e.jsxs("label",{className:"trainer-checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:O.trainer_ids.includes(r.trainer_id),onChange:e=>{const n=e.target.checked?[...O.trainer_ids,r.trainer_id]:O.trainer_ids.filter(e=>e!==r.trainer_id);J({...O,trainer_ids:n})}}),e.jsxs("span",{className:"trainer-checkbox-name",children:[r.vorname," ",r.nachname]})]},r.trainer_id))}):e.jsx("div",{className:"kurs-value trainer-names",children:Array.isArray(r.trainer_ids)?se(r.trainer_ids):ae(r.trainer_id)})]})]})})]},r.kurs_id))})]},r)):e.jsx("div",{className:"no-kurse-message",children:e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-icon",children:"ğŸ”"}),e.jsx("h3",{children:"Keine Kurse gefunden"}),e.jsx("p",{children:"Mit den aktuellen Filtern wurden keine Kurse gefunden."})]})})}),e.jsxs("div",{className:"neuer-kurs-card",style:{animationDelay:.1*de.length+.3+"s"},children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{children:"â• Neuen Kurs erstellen"})}),e.jsx("div",{className:"kurs-form-modern",children:e.jsxs("div",{className:"kurs-form-left",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"ğŸ¥‹ Kampfkunst-Stil:"}),e.jsxs("select",{className:"form-select",value:f.stil,onChange:e=>j({...f,stil:e.target.value}),children:[e.jsx("option",{value:"",children:"Stil auswÃ¤hlen..."}),d.filter(e=>0!==e.aktiv).map(r=>e.jsx("option",{value:r.name,children:r.name},r.stil_id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"ğŸ·ï¸ Gruppe:"}),e.jsxs("select",{className:"form-select",value:f.gruppenname,onChange:e=>j({...f,gruppenname:e.target.value}),children:[e.jsx("option",{value:"",children:"Gruppe auswÃ¤hlen..."}),c.map(r=>e.jsx("option",{value:r.name,children:r.name},r.gruppen_id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"ğŸ›ï¸ Raum:"}),e.jsxs("select",{className:"form-select",value:f.raum_id||"",onChange:e=>j({...f,raum_id:e.target.value}),children:[e.jsx("option",{value:"",children:"Kein Raum zuweisen"}),v.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]}),!E&&e.jsx("button",{type:"button",className:"add-new-btn",onClick:()=>G(!0),style:{marginTop:"0.5rem",padding:"0.4rem 0.8rem",fontSize:"0.8rem",background:"rgba(255, 215, 0, 0.2)",border:"1px solid rgba(255, 215, 0, 0.5)",borderRadius:"6px",color:"#ffffff",cursor:"pointer"},children:"â• Neuen Raum hinzufÃ¼gen"}),E&&e.jsxs("div",{className:"new-room-form",style:{marginTop:"0.5rem",padding:"1rem",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px"},children:[e.jsx("h4",{style:{color:"#ffffff",marginBottom:"0.8rem",fontSize:"0.9rem"},children:"ğŸ  Neuen Raum erstellen"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[e.jsx("input",{type:"text",placeholder:"Raum-Name (z.B. Hauptraum)",value:A.name,onChange:e=>D({...A,name:e.target.value}),style:{padding:"0.4rem",background:"rgba(255, 255, 255, 0.15)",border:"1px solid rgba(255, 215, 0, 0.4)",borderRadius:"4px",color:"#ffffff",fontSize:"0.9rem"}}),e.jsx("input",{type:"text",placeholder:"Beschreibung (optional)",value:A.beschreibung,onChange:e=>D({...A,beschreibung:e.target.value}),style:{padding:"0.4rem",background:"rgba(255, 255, 255, 0.15)",border:"1px solid rgba(255, 215, 0, 0.4)",borderRadius:"4px",color:"#ffffff",fontSize:"0.9rem"}}),e.jsx("input",{type:"text",placeholder:"GrÃ¶ÃŸe (optional, z.B. 50mÂ²)",value:A.groesse,onChange:e=>D({...A,groesse:e.target.value}),style:{padding:"0.4rem",background:"rgba(255, 255, 255, 0.15)",border:"1px solid rgba(255, 215, 0, 0.4)",borderRadius:"4px",color:"#ffffff",fontSize:"0.9rem"}}),e.jsx("input",{type:"number",placeholder:"KapazitÃ¤t (optional)",value:A.kapazitaet,onChange:e=>D({...A,kapazitaet:e.target.value}),style:{padding:"0.4rem",background:"rgba(255, 255, 255, 0.15)",border:"1px solid rgba(255, 215, 0, 0.4)",borderRadius:"4px",color:"#ffffff",fontSize:"0.9rem"}}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:[e.jsx("button",{type:"button",onClick:()=>xe(A,!1),style:{padding:"0.4rem 0.8rem",background:"rgba(0, 255, 0, 0.3)",border:"1px solid rgba(0, 255, 0, 0.5)",borderRadius:"4px",color:"#ffffff",cursor:"pointer",fontSize:"0.8rem"},children:"âœ… HinzufÃ¼gen"}),e.jsx("button",{type:"button",onClick:()=>{G(!1),D({name:"",beschreibung:"",groesse:"",kapazitaet:""})},style:{padding:"0.4rem 0.8rem",background:"rgba(255, 0, 0, 0.3)",border:"1px solid rgba(255, 0, 0, 0.5)",borderRadius:"4px",color:"#ffffff",cursor:"pointer",fontSize:"0.8rem"},children:"âŒ Abbrechen"})]})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"ğŸ‘¨â€ğŸ« Trainer:"}),e.jsx("div",{className:"trainer-multiselect",children:o.map(r=>e.jsxs("label",{className:"trainer-checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:f.trainer_ids.includes(r.trainer_id),onChange:e=>{const n=e.target.checked?[...f.trainer_ids,r.trainer_id]:f.trainer_ids.filter(e=>e!==r.trainer_id);j({...f,trainer_ids:n})}}),e.jsxs("span",{className:"trainer-checkbox-name",children:[r.vorname," ",r.nachname]})]},r.trainer_id))})]}),e.jsxs("button",{className:"add-button-modern",onClick:me,children:[e.jsx("span",{className:"btn-icon",children:"â•"}),"Kurs erstellen"]})]})})]})]}),"einstellungen"===M&&e.jsx("div",{className:"einstellungen-content",children:e.jsxs("div",{className:"einstellungen-grid",children:[e.jsxs("div",{className:"einstellungen-card",style:{animationDelay:"0.1s"},children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{children:"ğŸ‘¨â€ğŸ« Trainer verwalten"})}),e.jsxs("div",{className:"card-content",children:[e.jsxs("div",{className:"current-list",children:[e.jsx("h4",{children:"Vorhandene Trainer:"}),e.jsx("div",{className:"items-list",children:o.map((r,n)=>e.jsxs("div",{className:"list-item",children:[e.jsxs("div",{className:"item-move-controls",children:[e.jsx("button",{className:"move-up-btn",title:"Nach oben",disabled:0===n,onClick:e=>{e.preventDefault(),e.stopPropagation(),(e=>{e>0&&alert(`Trainer "${o[e].vorname} ${o[e].nachname}" nach oben verschoben!`)})(n)},children:"â†‘"}),e.jsx("button",{className:"move-down-btn",title:"Nach unten",disabled:n===o.length-1,onClick:()=>(e=>{e<o.length-1&&alert(`Trainer "${o[e].vorname} ${o[e].nachname}" nach unten verschoben!`)})(n),children:"â†“"})]}),e.jsxs("span",{children:[r.vorname," ",r.nachname]}),e.jsxs("div",{className:"item-actions",children:[e.jsx("button",{className:"edit-item-btn",title:"Bearbeiten",children:"âœï¸"}),e.jsx("button",{className:"delete-item-btn",title:"LÃ¶schen",children:"ğŸ—‘ï¸"})]})]},r.trainer_id))})]}),e.jsxs("div",{className:"new-item-form",children:[e.jsx("h4",{children:"ğŸ†• Neuen Trainer hinzufÃ¼gen:"}),k?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"trainer-form-grid",children:[e.jsx("input",{type:"text",className:"form-input",placeholder:"Vorname *",value:S.vorname,onChange:e=>_({...S,vorname:e.target.value})}),e.jsx("input",{type:"text",className:"form-input",placeholder:"Nachname *",value:S.nachname,onChange:e=>_({...S,nachname:e.target.value})}),e.jsx("input",{type:"email",className:"form-input",placeholder:"E-Mail (optional)",value:S.email,onChange:e=>_({...S,email:e.target.value})}),e.jsx("input",{type:"tel",className:"form-input",placeholder:"Telefon (optional)",value:S.telefon,onChange:e=>_({...S,telefon:e.target.value})})]}),e.jsxs("div",{className:"trainer-form-actions",children:[e.jsx("button",{className:"confirm-trainer-btn",onClick:pe,children:"âœ… Trainer hinzufÃ¼gen"}),e.jsx("button",{className:"cancel-btn-small",style:{marginLeft:"1rem",padding:"14px 28px",fontSize:"1.1rem"},onClick:()=>{N(!1),_({vorname:"",nachname:"",email:"",telefon:""})},children:"âŒ Abbrechen"})]})]}):e.jsx("button",{className:"add-new-btn",onClick:()=>N(!0),children:"â•"})]})]})]}),e.jsxs("div",{className:"einstellungen-card",style:{animationDelay:"0.2s"},children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{children:"ğŸ·ï¸ Gruppen verwalten"})}),e.jsxs("div",{className:"card-content",children:[e.jsxs("div",{className:"current-list",children:[e.jsx("h4",{children:"Vorhandene Gruppen:"}),e.jsx("div",{className:"items-list",children:c.map((r,n)=>e.jsxs("div",{className:"list-item",children:[e.jsxs("div",{className:"item-move-controls",children:[e.jsx("button",{className:"move-up-btn",title:"Nach oben",disabled:0===n,onClick:()=>(e=>{e>0&&alert(`Gruppe "${c[e].name}" nach oben verschoben!`)})(n),children:"â†‘"}),e.jsx("button",{className:"move-down-btn",title:"Nach unten",disabled:n===c.length-1,onClick:()=>(e=>{e<c.length-1&&alert(`Gruppe "${c[e].name}" nach unten verschoben!`)})(n),children:"â†“"})]}),e.jsx("span",{children:r.name}),e.jsxs("div",{className:"item-actions",children:[e.jsx("button",{className:"edit-item-btn",title:"Bearbeiten",children:"âœï¸"}),e.jsx("button",{className:"delete-item-btn",title:"LÃ¶schen",children:"ğŸ—‘ï¸"})]})]},r.gruppen_id))})]}),e.jsxs("div",{className:"new-item-form",children:[e.jsx("h4",{children:"ğŸ†• Neue Gruppe hinzufÃ¼gen:"}),w?e.jsxs("div",{className:"simple-form",children:[e.jsx("input",{type:"text",className:"form-input",placeholder:"Gruppenname eingeben",value:z,onChange:e=>C(e.target.value),onKeyPress:e=>"Enter"===e.key&&he()}),e.jsxs("div",{className:"input-buttons",children:[e.jsx("button",{className:"add-btn-small",onClick:he,children:"âœ…"}),e.jsx("button",{className:"cancel-btn-small",onClick:()=>{R(!1),C("")},children:"âŒ"})]})]}):e.jsx("button",{className:"add-new-btn",onClick:()=>R(!0),children:"â•"})]})]})]}),e.jsxs("div",{className:"einstellungen-card",style:{animationDelay:"0.3s"},children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{children:"ğŸ¥‹ Stile verwalten"})}),e.jsxs("div",{className:"card-content",children:[e.jsxs("div",{className:"current-list",children:[e.jsx("h4",{children:"Vorhandene Stile:"}),e.jsx("div",{className:"items-list",children:d.map((r,n)=>e.jsxs("div",{className:"list-item",children:[e.jsxs("div",{className:"item-move-controls",children:[e.jsx("button",{className:"move-up-btn",title:"Nach oben",disabled:0===n,onClick:()=>(e=>{e>0&&alert(`Stil "${d[e].name}" nach oben verschoben!`)})(n),children:"â†‘"}),e.jsx("button",{className:"move-down-btn",title:"Nach unten",disabled:n===d.length-1,onClick:()=>(e=>{e<d.length-1&&alert(`Stil "${d[e].name}" nach unten verschoben!`)})(n),children:"â†“"})]}),e.jsx("span",{children:r.name}),e.jsxs("div",{className:"item-actions",children:[e.jsx("button",{className:"edit-item-btn",title:"Bearbeiten",children:"âœï¸"}),e.jsx("button",{className:"delete-item-btn",title:"LÃ¶schen",children:"ğŸ—‘ï¸"})]})]},r.stil_id))})]}),e.jsxs("div",{className:"new-item-form",children:[e.jsx("h4",{children:"ğŸ†• Neuen Stil hinzufÃ¼gen:"}),K?e.jsxs("div",{className:"simple-form",children:[e.jsx("input",{type:"text",className:"form-input",placeholder:"Stil-Name eingeben (z.B. BJJ, Karate)",value:T,onChange:e=>B(e.target.value),onKeyPress:e=>"Enter"===e.key&&ge()}),e.jsxs("div",{className:"input-buttons",children:[e.jsx("button",{className:"add-btn-small",onClick:ge,children:"âœ…"}),e.jsx("button",{className:"cancel-btn-small",onClick:()=>{F(!1),B("")},children:"âŒ"})]})]}):e.jsx("button",{className:"add-new-btn",onClick:()=>F(!0),children:"â•"})]}),e.jsx("div",{className:"info-box",children:e.jsxs("p",{children:["â„¹ï¸ ",e.jsx("strong",{children:"Hinweis:"})," Hier kÃ¶nnen Sie Stile verwalten und beim Kurs-Erstellen aus den vorhandenen auswÃ¤hlen oder neue eingeben."]})})]})]}),e.jsxs("div",{className:"einstellungen-card",style:{animationDelay:"0.4s"},children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{children:"ğŸ›ï¸ RÃ¤ume verwalten"})}),e.jsxs("div",{className:"card-content",children:[e.jsxs("div",{className:"current-list",children:[e.jsx("h4",{children:"Vorhandene RÃ¤ume:"}),e.jsx("div",{className:"items-list",children:v.map((r,n)=>e.jsxs("div",{className:"list-item",children:[e.jsxs("div",{className:"item-move-controls",children:[e.jsx("button",{className:"move-up-btn",title:"Nach oben",disabled:0===n,onClick:()=>{},children:"â†‘"}),e.jsx("button",{className:"move-down-btn",title:"Nach unten",disabled:n===v.length-1,onClick:()=>{},children:"â†“"})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[e.jsx("span",{style:{fontWeight:"bold"},children:r.name}),r.beschreibung&&e.jsx("span",{style:{fontSize:"0.8rem",color:"#ccc",marginTop:"0.2rem"},children:r.beschreibung}),(r.groesse||r.kapazitaet)&&e.jsxs("span",{style:{fontSize:"0.7rem",color:"#999",marginTop:"0.1rem"},children:[r.groesse&&`${r.groesse}`,r.groesse&&r.kapazitaet&&" â€¢ ",r.kapazitaet&&`${r.kapazitaet} Personen`]})]}),e.jsxs("div",{className:"item-actions",children:[e.jsx("button",{className:"edit-item-btn",title:"Bearbeiten",children:"âœï¸"}),e.jsx("button",{className:"delete-item-btn",title:"LÃ¶schen",children:"ğŸ—‘ï¸"})]})]},r.raum_id))})]}),e.jsxs("div",{className:"new-item-form",children:[e.jsx("h4",{children:"ğŸ†• Neuen Raum hinzufÃ¼gen:"}),H?e.jsx("div",{className:"room-form-stammdaten",style:{padding:"1rem",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px",marginTop:"0.5rem"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[e.jsx("input",{type:"text",className:"form-input",placeholder:"Raum-Name (z.B. Hauptraum)",value:$.name,onChange:e=>I({...$,name:e.target.value})}),e.jsx("input",{type:"text",className:"form-input",placeholder:"Beschreibung (optional)",value:$.beschreibung,onChange:e=>I({...$,beschreibung:e.target.value})}),e.jsx("input",{type:"text",className:"form-input",placeholder:"GrÃ¶ÃŸe (optional, z.B. 50mÂ²)",value:$.groesse,onChange:e=>I({...$,groesse:e.target.value})}),e.jsx("input",{type:"number",className:"form-input",placeholder:"KapazitÃ¤t (optional)",value:$.kapazitaet,onChange:e=>I({...$,kapazitaet:e.target.value})}),e.jsxs("div",{className:"input-buttons",style:{marginTop:"0.5rem"},children:[e.jsx("button",{className:"add-btn-small",onClick:()=>xe($,!0),children:"âœ…"}),e.jsx("button",{className:"cancel-btn-small",onClick:()=>{L(!1),I({name:"",beschreibung:"",groesse:"",kapazitaet:""})},children:"âŒ"})]})]})}):e.jsx("button",{className:"add-new-btn",onClick:()=>L(!0),children:"â•"})]}),e.jsx("div",{className:"info-box",children:e.jsxs("p",{children:["â„¹ï¸ ",e.jsx("strong",{children:"Hinweis:"})," Hier kÃ¶nnen Sie RÃ¤ume verwalten und beim Kurs-Erstellen aus den vorhandenen auswÃ¤hlen oder neue eingeben."]})})]})]})]})})]})};export{l as default};
